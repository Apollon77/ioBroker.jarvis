function et(t){return t.split("-")[1]}function nt(t){return t==="y"?"height":"width"}function j(t){return t.split("-")[0]}function ot(t){return["top","bottom"].includes(j(t))?"x":"y"}function M(t,e,n){let{reference:o,floating:i}=t;const c=o.x+o.width/2-i.width/2,r=o.y+o.height/2-i.height/2,s=ot(e),l=nt(s),u=o[l]/2-i[l]/2,d=j(e),f=s==="x";let a;switch(d){case"top":a={x:c,y:o.y-i.height};break;case"bottom":a={x:c,y:o.y+o.height};break;case"right":a={x:o.x+o.width,y:r};break;case"left":a={x:o.x-i.width,y:r};break;default:a={x:o.x,y:o.y}}switch(et(e)){case"start":a[s]-=u*(n&&f?-1:1);break;case"end":a[s]+=u*(n&&f?-1:1);break}return a}const it=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:c=[],platform:r}=n,s=c.filter(Boolean),l=await(r.isRTL==null?void 0:r.isRTL(e));let u=await r.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=M(u,o,l),a=o,w={},T=0;for(let C=0;C<s.length;C++){const{name:k,fn:g}=s[C],{x:m,y:L,data:N,reset:R}=await g({x:d,y:f,initialPlacement:o,placement:a,strategy:i,middlewareData:w,rects:u,platform:r,elements:{reference:t,floating:e}});if(d=m!=null?m:d,f=L!=null?L:f,w={...w,[k]:{...w[k],...N}},R&&T<=50){T++,typeof R=="object"&&(R.placement&&(a=R.placement),R.rects&&(u=R.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:d,y:f}=M(u,a,l)),C=-1;continue}}return{x:d,y:f,placement:a,strategy:i,middlewareData:w}};function _(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function h(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function p(t){return h(t).getComputedStyle(t)}function x(t){return U(t)?(t.nodeName||"").toLowerCase():""}let O;function K(){if(O)return O;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(O=t.brands.map(e=>e.brand+"/"+e.version).join(" "),O):navigator.userAgent}function y(t){return t instanceof h(t).HTMLElement}function b(t){return t instanceof h(t).Element}function U(t){return t instanceof h(t).Node}function $(t){if(typeof ShadowRoot=="undefined")return!1;const e=h(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function W(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=p(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function rt(t){return["table","td","th"].includes(x(t))}function V(t){const e=/firefox/i.test(K()),n=p(t),o=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||(o?o!=="none":!1)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const c=n.contain;return c!=null?c.includes(i):!1})}function q(){return!/^((?!chrome|android).)*safari/i.test(K())}function H(t){return["html","body","#document"].includes(x(t))}const X=Math.min,E=Math.max,B=Math.round;function z(t){const e=p(t);let n=parseFloat(e.width),o=parseFloat(e.height);const i=t.offsetWidth,c=t.offsetHeight,r=B(n)!==i||B(o)!==c;return r&&(n=i,o=c),{width:n,height:o,fallback:r}}function G(t){return b(t)?t:t.contextElement}const J={x:1,y:1};function A(t){const e=G(t);if(!y(e))return J;const n=e.getBoundingClientRect(),{width:o,height:i,fallback:c}=z(e);let r=(c?B(n.width):n.width)/o,s=(c?B(n.height):n.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!s||!Number.isFinite(s))&&(s=1),{x:r,y:s}}function D(t,e,n,o){var i,c;e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=G(t);let l=J;e&&(o?b(o)&&(l=A(o)):l=A(t));const u=s?h(s):window,d=!q()&&n;let f=(r.left+(d&&((i=u.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,a=(r.top+(d&&((c=u.visualViewport)==null?void 0:c.offsetTop)||0))/l.y,w=r.width/l.x,T=r.height/l.y;if(s){const C=h(s),k=o&&b(o)?h(o):o;let g=C.frameElement;for(;g&&o&&k!==C;){const m=A(g),L=g.getBoundingClientRect(),N=getComputedStyle(g);L.x+=(g.clientLeft+parseFloat(N.paddingLeft))*m.x,L.y+=(g.clientTop+parseFloat(N.paddingTop))*m.y,f*=m.x,a*=m.y,w*=m.x,T*=m.y,f+=L.x,a+=L.y,g=h(g).frameElement}}return{width:w,height:T,top:a,right:f+w,bottom:a+T,left:f,x:f,y:a}}function v(t){return((U(t)?t.ownerDocument:t.document)||window.document).documentElement}function S(t){return b(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Q(t){return D(v(t)).left+S(t).scrollLeft}function st(t,e,n){const o=y(e),i=v(e),c=D(t,!0,n==="fixed",e);let r={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if(o||!o&&n!=="fixed")if((x(e)!=="body"||W(i))&&(r=S(e)),y(e)){const l=D(e,!0);s.x=l.x+e.clientLeft,s.y=l.y+e.clientTop}else i&&(s.x=Q(i));return{x:c.left+r.scrollLeft-s.x,y:c.top+r.scrollTop-s.y,width:c.width,height:c.height}}function F(t){if(x(t)==="html")return t;const e=t.assignedSlot||t.parentNode||($(t)?t.host:null)||v(t);return $(e)?e.host:e}function Y(t){return!y(t)||p(t).position==="fixed"?null:t.offsetParent}function ct(t){let e=F(t);for(;y(e)&&!H(e);){if(V(e))return e;e=F(e)}return null}function I(t){const e=h(t);let n=Y(t);for(;n&&rt(n)&&p(n).position==="static";)n=Y(n);return n&&(x(n)==="html"||x(n)==="body"&&p(n).position==="static"&&!V(n))?e:n||ct(t)||e}function lt(t){return z(t)}function ut(t){let{rect:e,offsetParent:n,strategy:o}=t;const i=y(n),c=v(n);if(n===c)return e;let r={scrollLeft:0,scrollTop:0},s={x:1,y:1};const l={x:0,y:0};if((i||!i&&o!=="fixed")&&((x(n)!=="body"||W(c))&&(r=S(n)),y(n))){const u=D(n);s=A(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:e.width*s.x,height:e.height*s.y,x:e.x*s.x-r.scrollLeft*s.x+l.x,y:e.y*s.y-r.scrollTop*s.y+l.y}}function ft(t,e){const n=h(t),o=v(t),i=n.visualViewport;let c=o.clientWidth,r=o.clientHeight,s=0,l=0;if(i){c=i.width,r=i.height;const u=q();(u||!u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:c,height:r,x:s,y:l}}function at(t){var e;const n=v(t),o=S(t),i=(e=t.ownerDocument)==null?void 0:e.body,c=E(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),r=E(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let s=-o.scrollLeft+Q(t);const l=-o.scrollTop;return p(i||n).direction==="rtl"&&(s+=E(n.clientWidth,i?i.clientWidth:0)-c),{width:c,height:r,x:s,y:l}}function Z(t){const e=F(t);return H(e)?t.ownerDocument.body:y(e)&&W(e)?e:Z(e)}function tt(t,e){var n;e===void 0&&(e=[]);const o=Z(t),i=o===((n=t.ownerDocument)==null?void 0:n.body),c=h(o);return i?e.concat(c,c.visualViewport||[],W(o)?o:[]):e.concat(o,tt(o))}function dt(t,e){const n=D(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,c=y(t)?A(t):{x:1,y:1},r=t.clientWidth*c.x,s=t.clientHeight*c.y,l=i*c.x,u=o*c.y;return{top:u,left:l,right:l+r,bottom:u+s,x:l,y:u,width:r,height:s}}function P(t,e,n){return e==="viewport"?_(ft(t,n)):b(e)?dt(e,n):_(at(v(t)))}function ht(t,e){const n=e.get(t);if(n)return n;let o=tt(t).filter(s=>b(s)&&x(s)!=="body"),i=null;const c=p(t).position==="fixed";let r=c?F(t):t;for(;b(r)&&!H(r);){const s=p(r),l=V(r);(c?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position))?o=o.filter(d=>d!==r):i=s,r=F(r)}return e.set(t,o),o}function gt(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const r=[...n==="clippingAncestors"?ht(e,this._c):[].concat(n),o],s=r[0],l=r.reduce((u,d)=>{const f=P(e,d,i);return u.top=E(f.top,u.top),u.right=X(f.right,u.right),u.bottom=X(f.bottom,u.bottom),u.left=E(f.left,u.left),u},P(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}const pt={getClippingRect:gt,convertOffsetParentRelativeRectToViewportRelativeRect:ut,isElement:b,getDimensions:lt,getOffsetParent:I,getDocumentElement:v,getScale:A,async getElementRects(t){let{reference:e,floating:n,strategy:o}=t;const i=this.getOffsetParent||I,c=this.getDimensions;return{reference:st(e,await i(n),o),floating:{x:0,y:0,...await c(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>p(t).direction==="rtl"},wt=(t,e,n)=>{const o=new Map,i={platform:pt,...n},c={...i.platform,_c:o};return it(t,e,{...i,platform:c})};export{wt as c};
