import{Q as S}from"./QToolbarTitle-9f1030a1.js";import{Q as V}from"./QToolbar-05953bcd.js";import{Q as j}from"./QExpansionItem-ea9c971f.js";import{_ as E,q as O,cm as k,I as J,c as p,a4 as Q,df as $,j as c,o as a,d as t,e as C,k as s,w as i,i as b,t as M,F as w,l as y,K as u,a2 as m,n as N,f as T,p as x}from"./index-2b0597a6.js";import{J as B}from"./json-editor-75b31c57.js";import"./QSlideTransition-41d4b5e6.js";import"./_commonjsHelpers-45ea234c.js";const H=O({name:"SettingsPage",components:{JsonEditor:B},setup(){const n=k(),g=J(),h=p(()=>g.pageHeight),f=p(()=>n.settings),v=p(()=>{var e;return(e=n.settings)==null?void 0:e.configExpertMode}),_=e=>n.settings[e.id]!==void 0?e.validate?e.validate(n.settings[e.id]):n.settings[e.id]:e.value,r=e=>!e._error&&n.set({[e.id]:JSON.parse(e.value)}),d=({id:e,value:o})=>n.set({["settings."+e]:o}),l=e=>e?e(n):!0;return{expanded:Q({}),groups:$,pageHeight:h,expertMode:v,json:f,dependencies:l,getValue:_,onChange:d,onJsonEditor:r}}}),P={class:"full-height"},z={class:"row no-wrap"},D={class:"row",style:{padding:"8px 16px"}};function F(n,g,h,f,v,_){const r=c("inputs"),d=c("json-editor"),l=c("paper");return a(),t("div",P,[C("div",z,[s(V,{class:"paper",style:{"min-height":"56px"}},{default:i(()=>[s(S,{shrink:""},{default:i(()=>[b(M(n.$t("Settings")),1)]),_:1})]),_:1})]),(a(!0),t(w,null,y(n.groups,e=>u((a(),t("div",{class:"row no-wrap paper",key:e.id},[s(j,{modelValue:n.expanded[e.id],"onUpdate:modelValue":o=>n.expanded[e.id]=o,icon:e.icon,label:n.$t(e.label),class:"full-width"},{default:i(()=>[C("div",D,[(a(!0),t(w,null,y(e.settings,o=>u((a(),t("div",{class:T("col-"+(o.columns||2)),key:o.id},[s(r,x(o,{onOnChange:n.onChange,onOnSelect:n.onChange,value:n.getValue(o)}),null,16,["onOnChange","onOnSelect","value"])],2)),[[m,n.dependencies(o.dependency)]])),128))])]),_:2},1032,["modelValue","onUpdate:modelValue","icon","label"])])),[[m,!n.expertMode]])),128)),u(s(l,{style:N({height:n.pageHeight-66-16+"px"})},{default:i(()=>[s(d,{id:"settings",json:n.json,onOnChange:n.onJsonEditor},null,8,["json","onOnChange"])]),_:1},8,["style"]),[[m,n.expertMode]])])}var R=E(H,[["render",F]]);export{R as default};
