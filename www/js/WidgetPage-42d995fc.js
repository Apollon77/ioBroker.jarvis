import{bx as ge,k as j,aA as he,d7 as ye,aq as fe,am as me,as as be,ac as Ce,ck as Se,a9 as we,d8 as Ie,cm as te,al as Oe,d9 as De,a4 as se,cq as P,bM as ke,cn as ie,Q as R,da as X,bQ as _,bR as $e,bt as de,db as Ee,d6 as Ke,aG as Y,ay as i,W as w,X as r,b3 as f,bn as m,a2 as a,b1 as p,I as q,aE as x,U as h,bG as G,bO as Le,A as ue,D as I,V as y,bF as J,cN as Be,bP as oe,bB as N,bo as Ge,bp as Z,aI as ee,ak as re,a1 as H,by as Ae,bH as ae,bw as Me,aY as Ve,bS as We,bD as Fe,bT as le,bU as U,bV as Qe,bW as Pe}from"./index-22f83cd0.js";import{Q as Ue}from"./QExpansionItem-1cc31436.js";import{a as je,u as qe}from"./useDragDrop-d1707b83.js";var Ne=ge({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validation-success","validation-error"],setup(e,{slots:E,emit:K}){const D=we(),b=j(null);let C=0;const d=[];function k(c){const $=typeof c=="boolean"?c:e.noErrorFocus!==!0,L=++C,V=(l,v)=>{K("validation-"+(l===!0?"success":"error"),v)},B=l=>{const v=l.validate();return typeof v.then=="function"?v.then(S=>({valid:S,comp:l}),S=>({valid:!1,comp:l,err:S})):Promise.resolve({valid:v,comp:l})};return(e.greedy===!0?Promise.all(d.map(B)).then(l=>l.filter(v=>v.valid!==!0)):d.reduce((l,v)=>l.then(()=>B(v).then(S=>{if(S.valid===!1)return Promise.reject(S)})),Promise.resolve()).catch(l=>[l])).then(l=>{if(l===void 0||l.length===0)return L===C&&V(!0),!0;if(L===C){const{comp:v,err:S}=l[0];if(S!==void 0&&console.error(S),V(!1,v),$===!0){const W=l.find(({comp:z})=>typeof z.focus=="function"&&Ie(z.$)===!1);W!==void 0&&W.comp.focus()}}return!1})}function n(){C++,d.forEach(c=>{typeof c.resetValidation=="function"&&c.resetValidation()})}function s(c){c!==void 0&&te(c);const $=C+1;k().then(L=>{$===C&&L===!0&&(e.onSubmit!==void 0?K("submit",c):c!==void 0&&c.target!==void 0&&typeof c.target.submit=="function"&&c.target.submit())})}function A(c){c!==void 0&&te(c),K("reset"),Oe(()=>{n(),e.autofocus===!0&&e.noResetFocus!==!0&&O()})}function O(){De(()=>{if(b.value===null)return;const c=b.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(b.value.querySelectorAll("[tabindex]"),$=>$.tabIndex>-1);c!=null&&c.focus({preventScroll:!0})})}he(ye,{bindComponent(c){d.push(c)},unbindComponent(c){const $=d.indexOf(c);$>-1&&d.splice($,1)}});let M=!1;return fe(()=>{M=!0}),me(()=>{M===!0&&e.autofocus===!0&&O()}),be(()=>{e.autofocus===!0&&O()}),Object.assign(D.proxy,{validate:k,resetValidation:n,submit:s,reset:A,focus:O,getValidationComponents:()=>d}),()=>Ce("form",{class:"q-form",ref:b,onSubmit:s,onReset:A},Se(E.default))}});const Te=se({name:"WidgetDevicesSection",props:["module","itemList"],emits:["onChange"],setup(e,{emit:E}){P.dev("DEBUG","WidgetDevicesSection","setup()");const K=ke(),D=ie(),b=R(()=>X.Settings[e.module]||{}),C=R(()=>D.devices),d=t=>C.value[t],k=t=>C.value[t.deviceId].function==="other"?"_defaults":C.value[t.deviceId].function,n=t=>Object.keys(C.value[t].states)||[],s=t=>n(t).map(u=>({label:u,value:u})),A=t=>O[t].devices.length!==0,O=D.getGroups("function"),M=j(Object.values(O)),c={},$=t=>(c[t]||(P.dev("DEBUG","WidgetDevicesSection","shallBeShown",t),c[t]=!b.value.addDevice||b.value.addDevice&&(!b.value.addDevice.fields||b.value.addDevice.fields&&b.value.addDevice.fields.includes(t))),c[t]),L=(t,u)=>{P.dev("DEBUG","WidgetDevicesSection","onFilter",t);const g=Object.values(t?D.getGroups("function",t):O);u(()=>{M.value=g})},V=(t,u,g)=>{const F=C.value[t.deviceId]&&C.value[t.deviceId].states[t[g+"StateKey"]]||{},Q=t[u+"Element"];return Ee(F[Q+"Config"]||{},t[Q+"Config"]&&t[Q+"Config"][g]||{})},B=t=>{let u=!1;return t.map(g=>(u=g.type==="device"?u:g.type==="divider"?!1:g.type==="group"&&g.actions===!0,g.isInGroup=u,g))},o=j(B(_(e.itemList))),l=(t,u=null)=>{P.dev("DEBUG","WidgetDevicesSection","addItem",t,u);const g=Ke(),F={...t,id:g};if(u===null){if(t.type==="device"){const Q=n(t.deviceId)[0]||null;F.primaryStateKey=Q,F.bodyStateKey=Q,F.bodyElement="LastChangeBody"}o.value.push(F)}else o.value.splice(u,0,F);o.value=B(o.value),E("onChange",{id:"items",value:o.value})},v=t=>{const u=_(o.value.find(g=>g.id===t));l(u,o.value.findIndex(g=>g.id===u.id)+1)},S=t=>{confirm(K.t("Really delete item?"))&&(o.value.splice(o.value.findIndex(g=>g.id===t),1),o.value=B(o.value),E("onChange",{id:"items",value:o.value}))},W=j(),z=t=>{(!t.attributes||t.attributes&&t.attributes.deleted!==!0)&&(l({type:"device",deviceId:t.id}),b.value.addDevice&&b.value.addDevice.max!==void 0&&b.value.addDevice.max<=o.value.length&&W.value.hidePopup())},T=j({}),ce=()=>{T.value.value&&l({type:"group",name:T.value.value}),T.value={}},ve=()=>l({type:"divider"}),ne=t=>{if(P.dev("DEBUG","WidgetDevicesSection","onChange",t),t.id&&t.itemId){const u=o.value.findIndex(g=>g.id===t.itemId);if(u>-1){if(t.id.indexOf("moduleConfig.")>-1)o.value[u].moduleConfig={...o.value[u].moduleConfig||{},[t.id.replace("moduleConfig.","")]:t.value};else if(t.id.indexOf("secondaryStatesConfig.")>-1)o.value[u].secondaryStatesConfig={...o.value[u].secondaryStatesConfig||{},[t.id.replace("secondaryStatesConfig.","")]:t.value};else if(t.id==="componentOptions"){const g=t.stateKey||o.value[u].primaryStateKey;o.value[u][t.component+"Config"]={...o.value[u][t.component+"Config"]||{},[g]:{...o.value[u][t.component+"Config"]&&o.value[u][t.component+"Config"][g]||{},...t.value}}}else o.value[u][t.id]=t.value;o.value=B(o.value),E("onChange",{id:"items",value:o.value})}}},pe=(t,u)=>{P.dev("DEBUG","WidgetDevicesSection","onChangeSecondaryStatesKeys",t,u),ne({value:u.map(g=>g.value||g),itemId:t,id:"secondaryStatesKeys"})};return{...je(o,t=>E("onChange",{id:"items",value:B(t)})),FunctionsComponentsList:$e.ComponentsListAsOptions,ModuleSettings:b,onFilter:L,shallBeShown:$,deviceList:C,getDevice:d,getDeviceFunction:k,getDeviceStates:n,getDeviceStatesOptions:s,hasDevices:A,onChange:ne,onChangeSecondaryStatesKeys:pe,setGroup:t=>{T.value=t},group:T,addGroup:ce,addDivider:ve,addDevice:z,items:o,addItem:l,copyItem:v,deleteItem:S,componentValues:V,addDeviceElement:W,optionsAddDevice:O,optionGroupsAddDevice:M}}}),Re={class:"full-width"},He={class:"row sticky body"},ze={class:"col-4"},Je=H("\xA0"),Xe={key:0},Ye={class:"col-3"},Ze={class:"col-3",style:{"line-height":"70px"}},_e={class:"row"},xe={class:"row items-center"},en={key:0},nn={key:1},tn={key:2},on={key:3,class:"row nowrap"},an={key:0,class:"row nowrap"},ln={key:1,class:"row nowrap"},sn={key:2,class:"row nowrap"};function dn(e,E,K,D,b,C){const d=Y("inputs"),k=Y("icon");return i(),w("div",Re,[r("div",He,[r("div",ze,[f(a(oe,{onFilter:e.onFilter,ref:"addDeviceElement",label:e.$t("Add Device"),options:e.optionGroupsAddDevice,"model-value":"","use-input":"","input-debounce":750,"stack-label":"",style:{margin:"0 8px"}},{option:p(n=>[a(Ue,{"expand-separator":"","header-class":"text-weight-bold",label:n.opt.label,icon:n.opt.icon},{default:p(()=>[(i(!0),w(q,null,x(n.opt.devices,s=>f((i(),h(J,{key:s.id,clickable:"",onClick:A=>e.addDevice(s)},{default:p(()=>[a(G,null,{default:p(()=>[a(Le,{class:"q-ml-md"},{default:p(()=>[r("span",{class:ue({"text-strike":s.attributes&&s.attributes.deleted===!0})},I(s.label?s.label+" ("+s.name+")":s.name),3),Je,s.attributes&&s.attributes.deleted===!0?(i(),w("em",Xe,"[ "+I(e.$t("deleted"))+" ]",1)):y("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[Be]])),128))]),_:2},1032,["label","icon"])]),_:1},8,["onFilter","label","options"]),[[m,e.ModuleSettings.addDevice!==!1&&(!e.ModuleSettings.addDevice||e.ModuleSettings.addDevice&&(e.ModuleSettings.addDevice.max===void 0||e.ModuleSettings.addDevice.max>e.items.length))]])]),f(r("div",{class:"col-1",style:{"text-align":"center","line-height":"70px"}},I(e.$t("or")),513),[[m,e.ModuleSettings.addGroup!==!1]]),f(r("div",Ye,[a(d,{label:"Add Group",onOnChange:e.setGroup,onKeyup:Ge(e.addGroup,["enter"]),value:e.group.value||""},{end:p(()=>[f(a(N,{flat:"",size:"sm",dense:"",icon:"mdi-check",label:e.$t("add"),style:{height:"32px","min-width":"100px","margin-top":"16px"},onClick:e.addGroup},null,8,["label","onClick"]),[[m,!!e.group.value]])]),_:1},8,["onOnChange","onKeyup","value"])],512),[[m,e.ModuleSettings.addGroup!==!1]]),f(r("div",{class:"col-1",style:{"text-align":"center","line-height":"70px"}},I(e.$t("or")),513),[[m,e.ModuleSettings.addDivider!==!1]]),f(r("div",Ze,[a(N,{icon:"mdi-minus",label:e.$t("Add Divider"),color:"primary",onClick:e.addDivider},null,8,["label","onClick"])],512),[[m,e.ModuleSettings.addDivider!==!1]])]),r("div",_e,[a(ae,{ref:"elDragDrop",class:"full-width"},{default:p(()=>[(i(!0),w(q,null,x(e.items,n=>(i(),h(J,{key:n.id,class:"paper",style:{padding:"8px 12px 8px 8px !important"}},{default:p(()=>[a(G,{avatar:""},{default:p(()=>[r("div",xe,[f(a(k,{name:"mdi-drag-horizontal",class:"dragndrop",style:{"padding-right":"16px"}},null,512),[[m,e.items.length>1]]),a(d,{type:"button",dense:"",icon:"mdi-content-copy",tooltip:e.$t("copy"),onClick:Z(s=>e.copyItem(n.id),["stop"])},null,8,["tooltip","onClick"]),f(a(d,{type:"button",dense:"",icon:"mdi-delete",tooltip:e.$t("delete"),color:"negative",onClick:Z(s=>e.deleteItem(n.id),["stop"])},null,8,["tooltip","onClick"]),[[m,n._deleted!==!0]]),f(a(d,{type:"button",dense:"",icon:"mdi-restore",tooltip:e.$t("restore"),color:"positive",onClick:Z(s=>e.restoreItem(n.id),["stop"]),class:"restore"},null,8,["tooltip","onClick"]),[[m,n._deleted===!0]])])]),_:2},1024),n.type!=="device"||n.type==="device"&&e.deviceList[n.deviceId]!==void 0?(i(),w(q,{key:0},[e.ModuleSettings.customBodySection?(i(),h(G,{key:0},{default:p(()=>[(i(),h(ee(e.ModuleSettings.customBodySection),re({...e.$props,...e.$attrs},{onOnChange:e.onChange,item:n,device:e.deviceList[n.deviceId]}),null,16,["onOnChange","item","device"]))]),_:2},1024)):(i(),h(G,{key:1},{default:p(()=>[n.type==="divider"?(i(),w("span",en,[r("em",null,I("("+e.$t("divider")+")"),1)])):y("",!0),n.type==="group"?(i(),w("span",nn,[r("strong",null,I(n.name),1)])):y("",!0),n.type==="device"?(i(),w("span",tn,[r("strong",null,I(e.deviceList[n.deviceId].name),1),H(" ("+I(e.deviceList[n.deviceId].function+", #"+n.deviceId)+")",1)])):y("",!0),n.type==="device"?(i(),w("div",on,[e.shallBeShown("label")?(i(),h(d,{key:0,dense:"",onOnChange:e.onChange,label:"Label",itemId:n.id,id:"label",json:"",value:n.label||"",placeholder:e.deviceList[n.deviceId].states[n.bodyStateKey]&&e.deviceList[n.deviceId].states[n.bodyStateKey].label?JSON.stringify(e.deviceList[n.deviceId].states[n.bodyStateKey].label):e.deviceList[n.deviceId].name},null,8,["onOnChange","itemId","value","placeholder"])):y("",!0),e.shallBeShown("bodyStateKey")?(i(),h(d,{key:1,dense:"",style:{width:"130px"},onOnSelect:e.onChange,label:"Body State",itemId:n.id,id:"bodyStateKey",value:n.bodyStateKey,type:"select",options:e.getDeviceStatesOptions(n.deviceId)},null,8,["onOnSelect","itemId","value","options"])):y("",!0),e.shallBeShown("bodyElement")?f((i(),h(d,{key:2,dense:"",style:{width:"230px"},onOnSelect:e.onChange,onOnOptions:e.onChange,id:"bodyElement",label:"Body Element",state:e.deviceList[n.deviceId].states[n.bodyStateKey],stateKey:n.bodyStateKey,itemId:n.id,value:n.bodyElement,type:"select.components",components:e.FunctionsComponentsList.bodyElements[e.getDeviceFunction(n)],componentValues:e.componentValues(n,"body",n.bodyStateKey)},null,8,["onOnSelect","onOnOptions","state","stateKey","itemId","value","components","componentValues"])),[[m,n.bodyStateKey]]):y("",!0)])):y("",!0)]),_:2},1024)),e.ModuleSettings.customActionSection?(i(),h(G,{key:2,side:""},{default:p(()=>[(i(),h(ee(e.ModuleSettings.customActionSection),{onOnChange:e.onChange,item:n,device:e.deviceList[n.deviceId]},null,40,["onOnChange","item","device"]))]),_:2},1024)):(i(),h(G,{key:3,side:""},{default:p(()=>[n.type==="group"?(i(),w("div",an,[a(d,{dense:"",style:{width:"100px"},onOnChange:e.onChange,label:e.$t("Group Actions"),itemId:n.id,id:"actions",value:n.actions||!1,type:"switch"},null,8,["onOnChange","label","itemId","value"]),e.shallBeShown("groupElement")?f((i(),h(d,{key:0,dense:"",style:{width:"200px"},onOnSelect:e.onChange,onOnOptions:e.onChange,id:"groupElement",label:"Group Element",stateKey:"group",itemId:n.id,value:n.groupElement,type:"select.components",components:e.FunctionsComponentsList.actionElements._defaults.filter(s=>!["DatePickerAction","TimePickerAction","InputAction","DropdownAction"].includes(s.value)),componentValues:e.componentValues(n,"group","group")},null,8,["onOnSelect","onOnOptions","itemId","value","components","componentValues"])),[[m,n.actions===!0]]):y("",!0)])):y("",!0),n.type==="device"?(i(),w("div",ln,[e.shallBeShown("primaryStateKey")?(i(),h(d,{key:0,dense:"",style:{width:"130px"},onOnSelect:e.onChange,label:"Action State",itemId:n.id,id:"primaryStateKey",value:n.primaryStateKey,type:"select",options:e.getDeviceStatesOptions(n.deviceId)},null,8,["onOnSelect","itemId","value","options"])):y("",!0),e.shallBeShown("showState")?f((i(),h(d,{key:1,dense:"",style:{width:"100px"},onOnChange:e.onChange,label:"Show State",itemId:n.id,id:"showState",value:n.showState!==void 0?n.showState:!0,type:"switch"},null,8,["onOnChange","itemId","value"])),[[m,n.primaryStateKey]]):y("",!0),e.shallBeShown("showGroupAction")?f((i(),h(d,{key:2,dense:"",style:{width:"100px"},onOnChange:e.onChange,label:"Use in Actions",itemId:n.id,id:"useInGroup",value:n.useInGroup!==void 0?n.useInGroup:!0,type:"switch"},null,8,["onOnChange","itemId","value"])),[[m,n.primaryStateKey&&n.isInGroup===!0]]):y("",!0),e.shallBeShown("actionElement")?f((i(),h(d,{key:3,dense:"",style:{width:"200px"},onOnSelect:e.onChange,onOnOptions:e.onChange,id:"actionElement",label:"Action Element",state:e.deviceList[n.deviceId].states[n.primaryStateKey],stateKey:n.primaryStateKey,itemId:n.id,value:n.actionElement,type:"select.components",components:e.FunctionsComponentsList.actionElements[e.getDeviceFunction(n)],componentValues:e.componentValues(n,"action",n.primaryStateKey)},null,8,["onOnSelect","onOnOptions","state","stateKey","itemId","value","components","componentValues"])),[[m,n.primaryStateKey]]):y("",!0)])):y("",!0),n.type==="device"?(i(),w("div",sn,[e.shallBeShown("secondaryStatesKeys")?(i(),h(oe,{key:0,"stack-label":"",dense:"",style:{width:"430px"},"onUpdate:modelValue":s=>e.onChangeSecondaryStatesKeys(n.id,s),label:e.$t("Secondary State"),"model-value":n.secondaryStatesKeys,options:e.getDeviceStatesOptions(n.deviceId),"use-chips":"",multiple:""},{after:p(()=>[a(N,{flat:"",dense:"",icon:"mdi-dots-vertical","click.prevent":""},{default:p(()=>[a(Ae,null,{default:p(()=>[a(ae,{style:{"min-width":"100px"}},{default:p(()=>[a(J,null,{default:p(()=>[a(G,null,{default:p(()=>[a(d,{dense:"",onOnChange:e.onChange,itemId:n.id,label:"Use Labels",id:"secondaryStatesConfig.useLabel",value:n.secondaryStatesConfig&&n.secondaryStatesConfig.useLabel||!1,type:"switch",inline:""},null,8,["onOnChange","itemId","value"])]),_:2},1024)]),_:2},1024),a(J,null,{default:p(()=>[a(G,null,{default:p(()=>[a(d,{dense:"",onOnChange:e.onChange,itemId:n.id,label:"Use Colors",id:"secondaryStatesConfig.useColor",value:n.secondaryStatesConfig&&n.secondaryStatesConfig.useColor||!0,type:"switch",inline:""},null,8,["onOnChange","itemId","value"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onUpdate:modelValue","label","model-value","options"])):y("",!0)])):y("",!0)]),_:2},1024))],64)):(i(),h(G,{key:1},{default:p(()=>[H(I(e.$t("Device not found")+" ("+e.$t("Device ID")+": "+n.deviceId+")"),1)]),_:2},1024))]),_:2},1024))),128))]),_:1},512)])])}var un=de(Te,[["render",dn],["__scopeId","data-v-04caa6ce"]]);const rn=se({name:"WidgetPage",props:["widgetId"],emits:["onClose"],components:{WidgetDevicesSection:un},setup(e,{emit:E}){const K=Me(),D=ie(),{errors:b,hasErrors:C,addError:d,removeError:k,resetErrors:n}=qe({module:"Empty"}),s=j(null);Ve(()=>e.widgetId,o=>{o?(s.value=D.widgets[o]?_(D.widgets[o]):{id:o,config:{}},s.value.module&&k("module")):s.value=null});const A=X.ModuleList.map(o=>({label:o,value:o})),O=R(()=>X.Configurations[s.value.module]||[]),M=R(()=>X.Settings[s.value.module]||{}),c=R(()=>{const o={};return O.value.forEach(l=>{if(s.value.config[l.parameter]===void 0){const v=typeof l.value=="function"?l.value(s.value):l.value;L({id:"config."+l.parameter,value:v}),o[l.parameter]=v}else o[l.parameter]=s.value.config[l.parameter]}),o}),$=o=>o?Object.keys(o).some(l=>{const v=Array.isArray(o[l])?o[l]:[o[l]],S=s.value.config[l]===void 0?O.value.find(W=>W.parameter===l).value:s.value.config[l];return v.includes(S)}):!0,L=o=>{const{_error:l,id:v,value:S}=o;l?d(v,l):v!==void 0&&S!==void 0&&v.indexOf("config.")!==-1?(s.value.config[v.replace("config.","")]=S,k(v)):v!==void 0&&S!==void 0&&(s.value[v]=S,k(v),v==="module"&&(n(),s.value.config={}))},V=(o=null)=>{E("onClose",o),s.value=null,n()};return{jarvis:K,editor:D,ModuleList:A,ModuleConfigurations:O,ModuleSettings:M,ModuleConfigValues:c,errors:b,hasErrors:C,dependencies:$,widget:s,onChange:L,onCancel:V,onSave:()=>{D.addWidget({widget:s.value}),V(s.value)}}}}),cn={class:"text-h6 row items-center"},vn={class:"text-h6 primary q-ma-sm"},pn={class:"row"},gn={class:"col"},hn={class:"col"},yn={class:"col"},fn={class:"col-2"},mn={class:"col-1"},bn={class:"text-h6 primary q-ma-sm"},Cn={class:"row"},Sn={class:"col-3"},wn={class:"col-9"},In={class:"text-h7 primary q-ma-sm"},On={class:"row"},Dn={class:"row"},kn={class:"q-pa-sm"},$n={key:0,class:"row"},En={class:"text-h7 primary q-ma-sm"},Kn={class:"row"};function Ln(e,E,K,D,b,C){const d=Y("inputs"),k=Y("widget-devices-section");return i(),h(Pe,{"model-value":e.widget!==null,"full-height":"",persistent:""},{default:p(()=>[e.widget!==null?(i(),h(We,{key:0,class:"column full-height",style:{width:"1400px","max-width":"90vw"}},{default:p(()=>[a(le,{class:"row items-center"},{default:p(()=>[r("div",cn,[H(I(e.$t("Widget"))+": ",1),a(d,{dense:"",onOnChange:e.onChange,id:"title",label:e.$t("Name"),value:e.widget.title||"",autofocus:"",style:{width:"230px","margin-right":"16px"}},null,8,["onOnChange","label","value"]),H(" ("+I(e.$t("Widget ID")+": "+e.widget.id)+") ",1)]),a(Fe),a(N,{flat:"",round:"",color:"grey",icon:"close",onClick:e.onCancel},null,8,["onClick"])]),_:1}),a(U),a(le,{id:"WidgetDialogBody",class:"col scroll body"},{default:p(()=>[a(Ne,null,{default:p(()=>[r("div",vn,I(e.$t("Widget-Box")),1),a(U,{style:{margin:"0 -16px"}}),r("div",pn,[r("div",gn,[a(d,{onOnChange:e.onChange,id:"icon",label:e.$t("Widget")+" "+e.$t("Icon"),value:e.widget.icon||e.ModuleSettings.icon||"",icon:e.widget.icon},null,8,["onOnChange","label","value","icon"])]),r("div",hn,[a(d,{onOnChange:e.onChange,id:"label",label:e.$t("Widget")+" "+e.$t("Label"),value:e.widget.label||"",placeholder:e.widget.title},null,8,["onOnChange","label","value","placeholder"])]),r("div",yn,[a(d,{onOnChange:e.onChange,id:"link",label:e.$t("Widget")+" "+e.$t("Link"),value:e.widget.link||"",info:"config#HomeKitTile#jumper#info"},null,8,["onOnChange","label","value"])]),r("div",fn,[a(d,{type:"switch",onOnChange:e.onChange,id:"hideTitle",label:e.$t("Hide Widget Label and Icon"),value:e.widget.hideTitle||!1},null,8,["onOnChange","label","value"])]),r("div",mn,[f(a(d,{type:"switch",onOnChange:e.onChange,id:"hideSeparator",label:e.$t("Hide Separator"),value:e.widget.hideSeparator||!1},null,8,["onOnChange","label","value"]),[[m,e.widget.hideTitle!==!0]])])]),r("div",bn,I(e.$t("Module")),1),a(U,{style:{margin:"0 -16px"}}),r("div",Cn,[r("div",Sn,[a(d,{onOnSelect:e.onChange,id:"module",label:e.$t("Module"),type:"select",options:e.ModuleList,value:e.widget.module,"options-dense":"","use-input":"",required:"",error:e.errors.module!==void 0,"error-message":e.errors.module},null,8,["onOnSelect","label","options","value","error","error-message"])]),r("div",wn,[f(r("div",{class:"centered"},I(e.$t(e.widget.module+"#description")),513),[[m,e.widget.module]])])]),f(r("div",null,[r("div",In,I(e.$t("Module Configuration")),1),a(U,{style:{margin:"0 0 8px 0"}}),f(r("div",On,[(i(!0),w(q,null,x(e.ModuleConfigurations,n=>(i(),w(q,null,[n.hide!==!0?f((i(),w("div",{class:ue("col-"+(n.columns||4)),key:n.parameter},[a(d,re(n,{onOnChange:e.onChange,onOnSelect:e.onChange,id:"config."+n.parameter,options:n.options?typeof n.options=="function"?n.options(e.widget.items,{jarvis:e.jarvis,editor:e.editor}):n.options:void 0,value:e.ModuleConfigValues[n.parameter],errorMessage:e.errors["config."+n.parameter]}),null,16,["onOnChange","onOnSelect","id","options","value","errorMessage"])],2)),[[m,e.dependencies(n.dependencies)]]):y("",!0)],64))),256))],512),[[m,e.ModuleConfigurations.length>0]]),f(r("div",Dn,[r("p",kn,I(e.$t("No configuration options for this module")),1)],512),[[m,e.ModuleConfigurations.length===0]]),e.ModuleSettings&&e.ModuleSettings.customConfiguration?(i(),w("div",$n,[(i(),h(ee(e.ModuleSettings.customConfiguration),{config:e.widget.config,onOnChange:e.onChange},null,40,["config","onOnChange"]))])):y("",!0),e.ModuleSettings.addDevice!==!1?(i(),w(q,{key:1},[r("div",En,I(e.$t("Module Devices")),1),a(U,{style:{margin:"0 -0 8px 0"}}),r("div",Kn,[a(k,{onOnChange:e.onChange,ModuleConfigValues:e.ModuleConfigValues,itemList:e.widget.items||[],module:e.widget.module},null,8,["onOnChange","ModuleConfigValues","itemList","module"])])],64)):y("",!0)],512),[[m,e.widget.module]])]),_:1})]),_:1}),a(U),a(Qe,{align:"right"},{default:p(()=>[a(N,{flat:"",label:e.$t("Cancel"),color:"negative",onClick:e.onCancel},null,8,["label","onClick"]),a(N,{flat:"",label:e.$t("Apply"),color:"primary",onClick:e.onSave,disable:e.hasErrors},null,8,["label","onClick","disable"])]),_:1})]),_:1})):y("",!0)]),_:1},8,["model-value"])}var Mn=de(rn,[["render",Ln],["__scopeId","data-v-43a16fdb"]]);export{Mn as W};
