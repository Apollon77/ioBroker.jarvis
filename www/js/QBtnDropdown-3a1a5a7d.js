var k=Object.defineProperty,I=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var w=(e,o,t)=>o in e?k(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,l=(e,o)=>{for(var t in o||(o={}))V.call(o,t)&&w(e,t,o[t]);if(h)for(var t of h(o))x.call(o,t)&&w(e,t,o[t]);return e},u=(e,o)=>I(e,O(o));import{bX as M,cO as R,a3 as m,c as v,x as B,z as _,h as i,Q as j,I as z,cg as H,O as r,cP as P,aZ as W,cQ as G}from"./index-40f23668.js";var $=M({name:"QBtnDropdown",props:u(l({},R),{modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean}),emits:["update:modelValue","click","before-show","show","before-hide","hide"],setup(e,{slots:o,emit:t}){const{proxy:c}=W(),d=m(e.modelValue),a=m(null),f=v(()=>{const n={"aria-expanded":d.value===!0?"true":"false","aria-haspopup":"true"};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(n["aria-disabled"]="true"),n}),g=v(()=>"q-btn-dropdown__arrow"+(d.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":""));B(()=>e.modelValue,n=>{a.value!==null&&a.value[n?"show":"hide"]()}),B(()=>e.split,s);function C(n){d.value=!0,t("before-show",n)}function S(n){t("show",n),t("update:modelValue",!0)}function q(n){d.value=!1,t("before-hide",n)}function y(n){t("hide",n),t("update:modelValue",!1)}function D(n){t("click",n)}function Q(n){G(n),s(),t("click",n)}function A(n){a.value!==null&&a.value.toggle(n)}function b(n){a.value!==null&&a.value.show(n)}function s(n){a.value!==null&&a.value.hide(n)}return Object.assign(c,{show:b,hide:s,toggle:A}),_(()=>{e.modelValue===!0&&b()}),()=>{const n=[i(j,{class:g.value,name:e.dropdownIcon||c.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&n.push(i(z,{ref:a,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,onBeforeShow:C,onShow:S,onBeforeHide:q,onHide:y},o.default)),e.split===!1?i(r,u(l(u(l({class:"q-btn-dropdown q-btn-dropdown--simple"},e),{disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1}),f.value),{onClick:D}),()=>H(o.label,[]).concat(n)):i(P,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,unelevated:e.unelevated,glossy:e.glossy,stretch:e.stretch},()=>[i(r,u(l({class:"q-btn-dropdown--current"},e),{disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,iconRight:e.iconRight,round:!1,onClick:Q}),o.label),i(r,u(l({class:"q-btn-dropdown__arrow-container q-anchor--skip"},f.value),{disable:e.disable===!0||e.disableDropdown===!0,outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,size:e.size,color:e.color,textColor:e.textColor,dense:e.dense,ripple:e.ripple}),()=>n)])}}});export{$ as Q};
