{"version":3,"sources":["webpack:///./src/pages/Configuration/WidgetsPage/WidgetPage/WidgetPage.vue?9b90","webpack:///./src/pages/Configuration/WidgetsPage/WidgetPage/WidgetDevicesSection.vue?76cf","webpack:///src/pages/Configuration/WidgetsPage/WidgetPage/WidgetDevicesSection.vue","webpack:///./src/pages/Configuration/WidgetsPage/WidgetPage/WidgetDevicesSection.vue?633a","webpack:///./src/pages/Configuration/WidgetsPage/WidgetPage/WidgetDevicesSection.vue","webpack:///src/pages/Configuration/WidgetsPage/WidgetPage/WidgetPage.vue","webpack:///./src/pages/Configuration/WidgetsPage/WidgetPage/WidgetPage.vue?2d90","webpack:///./src/pages/Configuration/WidgetsPage/WidgetPage/WidgetPage.vue","webpack:///./src/pages/Configuration/WidgetsPage/WidgetsPage.vue?6d03","webpack:///./src/pages/Configuration/WidgetsPage/WidgetsTable.vue?0491","webpack:///src/pages/Configuration/WidgetsPage/WidgetsTable.vue","webpack:///./src/pages/Configuration/WidgetsPage/WidgetsTable.vue?7b62","webpack:///./src/pages/Configuration/WidgetsPage/WidgetsTable.vue","webpack:///src/pages/Configuration/WidgetsPage/WidgetsPage.vue","webpack:///./src/pages/Configuration/WidgetsPage/WidgetsPage.vue?174a","webpack:///./src/pages/Configuration/WidgetsPage/WidgetsPage.vue","webpack:///./src/pages/Configuration/WidgetsPage/WidgetPage/WidgetPage.vue?aeec"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","widget","staticClass","staticStyle","_v","_s","$t","title","on","$event","cancel","icon","ModuleSettings","onChange","link","hideTitle","ModuleList","module","undefined","errors","directives","name","rawName","value","expression","ModuleConfigurations","length","_l","ModuleConfig","hide","dependencies","key","parameter","class","columns","_b","getValueForInput","Object","assign","arguments","_e","customConfiguration","tag","config","addDevice","items","hasErrors","save","staticRenderFns","max","ref","optionGroupsAddDevice","filter","scopedSlots","_u","fn","scope","opt","label","device","id","addGroup","group","type","indexOf","_k","keyCode","apply","addDivider","loaded","emitChange","model","callback","$$v","item","isInGroup","copyItem","_deleted","deleteItem","restoreItem","deviceList","deviceId","function","shallBeShown","states","bodyStateKey","JSON","stringify","deviceStatesOptions","bodyElement","FUNCTION_COMPONENTS","deviceFunction","componentValues","customDeviceSection","actions","groupElement","component","primaryStateKey","showState","useInGroup","actionElement","getDevice","secondaryStatesKeys","onChangeSecondaryStatesKeys","_rfdc","_merge","Draggable","WidgetDevicesSection","data","optionsAddDevice","$store","getters","itemList","state","editor","devices","values","_ModuleSettings","field","fields","includes","inputValue","doneFn","results","optionGroupsAddDeviceDefault","stateKey","deviceStates","keys","map","hasDevices","groupId","$emit","e","itemId","stopPropagation","confirmation","confirm","$i18n","t","$delete","findIndex","copy","find","addItem","props","pos","push","splice","$refs","addDeviceSelect","hidePopup","itemIndex","$set","moduleConfig","replace","args","argument","created","setTimeout","QSelect","QExpansionItem","QItem","QItemSection","QItemLabel","QBtn","QLinearProgress","QList","QSeparator","Ripple","QDialog","QCard","QCardSection","QSpace","QCardActions","widgetsCount","addWidget","selectedWidgetId","expertMode","widgets","expanded","editWidget","style","pageHeight","json","onJsonEditor","pagination","col","isDeleted","row","onWidgetEdit","onWidgetCopy","onWidgetRemove","onWidgetRestore","QTable","QTr","QTh","QTd","QToolbar","QToolbarTitle"],"mappings":"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BACA,kBAEA,OACA,OACA,YACA,cACA,gBAEA,UACA,UACA,yBACA,WACA,aACA,YACA,OACA,cAEA,CACA,aACA,4BACA,cACA,aACA,YACA,OACA,cAEA,CACA,cACA,6BACA,eACA,aACA,YACA,OACA,iBAOA,SACA,aACA,uBAEA,gBACA,8BAEA,gBACA,oDAEA,kBACA,sDAEA,mBACA,0DC/G0X,I,6FCOtXwD,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,EAAiB,QAOhC,IAASA,EAAW,aAAc,CAACiG,SAAA,KAAOC,MAAA,KAAIC,MAAA,KAAIC,MAAA,KAAIhC,OAAA,O,4BCyBtD,kBACA,mBAEA,YACA,kBACA,eACA,mBAGA,OACA,OACA,YACA,wBAIA,SACA,YACA,wCAEA,cACA,4BAEA,gBACA,UACA,gEAKA,UACA,aACA,4CAEA,SACA,wDAEA,eACA,qEAEA,OACA,yCAEA,mBACA,8FC9FyX,I,gDCOrX,EAAY,eACd,EACA3K,EACAuD,GACA,EACA,KACA,KACA,MAIa,IAAiB,QAOhC,IAAS,EAAW,aAAc,CAACqJ,WAAA,KAASC,gBAAA,KAAc1B,SAAA,KAAOR,OAAA,KAAKJ,iBAAA,Q,kCCzBtE","file":"js/5.6e1e8595.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-dialog',{attrs:{\"value\":_vm.widget !== null,\"full-height\":\"\",\"persistent\":\"\"}},[(_vm.widget !== null)?_c('q-card',{staticClass:\"column full-height\",staticStyle:{\"width\":\"1400px\",\"max-width\":\"90vw\"}},[_c('q-card-section',{staticClass:\"row items-center\"},[_c('div',{staticClass:\"text-h6\"},[_vm._v(_vm._s(_vm.$t('Widget'))+\" \"+_vm._s(_vm.widget.title))]),_c('q-space'),_c('q-btn',{attrs:{\"flat\":\"\",\"round\":\"\",\"color\":\"grey\",\"icon\":\"close\"},on:{\"click\":function($event){return _vm.cancel()}}})],1),_c('q-separator'),_c('q-card-section',{staticClass:\"col scroll body\"},[_c('div',{staticClass:\"text-h6 primary q-ma-sm\"},[_vm._v(_vm._s(_vm.$t('Widget-Box')))]),_c('q-separator',{staticStyle:{\"margin\":\"0 -16px\"}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('inputs',{attrs:{\"id\":\"icon\",\"label\":_vm.$t('Widget Icon'),\"value\":_vm.widget.icon || _vm.ModuleSettings.icon || '',\"icon\":_vm.widget.icon},on:{\"onChange\":_vm.onChange}})],1),_c('div',{staticClass:\"col\"},[_c('inputs',{attrs:{\"id\":\"title\",\"label\":_vm.$t('Widget Title'),\"value\":_vm.widget.title || '',\"autofocus\":\"\"},on:{\"onChange\":_vm.onChange}})],1),_c('div',{staticClass:\"col\"},[_c('inputs',{attrs:{\"id\":\"link\",\"label\":_vm.$t('Widget Link'),\"value\":_vm.widget.link || '',\"info\":\"config#HomeKitTile#jumper#info\"},on:{\"onChange\":_vm.onChange}})],1),_c('div',{staticClass:\"col\"},[_c('inputs',{attrs:{\"type\":\"switch\",\"id\":\"hideTitle\",\"label\":_vm.$t('Hide Widget Title and Icon'),\"value\":_vm.widget.hideTitle || false},on:{\"onChange\":_vm.onChange}})],1)]),_c('div',{staticClass:\"text-h6 primary q-ma-sm\"},[_vm._v(_vm._s(_vm.$t('Module')))]),_c('q-separator',{staticStyle:{\"margin\":\"0 -16px\"}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-3\"},[_c('inputs',{attrs:{\"id\":\"module\",\"label\":_vm.$t('Module'),\"type\":\"select\",\"options\":_vm.ModuleList,\"value\":_vm.widget.module,\"options-dense\":\"\",\"use-input\":\"\",\"required\":\"\",\"error\":_vm.errors['module'] !== undefined,\"error-message\":_vm.errors['module']},on:{\"onSelect\":_vm.onChange}})],1),_c('div',{staticClass:\"col-9\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.widget.module),expression:\"widget.module\"}],staticClass:\"centered\"},[_vm._v(_vm._s(_vm.$t(_vm.widget.module + '#description')))])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.widget.module),expression:\"widget.module\"}]},[_c('div',{staticClass:\"text-h7 primary q-ma-sm\"},[_vm._v(_vm._s(_vm.$t('Module Configuration')))]),_c('q-separator',{staticStyle:{\"margin\":\"0 0 8px 0\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ModuleConfigurations.length > 0),expression:\"ModuleConfigurations.length > 0\"}],staticClass:\"row\"},[_vm._l((_vm.ModuleConfigurations),function(ModuleConfig){return [(ModuleConfig.hide !== true)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dependencies(ModuleConfig.dependencies)),expression:\"dependencies(ModuleConfig.dependencies)\"}],key:ModuleConfig.parameter,class:'col-' + (ModuleConfig.columns || 4)},[_c('inputs',_vm._b({attrs:{\"value\":_vm.getValueForInput(ModuleConfig)},on:{\"onChange\":function($event){return _vm.onChange(Object.assign({}, arguments[0], {'id': 'config.' + ModuleConfig.parameter}))},\"onSelect\":function($event){return _vm.onChange(Object.assign({}, arguments[0], {'id': 'config.' + ModuleConfig.parameter}))}}},'inputs',ModuleConfig,false))],1):_vm._e()]})],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ModuleConfigurations.length === 0),expression:\"ModuleConfigurations.length === 0\"}],staticClass:\"row\"},[_c('p',{staticClass:\"q-pa-sm\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.$t('No configuration options for this module'))+\"\\n\\t\\t\\t\\t\\t\")])]),(_vm.ModuleSettings && _vm.ModuleSettings.customConfiguration)?_c('div',{staticClass:\"row\"},[_c(_vm.ModuleSettings.customConfiguration,{tag:\"component\",attrs:{\"config\":_vm.widget.config},on:{\"onChange\":_vm.onChange}})],1):_vm._e(),(_vm.ModuleSettings.addDevice !== false)?[_c('div',{staticClass:\"text-h7 primary q-ma-sm\"},[_vm._v(_vm._s(_vm.$t('Module Devices')))]),_c('q-separator',{staticStyle:{\"margin\":\"0 -0 8px 0\"}}),_c('div',{staticClass:\"row\"},[_c('widget-devices-section',{attrs:{\"itemList\":_vm.widget.items || [],\"module\":_vm.widget.module},on:{\"onChange\":_vm.onChange}})],1)]:_vm._e()],2)],1),_c('q-separator'),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{attrs:{\"flat\":\"\",\"label\":_vm.$t('Cancel'),\"color\":\"negative\"},on:{\"click\":function($event){return _vm.cancel()}}}),_c('q-btn',{attrs:{\"flat\":\"\",\"label\":_vm.$t('Apply'),\"color\":\"primary\",\"disable\":_vm.hasErrors},on:{\"click\":_vm.save}})],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"full-width\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-4\"},[_c('q-select',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ModuleSettings.addDevice !== false && (!_vm.ModuleSettings.addDevice || (_vm.ModuleSettings.addDevice && (_vm.ModuleSettings.addDevice.max === undefined || _vm.ModuleSettings.addDevice.max > _vm.items.length)))),expression:\"ModuleSettings.addDevice !== false && (!ModuleSettings.addDevice || (ModuleSettings.addDevice && (ModuleSettings.addDevice.max === undefined || ModuleSettings.addDevice.max > items.length)))\"}],ref:\"addDeviceSelect\",staticStyle:{\"margin\":\"0 8px\"},attrs:{\"label\":_vm.$t('Add Device'),\"options\":_vm.optionGroupsAddDevice,\"value\":\"\",\"use-input\":\"\",\"stack-label\":\"\"},on:{\"filter\":_vm.filter},scopedSlots:_vm._u([{key:\"option\",fn:function(scope){return [_c('q-expansion-item',{attrs:{\"expand-separator\":\"\",\"header-class\":\"text-weight-bold\",\"label\":scope.opt.label,\"icon\":scope.opt.icon}},[_vm._l((scope.opt.devices),function(device){return [_c('q-item',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],key:device.id,attrs:{\"clickable\":\"\"},on:{\"click\":function($event){return _vm.addDevice(device.id)}}},[_c('q-item-section',[_c('q-item-label',{staticClass:\"q-ml-md\"},[_vm._v(_vm._s(device.name))])],1)],1)]})],2)]}}])})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ModuleSettings.addGroup !== false),expression:\"ModuleSettings.addGroup !== false\"}],staticClass:\"col-1\",staticStyle:{\"text-align\":\"center\",\"line-height\":\"70px\"}},[_vm._v(_vm._s(_vm.$t('or')))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ModuleSettings.addGroup !== false),expression:\"ModuleSettings.addGroup !== false\"}],staticClass:\"col-3\"},[_c('inputs',{attrs:{\"label\":\"Add Group\",\"value\":_vm.group.value || ''},on:{\"onChange\":function($event){_vm.group = arguments[0]},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addGroup.apply(null, arguments)}}},[[_c('q-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.group.value),expression:\"group.value\"}],staticStyle:{\"height\":\"32px\",\"min-width\":\"100px\",\"margin-top\":\"16px\"},attrs:{\"flat\":\"\",\"size\":\"sm\",\"dense\":\"\",\"icon\":\"mdi-check\",\"label\":_vm.$t('add group')},on:{\"click\":_vm.addGroup}})]],2)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ModuleSettings.addDivider !== false),expression:\"ModuleSettings.addDivider !== false\"}],staticClass:\"col-1\",staticStyle:{\"text-align\":\"center\",\"line-height\":\"70px\"}},[_vm._v(_vm._s(_vm.$t('or')))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ModuleSettings.addDivider !== false),expression:\"ModuleSettings.addDivider !== false\"}],staticClass:\"col-3\",staticStyle:{\"line-height\":\"70px\"}},[_c('q-btn',{attrs:{\"icon\":\"mdi-minus\",\"label\":_vm.$t('Add Divider'),\"color\":\"primary\"},on:{\"click\":_vm.addDivider}})],1)]),(!_vm.loaded)?_c('div',{staticClass:\"row\"},[_c('q-linear-progress',{attrs:{\"indeterminate\":\"\"}})],1):_vm._e(),(_vm.loaded)?_c('div',{staticClass:\"row\"},[_c('q-list',{staticClass:\"full-width\",staticStyle:{\"margin-top\":\"16px\"}},[_c('draggable',{attrs:{\"handle\":\".dragndrop\"},on:{\"change\":_vm.emitChange},model:{value:(_vm.items),callback:function ($$v) {_vm.items=$$v},expression:\"items\"}},[_c('transition-group',{attrs:{\"type\":\"transition\",\"name\":\"flip-list\",\"tag\":\"div\"}},_vm._l((_vm.items),function(item){return _c('div',{key:item.id,staticClass:\"list-group-item\",attrs:{\"set\":_vm.isInGroup = _vm.isInGroup && item.type === 'divider' ? false : (item.type === 'group' ? true : _vm.isInGroup)}},[_c('q-item',[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('div',{staticClass:\"row items-center\"},[_c('icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.items.length > 1),expression:\"items.length > 1\"}],staticClass:\"dragndrop\",staticStyle:{\"padding-right\":\"16px\"},attrs:{\"name\":\"mdi-drag-horizontal\"}}),_c('inputs',{attrs:{\"type\":\"button\",\"dense\":\"\",\"icon\":\"mdi-content-copy\",\"tooltip\":_vm.$t('copy')},on:{\"click\":function($event){return _vm.copyItem($event, item.id)}}}),_c('inputs',{directives:[{name:\"show\",rawName:\"v-show\",value:(item._deleted !== true),expression:\"item._deleted !== true\"}],attrs:{\"type\":\"button\",\"dense\":\"\",\"icon\":\"mdi-delete\",\"tooltip\":_vm.$t('delete'),\"color\":\"negative\"},on:{\"click\":function($event){return _vm.deleteItem($event, item.id)}}}),_c('inputs',{directives:[{name:\"show\",rawName:\"v-show\",value:(item._deleted === true),expression:\"item._deleted === true\"}],staticClass:\"restore\",attrs:{\"type\":\"button\",\"dense\":\"\",\"icon\":\"mdi-restore\",\"tooltip\":_vm.$t('restore'),\"color\":\"positive\"},on:{\"click\":function($event){return _vm.restoreItem($event, item.id)}}})],1)]),(item.type !== 'device' || (item.type === 'device' && _vm.deviceList[item.deviceId] !== undefined))?[_c('q-item-section',[(item.type === 'divider')?_c('span',[_c('em',[_vm._v(_vm._s('(' + _vm.$t('divider') + ')'))])]):_vm._e(),(item.type === 'group')?_c('span',[_c('strong',[_vm._v(_vm._s(item.name))])]):_vm._e(),(item.type === 'device')?_c('span',[_c('strong',[_vm._v(_vm._s(_vm.deviceList[item.deviceId].name))]),_vm._v(\" (\"+_vm._s(_vm.deviceList[item.deviceId].function + ', #' + item.deviceId)+\")\")]):_vm._e(),(item.type === 'device')?_c('div',{staticClass:\"row nowrap\"},[(_vm.shallBeShown('label'))?_c('inputs',{attrs:{\"dense\":\"\",\"label\":\"Label\",\"itemId\":item.id,\"id\":\"label\",\"json\":\"\",\"value\":item.label || '',\"placeholder\":_vm.deviceList[item.deviceId].states[item.bodyStateKey] && _vm.deviceList[item.deviceId].states[item.bodyStateKey].label ? JSON.stringify(_vm.deviceList[item.deviceId].states[item.bodyStateKey].label) : (_vm.deviceList[item.deviceId].label || _vm.deviceList[item.deviceId].name)},on:{\"onChange\":_vm.onChange}}):_vm._e(),(_vm.shallBeShown('bodyStateKey'))?_c('inputs',{staticStyle:{\"width\":\"130px\"},attrs:{\"dense\":\"\",\"label\":\"Body State\",\"itemId\":item.id,\"id\":\"bodyStateKey\",\"value\":item.bodyStateKey,\"type\":\"select\",\"options\":_vm.deviceStatesOptions(item.deviceId)},on:{\"onSelect\":_vm.onChange}}):_vm._e(),(_vm.shallBeShown('bodyElement'))?_c('inputs',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.bodyStateKey),expression:\"item.bodyStateKey\"}],staticStyle:{\"width\":\"230px\"},attrs:{\"dense\":\"\",\"id\":\"bodyElement\",\"label\":\"Body Element\",\"itemId\":item.id,\"value\":item.bodyElement,\"type\":\"select.components\",\"components\":_vm.FUNCTION_COMPONENTS['bodyElements'][_vm.deviceFunction(item)],\"componentValues\":_vm.componentValues(item)},on:{\"onSelect\":_vm.onChange,\"onOptions\":_vm.onChange}}):_vm._e()],1):_vm._e()]),(_vm.ModuleSettings.addDevice && _vm.ModuleSettings.addDevice.customDeviceSection)?_c('q-item-section',[_c(_vm.ModuleSettings.addDevice.customDeviceSection,{tag:\"component\",attrs:{\"item\":item},on:{\"onChange\":_vm.onChange}})],1):_vm._e(),_c('q-item-section',{attrs:{\"side\":\"\"}},[(item.type === 'group')?_c('div',{staticClass:\"row nowrap\"},[_c('inputs',{staticStyle:{\"width\":\"100px\"},attrs:{\"dense\":\"\",\"label\":_vm.$t('Group Actions'),\"itemId\":item.id,\"id\":\"actions\",\"value\":item.actions || false,\"type\":\"switch\"},on:{\"onChange\":_vm.onChange}}),(_vm.shallBeShown('groupElement'))?_c('inputs',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.actions === true),expression:\"item.actions === true\"}],staticStyle:{\"width\":\"200px\"},attrs:{\"dense\":\"\",\"id\":\"groupElement\",\"label\":\"Group Element\",\"itemId\":item.id,\"value\":item.groupElement,\"type\":\"select.components\",\"components\":_vm.FUNCTION_COMPONENTS['actionElements']['_defaults'].filter(function (component) { return component.value !== 'InputAction' && component.value !== 'DropdownAction'; }),\"componentValues\":_vm.componentValues(item)},on:{\"onSelect\":_vm.onChange,\"onOptions\":_vm.onChange}}):_vm._e()],1):_vm._e(),(item.type === 'device')?_c('div',{staticClass:\"row nowrap\"},[(_vm.shallBeShown('primaryStateKey'))?_c('inputs',{staticStyle:{\"width\":\"130px\"},attrs:{\"dense\":\"\",\"label\":\"Action State\",\"itemId\":item.id,\"id\":\"primaryStateKey\",\"value\":item.primaryStateKey,\"type\":\"select\",\"options\":_vm.deviceStatesOptions(item.deviceId)},on:{\"onSelect\":_vm.onChange}}):_vm._e(),(_vm.shallBeShown('showState'))?_c('inputs',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.primaryStateKey),expression:\"item.primaryStateKey\"}],staticStyle:{\"width\":\"100px\"},attrs:{\"dense\":\"\",\"label\":\"Show State\",\"itemId\":item.id,\"id\":\"showState\",\"value\":item.showState !== undefined ? item.showState : true,\"type\":\"switch\"},on:{\"onChange\":_vm.onChange}}):_vm._e(),(_vm.shallBeShown('showGroupAction'))?_c('inputs',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.primaryStateKey && _vm.isInGroup === true),expression:\"item.primaryStateKey && isInGroup === true\"}],staticStyle:{\"width\":\"100px\"},attrs:{\"dense\":\"\",\"label\":\"Use in Actions\",\"itemId\":item.id,\"id\":\"useInGroup\",\"value\":item.useInGroup !== undefined ? item.useInGroup : true,\"type\":\"switch\"},on:{\"onChange\":_vm.onChange}}):_vm._e(),(_vm.shallBeShown('actionElement'))?_c('inputs',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.primaryStateKey),expression:\"item.primaryStateKey\"}],staticStyle:{\"width\":\"200px\"},attrs:{\"dense\":\"\",\"id\":\"actionElement\",\"label\":\"Action Element\",\"itemId\":item.id,\"value\":item.actionElement,\"type\":\"select.components\",\"components\":_vm.FUNCTION_COMPONENTS['actionElements'][_vm.deviceFunction(item)],\"componentsValues\":_vm.componentValues(item, 'action', 'primary'),\"device\":_vm.getDevice(item.deviceId)},on:{\"onSelect\":_vm.onChange,\"onOptions\":_vm.onChange}}):_vm._e()],1):_vm._e(),(item.type === 'device')?_c('div',{staticClass:\"row nowrap\"},[(_vm.shallBeShown('secondaryStatesKeys'))?_c('q-select',{staticStyle:{\"width\":\"430px\"},attrs:{\"stack-label\":\"\",\"dense\":\"\",\"label\":_vm.$t('Secondary State'),\"value\":item.secondaryStatesKeys,\"options\":_vm.deviceStatesOptions(item.deviceId),\"use-chips\":\"\",\"multiple\":\"\"},on:{\"input\":function($event){return _vm.onChangeSecondaryStatesKeys(item.id, arguments[0])}}}):_vm._e()],1):_vm._e()])]:_c('q-item-section',[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.$t('Device not found') + ' (' + _vm.$t('Device ID') + ': ' + item.deviceId + ')')+\"\\n\\t\\t\\t\\t\\t\\t\\t\")])],2),_c('q-separator')],1)}),0)],1)],1)],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"full-width\">\r\n\t\t<div class=\"row\">\r\n\t\t\t<div class=\"col-4\">\r\n\t\t\t\t<q-select\r\n\t\t\t\t\t@filter=\"filter\"\r\n\t\t\t\t\tref=\"addDeviceSelect\"\r\n\t\t\t\t\t:label=\"$t('Add Device')\"\r\n\t\t\t\t\t:options=\"optionGroupsAddDevice\"\r\n\t\t\t\t\tvalue=\"\"\r\n\t\t\t\t\tuse-input\r\n\t\t\t\t\tstack-label\r\n\t\t\t\t\tstyle=\"margin: 0 8px\"\r\n\t\t\t\t\tv-show=\"ModuleSettings.addDevice !== false && (!ModuleSettings.addDevice || (ModuleSettings.addDevice && (ModuleSettings.addDevice.max === undefined || ModuleSettings.addDevice.max > items.length)))\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<template v-slot:option=\"scope\">\r\n\t\t\t\t\t\t<q-expansion-item\r\n\t\t\t\t\t\t\texpand-separator\r\n\t\t\t\t\t\t\theader-class=\"text-weight-bold\"\r\n\t\t\t\t\t\t\t:label=\"scope.opt.label\"\r\n\t\t\t\t\t\t\t:icon=\"scope.opt.icon\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<template v-for=\"device in scope.opt.devices\">\r\n\t\t\t\t\t\t\t\t<q-item\r\n\t\t\t\t\t\t\t\t\t:key=\"device.id\"\r\n\t\t\t\t\t\t\t\t\tclickable\r\n\t\t\t\t\t\t\t\t\tv-ripple\r\n\t\t\t\t\t\t\t\t\t@click=\"addDevice(device.id)\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<q-item-section>\r\n\t\t\t\t\t\t\t\t\t\t<q-item-label class=\"q-ml-md\">{{ device.name }}</q-item-label>\r\n\t\t\t\t\t\t\t\t\t</q-item-section>\r\n\t\t\t\t\t\t\t\t</q-item>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</q-expansion-item>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</q-select>\r\n\t\t\t</div>\r\n\t\t\t<div v-show=\"ModuleSettings.addGroup !== false\" class=\"col-1\" style=\"text-align: center; line-height: 70px\">{{ $t('or') }}</div>\r\n\t\t\t<div v-show=\"ModuleSettings.addGroup !== false\" class=\"col-3\">\r\n\t\t\t\t<inputs\r\n\t\t\t\t\tlabel=\"Add Group\"\r\n\t\t\t\t\t@onChange=\"group = arguments[0]\"\r\n\t\t\t\t\tv-on:keyup.enter=\"addGroup\"\r\n\t\t\t\t\t:value=\"group.value || ''\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<template slot:end>\r\n\t\t\t\t\t\t<q-btn v-show=\"group.value\" flat size=\"sm\" dense icon=\"mdi-check\" :label=\"$t('add group')\" style=\"height: 32px; min-width: 100px; margin-top: 16px\" @click=\"addGroup\" />\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</inputs>\r\n\t\t\t</div>\r\n\t\t\t<div v-show=\"ModuleSettings.addDivider !== false\" class=\"col-1\" style=\"text-align: center; line-height: 70px\">{{ $t('or') }}</div>\r\n\t\t\t<div v-show=\"ModuleSettings.addDivider !== false\" class=\"col-3\" style=\"line-height: 70px\">\r\n\t\t\t\t<q-btn\r\n\t\t\t\t\ticon=\"mdi-minus\"\r\n\t\t\t\t\t:label=\"$t('Add Divider')\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t@click=\"addDivider\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"row\" v-if=\"!loaded\">\r\n\t\t\t<q-linear-progress indeterminate />\r\n\t\t</div>\r\n\t\t<div class=\"row\" v-if=\"loaded\">\r\n\t\t\t<q-list class=\"full-width\" style=\"margin-top: 16px\">\r\n\t\t\t\t<draggable\r\n\t\t\t\t\tv-model=\"items\"\r\n\t\t\t\t\thandle=\".dragndrop\"\r\n\t\t\t\t\t@change=\"emitChange\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<transition-group type=\"transition\" name=\"flip-list\" tag=\"div\">\r\n\t\t\t\t\t\t<div v-for=\"item in items\" :key=\"item.id\" class=\"list-group-item\" :set=\"isInGroup = isInGroup && item.type === 'divider' ? false : (item.type === 'group' ? true : isInGroup)\">\r\n\t\t\t\t\t\t\t<q-item>\r\n\t\t\t\t\t\t\t\t<q-item-section avatar>\r\n\t\t\t\t\t\t\t\t\t<div class=\"row items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<icon v-show=\"items.length > 1\" name=\"mdi-drag-horizontal\" class=\"dragndrop\" style=\"padding-right: 16px\" />\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<inputs type=\"button\" dense icon=\"mdi-content-copy\" :tooltip=\"$t('copy')\" @click=\"copyItem($event, item.id)\" />\r\n\t\t\t\t\t\t\t\t\t\t<inputs type=\"button\" dense icon=\"mdi-delete\" :tooltip=\"$t('delete')\" color=\"negative\" @click=\"deleteItem($event, item.id)\" v-show=\"item._deleted !== true\" />\r\n\t\t\t\t\t\t\t\t\t\t<inputs type=\"button\" dense icon=\"mdi-restore\" :tooltip=\"$t('restore')\" color=\"positive\" @click=\"restoreItem($event, item.id)\" v-show=\"item._deleted === true\" class=\"restore\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</q-item-section>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<!-- RENDER DEVICE, GROUP or DIVIDER -->\r\n\t\t\t\t\t\t\t\t<template v-if=\"item.type !== 'device' || (item.type === 'device' && deviceList[item.deviceId] !== undefined)\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<!-- BODY -->\r\n\t\t\t\t\t\t\t\t<q-item-section>\r\n\t\t\t\t\t\t\t\t\t<span v-if=\"item.type === 'divider'\"><em>{{ '(' + $t('divider') + ')' }}</em></span>\r\n\t\t\t\t\t\t\t\t\t<span v-if=\"item.type === 'group'\"><strong>{{ item.name }}</strong></span>\r\n\t\t\t\t\t\t\t\t\t<span v-if=\"item.type === 'device'\"><strong>{{ deviceList[item.deviceId].name }}</strong> ({{ deviceList[item.deviceId].function + ', #' + item.deviceId }})</span>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<!-- GROUP -->\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<!-- DEVICE -->\r\n\t\t\t\t\t\t\t\t\t<div v-if=\"item.type === 'device'\" class=\"row nowrap\">\r\n\t\t\t\t\t\t\t\t\t\t<inputs v-if=\"shallBeShown('label')\" dense @onChange=\"onChange\" label=\"Label\" :itemId=\"item.id\" id=\"label\" json :value=\"item.label || ''\" :placeholder=\"deviceList[item.deviceId].states[item.bodyStateKey] && deviceList[item.deviceId].states[item.bodyStateKey].label ? JSON.stringify(deviceList[item.deviceId].states[item.bodyStateKey].label) : (deviceList[item.deviceId].label || deviceList[item.deviceId].name)\" />\r\n\t\t\t\t\t\t\t\t\t\t<inputs v-if=\"shallBeShown('bodyStateKey')\" dense style=\"width: 130px\" @onSelect=\"onChange\" label=\"Body State\" :itemId=\"item.id\" id=\"bodyStateKey\" :value=\"item.bodyStateKey\" type=\"select\" :options=\"deviceStatesOptions(item.deviceId)\" />\r\n\t\t\t\t\t\t\t\t\t\t<inputs v-if=\"shallBeShown('bodyElement')\" v-show=\"item.bodyStateKey\" dense style=\"width: 230px\" @onSelect=\"onChange\" @onOptions=\"onChange\" id=\"bodyElement\" label=\"Body Element\" :itemId=\"item.id\" :value=\"item.bodyElement\" type=\"select.components\" :components=\"FUNCTION_COMPONENTS['bodyElements'][deviceFunction(item)]\" :componentValues=\"componentValues(item)\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</q-item-section>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<!-- CUSTOM DEVICE SECTION -->\r\n\t\t\t\t\t\t\t\t<q-item-section v-if=\"ModuleSettings.addDevice && ModuleSettings.addDevice.customDeviceSection\">\r\n\t\t\t\t\t\t\t\t\t<component\r\n\t\t\t\t\t\t\t\t\t\t:is=\"ModuleSettings.addDevice.customDeviceSection\"\r\n\t\t\t\t\t\t\t\t\t\t@onChange=\"onChange\"\r\n\t\t\t\t\t\t\t\t\t\t:item=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</q-item-section>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<!-- ACTION -->\r\n\t\t\t\t\t\t\t\t<q-item-section side>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<!-- GROUP -->\r\n\t\t\t\t\t\t\t\t\t<div v-if=\"item.type === 'group'\" class=\"row nowrap\">\r\n\t\t\t\t\t\t\t\t\t\t<inputs dense style=\"width: 100px\" @onChange=\"onChange\" :label=\"$t('Group Actions')\" :itemId=\"item.id\" id=\"actions\" :value=\"item.actions || false\" type=\"switch\" />\r\n\t\t\t\t\t\t\t\t\t\t<inputs v-if=\"shallBeShown('groupElement')\" v-show=\"item.actions === true\" dense style=\"width: 200px\" @onSelect=\"onChange\" @onOptions=\"onChange\" id=\"groupElement\" label=\"Group Element\" :itemId=\"item.id\" :value=\"item.groupElement\" type=\"select.components\" :components=\"FUNCTION_COMPONENTS['actionElements']['_defaults'].filter(component => component.value !== 'InputAction' && component.value !== 'DropdownAction')\" :componentValues=\"componentValues(item)\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<!-- DEVICE -->\r\n\t\t\t\t\t\t\t\t\t<div v-if=\"item.type === 'device'\" class=\"row nowrap\">\r\n\t\t\t\t\t\t\t\t\t\t<inputs v-if=\"shallBeShown('primaryStateKey')\" dense style=\"width: 130px\" @onSelect=\"onChange\" label=\"Action State\" :itemId=\"item.id\" id=\"primaryStateKey\" :value=\"item.primaryStateKey\" type=\"select\" :options=\"deviceStatesOptions(item.deviceId)\" />\r\n\t\t\t\t\t\t\t\t\t\t<inputs v-if=\"shallBeShown('showState')\" v-show=\"item.primaryStateKey\" dense style=\"width: 100px\" @onChange=\"onChange\" label=\"Show State\" :itemId=\"item.id\" id=\"showState\" :value=\"item.showState !== undefined ? item.showState : true\" type=\"switch\" />\r\n\t\t\t\t\t\t\t\t\t\t<inputs v-if=\"shallBeShown('showGroupAction')\" v-show=\"item.primaryStateKey && isInGroup === true\" dense style=\"width: 100px\" @onChange=\"onChange\" label=\"Use in Actions\" :itemId=\"item.id\" id=\"useInGroup\" :value=\"item.useInGroup !== undefined ? item.useInGroup : true\" type=\"switch\" />\r\n\t\t\t\t\t\t\t\t\t\t<inputs v-if=\"shallBeShown('actionElement')\" v-show=\"item.primaryStateKey\" dense style=\"width: 200px\" @onSelect=\"onChange\" @onOptions=\"onChange\" id=\"actionElement\" label=\"Action Element\" :itemId=\"item.id\" :value=\"item.actionElement\" type=\"select.components\" :components=\"FUNCTION_COMPONENTS['actionElements'][deviceFunction(item)]\" :componentsValues=\"componentValues(item, 'action', 'primary')\" :device=\"getDevice(item.deviceId)\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div v-if=\"item.type === 'device'\" class=\"row nowrap\">\r\n\t\t\t\t\t\t\t\t\t\t<q-select\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"shallBeShown('secondaryStatesKeys')\"\r\n\t\t\t\t\t\t\t\t\t\t\tstack-label\r\n\t\t\t\t\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"width: 430px\"\r\n\t\t\t\t\t\t\t\t\t\t\t@input=\"onChangeSecondaryStatesKeys(item.id, arguments[0])\"\r\n\t\t\t\t\t\t\t\t\t\t\t:label=\"$t('Secondary State')\"\r\n\t\t\t\t\t\t\t\t\t\t\t:value=\"item.secondaryStatesKeys\"\r\n\t\t\t\t\t\t\t\t\t\t\t:options=\"deviceStatesOptions(item.deviceId)\"\r\n\t\t\t\t\t\t\t\t\t\t\tuse-chips\r\n\t\t\t\t\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</q-item-section>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<!-- DEVICE NOT FOUND -->\r\n\t\t\t\t\t\t\t\t<q-item-section v-else>\r\n\t\t\t\t\t\t\t\t\t{{ $t('Device not found') + ' (' + $t('Device ID') + ': ' + item.deviceId + ')' }}\r\n\t\t\t\t\t\t\t\t</q-item-section>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</q-item>\r\n\t\t\t\t\t\t\t<q-separator />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</transition-group>\r\n\t\t\t\t</draggable>\r\n\t\t\t</q-list>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from '@vue/composition-api';\r\nimport { v4 as uuid } from 'uuid';\r\n\r\nimport WidgetDevicesSection from './WidgetDevicesSection.vue';\r\nimport Draggable from 'vuedraggable';\r\n\r\nimport Modules from 'src/modules/';\r\nimport { listOfComponents as FUNCTION_COMPONENTS } from 'src/functions/';\r\n\r\nconst _rfdc = require('rfdc')();\r\nconst _merge = require('deepmerge');\r\nexport default defineComponent({\r\n\t'name': 'WidgetDevicesSection',\r\n\t'props': [ 'module', 'itemList' ],\r\n\t\r\n\t'components': {\r\n\t\tDraggable,\r\n\t\tWidgetDevicesSection\r\n\t},\r\n\t\r\n\tdata() {\r\n\t\tthis.FUNCTION_COMPONENTS = FUNCTION_COMPONENTS;\r\n\t\tconst optionsAddDevice = this.$store.getters['editor/getGroups']('function');\r\n\t\t\r\n\t\treturn {\r\n\t\t\t'loaded': false,\r\n\t\t\t'components': FUNCTION_COMPONENTS,\r\n\t\t\t'deviceId': null,\r\n\t\t\t'group': {},\r\n\t\t\t'isInGroup': false,\r\n\t\t\t'items': _rfdc(this.itemList),\r\n\t\t\t'deviceList': this.$store.state.editor.devices,\r\n\t\t\t'optionsAddDevice': optionsAddDevice,\r\n\t\t\t'optionGroupsAddDevice': Object.values(optionsAddDevice),\r\n\t\t\t'optionGroupsAddDeviceDefault': Object.values(optionsAddDevice),\r\n\t\t\t'ModuleSettings': Modules._ModuleSettings[this.module] || {}\r\n\t\t}\r\n\t},\r\n\t\r\n\t'watch': {\r\n\t\tmodule(module) {\r\n\t\t\tthis.ModuleSettings = Modules._ModuleSettings[module] || {};\r\n\t\t}\r\n\t},\r\n\t\r\n\t'methods': {\r\n\t\tshallBeShown(field) {\r\n\t\t\treturn !this.ModuleSettings.addDevice || (this.ModuleSettings.addDevice && (!this.ModuleSettings.addDevice.fields || (this.ModuleSettings.addDevice.fields && this.ModuleSettings.addDevice.fields.includes(field))));\r\n\t\t},\r\n\t\tfilter(inputValue, doneFn) {\r\n\t\t\tconst results = !inputValue\r\n\t\t\t\t\t\t\t\t? this.optionGroupsAddDeviceDefault\r\n\t\t\t\t\t\t\t\t: Object.values(this.$store.getters['editor/getGroups']('function', inputValue));\r\n\t\t\t\r\n\t\t\tdoneFn(() => {\r\n\t\t\t\tthis.optionGroupsAddDevice = results;\r\n\t\t\t});\r\n\t\t},\r\n\t\tcomponentValues(item, type = 'body', stateKey = 'body') {\r\n\t\t\tconst state = (this.deviceList[item.deviceId] && this.deviceList[item.deviceId].states[item[stateKey + 'StateKey']]) || {};\r\n\t\t\tconst component = item[type + 'Element'];\r\n\t\t\treturn _merge(state[component + 'Config'] || {}, (item[component + 'Config'] && item[component + 'Config'][item.primaryStateKey]) || {});\r\n\t\t},\r\n\t\tgetDevice(deviceId) {\r\n\t\t\treturn this.deviceList[deviceId];\r\n\t\t},\r\n\t\tdeviceFunction(item) {\r\n\t\t\treturn this.deviceList[item.deviceId].function === 'other' ? '_defaults' : this.deviceList[item.deviceId].function;\r\n\t\t},\r\n\t\tdeviceStates(deviceId) {\r\n\t\t\treturn Object.keys(this.deviceList[deviceId].states) || [];\r\n\t\t},\r\n\t\tdeviceStatesOptions(deviceId) {\r\n\t\t\treturn this.deviceStates(deviceId).map(stateKey => ({\r\n\t\t\t\t'label': stateKey,\r\n\t\t\t\t'value': stateKey\r\n\t\t\t}));\r\n\t\t},\r\n\t\thasDevices(groupId) {\r\n\t\t\treturn this.optionsAddDevice[groupId].devices.length > 0;\r\n\t\t},\r\n\t\temitChange() {\r\n\t\t\tthis.$emit('onChange', {\r\n\t\t\t\t'id': 'items',\r\n\t\t\t\t'value': this.items\r\n\t\t\t});\r\n\t\t},\r\n\t\tdeleteItem(e, itemId) {\r\n\t\t\te.stopPropagation();\r\n\t\t\t\r\n\t\t\tconst confirmation = confirm(this.$i18n.t('Really delete item?'));\r\n\t\t\tif (confirmation) {\r\n\t\t\t\tthis.$delete(this.items, this.items.findIndex(item => item.id === itemId));\r\n\t\t\t\tthis.emitChange();\r\n\t\t\t}\r\n\t\t},\r\n\t\tcopyItem(e, itemId) {\r\n\t\t\te.stopPropagation();\r\n\t\t\tconst copy = _rfdc(this.items.find(item => item.id === itemId));\r\n\t\t\tthis.addItem(copy, this.items.findIndex(item => item.id === copy.id) + 1);\r\n\t\t},\r\n\t\t/*\r\n\t\trestoreItem(e, deviceId) {\r\n\t\t\te.stopPropagation();\r\n\t\t\tthis.emitChange();\r\n\t\t},\r\n\t\t*/\r\n\t\taddItem(props, pos = null) {\r\n\t\t\tconst id = uuid();\r\n\t\t\tconst item = {\r\n\t\t\t\t...props,\r\n\t\t\t\tid\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// insert at the end\r\n\t\t\tif (pos === null) {\r\n\t\t\t\tif (props.type === 'device') {\r\n\t\t\t\t\titem.primaryStateKey = this.deviceStates(props.deviceId)[0] || null;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.items.push(item);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// insert at specific position\r\n\t\t\telse {\r\n\t\t\t\tthis.items.splice(pos, 0, item);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.emitChange();\r\n\t\t},\r\n\t\taddDevice(deviceId) {\r\n\t\t\tthis.addItem({ 'type': 'device', deviceId });\r\n\t\t\t\r\n\t\t\tif (this.ModuleSettings.addDevice && this.ModuleSettings.addDevice.max !== undefined && this.ModuleSettings.addDevice.max <= this.items.length) {\r\n\t\t\t\tthis.$refs.addDeviceSelect.hidePopup();\r\n\t\t\t}\r\n\t\t},\r\n\t\taddGroup() {\r\n\t\t\tthis.addItem({ 'type': 'group', 'name': this.group.value });\r\n\t\t\tthis.group = {};\r\n\t\t},\r\n\t\taddDivider() {\r\n\t\t\tthis.addItem({ 'type': 'divider' });\r\n\t\t},\r\n\t\tonChange(props) {\r\n\t\t\tif (props.id && props.itemId) {\r\n\t\t\t\tconst itemIndex = this.items.findIndex(item => item.id === props.itemId);\r\n\t\t\t\tif (itemIndex > -1) {\r\n\t\t\t\t\t// Module Config\r\n\t\t\t\t\tif (props.id.indexOf('moduleConfig.') > -1) {\r\n\t\t\t\t\t\tthis.$set(this.items, itemIndex, {\r\n\t\t\t\t\t\t\t...this.items[itemIndex],\r\n\t\t\t\t\t\t\t'moduleConfig': {\r\n\t\t\t\t\t\t\t\t...this.items[itemIndex].moduleConfig || {},\r\n\t\t\t\t\t\t\t\t[props.id.replace('moduleConfig.', '')]: props.value\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Component Options\r\n\t\t\t\t\telse if (props.id === 'componentOptions') {\r\n\t\t\t\t\t\tconst stateKey = this.items[itemIndex].primaryStateKey;\r\n\t\t\t\t\t\tthis.$set(this.items[itemIndex], props.component + 'Config', {\r\n\t\t\t\t\t\t\t...this.items[itemIndex][props.component + 'Config'] || {},\r\n\t\t\t\t\t\t\t[stateKey]: {\r\n\t\t\t\t\t\t\t\t...(this.items[itemIndex][props.component + 'Config'] && this.items[itemIndex][props.component + 'Config'][stateKey]) || {},\r\n\t\t\t\t\t\t\t\t...props.value\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// any other data\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.$set(this.items, itemIndex, {\r\n\t\t\t\t\t\t\t...this.items[itemIndex],\r\n\t\t\t\t\t\t\t[props.id]: props.value\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// emit change\r\n\t\t\t\t\tthis.$emit('onChange', {\r\n\t\t\t\t\t\t'id': 'items',\r\n\t\t\t\t\t\t'value': this.items\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonChangeSecondaryStatesKeys(itemId, args) {\r\n\t\t\tthis.onChange({\r\n\t\t\t\t'value': args.map(argument => argument.value || argument),\r\n\t\t\t\t'itemId': itemId,\r\n\t\t\t\t'id': 'secondaryStatesKeys'\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\tcreated() {\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.loaded = true;\r\n\t\t}, 750);\r\n\t}\r\n});\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../../../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WidgetDevicesSection.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../../../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WidgetDevicesSection.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./WidgetDevicesSection.vue?vue&type=template&id=03ebbb92&\"\nimport script from \"./WidgetDevicesSection.vue?vue&type=script&lang=ts&\"\nexport * from \"./WidgetDevicesSection.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QSelect from 'quasar/src/components/select/QSelect.js';\nimport QExpansionItem from 'quasar/src/components/expansion-item/QExpansionItem.js';\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';\nimport QItemLabel from 'quasar/src/components/item/QItemLabel.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QLinearProgress from 'quasar/src/components/linear-progress/QLinearProgress.js';\nimport QList from 'quasar/src/components/item/QList.js';\nimport QSeparator from 'quasar/src/components/separator/QSeparator.js';import Ripple from 'quasar/src/directives/Ripple.js';\nimport qInstall from \"../../../../../node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\";\nqInstall(component, 'components', {QSelect,QExpansionItem,QItem,QItemSection,QItemLabel,QBtn,QLinearProgress,QList,QSeparator});qInstall(component, 'directives', {Ripple});\n","<template>\n\t<q-dialog\n\t\t:value=\"widget !== null\"\n\t\tfull-height\n\t\tpersistent\n\t\t>\n\t\t\n\t\t<q-card class=\"column full-height\" style=\"width: 1400px; max-width: 90vw;\" v-if=\"widget !== null\">\n\t\t\t<q-card-section class=\"row items-center\">\n\t\t\t\t<div class=\"text-h6\">{{ $t('Widget') }} {{ widget.title }}</div>\n\t\t\t\t\n\t\t\t\t<q-space />\n\t\t\t\t<q-btn flat round color=\"grey\" icon=\"close\" @click=\"cancel()\" />\n\t\t\t</q-card-section>\n\t\t\t<q-separator />\n\t\t\t\n\t\t\t<q-card-section class=\"col scroll body\">\n\t\t\t\t\n\t\t\t\t<!-- WIDGET BOX -->\n\t\t\t\t<div class=\"text-h6 primary q-ma-sm\">{{ $t('Widget-Box') }}</div>\n\t\t\t\t<q-separator style=\"margin: 0 -16px\" />\n\t\t\t\t\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<inputs @onChange=\"onChange\" id=\"icon\" :label=\"$t('Widget Icon')\" :value=\"widget.icon || ModuleSettings.icon || ''\" :icon=\"widget.icon\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<inputs @onChange=\"onChange\" id=\"title\" :label=\"$t('Widget Title')\" :value=\"widget.title || ''\" autofocus />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<inputs @onChange=\"onChange\" id=\"link\" :label=\"$t('Widget Link')\" :value=\"widget.link || ''\" info=\"config#HomeKitTile#jumper#info\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<inputs type=\"switch\" @onChange=\"onChange\" id=\"hideTitle\" :label=\"$t('Hide Widget Title and Icon')\" :value=\"widget.hideTitle || false\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<!-- MODULE CONFIGURATION -->\n\t\t\t\t<div class=\"text-h6 primary q-ma-sm\">{{ $t('Module') }}</div>\n\t\t\t\t<q-separator style=\"margin: 0 -16px\" />\n\t\t\t\t\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t<inputs @onSelect=\"onChange\" id=\"module\" :label=\"$t('Module')\" type=\"select\" :options=\"ModuleList\" :value=\"widget.module\" options-dense use-input required :error=\"errors['module'] !== undefined\" :error-message=\"errors['module']\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-9\">\n\t\t\t\t\t\t<div class=\"centered\" v-show=\"widget.module\">{{ $t(widget.module + '#description') }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div v-show=\"widget.module\">\n\t\t\t\t\t\n\t\t\t\t\t<!-- MODULE CONFIGURAGION -->\n\t\t\t\t\t<div class=\"text-h7 primary q-ma-sm\">{{ $t('Module Configuration') }}</div>\n\t\t\t\t\t<q-separator style=\"margin: 0 0 8px 0\" />\n\t\t\t\t\t\n\t\t\t\t\t<div class=\"row\" v-show=\"ModuleConfigurations.length > 0\">\n\t\t\t\t\t\t<template v-for=\"ModuleConfig in ModuleConfigurations\">\n\t\t\t\t\t\t<div :class=\"'col-' + (ModuleConfig.columns || 4)\" :key=\"ModuleConfig.parameter\" v-if=\"ModuleConfig.hide !== true\" v-show=\"dependencies(ModuleConfig.dependencies)\">\n\t\t\t\t\t\t\t<inputs\n\t\t\t\t\t\t\t\t@onChange=\"onChange({ ...arguments[0], 'id': 'config.' + ModuleConfig.parameter })\"\n\t\t\t\t\t\t\t\t@onSelect=\"onChange({ ...arguments[0], 'id': 'config.' + ModuleConfig.parameter })\"\n\t\t\t\t\t\t\t\tv-bind=\"ModuleConfig\"\n\t\t\t\t\t\t\t\t:value=\"getValueForInput(ModuleConfig)\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\" v-show=\"ModuleConfigurations.length === 0\">\n\t\t\t\t\t\t<p class=\"q-pa-sm\">\n\t\t\t\t\t\t\t{{ $t('No configuration options for this module') }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<!-- MODULE CUSTOM COMPONENT -->\n\t\t\t\t\t<div class=\"row\" v-if=\"ModuleSettings && ModuleSettings.customConfiguration\">\n\t\t\t\t\t\t<component\n\t\t\t\t\t\t\t:is=\"ModuleSettings.customConfiguration\"\n\t\t\t\t\t\t\t:config=\"widget.config\"\n\t\t\t\t\t\t\t@onChange=\"onChange\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<!-- MODULE DEVICES -->\n\t\t\t\t\t<template v-if=\"ModuleSettings.addDevice !== false\">\n\t\t\t\t\t<div class=\"text-h7 primary q-ma-sm\">{{ $t('Module Devices') }}</div>\n\t\t\t\t\t<q-separator style=\"margin: 0 -0 8px 0\" />\n\t\t\t\t\t\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<widget-devices-section\n\t\t\t\t\t\t\t@onChange=\"onChange\"\n\t\t\t\t\t\t\t:itemList=\"widget.items || []\"\n\t\t\t\t\t\t\t:module=\"widget.module\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</q-card-section>\n\t\t\t\n\t\t\t<q-separator />\n\t\t\t<q-card-actions align=\"right\">\n\t\t\t\t<q-btn flat :label=\"$t('Cancel')\" color=\"negative\" @click=\"cancel()\" />\n\t\t\t\t<q-btn flat :label=\"$t('Apply')\" color=\"primary\" @click=\"save\" :disable=\"hasErrors\" />\n\t\t\t</q-card-actions>\n\t\t</q-card>\n\t</q-dialog>\n</template>\n\n<script>\nimport { defineComponent } from '@vue/composition-api';\n\nimport WidgetDevicesSection from './WidgetDevicesSection.vue';\n\nimport Modules from 'src/modules/'\n\nconst _rfdc = require('rfdc')();\nexport default defineComponent({\n\t'name': 'WidgetPage',\n\t'props': [ 'widgetId' ],\n\t\n\t'components': {\n\t\tWidgetDevicesSection\n\t},\n\t\n\tdata() {\n\t\tthis.ModuleList = Modules._ModuleList.map(module => ({ 'label': module, 'value': module }));\n\t\t\n\t\treturn {\n\t\t\t'component': null,\n\t\t\t'errors': {},\n\t\t\t'ModuleConfigurations': [],\n\t\t\t'ModuleSettings': {},\n\t\t\t'widget': null\n\t\t}\n\t},\n\t\n\t'computed': {\n\t\thasErrors() {\n\t\t\treturn Object.keys(this.errors).length > 0;\n\t\t}\n\t},\n\t\n\t'methods': {\n\t\tdependencies(dependencies) {\n\t\t\tif (!dependencies) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t\n\t\t\treturn Object.keys(dependencies).some(dependency => this.widget.config[dependency] === dependencies[dependency]);\n\t\t},\n\t\tgetValueForInput(ModuleConfig) {\n\t\t\treturn this.widget && this.widget.config[ModuleConfig.parameter] !== undefined ? this.widget.config[ModuleConfig.parameter] : (typeof ModuleConfig.value === 'function' ? ModuleConfig.value() : ModuleConfig.value);\n\t\t},\n\t\tonChange(props) {\n\t\t\tconst { _error, id, value } = props;\n\t\t\t\n\t\t\t// error\n\t\t\tif (_error) {\n\t\t\t\tthis.$set(this.errors, id, _error);\n\t\t\t}\n\t\t\t\n\t\t\t// config\n\t\t\telse if (id.indexOf('config.') > -1) {\n\t\t\t\tthis.$delete(this.errors, id);\n\t\t\t\tthis.$set(this.widget.config, id.replace('config.', ''), value);\n\t\t\t}\n\t\t\t\n\t\t\t// no error, thus set data\n\t\t\telse {\n\t\t\t\tthis.$delete(this.errors, id);\n\t\t\t\tthis.$set(this.widget, id, value);\n\t\t\t\t\n\t\t\t\t// module change\n\t\t\t\tif (id === 'module') {\n\t\t\t\t\tthis.ModuleConfigurations = Modules._ModuleConfigurations[value] || [];\n\t\t\t\t\tthis.ModuleSettings = Modules._ModuleSettings[value] || {};\n\t\t\t\t\tthis.$set(this.widget, 'config', {});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcancel(widget = null) {\n\t\t\tthis.$emit('onClose', widget);\n\t\t\tthis.widget = null;\n\t\t\tthis.errors = {};\n\t\t},\n\t\tsave() {\n\t\t\tthis.$store.commit('editor/addWidget', { 'widget': this.widget });\n\t\t\tthis.cancel(this.widget);\n\t\t}\n\t},\n\t\n\t'watch': {\n\t\twidgetId(id) {\n\t\t\tif (id === null) {\n\t\t\t\tthis.widget = null;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.widget = this.$store.state.editor.widgets[id] ? _rfdc(this.$store.state.editor.widgets[id]) : { id, 'config': {} };\n\t\t\t\tthis.ModuleConfigurations = Modules._ModuleConfigurations[this.widget.module] || [];\n\t\t\t\tthis.ModuleSettings = Modules._ModuleSettings[this.widget.module] || {};\n\t\t\t}\n\t\t}\n\t}\n});\n</script>\n\n<style scoped>\n.centered {\n\tdisplay: flex;\n\talign-items: center;\n\theight: 80%;\n\tpadding-left: 16px;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WidgetPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WidgetPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WidgetPage.vue?vue&type=template&id=a794e7a6&scoped=true&\"\nimport script from \"./WidgetPage.vue?vue&type=script&lang=js&\"\nexport * from \"./WidgetPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WidgetPage.vue?vue&type=style&index=0&id=a794e7a6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a794e7a6\",\n  null\n  \n)\n\nexport default component.exports\nimport QDialog from 'quasar/src/components/dialog/QDialog.js';\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QSpace from 'quasar/src/components/space/QSpace.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QSeparator from 'quasar/src/components/separator/QSeparator.js';\nimport QCardActions from 'quasar/src/components/card/QCardActions.js';\nimport qInstall from \"../../../../../node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\";\nqInstall(component, 'components', {QDialog,QCard,QCardSection,QSpace,QBtn,QSeparator,QCardActions});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"full-height WidgetsPage\"},[_c('div',{staticClass:\"row no-wrap\"},[_c('q-toolbar',{staticClass:\"paper\",staticStyle:{\"min-height\":\"56px\"}},[_c('q-toolbar-title',{attrs:{\"shrink\":\"\"}},[_vm._v(_vm._s(_vm.$t('Widgets'))+\" (\"+_vm._s(_vm.widgetsCount)+\")\")]),_c('q-space'),_c('q-btn',{attrs:{\"color\":\"primary\",\"icon\":\"mdi-plus-circle\",\"label\":_vm.$t('add widget')},on:{\"click\":_vm.addWidget}})],1)],1),_c('widget-page',{attrs:{\"widgetId\":_vm.selectedWidgetId},on:{\"onClose\":function($event){_vm.selectedWidgetId = null}}}),_vm._l((_vm.groups),function(group){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.expertMode && group.widgets.length > 0),expression:\"!expertMode && group.widgets.length > 0\"}],key:group.id,staticClass:\"row no-wrap paper\"},[_c('q-expansion-item',{staticClass:\"full-width\",attrs:{\"icon\":group.icon,\"label\":group.label + ' (' + group.widgets.length + ')'},model:{value:(_vm.expanded[group.id]),callback:function ($$v) {_vm.$set(_vm.expanded, group.id, $$v)},expression:\"expanded[group.id]\"}},[_c('widgets-table',{attrs:{\"widgets\":group.widgets},on:{\"onEditWidget\":_vm.editWidget}})],1)],1)}),_c('paper',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expertMode),expression:\"expertMode\"}],style:({ 'height': (_vm.pageHeight-66-16) + 'px' })},[_c('json-editor',{attrs:{\"id\":\"widgets\",\"json\":_vm.json},on:{\"onChange\":_vm.onJsonEditor}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"q-pa-md\"},[_c('q-table',{attrs:{\"data\":_vm.widgets,\"columns\":_vm.columns,\"pagination\":_vm.pagination,\"rows-per-page-label\":_vm.$t('Widgets per page')},scopedSlots:_vm._u([{key:\"header\",fn:function(props){return [_c('q-tr',{attrs:{\"props\":props}},[_c('q-th',{attrs:{\"auto-width\":\"\"}}),_vm._l((props.cols),function(col){return _c('q-th',{key:col.name,attrs:{\"props\":props}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\"+_vm._s(col.label)+\"\\n\\t\\t\\t\\t\")])}),_c('q-th',{attrs:{\"auto-width\":\"\"}})],2)]}},{key:\"body\",fn:function(props){return [_c('q-tr',{class:{ 'rowDeleted': _vm.isDeleted(props.row) },attrs:{\"props\":props}},[_c('q-td',{attrs:{\"auto-width\":\"\"}},[(_vm.isDeleted(props.row) !== true)?_c('div',[_c('q-btn',{attrs:{\"size\":\"sm\",\"flat\":\"\",\"round\":\"\",\"icon\":\"mdi-pencil\"},on:{\"click\":function($event){return _vm.onWidgetEdit(props.row)}}}),_c('q-btn',{attrs:{\"size\":\"sm\",\"flat\":\"\",\"round\":\"\",\"icon\":\"mdi-content-copy\"},on:{\"click\":function($event){return _vm.onWidgetCopy(props.row)}}})],1):_vm._e()]),_vm._l((props.cols),function(col){return _c('q-td',{key:col.name,attrs:{\"props\":props}},[_c('div',{class:{ 'itemDeleted': _vm.isDeleted(props.row) }},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(col.value)+\"\\n\\t\\t\\t\\t\\t\")])])}),_c('q-td',{attrs:{\"auto-width\":\"\"}},[(_vm.isDeleted(props.row) !== true)?_c('q-btn',{attrs:{\"size\":\"sm\",\"flat\":\"\",\"round\":\"\",\"icon\":\"mdi-delete\",\"color\":\"negative\"},on:{\"click\":function($event){return _vm.onWidgetRemove(props.row)}}}):_vm._e(),(_vm.isDeleted(props.row))?_c('q-btn',{attrs:{\"size\":\"sm\",\"flat\":\"\",\"round\":\"\",\"icon\":\"mdi-restore\",\"color\":\"positive\"},on:{\"click\":function($event){return _vm.onWidgetRestore(props.row)}}}):_vm._e()],1)],2)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"q-pa-md\">\n\t\t<q-table\n\t\t\t:data=\"widgets\"\n\t\t\t:columns=\"columns\"\n\t\t\t:pagination=\"pagination\"\n\t\t\t:rows-per-page-label=\"$t('Widgets per page')\"\n\t\t\t>\n\t\t\t\n\t\t\t<template v-slot:header=\"props\">\n\t\t\t\t<q-tr :props=\"props\">\n\t\t\t\t\t<q-th auto-width />\n\t\t\t\t\t<q-th\n\t\t\t\t\t\tv-for=\"col in props.cols\"\n\t\t\t\t\t\t:key=\"col.name\"\n\t\t\t\t\t\t:props=\"props\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{{ col.label }}\n\t\t\t\t\t</q-th>\n\t\t\t\t\t<q-th auto-width />\n\t\t\t\t</q-tr>\n\t\t\t</template>\n\t\t\t\n\t\t\t<template v-slot:body=\"props\">\n\t\t\t\t<q-tr :props=\"props\" :class=\"{ 'rowDeleted': isDeleted(props.row) }\">\n\t\t\t\t\t<q-td auto-width>\n\t\t\t\t\t\t<div v-if=\"isDeleted(props.row) !== true\">\n\t\t\t\t\t\t\t<q-btn size=\"sm\" flat round @click=\"onWidgetEdit(props.row)\" icon=\"mdi-pencil\" />\n\t\t\t\t\t\t\t<q-btn size=\"sm\" flat round @click=\"onWidgetCopy(props.row)\" icon=\"mdi-content-copy\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</q-td>\n\t\t\t\t\t<q-td\n\t\t\t\t\t\tv-for=\"col in props.cols\"\n\t\t\t\t\t\t:key=\"col.name\"\n\t\t\t\t\t\t:props=\"props\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div :class=\"{ 'itemDeleted': isDeleted(props.row) }\">\n\t\t\t\t\t\t\t{{ col.value }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</q-td>\n\t\t\t\t\t<q-td auto-width>\n\t\t\t\t\t\t<q-btn v-if=\"isDeleted(props.row) !== true\" size=\"sm\" flat round @click=\"onWidgetRemove(props.row)\" icon=\"mdi-delete\" color=\"negative\" />\n\t\t\t\t\t\t<q-btn v-if=\"isDeleted(props.row)\" size=\"sm\" flat round @click=\"onWidgetRestore(props.row)\" icon=\"mdi-restore\" color=\"positive\" />\n\t\t\t\t\t</q-td>\n\t\t\t\t</q-tr>\n\t\t\t</template>\n\t\t</q-table>\n\t</div>\n</template>\n\n<script>\nimport { defineComponent } from '@vue/composition-api';\n\nexport default defineComponent({\n\t'name': 'WidgetsTable',\n\t'props': [ 'widgets' ],\n\t\n\tdata() {\n\t\treturn {\n\t\t\t'pagination': {\n\t\t\t\t'sortBy': 'name',\n\t\t\t\t'rowsPerPage': 15\n\t\t\t},\n\t\t\t'columns': [{\n\t\t\t\t\t'name': 'id',\n\t\t\t\t\t'label': this.$i18n.t('ID'),\n\t\t\t\t\t'field': 'id',\n\t\t\t\t\t'align': 'left',\n\t\t\t\t\t'sortable': true,\n\t\t\t\t\t'style': {\n\t\t\t\t\t\t'width': '20%'\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\t'name': 'title',\n\t\t\t\t\t'label': this.$i18n.t('Title'),\n\t\t\t\t\t'field': 'title',\n\t\t\t\t\t'align': 'left',\n\t\t\t\t\t'sortable': true,\n\t\t\t\t\t'style': {\n\t\t\t\t\t\t'width': '30%'\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\t'name': 'module',\n\t\t\t\t\t'label': this.$i18n.t('Module'),\n\t\t\t\t\t'field': 'module',\n\t\t\t\t\t'align': 'left',\n\t\t\t\t\t'sortable': true,\n\t\t\t\t\t'style': {\n\t\t\t\t\t\t'width': '50%'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\t\n\t'methods': {\n\t\tisDeleted(widget) {\n\t\t\treturn widget._deleted === true;\n\t\t},\n\t\tonWidgetEdit(widget) {\n\t\t\tthis.$emit('onEditWidget', widget);\n\t\t},\n\t\tonWidgetCopy(widget) {\n\t\t\tthis.$store.commit('editor/copyWidget', { widget });\n\t\t},\n\t\tonWidgetRemove(widget) {\n\t\t\tthis.$store.commit('editor/removeWidget', { widget });\n\t\t},\n\t\tonWidgetRestore(widget) {\n\t\t\tthis.$store.commit('editor/restoreWidget', { widget });\n\t\t}\n\t}\n});\n</script>\n","import mod from \"-!../../../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WidgetsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WidgetsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WidgetsTable.vue?vue&type=template&id=030563b0&\"\nimport script from \"./WidgetsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./WidgetsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QTable from 'quasar/src/components/table/QTable.js';\nimport QTr from 'quasar/src/components/table/QTr.js';\nimport QTh from 'quasar/src/components/table/QTh.js';\nimport QTd from 'quasar/src/components/table/QTd.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../../../node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\";\nqInstall(component, 'components', {QTable,QTr,QTh,QTd,QBtn});\n","<template>\n\t<div class=\"full-height WidgetsPage\">\n\t\t<div class=\"row no-wrap\">\n\t\t\t<q-toolbar class=\"paper\" style=\"min-height: 56px\">\n\t\t\t\t<q-toolbar-title shrink>{{ $t('Widgets') }} ({{ widgetsCount }})</q-toolbar-title>\n\t\t\t\t\n\t\t\t\t<q-space />\n\t\t\t\t<q-btn color=\"primary\" icon=\"mdi-plus-circle\" :label=\"$t('add widget')\" @click=\"addWidget\" />\n\t\t\t</q-toolbar>\n\t\t</div>\n\t\t\n\t\t<!-- WIDGET CONFIGURATION -->\n\t\t<widget-page\n\t\t\t@onClose=\"selectedWidgetId = null\"\n\t\t\t:widgetId=\"selectedWidgetId\"\n\t\t\t/>\n\t\t\n\t\t<!-- WIDGET LIST -->\n\t\t<div v-show=\"!expertMode && group.widgets.length > 0\" class=\"row no-wrap paper\" v-for=\"group in groups\" :key=\"group.id\">\n\t\t\t<q-expansion-item\n\t\t\t\tv-model=\"expanded[group.id]\"\n\t\t\t\t:icon=\"group.icon\"\n\t\t\t\t:label=\"group.label + ' (' + group.widgets.length + ')'\"\n\t\t\t\tclass=\"full-width\"\n\t\t\t\t>\n\t\t\t\t\n\t\t\t\t<widgets-table\n\t\t\t\t\t@onEditWidget=\"editWidget\"\n\t\t\t\t\t:widgets=\"group.widgets\"\n\t\t\t\t\t/>\n\t\t\t\t\n\t\t\t</q-expansion-item>\n\t\t</div>\n\t\t\n\t\t<!-- EXPERT MODE -->\n\t\t<paper v-show=\"expertMode\" :style=\"{ 'height': (pageHeight-66-16) + 'px' }\">\n\t\t\t<json-editor id=\"widgets\" :json=\"json\" @onChange=\"onJsonEditor\" />\n\t\t</paper>\n\t</div>\n</template>\n\n<script>\nimport { defineComponent } from '@vue/composition-api';\n\nimport JsonEditor from 'src/components/json-editor.vue';\nimport WidgetsTable from './WidgetsTable.vue';\nimport WidgetPage from './WidgetPage/WidgetPage.vue';\n\nimport { v4 as uuid } from 'uuid';\n\nexport default defineComponent({\n\t'name': 'WidgetsPage',\n\t\n\t'components': {\n\t\tJsonEditor,\n\t\tWidgetsTable,\n\t\tWidgetPage\n\t},\n\t\n\tdata() {\n\t\treturn {\n\t\t\t'expanded': {},\n\t\t\t'selectedWidgetId': null\n\t\t}\n\t},\n\t\n\t'methods': {\n\t\taddWidget() {\n\t\t\tthis.selectedWidgetId = uuid();\n\t\t},\n\t\teditWidget(widget) {\n\t\t\tthis.selectedWidgetId = widget.id;\n\t\t},\n\t\tonJsonEditor(props) {\n\t\t\tif (!props._error) {\n\t\t\t\tthis.$store.commit('editor/set', { [props.id]: JSON.parse(props.value) });\n\t\t\t}\n\t\t}\n\t},\n\t\n\t'computed': {\n\t\tpageHeight() {\n\t\t\treturn this.$store.state.jarvis.pageHeight;\n\t\t},\n\t\tgroups() {\n\t\t\treturn this.$store.getters['editor/getGroupedWidgets'];\n\t\t},\n\t\twidgetsCount() {\n\t\t\treturn this.$store.getters['editor/getWidgetsWthoutDeletionsCount'];\n\t\t},\n\t\tjson() {\n\t\t\treturn this.$store.state.editor.widgets;\n\t\t},\n\t\texpertMode() {\n\t\t\treturn this.$store.state.editor.settings?.configExpertMode;\n\t\t}\n\t}\n});\n</script>\n","import mod from \"-!../../../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WidgetsPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WidgetsPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WidgetsPage.vue?vue&type=template&id=3506851e&\"\nimport script from \"./WidgetsPage.vue?vue&type=script&lang=js&\"\nexport * from \"./WidgetsPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QToolbar from 'quasar/src/components/toolbar/QToolbar.js';\nimport QToolbarTitle from 'quasar/src/components/toolbar/QToolbarTitle.js';\nimport QSpace from 'quasar/src/components/space/QSpace.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QExpansionItem from 'quasar/src/components/expansion-item/QExpansionItem.js';\nimport qInstall from \"../../../../node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\";\nqInstall(component, 'components', {QToolbar,QToolbarTitle,QSpace,QBtn,QExpansionItem});\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-2-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-2-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-2-2!../../../../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WidgetPage.vue?vue&type=style&index=0&id=a794e7a6&scoped=true&lang=css&\""],"sourceRoot":""}