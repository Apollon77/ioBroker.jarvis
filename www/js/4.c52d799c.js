(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"0215":function(e,t,s){"use strict";s.r(t);var i=s("0692");t["default"]={translations:Object(i["a"])((e=>s("41f9")("./"+e))),register:i["c"]}},"105a":function(e,t,s){var i={"./":"6bed","./de":"d57e","./de.js":"d57e","./en":"5c81","./en.js":"5c81","./index":"6bed","./index.js":"6bed"};function a(e){var t=n(e);return s(t)}function n(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id="105a"},"40df":function(e,t,s){"use strict";s("e8c8")},"41f9":function(e,t,s){var i={"./":"0215","./de":"46e6","./de.js":"46e6","./en":"7767","./en.js":"7767","./index":"0215","./index.js":"0215"};function a(e){var t=n(e);return s(t)}function n(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id="41f9"},"46e6":function(e,t,s){"use strict";s.r(t),t["default"]={}},"5c81":function(e,t,s){"use strict";s.r(t),t["default"]={"config#Devices#state#label":"State (to display)","config#Devices#state#info":"State which value is shown","config#Devices#stateStyle#label":"State Style","config#Devices#stateStyle#info":"State Style of the displayed values (in JSON Format)","config#Devices#properties#label":"State Properties","config#Devices#properties#info":"State Properties such as min, max, dimmerOn Werte (in JSON Format)","config#Devices#display#label":"Display variant","config#Devices#display#info":"Texts replacing the displayed value (in JSON Format)","config#Devices#label#label":"Label","config#Devices#unit#label":"Unit","config#Devices#action#label":"State (to trigger)","config#Devices#action#info":"State used to trigger an action","config#Devices#icon#label":"Icon","config#Devices#icon#info":"Material Icon (click to view icons)","config#Devices#iconStyle#label":"Icon Style","config#Devices#iconStyle#info":"Icon Style of the icon (in JSON Format)","config#Devices#hide#label":"Hide state in popup","config#Devices#hide#info":"Don't show state in the device details (popup)","config#Devices#bodyElement#label":"Body Element","config#Devices#actionElement#label":"Action Element","import#warning":'For a device to be detected the states have to be grouped using a state of the type "{deviceObjectType}".'}},"6bed":function(e,t,s){"use strict";s.r(t);var i=s("0692");t["default"]={translations:Object(i["a"])((e=>s("105a")("./"+e))),register:i["c"]}},7767:function(e,t,s){"use strict";s.r(t),t["default"]={}},b2d7:function(e,t,s){},bb72:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return Qe}));var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"full-height DevicesPage"},[s("div",{staticClass:"row no-wrap"},[s("q-toolbar",{staticClass:"paper",staticStyle:{"min-height":"56px"}},[s("q-toolbar-title",{attrs:{shrink:""}},[e._v(e._s(e.$t("Device List"))+" ("+e._s(e.devicesCount)+")")]),s("q-select",{staticStyle:{width:"150px","margin-right":"8px"},attrs:{dense:"",label:e.$t("Group by"),"stack-label":"",options:e.groupByOptions},model:{value:e.devicesGroupBy,callback:function(t){e.devicesGroupBy=t},expression:"devicesGroupBy"}}),s("q-input",{staticStyle:{width:"250px"},attrs:{dense:"",label:e.$t("Filter"),"stack-label":"",clearable:""},model:{value:e.devicesFilter,callback:function(t){e.devicesFilter=t},expression:"devicesFilter"}}),s("q-space"),s("q-btn",{staticStyle:{"margin-right":"8px"},attrs:{color:"primary",icon:"mdi-plus-circle",label:e.$t("add device")},on:{click:e.addDevice}}),s("q-btn",{attrs:{color:"primary",icon:"mdi-cloud-download",label:e.$t("import device")},on:{click:function(t){e.showImportDevices=!0}}})],1)],1),s("device-page"),s("import-devices",{attrs:{open:e.showImportDevices},on:{onClose:function(t){e.showImportDevices=!1}}}),e._l(e.groups,(function(t){return s("div",{directives:[{name:"show",rawName:"v-show",value:!e.expertMode&&t.devices.length>0,expression:"!expertMode && group.devices.length > 0"}],key:t.id,staticClass:"row no-wrap paper"},[s("q-expansion-item",{staticClass:"full-width",attrs:{icon:t.icon,label:t.label+" ("+t.devices.length+")"},model:{value:e.expanded[t.id],callback:function(s){e.$set(e.expanded,t.id,s)},expression:"expanded[group.id]"}},[s("devices-table",{attrs:{devices:t.devices}})],1)],1)})),s("paper",{directives:[{name:"show",rawName:"v-show",value:e.expertMode,expression:"expertMode"}],style:{height:e.pageHeight-66-16+"px"}},[s("json-editor",{attrs:{id:"devices",json:e.json},on:{onChange:e.onJsonEditor}})],1)],2)},a=[],n=s("a6f4"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-dialog",{attrs:{value:null!==e.device,"full-height":"",persistent:""}},[null!==e.device?s("q-card",{staticClass:"column full-height",staticStyle:{width:"1000px","max-width":"80vw"}},[s("q-card-section",{staticClass:"row items-center"},[s("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("Device")+" "+e.device.name)+" ("+e._s(e.$t("Device ID")+": "+e.device.id)+")")]),s("q-space"),s("q-btn",{attrs:{flat:"",round:"",color:"grey",icon:"close"},on:{click:e.cancel}})],1),s("q-separator"),s("q-card-section",{staticClass:"col defaultPadding-2 q-pt-none scroll body"},[s("div",{staticClass:"text-h6 text-header primary"},[e._v(e._s(e.$t("General")))]),s("q-separator",{staticStyle:{margin:"0 -16px"}}),s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"},[s("inputs",{attrs:{id:"device.name",label:e.$t("Device"),value:e.device.name||"",required:"",autofocus:""},on:{onChange:e.onChange}})],1),s("div",{staticClass:"col-3"},[s("inputs",{attrs:{id:"device.label",label:e.$t("Label"),value:e.device.label||""},on:{onChange:e.onChange}})],1),s("div",{staticClass:"col-3"},[s("inputs",{attrs:{id:"device.function",label:e.$t("Function"),value:"other"===e.device.function?"_defaults":e.device.function,type:"select",options:e.functions,"options-dense":"","use-input":""},on:{onSelect:e.onChange}})],1),s("div",{staticClass:"col-3"},[s("inputs",{attrs:{id:"device.icon",label:e.$t("Icon"),value:e.device.icon||"",icon:e.icon(e.device.icon)},on:{onChange:e.onChange}})],1)]),s("div",{staticClass:"text-h6 text-header primary"},[e._v(e._s(e.$t("Options")))]),s("q-separator",{staticStyle:{margin:"0 -16px"}}),s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"},[s("inputs",{attrs:{type:"switch",id:"options.suppressPopup",label:"Hide Popup","indeterminate-value":"false",value:e.device.options.suppressPopup||!1},on:{onChange:e.onChange}})],1)]),s("div",{staticClass:"text-h6 text-header primary"},[e._v(e._s(e.$t("States")))]),s("q-separator",{staticStyle:{margin:"0 -16px"}}),s("div",{staticClass:"row",staticStyle:{"margin-bottom":"16px"}},[s("div",{staticClass:"col"},[s("inputs",{attrs:{id:"newStateKey",value:e.newStateKey,label:"new state key",icon:"mdi-plus",error:null!==e.errorNewStateKey},on:{onChange:e.onChange},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addStateKey.apply(null,arguments)}},scopedSlots:e._u([{key:"error",fn:function(){return[e._v("\n\t\t\t\t\t\t\t"+e._s(e.errorNewStateKey)+"\n\t\t\t\t\t\t")]},proxy:!0}],null,!1,1459228676)})],1),s("div",{staticClass:"col self-center"},[s("q-btn",{attrs:{color:"primary",label:"add state",icon:"mdi-plus-circle"},on:{click:e.addStateKey}})],1),s("div",{staticClass:"col self-center",staticStyle:{"text-align":"right"}},["_defaults"!==this.device.function?s("q-btn",{attrs:{color:"secondary",label:"add default states",icon:e.compareStatesToDefaults?"check":"mdi-playlist-plus",disable:e.compareStatesToDefaults},on:{click:e.addDefaultStates}}):e._e()],1)]),s("draggable",{attrs:{handle:".dragndrop"},model:{value:e.deviceStates,callback:function(t){e.deviceStates=t},expression:"deviceStates"}},[s("transition-group",{attrs:{type:"transition",name:"flip-list",tag:"div"}},e._l(e.deviceStates,(function(t){return s("div",{key:t.stateKey,staticClass:"list-group-item"},[s("device-state",{attrs:{device:e.device,stateKey:t.stateKey,stateList:e.stateList},on:{onChange:e.onChange,setComponentProps:function(t){e.component=arguments[0]}}})],1)})),0)],1)],1),s("q-separator"),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{attrs:{flat:"",label:e.$t("Cancel"),color:"negative"},on:{click:e.cancel}}),s("q-btn",{attrs:{flat:"",label:e.$t("Apply"),color:"primary",disable:e.hasErrors},on:{click:e.apply}})],1)],1):e._e()],1)},r=[],l=s("ded3"),c=s.n(l),d=(s("5319"),s("4e82"),s("2b0e")),p=s("7ead"),u=s("c7ac"),v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("state-explorer-popup",{attrs:{open:null!==e.stateExplorer},on:{onClose:e.onStateExplorerClose,onSave:e.onStateExplorerSave}}),s("paper",{directives:[{name:"show",rawName:"v-show",value:!0===e.editStateKey,expression:"editStateKey === true"}],staticStyle:{margin:"-2px 0 0 0",padding:"0 0 10px 72px"}},[s("inputs",{attrs:{id:"stateKeyModified",label:"",value:e.stateKey,"hide-bottom-space":"",dense:""},on:{onChange:e.onChange,click:e.stopPropagation}}),s("div",{staticStyle:{margin:"auto 86px -1px auto"}},[s("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-check"},on:{click:e.onStateSave}}),s("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-cancel"},on:{click:e.onStateEdit}})],1)],1),s("q-expansion-item",{directives:[{name:"show",rawName:"v-show",value:!1===e.editStateKey,expression:"editStateKey === false"}],staticClass:"paper full-width",class:{rowDeleted:e.deleted},attrs:{icon:"mdi-drag-horizontal",label:e.stateKey,disable:e.deleted},scopedSlots:e._u([{key:"header",fn:function(){return[s("q-item-section",{staticClass:"dragndrop",attrs:{avatar:""}},[s("icon",{staticClass:"dragndrop",attrs:{name:"mdi-drag-horizontal"}})],1),s("q-item-section",{class:{itemDeleted:e.deleted}},[e._v("\n\t\t\t\t"+e._s(e.stateKey)+"\n\t\t\t")]),s("q-item-section",{attrs:{side:""}},[s("div",{staticClass:"row items-center"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!0!==e.deleted,expression:"deleted !== true"}]},[s("q-btn",{directives:[{name:"show",rawName:"v-show",value:!1===e.editStateKey,expression:"editStateKey === false"}],attrs:{size:"sm",flat:"",round:"",icon:"mdi-pencil"},on:{click:e.onStateEdit}}),s("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-content-copy"},on:{click:e.onStateCopy}}),s("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-delete",color:"negative"},on:{click:e.onStateRemove}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.deleted,expression:"deleted === true"}]},[s("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-restore",color:"positive"},on:{click:e.onStateRestore}})],1)])])]},proxy:!0}]),model:{value:e.expanded,callback:function(t){e.expanded=t},expression:"expanded"}},[s("div",{staticClass:"row",staticStyle:{padding:"0 8px"}},[s("div",{staticClass:"col"},[s("inputs",{attrs:{id:"state",label:"State",value:e.sState,info:"mdi-plus",type:"select",options:e.stateList,"options-dense":"","use-input":"","allow-user-input":"",clearable:"","max-dropdown-options":"7","hide-dropdown-icon":""},on:{onChange:e.onChange,onSelect:e.onChange},scopedSlots:e._u([{key:"end",fn:function(){return[s("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"mdi-database-search",color:"secondary"},on:{click:function(t){return e.onStateExplorerOpen("state",t)}}})]},proxy:!0}])})],1),s("div",{staticClass:"col"},[s("inputs",{attrs:{id:"action",label:"Action",value:e.sAction,info:"mdi-plus",type:"select",options:e.stateList,"options-dense":"","use-input":"","allow-user-input":"",clearable:"","max-dropdown-options":"7","hide-dropdown-icon":""},on:{onChange:e.onChange,onSelect:e.onChange},scopedSlots:e._u([{key:"end",fn:function(){return[s("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"mdi-database-search",color:"secondary"},on:{click:function(t){return e.onStateExplorerOpen("action",t)}}})]},proxy:!0}])})],1)]),s("div",{staticClass:"row",staticStyle:{padding:"0 8px"}},[s("div",{staticClass:"col"},[s("inputs",{attrs:{id:"display",label:"Display",value:e.sDisplay,info:"mdi-plus",json:"",placeholder:e.placeholders.display},on:{onChange:e.onChange}})],1)]),s("div",{staticClass:"row",staticStyle:{padding:"0 8px"}},[s("div",{staticClass:"col"},[s("inputs",{attrs:{id:"stateStyle",label:"State Style",value:e.sStateStyle,info:"mdi-plus",json:"",placeholder:e.placeholders.stateStyle},on:{onChange:e.onChange}})],1)]),s("div",{staticClass:"row",staticStyle:{padding:"0 8px"}},[s("div",{staticClass:"col"},[s("inputs",{attrs:{id:"properties",label:"Properties",value:e.sProperties,info:"mdi-plus",json:"",placeholder:e.placeholders.properties},on:{onChange:e.onChange}})],1)]),s("div",{staticClass:"row",staticStyle:{padding:"0 8px"}},[s("div",{staticClass:"col"},[s("inputs",{attrs:{id:"label",label:"Label",value:e.sLabel,info:"mdi-plus",placeholder:e.placeholders.label},on:{onChange:e.onChange}})],1),s("div",{staticClass:"col"},[s("inputs",{attrs:{id:"unit",label:"Unit",value:e.sUnit,info:"mdi-plus",json:"allowTextInput",placeholder:e.placeholders.unit},on:{onChange:e.onChange}})],1)]),s("div",{staticClass:"row",staticStyle:{padding:"0 8px"}},[s("div",{staticClass:"col"},[s("inputs",{attrs:{id:"icon",label:"Icon",value:e.sIcon,info:"mdi-plus",json:"allowTextInput",placeholder:e.placeholders.icon},on:{onChange:e.onChange}})],1),s("div",{staticClass:"col"},[s("inputs",{attrs:{id:"iconStyle",label:"Icon style",value:e.sIconStyle,info:"mdi-plus",json:"",placeholder:e.placeholders.iconStyle},on:{onChange:e.onChange}})],1)]),s("div",{staticClass:"row",staticStyle:{padding:"0 8px"}},[s("div",{staticClass:"col"},[s("inputs",{attrs:{id:"bodyElement",label:"Body Element",value:e.sBodyElement||null!==e.sBodyElement&&e.placeholders.bodyElement||null,info:"mdi-plus",type:"select.components",componentValues:e.sBodyElementComponentValues,components:e.FUNCTION_COMPONENTS["bodyElements"][e.device.function]},on:{onSelect:function(t){return e.onChange(Object.assign({},t,{value:t.val||null}))},onOptions:e.onChange}})],1),s("div",{staticClass:"col-2"},[s("inputs",{attrs:{type:"Switch",id:"showState",label:"Show State",value:e.sShowState},on:{onChange:e.onChange}})],1),s("div",{staticClass:"col"},[s("inputs",{attrs:{id:"actionElement",label:"Action Element",value:e.sActionElement||null!==e.sActionElement&&e.placeholders.actionElement||null,info:"mdi-plus",type:"select.components",componentValues:e.sActionElementComponentValues,components:e.FUNCTION_COMPONENTS["actionElements"][e.device.function]},on:{onSelect:function(t){return e.onChange(Object.assign({},t,{value:t.val||null}))},onOptions:e.onChange}})],1)]),s("q-separator",{staticStyle:{"margin-top":"16px"}})],1)],1)},h=[],m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-dialog",{attrs:{value:e.open,persistent:""}},[s("q-card",{staticClass:"column full-height",staticStyle:{width:"1000px","max-width":"80vw"}},[s("q-card-section",{staticClass:"row items-center"},[s("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("State Explorer")))]),s("q-space"),s("q-btn",{attrs:{flat:"",round:"",color:"grey",icon:"close"},on:{click:e.onClose}})],1),s("q-separator"),s("q-card-section",{staticClass:"col q-pa-sm scroll body"},[s("state-explorer",{on:{onChange:e.onChange}})],1),s("q-separator"),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{attrs:{flat:"",label:e.$t("Cancel"),color:"negative"},on:{click:e.onClose}}),s("q-btn",{attrs:{flat:"",label:e.$t("Apply"),color:"primary",disable:""===e.state},on:{click:e.onSave}})],1)],1)],1)},f=[],g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{"padding-bottom":"16px"}},[s("paper",{staticClass:"StateExplorerBar"},[s("inputs",{staticStyle:{width:"250px"},attrs:{label:"Filter",value:""},on:{onChange:e.onFilter}}),s("q-space"),s("div",{staticClass:"items-center justify-end row"},[s("span",{staticStyle:{"padding-right":"8px"}},[e._v(e._s(e.$t("Last Update"))+": "+e._s(e.lastUpdate))]),s("q-btn",{attrs:{color:"primary",label:e.$t("Refresh"),icon:"refresh",loading:e.loading,disable:e.loading},on:{click:e.updateObjects}})],1)],1),s("paper",{staticClass:"q-pa-sm"},[s("q-tree",{ref:"StateExplorer",attrs:{nodes:e.instanceList,"node-key":"_id","label-key":"label",filter:e.filter,filterMethod:e.filterMethod,"selected-color":"primary",selected:e.selected},on:{"lazy-load":e.onLazyLoad,"update:selected":[function(t){e.selected=t},e.onSelect]},scopedSlots:e._u([{key:"default-header",fn:function(t){return[s("div",{staticClass:"row full-width",class:{item:"state"===t.node.type}},[s("div",{staticClass:"overflow-dots",staticStyle:{width:"5%"}},[s("icon",{attrs:{color:e.selected&&e.selected.endsWith(t.node.label)?"accent":"primary",name:"state"===t.node.type?e.selected&&e.selected.endsWith(t.node.label)?"mdi-bookmark":"mdi-bookmark-outline":"folder"}})],1),s("div",{staticClass:"overflow-dots q-pr-xs",staticStyle:{width:"25%"}},[e._v(e._s(t.node.label))]),s("div",{staticClass:"overflow-dots q-pr-xs",staticStyle:{width:"45%"}},[t.node.common&&t.node.common.name&&t.node.common.name.length>50?s("q-tooltip",[e._v("\n\t\t\t\t\t\t\t"+e._s(t.node.common.name)+"\n\t\t\t\t\t\t")]):e._e(),e._v("\n\t\t\t\t\t\t"+e._s(t.node.common&&t.node.common.name?t.node.common.name.length>50?t.node.common.name.substr(0,47)+"...":t.node.common.name:"")+"\n\t\t\t\t\t")],1),s("div",{staticClass:"overflow-dots",staticStyle:{width:"10%"}},[e._v(e._s(t.node.type))]),s("div",{staticClass:"overflow-dots",staticStyle:{width:"15%"}},[e._v(e._s(t.node.common&&t.node.common.role?t.node.common.role:""))])])]}}])})],1)],1)},y=[],b=s("00da"),S=s("e580"),D=Object(n["c"])({name:"StateExplorer",props:["id"],created(){this.getInstanceList()},data(){return{filter:"",lastUpdate:Object(S["a"])(p["a"].get("objectsUpdated"),"dd. MMMM yyyy, HH:mm:ss"),loading:!1,objects:p["a"].get("objects"),objectList:p["a"].get("objectList"),objectTree:{},instanceList:[],selected:""}},methods:{onLazyLoad({key:e,done:t}){t(this.objectTree[e]&&this.objectTree[e].children||[])},onFilter(e){this.filter=e.value},onSelect(e){this.objectTree[e]&&this.objectTree[e].children&&this.$refs.StateExplorer.setExpanded(e,!0),this.$emit("onChange",{id:this.id||"StateExplorer",value:e||""})},filterMethod(e,t){return e._id.indexOf(t.toLowerCase())>-1},updateObjects(){this.loading=!0,b["a"].getObjects().then((()=>{this.lastUpdate=Object(S["a"])(p["a"].get("objectsUpdated"),"dd. MMMM yyyy, HH:mm:ss"),this.objects=p["a"].get("objects"),this.objectList=p["a"].get("objectList"),this.loading=!1}))},getInstanceList(){const e={},t=[];this.objectList.forEach((s=>{const i=this.objects[s],a=i._id.substr(0,i._id.lastIndexOf(".")),n=i._id.substr(0,i._id.indexOf(".",i._id.indexOf(".")+1));n&&!t.find((e=>e._id===n))&&t.push({_id:n,label:n,lazy:!0}),e[a]=e[a]||{children:[]},e[a].children.push({...i,label:i._id.substr(i._id.lastIndexOf(".")+1),lazy:"state"!==i.type})})),this.objectTree=e,this.instanceList=t.sort(((e,t)=>e.label===t.label?0:e.label>t.label?1:-1))}}}),w=D,x=(s("40df"),s("2877")),C=s("2c91"),_=s("9c40"),k=s("7f41"),q=s("05c0"),$=s("eebe"),O=s.n($),E=Object(x["a"])(w,g,y,!1,null,null,null),K=E.exports;O()(E,"components",{QSpace:C["a"],QBtn:_["a"],QTree:k["a"],QTooltip:q["a"]});var j=Object(n["c"])({name:"StateExplorerPopup",props:["open"],components:{StateExplorer:K},data(){return{state:""}},methods:{onClose(){this.$emit("onClose",{id:this.id||"StateExplorer",value:this.state})},onSave(){this.$emit("onSave",{id:this.id||"StateExplorer",value:this.state})},onChange({value:e}){this.state=e}}}),I=j,L=s("24e8"),N=s("f09f"),A=s("a370"),Q=s("eb85"),T=s("4b7e"),P=Object(x["a"])(I,m,f,!1,null,null,null),z=P.exports;O()(P,"components",{QDialog:L["a"],QCard:N["a"],QCardSection:A["a"],QSpace:C["a"],QBtn:_["a"],QSeparator:Q["a"],QCardActions:T["a"]});var G=Object(n["c"])({name:"DeviceState",props:["device","stateKey","stateList"],components:{StateExplorerPopup:z},data(){return this.FUNCTION_COMPONENTS=u["listOfComponents"],{deleted:!1,editStateKey:!1,expanded:!1,stateExplorer:null,stateKeyModified:""}},methods:{stopPropagation(e){e.stopPropagation()},onChange(e){if(e._error)this.$emit("onChange",c()(c()({},e),{},{error:e._error,stateKey:this.stateKey,id:"state."+e.id}));else if("stateKeyModified"===e.id)this.stateKeyModified=e.value;else{let s=e.value;try{s=s&&void 0!==e.json&&e.value.indexOf("{")>-1&&e.value.indexOf("}")>-1?JSON.parse(e.value):e.value}catch(t){console.warn(e.value,t)}this.$emit("onChange",c()(c()({},e),{},{value:s,stateKey:this.stateKey,id:"state."+e.id}))}},onStateCopy(e){e.stopPropagation(),this.$store.commit("editor/copyState",{stateKey:this.stateKey})},onStateSave(e){e.stopPropagation(),this.$emit("onChange",{stateKey:this.stateKey,id:"state.newStateKey",value:this.stateKeyModified}),this.editStateKey=!this.editStateKey},onStateEdit(e){e.stopPropagation(),this.stateKeyModified=this.stateKey,this.editStateKey=!this.editStateKey},onStateRemove(e){e.stopPropagation(),this.expanded=!1,this.deleted=!0,this.$store.commit("editor/removeState",{stateKey:this.stateKey})},onStateRestore(e){e.stopPropagation(),this.deleted=!1,this.$store.commit("editor/restoreState",{stateKey:this.stateKey})},onStateExplorerOpen(e,t){t.stopPropagation(),this.stateExplorer=e},onStateExplorerClose(){this.stateExplorer=null},onStateExplorerSave({value:e}){this.onChange({id:this.stateExplorer,stateKey:this.stateKey,value:e}),this.stateExplorer=null}},computed:{placeholders(){const e=u["default"][this.deviceFunction][this.stateKey.toLowerCase()]||{};return{display:JSON.stringify(e.display),stateStyle:JSON.stringify(e.stateStyle),properties:JSON.stringify(e.properties),label:e.label||"",unit:JSON.stringify(e.unit),icon:JSON.stringify(e.icon),iconStyle:JSON.stringify(e.iconStyle),bodyElement:e.bodyElement||"",actionElement:e.actionElement||""}},deviceFunction(){return"other"===this.device.function?"_defaults":this.device.function},sState(){const e=this.$store.state.editor.device.states[this.stateKey];return e.state&&void 0!==e.state.node?e.state.node:e.state||null},sAction(){const e=this.$store.state.editor.device.states[this.stateKey];return e.action&&void 0!==e.action.node?e.action.node:e.action||null},sProperties(){const e=this.$store.state.editor.device.states[this.stateKey];return e.properties||""},sStateStyle(){const e=this.$store.state.editor.device.states[this.stateKey];return e.stateStyle||""},sDisplay(){const e=this.$store.state.editor.device.states[this.stateKey];return e.display||""},sLabel(){const e=this.$store.state.editor.device.states[this.stateKey];return e.label||""},sUnit(){const e=this.$store.state.editor.device.states[this.stateKey];return e.unit||""},sIcon(){const e=this.$store.state.editor.device.states[this.stateKey];return e.icon||""},sIconStyle(){const e=this.$store.state.editor.device.states[this.stateKey];return e.iconStyle||""},sBodyElement(){const e=this.$store.state.editor.device.states[this.stateKey];return e.bodyElement},sBodyElementComponentValues(){const e=this.$store.state.editor.device.states[this.stateKey];return e[this.sBodyElement+"Config"]||{}},sActionElement(){const e=this.$store.state.editor.device.states[this.stateKey];return e.actionElement},sShowState(){const e=this.$store.state.editor.device.states[this.stateKey];return void 0===e.showState||e.showState},sActionElementComponentValues(){const e=this.$store.state.editor.device.states[this.stateKey];return e[this.sActionElement+"Config"]||{}}}}),F=G,B=s("3b73"),M=s("4074"),J=Object(x["a"])(F,v,h,!1,null,null,null),U=J.exports;O()(J,"components",{QBtn:_["a"],QExpansionItem:B["a"],QItemSection:M["a"],QSeparator:Q["a"]});var R=s("b76a"),H=s.n(R),W=s("a2b6"),V=Object(n["c"])({name:"DevicePage",components:{DeviceState:U,Draggable:H.a},data(){return this.icon=W["d"],{component:null,errors:{},errorNewStateKey:null,newStateKey:""}},methods:{apply(){this.$store.commit("editor/saveDevice")},cancel(){this.$store.commit("editor/discardDevice",{device:null})},onChange(e){if(e.error)this.errors=c()(c()({},this.errors),{},{[e.id]:this.$i18n.t(e.error)});else if(e.id.indexOf("device.")>-1)d["default"].delete(this.errors,e.id),this.$store.commit("editor/set",{[e.id]:e.value});else if(e.id.indexOf("options.")>-1)d["default"].delete(this.errors,e.id),this.$store.commit("editor/set",{"device.options":c()(c()({},this.device.options||{}),{},{[e.id.replace("options.","")]:e.value})});else if(e.id.indexOf("state.")>-1)if(d["default"].delete(this.errors,e.id),"state.newStateKey"===e.id)this.$store.commit("editor/changeStateKey",{stateKey:e.stateKey,stateKeyModified:e.value});else if("state.componentOptions"===e.id){d["default"].delete(this.errors,e.id);const t=this.$store.state.editor.device.states[e.stateKey][e.component+"Config"]||{};this.$store.commit("editor/editState",{deviceId:this.device.id,stateKey:e.stateKey,key:e.component+"Config",val:c()(c()({},t),e.value)})}else this.$store.commit("editor/editState",{deviceId:this.device.id,stateKey:e.stateKey,key:e.id.replace("state.",""),val:e.value});else"newStateKey"===e.id&&(this.newStateKey=e.value)},addDefaultStates(){this.getDefaultStates.forEach((e=>"_any"!==e&&this.addStateKey(e)))},addStateKey(e){e="string"===typeof e?e:this.newStateKey,e?this.deviceStateKeys.indexOf(e)>-1?this.errorNewStateKey=this.$i18n.t("State key already used"):(this.$store.commit("editor/newState",{stateKey:e}),this.newStateKey="",this.errorNewStateKey=null):this.errorNewStateKey=this.$i18n.t("Type in a state key / identifier")}},computed:{getDefaultStates(){return"_defaults"===this.device.function?[]:Object.keys(u["default"][this.device.function]||{})},compareStatesToDefaults(){const e=Object.keys(this.device.states||{});return this.getDefaultStates.every((t=>"_any"===t||e.indexOf(t)>-1))},stateList(){const e=p["a"].get("stateList")||[];return e.map((e=>({label:e,value:e})))},functions(){return Object.keys(u["icons"]).map((e=>({label:this.$i18n.t(e),icon:u["icons"][e]?"mdi-"+u["icons"][e].replace("mdi-",""):"",value:e}))).sort(((e,t)=>e.label.toLowerCase()===t.label.toLowerCase()?0:e.label.toLowerCase()>t.label.toLowerCase()?1:-1))},device(){return this.$store.state.editor.device||null},deviceStateKeys(){return Object.keys(this.device.states||{})},deviceStates:{get(){const e=Object.values(this.device.states||{});return e},set(e){const t={};e.forEach((e=>{t[e.stateKey]=e})),this.$store.commit("editor/set",{"device.states":t})}},hasErrors(){return Object.keys(this.errors).length>0}}}),X=V,Y=Object(x["a"])(X,o,r,!1,null,null,null),Z=Y.exports;O()(Y,"components",{QDialog:L["a"],QCard:N["a"],QCardSection:A["a"],QSpace:C["a"],QBtn:_["a"],QSeparator:Q["a"],QCardActions:T["a"]});var ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-dialog",{attrs:{value:e.showImportDevices,persistent:""}},[s("q-card",{staticClass:"column full-height",staticStyle:{width:"1000px","max-width":"80vw"}},[s("q-card-section",{staticClass:"row items-center"},[s("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("Import Devices")))]),s("q-space"),s("q-btn",{attrs:{flat:"",round:"",color:"grey",icon:"close"},on:{click:e.onClose}})],1),s("q-separator"),s("q-card-section",{staticClass:"col q-pa-sm scroll body"},[s("div",{staticClass:"text-h6 text-header primary"},[e._v(e._s(e.$t("Adapter")))]),s("q-separator",{staticStyle:{margin:"0 -16px"}}),s("q-field",{staticClass:"q-pa-sm",attrs:{label:e.$t("Search the adapter structure for all devices or only devices added to enums"),"stack-label":"",borderless:""},scopedSlots:e._u([{key:"control",fn:function(){return[s("q-option-group",{attrs:{options:e.adapterStructureOptions,color:"primary",inline:""},model:{value:e.adapterStructure,callback:function(t){e.adapterStructure=t},expression:"adapterStructure"}})]},proxy:!0}])}),s("q-expansion-item",{staticClass:"paper shadow-1 rounded-borders full-width",scopedSlots:e._u([{key:"header",fn:function(){return[s("q-item-section",[e._v("\n\t\t\t\t\t\t"+e._s(e.$t("Adapter List"))+"\n\t\t\t\t\t")]),"loaded"===e.state?s("q-item-section",{attrs:{side:""}},[s("q-chip",{attrs:{color:"secondary","text-color":"white"}},[e._v("\n\t\t\t\t\t\t\t"+e._s(e.$t("Devices"))+": "+e._s(e.importedDevicesLength.all)+"\n\t\t\t\t\t\t")])],1):e._e()]},proxy:!0}]),model:{value:e.expanded["_adapterList"],callback:function(t){e.$set(e.expanded,"_adapterList",t)},expression:"expanded['_adapterList']"}},[s("q-list",{staticStyle:{"margin-bottom":"16px"},attrs:{dense:""}},[s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"},on:{click:e.toggleAllAdapterListItems}},[s("q-item-section",{attrs:{side:""}},[s("q-checkbox",{attrs:{value:0!==e.selectedAdapters.length}})],1),s("q-item-section",[s("q-item-label",[s("em",[e._v(e._s(e.$t("(Un)Select all adapters"))+" ("+e._s(e.selectedAdapters.length)+")")])])],1)],1),e._l(e.adapterList,(function(t){return s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.namespace,attrs:{tag:"label"}},[s("q-item-section",{attrs:{side:""}},[s("q-checkbox",{attrs:{val:t.namespace},model:{value:e.selectedAdapters,callback:function(t){e.selectedAdapters=t},expression:"selectedAdapters"}})],1),s("q-item-section",[s("q-item-label",[e._v("\n\t\t\t\t\t\t\t\t"+e._s(t.name)+"\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t"),s("icon",{staticClass:"q-ma-xs",staticStyle:{"font-size":"1.4rem"},attrs:{name:"info",color:"primary"}}),s("q-tooltip",{attrs:{"content-class":"bg-grey-8",offset:[4,4]}},[e._v(e._s(e.$t("import#warning").replace("{deviceObjectType}",t.deviceObjectType||"device").replace("{devicePattern}",t.devicePattern)))])],1)],1),s("q-item-section",{attrs:{side:""}},[s("q-item-label",["loaded"===e.state&&e.selectedAdapters.indexOf(t.namespace)>-1?s("q-chip",{attrs:{color:"primary","text-color":"white"}},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e.$t("Devices"))+": "+e._s(t.devices)+"\n\t\t\t\t\t\t\t\t")]):e._e()],1)],1)],1)}))],2)],1),null!==e.state?s("div",{staticStyle:{"margin-bottom":"16px"}},[s("div",{staticClass:"text-h6 text-header primary"},[e._v(e._s(e.$t("Devices")))]),s("q-separator",{staticStyle:{margin:"0 -16px 16px -16px"}}),s("div",{staticClass:"q-pa-sm"},["loading"===e.state?s("q-spinner",{attrs:{color:"primary",size:"md"}}):e._e()],1),"loaded"===e.state?s("div",e._l(e.categories,(function(t,i){return s("q-expansion-item",{key:i,staticClass:"paper shadow-1 rounded-borders full-width",staticStyle:{"margin-bottom":"8px"},attrs:{disable:0===e.importedDevicesLength[i]},scopedSlots:e._u([{key:"header",fn:function(){return[s("q-item-section",[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.$t(t))+"\n\t\t\t\t\t\t\t")]),s("q-item-section",{attrs:{side:""}},[s("q-chip",{attrs:{color:"secondary","text-color":"white"}},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e.importedDevicesLength[i])+"\n\t\t\t\t\t\t\t\t")])],1)]},proxy:!0}],null,!0),model:{value:e.expanded[i],callback:function(t){e.$set(e.expanded,i,t)},expression:"expanded[key]"}},[e.importedDevicesLength[i]>0?s("q-list",{attrs:{dense:""}},["new"===i||"existing"===i?s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label"},on:{click:function(t){return e.toggleAllDevicesListItems(i)}}},[s("q-item-section",{attrs:{side:""}},[s("q-checkbox",{attrs:{value:0!==e.selectedDevices[i].length}})],1),s("q-item-section",[s("q-item-label",[s("em",[e._v(e._s(e.$t("(Un)Select all devices"))+" ("+e._s(e.selectedDevices[i].length)+")")])])],1)],1):e._e(),e._l(e.importedDevices[i],(function(t){return s("q-expansion-item",{key:t.id,staticClass:"full-width",attrs:{"expand-icon-toggle":"","expand-separator":"",dense:""},scopedSlots:e._u([{key:"header",fn:function(){return[s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"full-width",attrs:{tag:"label",disable:"new"!==i&&"existing"!==i}},[s("q-item-section",{attrs:{side:""}},["new"===i||"existing"===i?s("q-checkbox",{attrs:{val:t.id},model:{value:e.selectedDevices[i],callback:function(t){e.$set(e.selectedDevices,i,t)},expression:"selectedDevices[key]"}}):s("div",{staticStyle:{width:"40px"}})],1),s("q-item-section",[s("q-item-label",[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+e._s(t.name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t"),t.attributes&&t.attributes.manufacturer?s("q-chip",{attrs:{color:"accent","text-color":"white"}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+e._s(t.attributes.manufacturer.name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t")]):e._e()],1)],1),s("q-item-section",{attrs:{side:""}},[s("q-item-label",["new"===i?s("q-btn",{attrs:{flat:"",label:e.$t("ignore"),color:"negative"},on:{click:function(s){return e.ignoreDevice(t)}}}):e._e(),"ignored"===i?s("q-btn",{attrs:{flat:"",label:e.$t("restore"),color:"positive"},on:{click:function(s){return e.restoreDevice(t)}}}):e._e()],1)],1)],1)]},proxy:!0}],null,!0)},[s("div",{staticStyle:{"padding-left":"72px"}},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e.$t("Function"))+": "+e._s(e.$t(t.function))+"\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t"),s("ul",{staticClass:"stateList"},e._l(t.states,(function(t,i){return s("li",{key:i},[s("strong",[e._v(e._s(i))]),e._l(t,(function(t,i){return s("ul",{key:i,staticClass:"stateKeyList"},[s("li",[e._v(e._s(e.$t(e.ucFirst(i)))+": "),s("code",[e._v(e._s(t))])])])}))],2)})),0)])])}))],2):e._e()],1)})),1):e._e()],1):e._e()],1),s("q-separator"),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{attrs:{flat:"",label:e.$t("Cancel"),color:"negative"},on:{click:e.onClose}}),s("q-btn",{attrs:{flat:"",label:e.$t("Read adapters"),color:"secondary",loading:"loading"===e.state,disable:0===e.selectedAdapters.length},on:{click:e.readAdapters}}),"loaded"===e.state?s("q-btn",{attrs:{flat:"",label:e.$t("Import selected devices")+" ("+e.importDevicesLength+")",color:"primary",disable:0===e.importDevicesLength},on:{click:e.importDevices}}):e._e()],1)],1)],1)},te=[],se=(s("ddb0"),s("2122")),ie=s("705e"),ae=s("0215"),ne=Object(n["c"])({name:"ImportDevices",props:["open"],data(){return{selectedAdapters:[],adapterStructure:"all",adapterStructureOptions:[{label:this.$i18n.t("Search adapter structure for all devices"),value:"all"},{label:this.$i18n.t("Search only for devices added to enums"),value:"enums"}],categories:{new:"New Devices",existing:"Devices that have been added already",incorrect:"Devices with incorrect configuration (states not found)",ignored:"Devices marked as ignored"},expanded:{_adapterList:!0,new:!0},importedDevices:{all:{},new:{},existing:{},incorrect:{},ignored:{},manufacturer:{}},selectedDevices:{new:[],existing:[],ignored:[]},showImportDevices:!1,state:null}},methods:{importDevices(){this.state=null,this.onClose();const e={},t=[...this.selectedDevices.new,...this.selectedDevices.existing];for(const i of t)e[i]=this.importedDevices.all[i];const s=Object.keys(this.importedDevices.ignored);for(const i of s)e[i]=this.importedDevices.ignored[i],e[i].attributes=e[i].attributes||{},e[i].attributes.ignore=!0;this.$store.commit("editor/addDevices",{devices:e})},onClose(){this.expanded._adapterList=!0,this.showImportDevices=!1,this.$emit("onClose",this.showImportDevices)},readAdapters(){this.state="loading","all"===this.adapterStructure?b["a"].importDevices(this.selectedAdapters).then(this.setImportedDevices).catch((e=>{ie["a"]._("ImportDevicesPage","IMPORT_DEVICES: "+e.message,"error")})):b["a"].importEnums("functions",this.selectedAdapters).then(this.setImportedDevices).catch((e=>{ie["a"]._("ImportDevicesPage","IMPORT_ENUMS: "+e.message,"error")}))},setImportedDevices(e){this.expanded._adapterList=!1,this.importedDevices={all:{},new:{},existing:{},incorrect:{},ignored:{},manufacturer:{}};const t=this.$store.state.editor.devices||{};e.forEach(((e,s)=>{const i=e.value||e.reason.device;i.attributes=i.attributes||{};let a="new";"fulfilled"===e.status&&e.value&&e.value.states&&Object.keys(e.value.states).length>0?void 0!==t[i.id]&&(a="existing",t[i.id].attributes&&!0===t[i.id].attributes.ignore&&(a="ignored")):(a="incorrect",i.states=null,i.attributes.note=i.attributes.note||e.reason&&e.reason.error&&e.reason.error.message||this.$i18n.t("No correct defined states found. The device may be unknown. Please help the developer to add support for this device and report to Github.")),this.importedDevices[a][i.id]=i,this.importedDevices.all[i.id]=i,i.attributes.manufacturer&&i.attributes.manufacturer.namespace&&(this.importedDevices.manufacturer[i.attributes.manufacturer.namespace]=this.importedDevices.manufacturer[i.attributes.manufacturer.namespace]||[],this.importedDevices.manufacturer[i.attributes.manufacturer.namespace].push(i.id))})),this.selectedDevices.new=Object.keys(this.importedDevices.new),this.state="loaded"},toggleAllAdapterListItems(){this.selectedAdapters.length>0?this.selectedAdapters=[]:this.selectedAdapters=Object.keys(se["a"])},toggleAllDevicesListItems(e){this.selectedDevices[e].length>0?this.selectedDevices[e]=[]:this.selectedDevices[e]=Object.keys(this.importedDevices[e])},ignoreDevice(e){this.importedDevices.ignored[e.id]=e,this.$delete(this.importedDevices.new,e.id),this.$delete(this.selectedDevices.new,this.selectedDevices.new.indexOf(e.id))},restoreDevice(e){this.importedDevices.new[e.id]=e,this.selectedDevices.new.push(e.id),this.$delete(this.importedDevices.ignored,e.id)},ucFirst:W["g"]},computed:{importDevicesLength(){return this.selectedDevices.new.length+this.selectedDevices.existing.length},importedDevicesLength(){return{all:Object.keys(this.importedDevices.all).length,new:Object.keys(this.importedDevices.new).length,existing:Object.keys(this.importedDevices.existing).length,incorrect:Object.keys(this.importedDevices.incorrect).length,ignored:Object.keys(this.importedDevices.ignored).length}},adapterList(){const e=Object.values(se["a"]).map((e=>(e.devices=this.importedDevices.manufacturer[e.namespace]?this.importedDevices.manufacturer[e.namespace].length:0,e.name=e.default,e)));return e}},watch:{open(e){this.showImportDevices=e}},created(){this.toggleAllAdapterListItems(),ae["default"].register(this.$i18n,ae["default"].translations)}}),oe=ne,re=(s("e0df"),s("8572")),le=s("9f0a"),ce=s("b047"),de=s("1c1c"),pe=s("66e5"),ue=s("8f8e"),ve=s("0170"),he=s("0d59"),me=s("714f"),fe=Object(x["a"])(oe,ee,te,!1,null,null,null),ge=fe.exports;O()(fe,"components",{QDialog:L["a"],QCard:N["a"],QCardSection:A["a"],QSpace:C["a"],QBtn:_["a"],QSeparator:Q["a"],QField:re["a"],QOptionGroup:le["a"],QExpansionItem:B["a"],QItemSection:M["a"],QChip:ce["a"],QList:de["a"],QItem:pe["a"],QCheckbox:ue["a"],QItemLabel:ve["a"],QTooltip:q["a"],QSpinner:he["a"],QCardActions:T["a"]}),O()(fe,"directives",{Ripple:me["a"]});var ye=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"q-pa-md"},[s("q-table",{attrs:{data:e.devices,columns:e.columns,pagination:e.pagination,"rows-per-page-label":e.$t("Devices per page")},scopedSlots:e._u([{key:"header",fn:function(t){return[s("q-tr",{attrs:{props:t}},[s("q-th",{attrs:{"auto-width":""}}),e._l(t.cols,(function(i){return s("q-th",{key:i.name,attrs:{props:t}},[e._v("\n\t\t\t\t\t\n\t\t\t\t\t"+e._s(i.label)+"\n\t\t\t\t")])})),s("q-th",{attrs:{"auto-width":""}})],2)]}},{key:"body",fn:function(t){return[s("q-tr",{class:{rowDeleted:e.isDeleted(t.row)},attrs:{props:t}},[s("q-td",{attrs:{"auto-width":""}},[!0!==e.isDeleted(t.row)?s("div",[s("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-pencil"},on:{click:function(s){return e.onDeviceEdit(t.row)}}}),s("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-content-copy"},on:{click:function(s){return e.onDeviceCopy(t.row)}}})],1):e._e()]),e._l(t.cols,(function(i){return s("q-td",{key:i.name,attrs:{props:t}},[s("div",{class:{itemDeleted:e.isDeleted(t.row)}},[e._v("\n\t\t\t\t\t\t"+e._s(i.value)+"\n\t\t\t\t\t")])])})),s("q-td",{attrs:{"auto-width":""}},[!0!==e.isDeleted(t.row)?s("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-delete",color:"negative"},on:{click:function(s){return e.onDeviceRemove(t.row)}}}):e._e(),e.isDeleted(t.row)?s("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-restore",color:"positive"},on:{click:function(s){return e.onDeviceRestore(t.row)}}}):e._e()],1)],2)]}}])})],1)},be=[],Se=Object(n["c"])({name:"DevicesTable",props:["devices"],data(){return{pagination:{sortBy:"name",rowsPerPage:15},columns:[{name:"id",label:this.$i18n.t("ID"),field:"id",align:"left",sortable:!0,style:{width:"20%"}},{name:"name",label:this.$i18n.t("Name"),field:"name",align:"left",sortable:!0,style:{width:"25%"}},{name:"manufacturer",label:this.$i18n.t("Manufacturer"),field:"manufacturer",align:"left",sortable:!0,format:(e,t)=>t.attributes&&t.attributes.manufacturer?t.attributes.manufacturer.name:"",style:{width:"15%"}},{name:"states",label:this.$i18n.t("States"),field:"states",align:"left",sortable:!0,format:e=>(e=Object.keys(e||"{}").join(", "),e.length>90?e.substr(0,88)+" ...":e),style:{width:"40%"}}]}},methods:{isDeleted(e){return e.attributes&&!0===e.attributes.deleted},onDeviceEdit(e){this.$store.commit("editor/editDevice",{device:e})},onDeviceCopy(e){this.$store.commit("editor/copyDevice",{device:e})},onDeviceRemove(e){this.$store.commit("editor/removeDevice",{device:e})},onDeviceRestore(e){this.$store.commit("editor/restoreDevice",{device:e})}}}),De=Se,we=s("eaac"),xe=s("bd08"),Ce=s("357e"),_e=s("db86"),ke=Object(x["a"])(De,ye,be,!1,null,null,null),qe=ke.exports;O()(ke,"components",{QTable:we["a"],QTr:xe["a"],QTh:Ce["a"],QTd:_e["a"],QBtn:_["a"]});var $e=s("a54a"),Oe=s("6bed"),Ee=Object(n["c"])({name:"DevicesPage",components:{DevicePage:Z,DevicesTable:qe,ImportDevices:ge,JsonEditor:$e["a"]},data(){const e=[{label:this.$i18n.t("Function"),value:"function"},{label:this.$i18n.t("Manufacturer"),value:"manufacturer"}];return{expanded:{},groupByOptions:e,showImportDevices:!1}},methods:{addDevice(){this.$store.commit("editor/addDevice")},onJsonEditor(e){e._error||this.$store.commit("editor/set",{[e.id]:JSON.parse(e.value)})},onChange({id:e,error:t,value:s}){if(t)this.$store.commit("editor/addError",{key:"settings-"+e,val:t.message||t});else if(s){this.$store.commit("editor/removeError",{key:"settings-"+e});for(const e in s)this.$store.commit("editor/set",{["settings."+e]:s[e]})}}},computed:{pageHeight(){return this.$store.state.jarvis.pageHeight},devicesGroupBy:{get(){var e;return(null===(e=this.$store.state.editor.settings)||void 0===e?void 0:e.configDevicesGroupBy)&&this.groupByOptions.find((e=>e.value===this.$store.state.editor.settings.configDevicesGroupBy))||this.groupByOptions[0]},set({value:e}){this.$store.commit("editor/set",{"settings.configDevicesGroupBy":e})}},devicesFilter:{get(){var e;return(null===(e=this.$store.state.editor.settings)||void 0===e?void 0:e.configDevicesFilter)||""},set(e){this.$store.commit("editor/set",{"settings.configDevicesFilter":e})}},groups(){return this.$store.getters["editor/getGroups"](this.devicesGroupBy.value,this.devicesFilter)},devicesCount(){return this.$store.getters["editor/getDevicesWthoutDeletionsCount"]},json(){return this.$store.state.editor.devices},expertMode(){var e;return null===(e=this.$store.state.editor.settings)||void 0===e?void 0:e.configExpertMode}},created(){Oe["default"].register(this.$i18n,Oe["default"].translations)}}),Ke=Ee,je=s("65c6"),Ie=s("6ac5"),Le=s("ddd8"),Ne=s("27f9"),Ae=Object(x["a"])(Ke,i,a,!1,null,null,null),Qe=Ae.exports;O()(Ae,"components",{QToolbar:je["a"],QToolbarTitle:Ie["a"],QSelect:Le["a"],QInput:Ne["a"],QSpace:C["a"],QBtn:_["a"],QExpansionItem:B["a"]})},d57e:function(e,t,s){"use strict";s.r(t),t["default"]={"config#Devices#state#label":"Datenpunkt (Anzeige)","config#Devices#state#info":"Datenpunkt dessen State als Wert angezeigt wird","config#Devices#stateStyle#label":"Datenpunkt Stil","config#Devices#stateStyle#info":"Stil des angezeigten Wertes (im JSON Format)","config#Devices#properties#label":"Datenpunkt Eigenschaften","config#Devices#properties#info":"Eigenschaften des Datenpunkts: on, off, min, max sowie level (im JSON Format)","config#Devices#display#label":"Anzeigevariante","config#Devices#display#info":"Texte die den angezeigten Wert ersetzen (im JSON Format)","config#Devices#label#label":"Label","config#Devices#unit#label":"Einheit","config#Devices#unit#info":"Einheit des Datenpunkts, z. B. % oder °","config#Devices#action#label":"Datenpunkt (Trigger)","config#Devices#action#info":"Datenpunkt der zum Schalten getriggert wird","config#Devices#icon#label":"Icon","config#Devices#icon#info":"Material Icon (klick zur Ansicht aller Icons)","config#Devices#iconStyle#label":"Icon Stil","config#Devices#iconStyle#info":"Stil des Icons (im JSON Format)","config#Devices#hide#label":"im Popup verstecken","config#Devices#hide#info":"Datenpunkt nicht in den Geräte-Details (Popup) zeigen","config#Devices#bodyElement#label":"Body Element","config#Devices#actionElement#label":"Action Element","import#warning":'Damit ein Gerät vom Importer erkannt wird, müssen die Datenpunkte des Geräts unter einem gemeinsamen Datenpunkt des Typs "{deviceObjectType}" strukturiert sein.',"State Explorer":"Datenpunkt Explorer",State:"Datenpunkt (Anzeige)",Action:"Datenpunkt (Trigger)","(Un)Select all adapters":"alle Adapter (de)selektieren","(Un)Select all devices":"alle Geräte (de)selektieren","Suppress Popup":"Popup unterdrücken","Do not open the device details in the popup when the device is clicked":"Keine Geräte-Details (Popup) öffnen, wenn das Gerät im Widget angeklickt wird","add default states":"Standard Datenpunkte","No whitespaces allowed in the state":"Keine Leerzeichen im Datenpunkt erlaubt","JSON format":"JSON Format","Devices List":"Geräteliste","Group by":"Gruppieren nach",Filter:"Filtern","add device":"Gerät hinzufügen","import devices":"Geräte importieren","Device ID":"Geräte ID",Name:"Name",Function:"Gewerk",States:"States",Options:"Optionen",adapter:"Adapter","add state":"Datenpunkt hinzufügen","new state key":"neuer Datenpunkt Bezeichner","State Key":"Datenpunkt Bezeichner","No input given":"Bitte etwas eingeben","Wrong JSON format":"Falsches JSON Format","Type in a state key / identifier":"State Bezeichnung eingeben","State key already used":"State bereits in Benutzung","Device Configuration":"Gerätekonfiguration","Delete Device":"Gerät löschen",General:"Allgemein",Device:"Gerät","Displayed Name":"Anzeigename","New Devices":"neue Geräte","Devices that have been added already":"bereits hinzugefügte Geräte","Devices with incorrect configuration (states not found)":"Geräte mit inkorrekter Konfiguration (Datenpunkte nicht gefunden)","Devices marked as ignored":"ignorierte Geräte","Devices Import":"Geräte importieren","Read adapters":"Adapter lesen","Import selected devices":"ausgewählte Geräte importieren",Adapters:"Adapter","Search the adapter structure for all devices or only devices added to enums":"Adapter-Struktur entweder nach allen oder nur nach in Enums vorhandenen Geräten durchsuchen","Search adapter structure for all devices":"nach allen Geräten durchsuchen","Search only for devices added to enums":"nur nach in Enums hinzugefügten Geräten durchsuchen",ignore:"ignorieren","move to new devices":"zu den neuen Geräten verschieben"}},e0df:function(e,t,s){"use strict";s("b2d7")},e8c8:function(e,t,s){}}]);