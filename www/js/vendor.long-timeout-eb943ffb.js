var r={};(function(e){var n=2147483647;e.setTimeout=function(t,f){return new i(t,f)},e.setInterval=function(t,f){return new u(t,f)},e.clearTimeout=function(t){t&&t.close()},e.clearInterval=e.clearTimeout,e.Timeout=i,e.Interval=u;function i(t,f){this.listener=t,this.after=f,this.unreffed=!1,this.start()}i.prototype.unref=function(){this.unreffed||(this.unreffed=!0,this.timeout.unref())},i.prototype.ref=function(){this.unreffed&&(this.unreffed=!1,this.timeout.ref())},i.prototype.start=function(){if(this.after<=n)this.timeout=setTimeout(this.listener,this.after);else{var t=this;this.timeout=setTimeout(function(){t.after-=n,t.start()},n)}this.unreffed&&this.timeout.unref()},i.prototype.close=function(){clearTimeout(this.timeout)};function u(t,f){this.listener=t,this.after=this.timeLeft=f,this.unreffed=!1,this.start()}u.prototype.unref=function(){this.unreffed||(this.unreffed=!0,this.timeout.unref())},u.prototype.ref=function(){this.unreffed&&(this.unreffed=!1,this.timeout.ref())},u.prototype.start=function(){var t=this;this.timeLeft<=n?this.timeout=setTimeout(function(){t.listener(),t.timeLeft=t.after,t.start()},this.timeLeft):this.timeout=setTimeout(function(){t.timeLeft-=n,t.start()},n),this.unreffed&&this.timeout.unref()},u.prototype.close=function(){i.prototype.close.apply(this,arguments)}})(r);export{r as l};
