import{a4 as S,bw as g,Q as b,du as D,bt as I,bR as o,aG as K,ay as n,U as a,b1 as v,a2 as p,bG as m,aI as s,V as d,W as L,X as P,A as E,C as j,bF as k}from"./index-5acd5d96.js";const h=S({name:"ModuleStateListItem",props:["device","deviceConfig","primaryState","bodyState","openDeviceDetails","isPopup","isFirstItem","error"],setup(e){const y=g();return{bodyStyle:b(()=>{let i=e.primaryState&&e.primaryState.bodyStyle;if(!i)return"";if(typeof i=="string"){i.indexOf("{")!==-1&&i.indexOf("}")!==-1&&(i=i.replace("{","").replace("}",""));const t={};return i.split(";").forEach(c=>{const[l,r]=c.split(":");t[l.trim()]=r.trim()}),t}try{return i}catch{return""}}),getComponent:(i,t,c)=>{const l=i&&o.Configurations[e.device.function]&&o.Configurations[e.device.function][i.toLowerCase()]||{},r=e.deviceConfig[t+"Element"]||c||e.isPopup!==void 0&&l[t+"Element"]||null;return o.Components[e.device.function]&&o.Components[e.device.function][t]&&o.Components[e.device.function][t][r]||o.Components._defaults&&o.Components._defaults[t]&&o.Components._defaults[t][r]||o.Components._defaults&&o.Components._defaults[t]&&o.Components._defaults[t][i]||null},onDevice:()=>{e.openDeviceDetails!==!1&&e.device.options&&e.device.options.suppressPopup!==!0&&y.set({selectedDeviceId:e.device.id})},setDevice:D.set}}}),w={key:0,class:"jarvis-StateListItem-Action-primaryStateKey"},B={class:"jarvis-StateListItem-Action-secondaryStatesKeys"};function A(e,y,f,u,C,i){const t=K("icon");return n(),a(k,{key:e.device.id+"-"+e.device.revision+"-"+(e.isPopup!==void 0?"v":"x"),clickable:e.openDeviceDetails!==!1&&e.device.options&&e.device.options.suppressPopup!==!0,"v-ripple":e.openDeviceDetails!==!1&&e.device.options&&e.device.options.suppressPopup!==!0,onClick:e.onDevice,class:E(["jarvis-StateListItem",{"jarvis-StateListItem-Popup":e.isPopup!==void 0,"jarvis-StateListItem-Separator":!e.isFirstItem&&e.isPopup!==void 0}]),style:j(e.bodyStyle)},{default:v(()=>[p(m,{avatar:"",class:"jarvis-StateListItem-Icon"},{default:v(()=>[e.error?(n(),a(t,{key:1,name:"mdi:alert",color:"warning",tooltip:e.error},null,8,["tooltip"])):(n(),a(t,{key:0,styles:(e.primaryState.icon?e.primaryState.iconStyle:e.bodyState.iconStyle)||{},name:e.primaryState.icon||e.bodyState.icon||e.device.icon||e.device.functionIcon,color:"primary"},null,8,["styles","name"]))]),_:1}),p(m,{class:"jarvis-StateListItem-Body"},{default:v(()=>[(n(),a(s(e.getComponent("Title","components")),{stateKey:e.deviceConfig.bodyStateKey,state:e.bodyState,device:e.device,deviceConfig:e.deviceConfig,isPopup:e.isPopup},null,8,["stateKey","state","device","deviceConfig","isPopup"])),e.deviceConfig.bodyStateKey&&e.deviceConfig.bodyElement!==null?(n(),a(s(e.getComponent(e.deviceConfig.bodyStateKey,"body",e.bodyState.bodyElement)),{key:0,stateKey:e.deviceConfig.bodyStateKey,state:e.bodyState,device:e.device,deviceConfig:e.deviceConfig.bodyElement===void 0?e.bodyState.config:e.deviceConfig,onSetDevice:e.setDevice},null,40,["stateKey","state","device","deviceConfig","onSetDevice"])):d("",!0)]),_:1}),p(m,{side:"",class:"jarvis-StateListItem-Action"},{default:v(()=>[e.deviceConfig.primaryStateKey?(n(),L("div",w,[e.deviceConfig.showState!==!1?(n(),a(s(e.getComponent("State","components")),{key:0,stateKey:e.deviceConfig.primaryStateKey,state:e.primaryState,device:e.device,deviceConfig:e.deviceConfig},null,8,["stateKey","state","device","deviceConfig"])):d("",!0),e.deviceConfig.actionElement!==null?(n(),a(s(e.getComponent(e.deviceConfig.primaryStateKey,"action",e.primaryState.actionElement)),{key:1,stateKey:e.deviceConfig.primaryStateKey,state:e.primaryState,device:e.device,deviceConfig:e.deviceConfig.actionElement===void 0?e.primaryState.config:e.deviceConfig,onSetDevice:e.setDevice},null,40,["stateKey","state","device","deviceConfig","onSetDevice"])):d("",!0)])):d("",!0),P("div",B,[e.deviceConfig.secondaryStatesKeys?(n(),a(s(e.getComponent("SecondaryStates","components")),{key:0,stateKey:e.deviceConfig.primaryStateKey,state:e.primaryState,device:e.device,deviceConfig:e.deviceConfig,onSetDevice:e.setDevice},null,40,["stateKey","state","device","deviceConfig","onSetDevice"])):d("",!0)])]),_:1})]),_:1},8,["clickable","v-ripple","onClick","class","style"])}var V=I(h,[["render",A],["__scopeId","data-v-5bcf1927"]]);export{V as default};
