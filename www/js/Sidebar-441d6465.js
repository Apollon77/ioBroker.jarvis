var Y=Object.defineProperty,_=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var N=(e,s,i)=>s in e?Y(e,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[s]=i,T=(e,s)=>{for(var i in s||(s={}))ee.call(s,i)&&N(e,i,s[i]);if(E)for(var i of E(s))ae.call(s,i)&&N(e,i,s[i]);return e},D=(e,s)=>_(e,x(s));import{_ as se,q as te,H as re,ci as oe,db as ie,c as d,a2 as k,cF as ne,z as de,A as le,j as ue,o as n,a as u,w as r,k as o,ab as ve,O as ce,g as l,e as R,d as P,l as be,f as p,a6 as q,J as b,a1 as w,Z as j,n as f,i as h,t as m,L as Q,M as y,F as pe,N as A,cK as F,cS as fe}from"./index-10e282a0.js";import{Q as ye}from"./QToolbar-71b2b692.js";import{Q as ge}from"./QHeader-23ec47a0.js";import{Q as we}from"./QDrawer-fa90d479.js";const me=te({name:"Sidebar",setup(){const e=re(),s=oe(),i=ie.isPro(),H=s.platform.is.mobile,C=s.screen.sizes.md,B=d(()=>i?e.layout:e.layout.slice(0,1)),v=d(()=>e.drawerMiniMode),a=k(!0),S=k(B.value),J=t=>{const c=S.value.findIndex(M=>M.id===t.id);S.value[c]=D(T({},t),{revision:fe().substr(0,5)})};for(const t of B.value)t.config={icon:t.icon,title:t.title},ne.getBindings(t,J);const z=t=>e.set("drawerSidebar",t),U=d({get(){return e.drawerSidebar},set(t){z(t)}}),W=d(()=>e.settings),K=d(()=>{var t;return(t=e.getSelectedPage)==null?void 0:t.id}),O=t=>{var M,V;const c=(V=(M=t.tabs)==null?void 0:M[0])==null?void 0:V.id;if(!c)return console.warn("Sidebar","Page "+t.id+" has no tabs!",t),!1;e.set({selectedTabId:c})},Z=d(()=>{var t,c;return((c=(t=e.getSelectedPage)==null?void 0:t.tabs)==null?void 0:c.count)||0}),G=d(()=>v.value===!0?!a.value:!0),I=d(()=>v.value===!0?Z.value<=1:!0),$=k(),X=d(()=>$.value&&$.value.$el.clientHeight||0),L=k(window.innerHeight-(I.value?40:0)),g=()=>{L.value=window.innerHeight-(I.value?40:0)};return de(()=>{window.addEventListener("orientationchange",g),window.addEventListener("resize",g)}),le(()=>{window.removeEventListener("orientationchange",g),window.removeEventListener("resize",g)}),{elementSidebarBottom:$,elementSidebarBottomHeight:X,isPro:i,isSmartphone:H,maxMobileSize:C,windowHeight:L,onResize:g,itemsWithResolvedBindings:S,drawerMiniMode:v,drawerMiniState:a,sidebar:U,toggleSidebar:z,setPage:O,selectedPageId:K,expanded:G,header:I,settings:W}}}),he=h("jarvis"),Se={class:"headerInvisible"};function Me(e,s,i,H,C,B){const v=ue("icon");return e.settings.drawerShowMenuButton!==!1?(n(),u(we,{key:0,ref:"drawer",modelValue:e.sidebar,"onUpdate:modelValue":s[1]||(s[1]=a=>e.sidebar=a),mini:e.drawerMiniMode&&e.drawerMiniState,onMouseover:s[2]||(s[2]=a=>e.drawerMiniState=!1),onMouseout:s[3]||(s[3]=a=>e.drawerMiniState=!0),"mini-to-overlay":"",bordered:"",behavior:e.drawerMiniMode?"default":"mobile",overlay:!e.drawerMiniMode,"show-if-above":e.drawerMiniMode,breakpoint:e.maxMobileSize,class:p(["jarvis-sidebar-container",{"jarvis-sidebar-minimode":e.drawerMiniMode===!0,"jarvis-tabs-bottom":e.settings.tabsBottom===!0,"jarvis-header-hidden":e.settings.headerVisible!==!0}]),"content-class":"jarvis-sidebar"},{default:r(()=>[e.drawerMiniMode!==!0?(n(),u(ge,{key:0,style:{position:"relative"}},{default:r(()=>[o(ye,null,{default:r(()=>[o(ve),o(ce,{flat:"",dense:"",round:"",icon:"mdi-chevron-left","aria-label":"Menu",onClick:s[0]||(s[0]=a=>e.toggleSidebar(!1))})]),_:1})]),_:1})):l("",!0),R("div",{style:f({height:e.windowHeight-44+"px"}),class:"q-mt-xs"},[o(A,{dense:"",class:"jarvis-sidebar-items",style:f({"overflow-x":"hidden","overflow-y":e.expanded?"auto":"hidden",maxHeight:e.windowHeight-(e.header?40:0)-e.elementSidebarBottomHeight+"px"})},{default:r(()=>[(n(!0),P(pe,null,be(e.itemsWithResolvedBindings,a=>(n(),P("div",{key:a.id,class:p(["jarvis-sidebar-item",["jarvis-sidebar-item-"+a.type,"jarvis-"+a.type,"jarvis-"+a.type+"-"+a.id,a.tabs&&a.tabs[0]&&a.tabs[0].id?"jarvis-route-tab-"+(a.tabs&&a.tabs[0]&&a.tabs[0].id):""]])},[a.type==="divider"?(n(),u(q,{key:0,spaced:""})):l("",!0),a.type==="header"?b((n(),u(j,{key:1,header:"",style:f(e.isPro&&a.bodyStyle||{})},{default:r(()=>[h(m(a.title),1)]),_:2},1032,["style"])),[[w,e.expanded]]):l("",!0),a.type==="header"?b((n(),P("div",{key:2,class:"headerInvisible",style:f(e.isPro&&a.bodyStyle||{})},"\xA0",4)),[[w,!e.expanded]]):l("",!0),!a.type||a.type==="page"?(n(),u(Q,{key:3,to:{params:{tabId:a.tabs&&a.tabs[0]&&a.tabs[0].id}},clickable:"",onClick:S=>e.setPage(a),class:p(["full-width",{selected:a.id===e.selectedPageId}]),style:f(e.isPro&&a.bodyStyle||{}),"active-class":"selected"},{default:r(()=>[o(y,{avatar:"",center:"",class:p({selectedText:a.id===e.selectedPageId})},{default:r(()=>[o(v,{name:a.icon,style:f(e.isPro&&a.iconStyle?a.iconStyle:a.id===e.selectedPageId?"white":"primary")},null,8,["name","style"])]),_:2},1032,["class"]),o(y,null,{default:r(()=>[o(j,{class:p({selectedText:a.id===e.selectedPageId})},{default:r(()=>[h(m(a.title),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1032,["to","onClick","style","class"])):l("",!0),!a.type||a.type==="page"?(n(),P("div",{key:4,class:p(["spacer",{selected:a.id===e.selectedPageId}])},null,2)):l("",!0)],2))),128))]),_:1},8,["style"]),e.isSmartphone?l("",!0):b((n(),u(A,{key:0,ref:"elementSidebarBottom",class:"sidebarBottom"},{default:r(()=>[o(q,{spaced:""}),b(o(j,{header:""},{default:r(()=>[he]),_:1},512),[[w,e.expanded]]),b(R("div",Se,"\xA0",512),[[w,!e.expanded]]),e.isPro?l("",!0):b((n(),u(Q,{key:0,clickable:"",to:{name:"AccountPage",params:e.$route.params},exact:""},{default:r(()=>[o(y,{avatar:""},{default:r(()=>[o(v,{name:"mdi-heart",color:"primary"})]),_:1}),o(y,null,{default:r(()=>[h(m(e.$t("Pro Account")),1)]),_:1})]),_:1},8,["to"])),[[F]]),b((n(),u(Q,{clickable:"",to:{name:"DevicesPage",params:e.$route.params},exact:"",id:"SettingsButton"},{default:r(()=>[o(y,{avatar:""},{default:r(()=>[o(v,{name:"mdi-cog",color:"primary"})]),_:1}),o(y,null,{default:r(()=>[h(m(e.$t("Configuration"))+" & "+m(e.$t("Help")),1)]),_:1})]),_:1},8,["to"])),[[F]])]),_:1},512)),[[w,e.settings.drawerShowSettings!==!1]])],4)]),_:1},8,["modelValue","mini","behavior","overlay","show-if-above","breakpoint","class"])):l("",!0)}var je=se(me,[["render",Me]]);export{je as default};
