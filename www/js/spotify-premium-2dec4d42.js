import{ei as y,du as p}from"./index-29a2b242.js";function f(e){const t=e(".devices.{PLAYER}.useForPlayback");t&&p.getConnection.setState(t,!0).catch(n=>console.warn("MediaControl.Spotify",n.message||n))}function v(e){const t=p.getConnection,o=e+".devices";return t.setState(e+".getDevices",!0).catch(n=>console.warn("MediaControl.Spotify",n.message||n)),new Promise(n=>{t.getObjectView("system","device",{startkey:o,endkey:o+".\u9999"}).then(u=>{const s=[];for(const a of u)s.push(new Promise((r,i)=>{t.getStates(a.id+".*").then(l=>{l&&l[a.id+".id"]!==null&&l[a.id+".id"]!==void 0&&l[a.id+".isAvailable"]!==null&&l[a.id+".isAvailable"]!==void 0&&l[a.id+".isAvailable"].val===!0&&l[a.id+".id"].val!==l[a.id+".name"].val?r({id:a.id.replace(o+".",""),name:l[a.id+".name"].val}):i()})}));y(s).then(a=>{const r=[];a.forEach(i=>i.status==="fulfilled"&&r.push(i.value)),n(r)})})})}function c(e){const[t,o]=e.split(":");return parseInt(t)*60+parseInt(o)}var m={_namespace:"",player:".player.device.id",artist:".player.artistName",album:".player.album",track:".player.trackName",year:null,cover:".player.albumImageUrl",play:{state:".player.isPlaying",action:".player.play",setter:(e,t)=>e},pause:{action:".player.pause"},resume:{action:".player.play"},stop:{action:null},previous:{action:".player.skipMinus"},next:{action:".player.skipPlus"},progress:{state:".player.progress",convert:c,action:".player.progressMs",setter:e=>e*1e3},duration:{state:".player.duration",convert:c},repeat:{state:".player.repeat",action:".player.repeat",display:{off:"off",track:"once",context:"all"},setter:e=>e==="once"?"track":e==="all"?"context":e},shuffle:{state:".player.shuffle",action:".player.shuffle",display:{off:"off",on:"on"}},volume:{state:".player.device.volume",action:".player.device.volume",display:{off:0}}};export{m as default,v as getPlayers,f as setPlayer};
