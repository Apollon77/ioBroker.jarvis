import{s as M,bZ as V,cu as w,b$ as z,cR as U,c3 as Y,cS as Z,k as T,c9 as F,Q as l,aY as b,cT as J,ao as W,ac as t,a9 as X,bQ as k,bz as p,b3 as ee,bn as ne,ci as te,bK as q,bA as m,bu as _,ck as ae}from"./index-e89a99fa.js";import{Q as ie}from"./QSlideTransition-c70310ba.js";const u=M({}),oe=Object.keys(w);var ce=V({name:"QExpansionItem",props:{...w,...z,...U,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Y,"click","after-show","after-hide"],setup(e,{slots:r,emit:g}){const{proxy:{$q:v}}=X(),f=Z(e,v),i=T(e.modelValue!==null?e.modelValue:e.defaultOpened),h=T(null),{hide:L,toggle:x}=F({showing:i});let o,c;const y=l(()=>`q-expansion-item q-item-type q-expansion-item--${i.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),C=l(()=>{if(e.contentInsetLevel===void 0)return null;const n=v.lang.rtl===!0?"Right":"Left";return{["padding"+n]:e.contentInsetLevel*56+"px"}}),s=l(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),Q=l(()=>{const n={};return oe.forEach(a=>{n[a]=e[a]}),n}),O=l(()=>s.value===!0||e.expandIconToggle!==!0),B=l(()=>e.expandedIcon!==void 0&&i.value===!0?e.expandedIcon:e.expandIcon||v.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),P=l(()=>e.disable!==!0&&(s.value===!0||e.expandIconToggle===!0));b(()=>e.group,n=>{c!==void 0&&c(),n!==void 0&&I()});function j(n){s.value!==!0&&x(n),g("click",n)}function N(n){n.keyCode===13&&S(n,!0)}function S(n,a){a!==!0&&h.value!==null&&h.value.focus(),x(n),ae(n)}function R(){g("after-show")}function A(){g("after-hide")}function I(){o===void 0&&(o=J()),i.value===!0&&(u[e.group]=o);const n=b(i,d=>{d===!0?u[e.group]=o:u[e.group]===o&&delete u[e.group]}),a=b(()=>u[e.group],(d,G)=>{G===o&&d!==void 0&&d!==o&&L()});c=()=>{n(),a(),u[e.group]===o&&delete u[e.group],c=void 0}}function $(){const n={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},a=[t(_,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&i.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:B.value})];return P.value===!0&&(Object.assign(n,{tabindex:0,onClick:S,onKeyup:N}),a.unshift(t("div",{ref:h,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),t(m,n,()=>a)}function D(){let n;return r.header!==void 0?n=[].concat(r.header({expanded:i.value===!0})):(n=[t(m,()=>[t(q,{lines:e.labelLines},()=>e.label||""),e.caption?t(q,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&n[e.switchToggleSide===!0?"push":"unshift"](t(m,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>t(_,{name:e.icon})))),e.disable!==!0&&n[e.switchToggleSide===!0?"unshift":"push"]($()),n}function E(){const n={ref:"item",style:e.headerStyle,class:e.headerClass,dark:f.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return O.value===!0&&(n.clickable=!0,n.onClick=j,s.value===!0&&Object.assign(n,Q.value)),t(p,n,D)}function H(){return ee(t("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:C.value},te(r.default)),[[ne,i.value]])}function K(){const n=[E(),t(ie,{duration:e.duration,onShow:R,onHide:A},H)];return e.expandSeparator===!0&&n.push(t(k,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:f.value}),t(k,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:f.value})),n}return e.group!==void 0&&I(),W(()=>{c!==void 0&&c()}),()=>t("div",{class:y.value},[t("div",{class:"q-expansion-item__container relative-position"},K())])}});export{ce as Q};
