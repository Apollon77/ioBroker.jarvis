(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"424e":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-dialog",{attrs:{value:null!==e.widget,"full-height":"",persistent:""}},[null!==e.widget?i("q-card",{staticClass:"column full-height",staticStyle:{width:"1400px","max-width":"90vw"}},[i("q-card-section",{staticClass:"row items-center"},[i("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("Widget"))+" "+e._s(e.widget.title))]),i("q-space"),i("q-btn",{attrs:{flat:"",round:"",color:"grey",icon:"close"},on:{click:function(t){return e.cancel()}}})],1),i("q-separator"),i("q-card-section",{staticClass:"col scroll body"},[i("div",{staticClass:"text-h6 primary q-ma-sm"},[e._v(e._s(e.$t("Widget-Box")))]),i("q-separator",{staticStyle:{margin:"0 -16px"}}),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("inputs",{attrs:{id:"icon",label:e.$t("Widget Icon"),value:e.widget.icon||e.ModuleSettings.icon||"",icon:e.widget.icon},on:{onChange:e.onChange}})],1),i("div",{staticClass:"col"},[i("inputs",{attrs:{id:"title",label:e.$t("Widget Title"),value:e.widget.title||"",autofocus:""},on:{onChange:e.onChange}})],1),i("div",{staticClass:"col"},[i("inputs",{attrs:{id:"link",label:e.$t("Widget Link"),value:e.widget.link||"",info:"config#HomeKitTile#jumper#info"},on:{onChange:e.onChange}})],1),i("div",{staticClass:"col"},[i("inputs",{attrs:{type:"switch",id:"hideTitle",label:e.$t("Hide Widget Title and Icon"),value:e.widget.hideTitle||!1},on:{onChange:e.onChange}})],1)]),i("div",{staticClass:"text-h6 primary q-ma-sm"},[e._v(e._s(e.$t("Module")))]),i("q-separator",{staticStyle:{margin:"0 -16px"}}),i("div",{staticClass:"row"},[i("div",{staticClass:"col-3"},[i("inputs",{attrs:{id:"module",label:e.$t("Module"),type:"select",options:e.ModuleList,value:e.widget.module,"options-dense":"","use-input":"",required:"",error:void 0!==e.errors["module"],"error-message":e.errors["module"]},on:{onSelect:e.onChange}})],1),i("div",{staticClass:"col-9"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.widget.module,expression:"widget.module"}],staticClass:"centered"},[e._v(e._s(e.$t(e.widget.module+"#description")))])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.widget.module,expression:"widget.module"}]},[i("div",{staticClass:"text-h7 primary q-ma-sm"},[e._v(e._s(e.$t("Module Configuration")))]),i("q-separator",{staticStyle:{margin:"0 0 8px 0"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.ModuleConfigurations.length>0,expression:"ModuleConfigurations.length > 0"}],staticClass:"row"},[e._l(e.ModuleConfigurations,(function(t){return[!0!==t.hide?i("div",{directives:[{name:"show",rawName:"v-show",value:e.dependencies(t.dependencies),expression:"dependencies(ModuleConfig.dependencies)"}],key:t.parameter,class:"col-"+(t.columns||4)},[i("inputs",e._b({attrs:{value:e.getValueForInput(t)},on:{onChange:function(i){return e.onChange(Object.assign({},arguments[0],{id:"config."+t.parameter}))},onSelect:function(i){return e.onChange(Object.assign({},arguments[0],{id:"config."+t.parameter}))}}},"inputs",t,!1))],1):e._e()]}))],2),i("div",{directives:[{name:"show",rawName:"v-show",value:0===e.ModuleConfigurations.length,expression:"ModuleConfigurations.length === 0"}],staticClass:"row"},[i("p",{staticClass:"q-pa-sm"},[e._v("\n\t\t\t\t\t\t"+e._s(e.$t("No configuration options for this module"))+"\n\t\t\t\t\t")])]),e.ModuleSettings&&e.ModuleSettings.customConfiguration?i("div",{staticClass:"row"},[i(e.ModuleSettings.customConfiguration,{tag:"component",attrs:{config:e.widget.config},on:{onChange:e.onChange}})],1):e._e(),!1!==e.ModuleSettings.addDevice?[i("div",{staticClass:"text-h7 primary q-ma-sm"},[e._v(e._s(e.$t("Module Devices")))]),i("q-separator",{staticStyle:{margin:"0 -0 8px 0"}}),i("div",{staticClass:"row"},[i("widget-devices-section",{attrs:{itemList:e.widget.items||[],module:e.widget.module},on:{onChange:e.onChange}})],1)]:e._e()],2)],1),i("q-separator"),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:e.$t("Cancel"),color:"negative"},on:{click:function(t){return e.cancel()}}}),i("q-btn",{attrs:{flat:"",label:e.$t("Apply"),color:"primary",disable:e.hasErrors},on:{click:e.save}})],1)],1):e._e()],1)},o=[],n=(i("ac1f"),i("5319"),i("a6f4")),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"full-width"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-4"},[i("q-select",{directives:[{name:"show",rawName:"v-show",value:!1!==e.ModuleSettings.addDevice&&(!e.ModuleSettings.addDevice||e.ModuleSettings.addDevice&&(void 0===e.ModuleSettings.addDevice.max||e.ModuleSettings.addDevice.max>e.items.length)),expression:"ModuleSettings.addDevice !== false && (!ModuleSettings.addDevice || (ModuleSettings.addDevice && (ModuleSettings.addDevice.max === undefined || ModuleSettings.addDevice.max > items.length)))"}],ref:"addDeviceSelect",staticStyle:{margin:"0 8px"},attrs:{label:e.$t("Add Device"),options:e.optionGroupsAddDevice,value:"","use-input":"","stack-label":""},on:{filter:e.filter},scopedSlots:e._u([{key:"option",fn:function(t){return[i("q-expansion-item",{attrs:{"expand-separator":"","header-class":"text-weight-bold",label:t.opt.label,icon:t.opt.icon}},[e._l(t.opt.devices,(function(t){return[i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.id,attrs:{clickable:""},on:{click:function(i){return e.addDevice(t.id)}}},[i("q-item-section",[i("q-item-label",{staticClass:"q-ml-md"},[e._v(e._s(t.name))])],1)],1)]}))],2)]}}])})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!1!==e.ModuleSettings.addGroup,expression:"ModuleSettings.addGroup !== false"}],staticClass:"col-1",staticStyle:{"text-align":"center","line-height":"70px"}},[e._v(e._s(e.$t("or")))]),i("div",{directives:[{name:"show",rawName:"v-show",value:!1!==e.ModuleSettings.addGroup,expression:"ModuleSettings.addGroup !== false"}],staticClass:"col-3"},[i("inputs",{attrs:{label:"Add Group",value:e.group.value||""},on:{onChange:function(t){e.group=arguments[0]},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addGroup.apply(null,arguments)}}},[[i("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.group.value,expression:"group.value"}],staticStyle:{height:"32px","min-width":"100px","margin-top":"16px"},attrs:{flat:"",size:"sm",dense:"",icon:"mdi-check",label:e.$t("add group")},on:{click:e.addGroup}})]],2)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!1!==e.ModuleSettings.addDivider,expression:"ModuleSettings.addDivider !== false"}],staticClass:"col-1",staticStyle:{"text-align":"center","line-height":"70px"}},[e._v(e._s(e.$t("or")))]),i("div",{directives:[{name:"show",rawName:"v-show",value:!1!==e.ModuleSettings.addDivider,expression:"ModuleSettings.addDivider !== false"}],staticClass:"col-3",staticStyle:{"line-height":"70px"}},[i("q-btn",{attrs:{icon:"mdi-minus",label:e.$t("Add Divider"),color:"primary"},on:{click:e.addDivider}})],1)]),i("div",{staticClass:"row"},[i("q-list",{staticClass:"full-width",staticStyle:{"margin-top":"16px"}},[i("draggable",{attrs:{handle:".dragndrop"},on:{change:e.emitChange},model:{value:e.items,callback:function(t){e.items=t},expression:"items"}},[i("transition-group",{attrs:{type:"transition",name:"flip-list",tag:"div"}},e._l(e.items,(function(t){return i("div",{key:t.id,staticClass:"list-group-item",attrs:{set:e.isInGroup=(!e.isInGroup||"divider"!==t.type)&&("group"===t.type||e.isInGroup)}},[i("q-item",[i("q-item-section",{attrs:{avatar:""}},[i("div",{staticClass:"row items-center"},[i("icon",{directives:[{name:"show",rawName:"v-show",value:e.items.length>1,expression:"items.length > 1"}],staticClass:"dragndrop",staticStyle:{"padding-right":"16px"},attrs:{name:"mdi-drag-horizontal"}}),i("inputs",{attrs:{type:"button",icon:"mdi-content-copy",tooltip:e.$t("copy")},on:{click:function(i){return e.copyItem(i,t.id)}}}),i("inputs",{directives:[{name:"show",rawName:"v-show",value:!0!==t._deleted,expression:"item._deleted !== true"}],attrs:{type:"button",icon:"mdi-delete",tooltip:e.$t("delete"),color:"negative"},on:{click:function(i){return e.deleteItem(i,t.id)}}}),i("inputs",{directives:[{name:"show",rawName:"v-show",value:!0===t._deleted,expression:"item._deleted === true"}],staticClass:"restore",attrs:{type:"button",icon:"mdi-restore",tooltip:e.$t("restore"),color:"positive"},on:{click:function(i){return e.restoreItem(i,t.id)}}})],1)]),"device"!==t.type||"device"===t.type&&void 0!==e.deviceList[t.deviceId]?[i("q-item-section",["divider"===t.type?i("span",[i("em",[e._v(e._s("("+e.$t("divider")+")"))])]):e._e(),"group"===t.type?i("span",[i("strong",[e._v(e._s(t.name))])]):e._e(),"device"===t.type?i("span",[i("strong",[e._v(e._s(e.deviceList[t.deviceId].name))]),e._v(" ("+e._s(e.deviceList[t.deviceId].function+", #"+t.deviceId)+")")]):e._e(),"device"===t.type?i("div",{staticClass:"row nowrap"},[e.shallBeShown("label")?i("inputs",{staticStyle:{width:"150px"},attrs:{dense:"",label:"Label",itemId:t.id,id:"label",value:t.label||e.deviceList[t.deviceId].states[t.bodyStateKey]&&e.deviceList[t.deviceId].states[t.bodyStateKey].label||"",placeholder:e.deviceList[t.deviceId].label||e.deviceList[t.deviceId].name},on:{onChange:e.onChange}}):e._e(),e.shallBeShown("bodyStateKey")?i("inputs",{staticStyle:{width:"130px"},attrs:{dense:"",label:"Body State",itemId:t.id,id:"bodyStateKey",value:t.bodyStateKey,type:"select",options:e.deviceStatesOptions(t.deviceId)},on:{onSelect:e.onChange}}):e._e(),e.shallBeShown("bodyElement")?i("inputs",{directives:[{name:"show",rawName:"v-show",value:t.bodyStateKey,expression:"item.bodyStateKey"}],staticStyle:{width:"230px"},attrs:{dense:"",id:"bodyElement",label:"Body Element",itemId:t.id,value:t.bodyElement,info:"mdi-plus",type:"select.components",components:e.FUNCTION_COMPONENTS["bodyElements"][e.deviceFunction(t)],componentValues:e.componentValues(t)},on:{onSelect:e.onChange,onOptions:e.onChange}}):e._e()],1):e._e()]),e.ModuleSettings.addDevice&&e.ModuleSettings.addDevice.customDeviceSection?i("q-item-section",[i(e.ModuleSettings.addDevice.customDeviceSection,{tag:"component",attrs:{item:t},on:{onChange:e.onChange}})],1):e._e(),i("q-item-section",{attrs:{side:""}},["group"===t.type?i("div",{staticClass:"row nowrap"},[i("inputs",{staticStyle:{width:"100px"},attrs:{dense:"",label:e.$t("Group Actions"),itemId:t.id,id:"actions",value:t.actions||!1,type:"switch"},on:{onChange:e.onChange}}),e.shallBeShown("groupElement")?i("inputs",{directives:[{name:"show",rawName:"v-show",value:!0===t.actions,expression:"item.actions === true"}],staticStyle:{width:"200px"},attrs:{dense:"",id:"groupElement",label:"Group Element",itemId:t.id,value:t.groupElement,info:"mdi-plus",type:"select.components",components:e.FUNCTION_COMPONENTS["actionElements"]["_defaults"].filter((function(e){return"InputAction"!==e.value&&"DropdownAction"!==e.value})),componentValues:e.componentValues(t)},on:{onSelect:e.onChange,onOptions:e.onChange}}):e._e()],1):e._e(),"device"===t.type?i("div",{staticClass:"row nowrap"},[e.shallBeShown("primaryStateKey")?i("inputs",{staticStyle:{width:"130px"},attrs:{dense:"",label:"Action State",itemId:t.id,id:"primaryStateKey",value:t.primaryStateKey||e.deviceStates(t.deviceId)[0],type:"select",options:e.deviceStatesOptions(t.deviceId)},on:{onSelect:e.onChange}}):e._e(),e.shallBeShown("showState")?i("inputs",{directives:[{name:"show",rawName:"v-show",value:t.primaryStateKey,expression:"item.primaryStateKey"}],staticStyle:{width:"100px"},attrs:{dense:"",label:"Show State",itemId:t.id,id:"showState",value:void 0===t.showState||t.showState,type:"switch"},on:{onChange:e.onChange}}):e._e(),e.shallBeShown("showGroupAction")?i("inputs",{directives:[{name:"show",rawName:"v-show",value:t.primaryStateKey&&!0===e.isInGroup,expression:"item.primaryStateKey && isInGroup === true"}],staticStyle:{width:"100px"},attrs:{dense:"",label:"Use in Actions",itemId:t.id,id:"useInGroup",value:void 0===t.useInGroup||t.useInGroup,type:"switch"},on:{onChange:e.onChange}}):e._e(),e.shallBeShown("actionElement")?i("inputs",{directives:[{name:"show",rawName:"v-show",value:t.primaryStateKey,expression:"item.primaryStateKey"}],staticStyle:{width:"200px"},attrs:{dense:"",id:"actionElement",label:"Action Element",itemId:t.id,value:t.actionElement,info:"mdi-plus",type:"select.components",components:e.FUNCTION_COMPONENTS["actionElements"][e.deviceFunction(t)],componentsValues:e.componentValues(t,"action","primary"),device:e.getDevice(t.deviceId)},on:{onSelect:e.onChange,onOptions:e.onChange}}):e._e()],1):e._e(),"device"===t.type?i("div",{staticClass:"row nowrap"},[e.shallBeShown("secondaryStatesKeys")?i("q-select",{staticStyle:{width:"430px"},attrs:{"stack-label":"",dense:"",label:e.$t("Secondary State"),value:t.secondaryStatesKeys,options:e.deviceStatesOptions(t.deviceId),"use-chips":"",multiple:""},on:{input:function(i){return e.onChangeSecondaryStatesKeys(t.id,arguments[0])}}}):e._e()],1):e._e()])]:i("q-item-section",[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.$t("Device not found")+" ("+e.$t("Device ID")+": "+t.deviceId+")")+"\n\t\t\t\t\t\t\t")])],2),i("q-separator")],1)})),0)],1)],1)],1)])},d=[],l=i("ec26"),r=i("b76a"),c=i.n(r),u=i("6211"),p=i("c7ac");const g=i("0050")(),m=i("3c4e");var h=Object(n["c"])({name:"WidgetDevicesSection",props:["module","itemList"],components:{Draggable:c.a,WidgetDevicesSection:O},data(){this.FUNCTION_COMPONENTS=p["listOfComponents"];const e=this.$store.getters["editor/getGroups"]("function");return{components:p["listOfComponents"],deviceId:null,group:{},isInGroup:!1,items:g(this.itemList),deviceList:this.$store.state.editor.devices,optionsAddDevice:e,optionGroupsAddDevice:Object.values(e),optionGroupsAddDeviceDefault:Object.values(e),ModuleSettings:u["c"]._ModuleSettings[this.module]||{}}},watch:{module(e){this.ModuleSettings=u["c"]._ModuleSettings[e]||{}}},methods:{shallBeShown(e){return!this.ModuleSettings.addDevice||this.ModuleSettings.addDevice&&(!this.ModuleSettings.addDevice.fields||this.ModuleSettings.addDevice.fields&&this.ModuleSettings.addDevice.fields.includes(e))},filter(e,t){const i=e?Object.values(this.$store.getters["editor/getGroups"]("function",e)):this.optionGroupsAddDeviceDefault;t((()=>{this.optionGroupsAddDevice=i}))},componentValues(e,t="body",i="body"){const s=this.deviceList[e.deviceId]&&this.deviceList[e.deviceId].states[e[i+"StateKey"]]||{},o=e[t+"Element"];return m(s[o+"Config"]||{},e[o+"Config"]&&e[o+"Config"][e.primaryStateKey]||{})},getDevice(e){return this.deviceList[e]},deviceFunction(e){return"other"===this.deviceList[e.deviceId].function?"_defaults":this.deviceList[e.deviceId].function},deviceStates(e){return Object.keys(this.deviceList[e].states)||[]},deviceStatesOptions(e){return this.deviceStates(e).map((e=>({label:e,value:e})))},hasDevices(e){return this.optionsAddDevice[e].devices.length>0},emitChange(){this.$emit("onChange",{id:"items",value:this.items})},deleteItem(e,t){e.stopPropagation(),this.$delete(this.items,this.items.findIndex((e=>e.id===t))),this.emitChange()},copyItem(e,t){e.stopPropagation();const i=g(this.items.find((e=>e.id===t)));this.addItem(i)},addItem(e){const t=Object(l["a"])();this.items.push({...e,id:t}),this.emitChange()},addDevice(e){this.addItem({type:"device",deviceId:e}),this.ModuleSettings.addDevice&&void 0!==this.ModuleSettings.addDevice.max&&this.ModuleSettings.addDevice.max<=this.items.length&&this.$refs.addDeviceSelect.hidePopup()},addGroup(){this.addItem({type:"group",name:this.group.value}),this.group={}},addDivider(){this.addItem({type:"divider"})},onChange(e){if(e.id&&e.itemId){const t=this.items.findIndex((t=>t.id===e.itemId));if(t>-1){if(e.id.indexOf("moduleConfig.")>-1)this.$set(this.items,t,{...this.items[t],moduleConfig:{...this.items[t].moduleConfig||{},[e.id.replace("moduleConfig.","")]:e.value}});else if("componentOptions"===e.id){const i=this.items[t].primaryStateKey;this.$set(this.items[t],e.component+"Config",{...this.items[t][e.component+"Config"]||{},[i]:{...this.items[t][e.component+"Config"]&&this.items[t][e.component+"Config"][i]||{},...e.value}})}else this.$set(this.items,t,{...this.items[t],[e.id]:e.value});this.$emit("onChange",{id:"items",value:this.items})}}},onChangeSecondaryStatesKeys(e,t){this.onChange({value:t.map((e=>e.value||e)),itemId:e,id:"secondaryStatesKeys"})}}}),v=h,w=i("2877"),f=i("ddd8"),y=i("3b73"),S=i("66e5"),C=i("4074"),b=i("0170"),_=i("9c40"),x=i("1c1c"),I=i("eb85"),M=i("714f"),D=i("eebe"),$=i.n(D),q=Object(w["a"])(v,a,d,!1,null,null,null),O=q.exports;$()(q,"components",{QSelect:f["a"],QExpansionItem:y["a"],QItem:S["a"],QItemSection:C["a"],QItemLabel:b["a"],QBtn:_["a"],QList:x["a"],QSeparator:I["a"]}),$()(q,"directives",{Ripple:M["a"]});const k=i("0050")();var W=Object(n["c"])({name:"WidgetPage",props:["widgetId"],components:{WidgetDevicesSection:O},data(){return this.ModuleList=u["c"]._ModuleList.map((e=>({label:e,value:e}))),{component:null,errors:{},ModuleConfigurations:[],ModuleSettings:{},widget:null}},computed:{hasErrors(){return Object.keys(this.errors).length>0}},methods:{dependencies(e){return!e||Object.keys(e).some((t=>this.widget.config[t]===e[t]))},getValueForInput(e){return this.widget&&void 0!==this.widget.config[e.parameter]?this.widget.config[e.parameter]:"function"===typeof e.value?e.value():e.value},onChange(e){const{_error:t,id:i,value:s}=e;t?this.$set(this.errors,i,t):i.indexOf("config.")>-1?(this.$delete(this.errors,i),this.$set(this.widget.config,i.replace("config.",""),s)):(this.$delete(this.errors,i),this.$set(this.widget,i,s),"module"===i&&(this.ModuleConfigurations=u["c"]._ModuleConfigurations[s]||[],this.ModuleSettings=u["c"]._ModuleSettings[s]||{},this.$set(this.widget,"config",{})))},cancel(e=null){this.$emit("onClose",e),this.widget=null,this.errors={}},save(){this.$store.commit("editor/addWidget",{widget:this.widget}),this.cancel(this.widget)}},watch:{widgetId(e){null===e?this.widget=null:(this.widget=this.$store.state.editor.widgets[e]?k(this.$store.state.editor.widgets[e]):{id:e,config:{}},this.ModuleConfigurations=u["c"]._ModuleConfigurations[this.widget.module]||[],this.ModuleSettings=u["c"]._ModuleSettings[this.widget.module]||{})}}}),N=W,E=(i("b344"),i("24e8")),G=i("f09f"),K=i("a370"),Q=i("2c91"),j=i("4b7e"),L=Object(w["a"])(N,s,o,!1,null,"a794e7a6",null);t["a"]=L.exports;$()(L,"components",{QDialog:E["a"],QCard:G["a"],QCardSection:K["a"],QSpace:Q["a"],QBtn:_["a"],QSeparator:I["a"],QCardActions:j["a"]})},"55cf":function(e,t,i){},"8cfe":function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return O}));var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"full-height WidgetsPage"},[i("div",{staticClass:"row no-wrap"},[i("q-toolbar",{staticClass:"paper",staticStyle:{"min-height":"56px"}},[i("q-toolbar-title",{attrs:{shrink:""}},[e._v(e._s(e.$t("Widgets"))+" ("+e._s(e.widgetsCount)+")")]),i("q-space"),i("q-btn",{attrs:{color:"primary",icon:"mdi-plus-circle",label:e.$t("add widget")},on:{click:e.addWidget}})],1)],1),i("widget-page",{attrs:{widgetId:e.selectedWidgetId},on:{onClose:function(t){e.selectedWidgetId=null}}}),e._l(e.groups,(function(t){return i("div",{directives:[{name:"show",rawName:"v-show",value:!e.expertMode&&t.widgets.length>0,expression:"!expertMode && group.widgets.length > 0"}],key:t.id,staticClass:"row no-wrap paper"},[i("q-expansion-item",{staticClass:"full-width",attrs:{icon:t.icon,label:t.label+" ("+t.widgets.length+")"},model:{value:e.expanded[t.id],callback:function(i){e.$set(e.expanded,t.id,i)},expression:"expanded[group.id]"}},[i("widgets-table",{attrs:{widgets:t.widgets},on:{onEditWidget:e.editWidget}})],1)],1)})),i("paper",{directives:[{name:"show",rawName:"v-show",value:e.expertMode,expression:"expertMode"}],style:{height:e.pageHeight-66-16+"px"}},[i("json-editor",{attrs:{id:"widgets",json:e.json},on:{onChange:e.onJsonEditor}})],1)],2)},o=[],n=i("a6f4"),a=i("a54a"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"q-pa-md"},[i("q-table",{attrs:{data:e.widgets,columns:e.columns,pagination:e.pagination,"rows-per-page-label":e.$t("Widgets per page")},scopedSlots:e._u([{key:"header",fn:function(t){return[i("q-tr",{attrs:{props:t}},[i("q-th",{attrs:{"auto-width":""}}),e._l(t.cols,(function(s){return i("q-th",{key:s.name,attrs:{props:t}},[e._v("\n\t\t\t\t\t\n\t\t\t\t\t"+e._s(s.label)+"\n\t\t\t\t")])})),i("q-th",{attrs:{"auto-width":""}})],2)]}},{key:"body",fn:function(t){return[i("q-tr",{class:{rowDeleted:e.isDeleted(t.row)},attrs:{props:t}},[i("q-td",{attrs:{"auto-width":""}},[!0!==e.isDeleted(t.row)?i("div",[i("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-pencil"},on:{click:function(i){return e.onWidgetEdit(t.row)}}}),i("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-content-copy"},on:{click:function(i){return e.onWidgetCopy(t.row)}}})],1):e._e()]),e._l(t.cols,(function(s){return i("q-td",{key:s.name,attrs:{props:t}},[i("div",{class:{itemDeleted:e.isDeleted(t.row)}},[e._v("\n\t\t\t\t\t\t"+e._s(s.value)+"\n\t\t\t\t\t")])])})),i("q-td",{attrs:{"auto-width":""}},[!0!==e.isDeleted(t.row)?i("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-delete",color:"negative"},on:{click:function(i){return e.onWidgetRemove(t.row)}}}):e._e(),e.isDeleted(t.row)?i("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-restore",color:"positive"},on:{click:function(i){return e.onWidgetRestore(t.row)}}}):e._e()],1)],2)]}}])})],1)},l=[],r=Object(n["c"])({name:"WidgetsTable",props:["widgets"],data(){return{pagination:{sortBy:"name",rowsPerPage:15},columns:[{name:"id",label:this.$i18n.t("ID"),field:"id",align:"left",sortable:!0,style:{width:"20%"}},{name:"title",label:this.$i18n.t("Title"),field:"title",align:"left",sortable:!0,style:{width:"30%"}},{name:"module",label:this.$i18n.t("Module"),field:"module",align:"left",sortable:!0,style:{width:"50%"}}]}},methods:{isDeleted(e){return!0===e._deleted},onWidgetEdit(e){this.$emit("onEditWidget",e)},onWidgetCopy(e){this.$store.commit("editor/copyWidget",{widget:e})},onWidgetRemove(e){this.$store.commit("editor/removeWidget",{widget:e})},onWidgetRestore(e){this.$store.commit("editor/restoreWidget",{widget:e})}}}),c=r,u=i("2877"),p=i("eaac"),g=i("bd08"),m=i("357e"),h=i("db86"),v=i("9c40"),w=i("eebe"),f=i.n(w),y=Object(u["a"])(c,d,l,!1,null,null,null),S=y.exports;f()(y,"components",{QTable:p["a"],QTr:g["a"],QTh:m["a"],QTd:h["a"],QBtn:v["a"]});var C=i("424e"),b=i("ec26"),_=Object(n["c"])({name:"WidgetsPage",components:{JsonEditor:a["a"],WidgetsTable:S,WidgetPage:C["a"]},data(){return{expanded:{},selectedWidgetId:null}},methods:{addWidget(){this.selectedWidgetId=Object(b["a"])()},editWidget(e){this.selectedWidgetId=e.id},onJsonEditor(e){e._error||this.$store.commit("editor/set",{[e.id]:JSON.parse(e.value)})}},computed:{pageHeight(){return this.$store.state.jarvis.pageHeight},groups(){return this.$store.getters["editor/getGroupedWidgets"]},widgetsCount(){return this.$store.getters["editor/getWidgetsWthoutDeletionsCount"]},json(){return this.$store.state.editor.widgets},expertMode(){var e;return null===(e=this.$store.state.editor.settings)||void 0===e?void 0:e.configExpertMode}}}),x=_,I=i("65c6"),M=i("6ac5"),D=i("2c91"),$=i("3b73"),q=Object(u["a"])(x,s,o,!1,null,null,null),O=q.exports;f()(q,"components",{QToolbar:I["a"],QToolbarTitle:M["a"],QSpace:D["a"],QBtn:v["a"],QExpansionItem:$["a"]})},b344:function(e,t,i){"use strict";i("55cf")}}]);
//# sourceMappingURL=5.acd655b4.js.map