import{dd as ae,q as U,I as R,c as m,di as Je,dj as F,_ as J,j as M,o as h,a as k,w,k as u,a7 as te,e as G,t as Y,ad as ze,P as A,a8 as ne,a9 as je,a6 as we,f as j,aa as Ke,cl as z,K as L,a2 as q,b as Se,cj as ie,dk as _e,a4 as B,y as Be,cG as fe,cS as Ye,g as H,d as $,l as oe,n as N,F as Q,O as Xe,M as Pe,N as le,i as me,cr as xe,dl as Ze,co as Ie,aC as He,r as et,d9 as tt,dm as nt,$ as ot,cD as it,ag as st,dc as Me,db as Re,cp as Ae,cs as rt,dn as at,d4 as lt,dp as ve,A as ct,c$ as dt,z as pe}from"./index-6bce915b.js";import ut from"./StateList-19570f47.js";import{b as gt,c as pt,Q as ft,a as mt}from"./QFooter-b699b184.js";import{Q as vt}from"./QHeader-c54cbe08.js";import{Q as ht}from"./QBtnDropdown-4ef83df8.js";import{Q as wt}from"./QBadge-d4725f09.js";import{m as bt}from"./marked.esm-5f440e4b.js";import"./StateListGroup-712f6be0.js";import"./StateListItem-3aefc28b.js";var yt=`body {
	scrollbar-width: none;
	-ms-overflow-style: none;
	overflow-y: scroll;
}

body::-webkit-scrollbar {
	width: 0px;
	background: transparent;
}`;function re(e,t,n={}){if(n.id=n.id||"custom",n.onlyPro=n.onlyPro!==void 0?n.onlyPro:!0,n.onlyPro&&!ae.isPro()&&t)ae.warn("Custom Styles / Scripts are only available to Pro!");else if(e&&(!n.onlyPro||n.onlyPro&&ae.isPro())){let o=document.getElementById(n.id);o?o.remove():(o=document.createElement(e),o.id=n.id),n.class&&o.classList.add(n.class);for(const r in n)o[r]=n[r];return o.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(o),o}return null}const St=U({name:"DeviceDetailsPopup",components:{StateList:ut},setup(){const e=R(),t=m(()=>e.selectedDevice),n=m(()=>{const s=[];for(const r in t.value.states){const a=t.value.states[r];if(a.hide===!0||a.state===void 0&&a.action===void 0)continue;const{label:i,...l}=a;s.push({id:Je(t.value.id+":"+r,F.get("UUID")),type:"device",deviceId:t.value.id,bodyStateKey:r,primaryStateKey:r,...l,deviceStateDetails:!0})}return{items:s}});return{onClose:()=>e.set("selectedDeviceId",null),device:t,widget:n}}}),kt={class:"text-h6"};function Ct(e,t,n,o,s,r){const a=M("state-list");return h(),k(Ke,{"model-value":!!e.device.id,onHide:e.onClose,class:j({"jarvis-popup-container":!0,["jarvis-device-"+e.device.id]:!0})},{default:w(()=>[u(we,{class:"column jarvis-popup",style:{width:"800px","max-width":"95vw","flex-wrap":"nowrap"}},{default:w(()=>[u(te,{class:"row items-center"},{default:w(()=>[G("div",kt,Y(e.device.label||e.device.name),1),u(ze),u(A,{flat:"",round:"",color:"grey",icon:"close",onClick:e.onClose},null,8,["onClick"])]),_:1}),u(ne),u(te,{class:"col q-pa-none scroll body",style:{"overflow-x":"hidden"}},{default:w(()=>[u(a,{openDeviceDetails:!1,widget:e.widget,isPopup:""},null,8,["widget"])]),_:1}),u(ne),u(je,{align:"right"},{default:w(()=>[u(A,{flat:"",label:e.$t("Close"),onClick:e.onClose,color:"primary"},null,8,["label","onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","onHide","class"])}var Tt=J(St,[["render",Ct]]);const Et=U({name:"Container",props:["tabsCount"],setup(e){z.dev("DEBUG","Container","setup()");const t=R(),n=m(()=>t.drawerMiniMode);return{settings:m(()=>t.settings),drawerMiniMode:n,onHeaderReveals:r=>{z.dev("DEBUG","Container","onHeaderReveals()"),t.set("headerVisible",r)}}}});function Dt(e,t,n,o,s,r){return e.settings.tabsBottom!==!0?L((h(),k(vt,{key:0,class:"jarvis-header text-white",bordered:"",onReveal:e.onHeaderReveals,reveal:e.settings.tabsShow==="hide"},{default:w(()=>[Se(e.$slots,"default")]),_:3},8,["onReveal","reveal"])),[[q,e.drawerMiniMode!==!0||e.drawerMiniMode===!0&&e.tabsCount>1]]):L((h(),k(gt,{key:1,class:"jarvis-footer text-white",bordered:"",onReveal:e.onHeaderReveals,reveal:e.settings.tabsShow==="hide"},{default:w(()=>[Se(e.$slots,"default")]),_:3},8,["onReveal","reveal"])),[[q,e.drawerMiniMode!==!0||e.drawerMiniMode===!0&&e.tabsCount>1]])}var $t=J(Et,[["render",Dt]]);const zt=U({name:"Tabs",props:["page","tabs"],setup(e){z.dev("DEBUG","Tabs","setup()");const t=ie(),n=R(),o=_e(),s=ae.isPro(),r=B(e.tabs),a=p=>{z.dev("DEBUG","Tabs","resolveBindings");const C=r.value.findIndex(D=>D.id===p.id);r.value[C]={...p,revision:Ye().substr(0,5)}};Be(()=>e.tabs,()=>{z.dev("DEBUG","Tabs","tabsWithResolvedBindings()"),r.value=e.tabs;for(const p of e.tabs)p.config={icon:p.icon,title:p.title},fe.getBindings(p,a)});const i=m({get(){return n.getSelectedTabId},set(p){p&&n.set({selectedTabId:p})}}),l=B(!1),c=()=>{z.dev("DEBUG","Tabs","tabsHiddenShow()"),l.value=!t.platform.is.mobile},b=m(()=>n.drawerMiniMode),v=m(()=>n.settings),f=p=>n.set("drawerSidebar",p),y=m(()=>o.getUnread.length);return{tabsWithResolvedBindings:r,tabId:i,tabsHiddenDropdown:l,tabsHiddenShow:c,toggleNotifications:p=>n.set("drawerNotifications",p),toggleSidebar:f,notificationsUnread:y,drawerMiniMode:b,settings:v,isPro:s}}}),jt={class:"row nowrap",style:{margin:"2px 0"}},Bt={key:0,class:"q-tab__label"},Pt={class:"q-tab__label"};function It(e,t,n,o,s,r){const a=M("icon");return h(),k(xe,{modelValue:e.tabId,"onUpdate:modelValue":t[3]||(t[3]=i=>e.tabId=i),"inline-label":"",dense:"",align:"left",style:N({"padding-left":(e.drawerMiniMode!==!0?0:5)+"px","padding-right":"48px"}),id:"tabBar",class:j({"jarvis-tabs-container":!0,"jarvis-tabs-bottom":e.settings.tabsBottom===!0}),"content-class":"jarvis-tabs","indicator-color":"white"},{default:w(()=>[e.settings.drawerShowMenuButton!==!1?(h(),k(A,{key:0,flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:t[0]||(t[0]=i=>e.toggleSidebar(!0)),class:j(["q-ml-sm",{"lt-md":e.drawerMiniMode===!0}])},null,8,["class"])):H("",!0),G("div",jt,[(h(!0),$(Q,null,oe(e.tabsWithResolvedBindings,i=>(h(),k(pt,{key:i.revision,name:i.id,to:{params:{tabId:i.id}},style:N(e.isPro&&i.id===e.tabId&&i.bodySelectedStyle||e.isPro&&i.bodyStyle||{}),class:j(["jarvis-tab","jarvis-tab-"+i.id]),"content-class":e.settings.tabsDense?"dense":"normal"},{default:w(()=>[L(u(a,{name:i.icon,size:"xs",class:"tabIcon",style:N({margin:e.settings.tabsDense?"4px 4px 0 0":"0",...e.isPro&&i.id===e.tabId&&i.iconSelectedStyle||e.isPro&&i.iconStyle||{}})},null,8,["name","style"]),[[q,i.icon]]),e.page.hideLabels!==!0?(h(),$("div",Bt,Y(i.title),1)):H("",!0)]),_:2},1032,["name","to","style","class","content-class"]))),128)),L(u(ht,{modelValue:e.tabsHiddenDropdown,"onUpdate:modelValue":t[1]||(t[1]=i=>e.tabsHiddenDropdown=i),onMouseover:e.tabsHiddenShow,"auto-close":"",stretch:"",flat:""},{label:w(()=>[G("div",{class:j(e.settings.tabsDense?"dense":"normal")},[u(a,{name:"mdi-tab-unselected",size:"xs",class:"tabIcon",style:N({margin:e.settings.tabsDense?"1px 5px 0 0":"-1px 0 1px 0"})},null,8,["style"]),G("div",Pt,Y(e.$t("More")+"..."),1)],2)]),default:w(()=>[u(Xe,null,{default:w(()=>[(h(!0),$(Q,null,oe(e.hiddenTabs,i=>(h(),k(Pe,{key:i.id,clickable:"",onClick:l=>e.tabId=i.id,class:j({"q-tab--active":i.id===e.tabId})},{default:w(()=>[u(le,{avatar:""},{default:w(()=>[u(a,{name:i.icon},null,8,["name"])]),_:2},1024),u(le,null,{default:w(()=>[me(Y(i.title),1)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1})]),_:1},8,["modelValue","onMouseover"]),[[q,e.settings.enableTabsDropdown]])]),L(u(A,{flat:"",dense:"",round:"",icon:"mdi-bell","aria-label":"Notifications",onClick:t[2]||(t[2]=i=>e.toggleNotifications(!0)),class:"q-mr-sm notification-drawer-button"},{default:w(()=>[u(wt,{color:"secondary",align:"middle",floating:""},{default:w(()=>[me(Y(e.notificationsUnread),1)]),_:1})]),_:1},512),[[q,e.isPro]])]),_:1},8,["modelValue","style","class"])}var Ht=J(zt,[["render",It]]);function Mt(e,t){const n=m(()=>typeof e.value!="object"?B({fullscreenSize:e.value}):e),o=B(),s=B(!1),r=()=>{s.value=!0;const l=o.value;l.classList.add("isFullscreen"),l.style.overflow="auto";const c=l.querySelector(".jarvis-widget-scaler");c.style.height="auto"},a=()=>{s.value=!1;const l=o.value;l.classList.remove("isFullscreen"),l.style.overflow="initial";const c=l.querySelector(".jarvis-widget-scaler");c.style.height=n.value.fullscreenSize+"px",document.exitFullscreen?document.exitFullscreen().catch(b=>{}):document.mozCancelFullScreen?document.mozCancelFullScreen().catch(b=>{}):document.webkitCancelFullScreen&&document.webkitCancelFullScreen().catch(b=>{})};return Be(()=>o.value,()=>{o.value.addEventListener("fullscreenchange",()=>{document.fullscreenElement===null&&a()})}),{fullscreenElement:o,fullscreenActive:s,fullscreenToggle:l=>{l=typeof l=="boolean"?l:!s.value,Ze.toggle(o.value).then(()=>{l===!1?a():r()}).catch(c=>{console.error(c)})}}}const Rt=U({name:"Widget",props:["page","tab","widgets","config","layout","containerSize"],setup(e){const t=ie(),n=Ie(),o=R(),s=He(e,"config")||{};B();const r=B(),a=m(()=>{const T=s.value.alignmentHorizontal||"center",ge=s.value.alignmentVertical||"top",Z=s.value.scaleToFitContents!==void 0?s.value.scaleToFitContents:!0;return{h:T,v:ge,fit:Z}}),i=m(()=>a.value.v!=="middle"?{}:{transform:"translateY(-50%)",position:"relative",top:"50%"}),l=et({width:0,height:0}),c=m(()=>r.value&&r.value.$el.offsetHeight||0),b=m(()=>e.containerSize.height-c.value),v=m(()=>a.value.fit===!1||tt.includes(C.value.module)?{x:1,y:1}:{x:l?Math.min(1,e.containerSize.width/l.width):1,y:l?Math.min(1,b.value/l.height):1}),f=m(()=>{const T=[0,0];return T[0]=a.value.h==="center"?"50%":a.value.h==="right"?"100%":a.value.h,T[1]=a.value.v==="middle"?"50%":a.value.v==="bottom"?"100%":a.value.v,T}),y=m(()=>({width:a.value.h!=="fill-width"?"100%":Math.floor(1/(v.value.y<v.value.x?v.value.y:v.value.x)*100)+"% !important",height:b.value-1+"px"})),d=m(()=>_.value===!0?1:v.value.y<v.value.x?v.value.y:v.value.x),p=m(()=>{const T={"-webkit-transform":"scale("+d.value+")","-webkit-transform-origin":f.value.join(" "),transform:"scale("+d.value+")","transform-origin":f.value.join(" ")};return a.value.v==="middle"&&(T.margin="auto"),t.screen.lt.lg||e.layout==="desktop"&&t.platform.is.mobile?{}:T}),C=m(()=>{const T=e.widgets[0];return T&&o.widgets[T]||{}}),D=()=>{z.dev("DEBUG","Widget","jump"),C.value.link&&(C.value.link.indexOf("http")>-1||C.value.link.indexOf("www")>-1)?window.open((C.value.link.indexOf("http")===-1?"http://":"")+C.value.link,"_blank"):C.value.link&&n.push({params:{tabId:C.value.link}}).catch(T=>console.warn(T))};let E=null;const g=T=>{E&&clearTimeout(E),E=setTimeout(()=>{z.dev("DEBUG","Widget","onResize()"),Object.assign(l,T)},500)},{fullscreenElement:S,fullscreenActive:_,fullscreenToggle:P}=Mt(b),I=B(s.value.allowFullscreen||!1);return{alignment:a,verticalAlignment:i,scaleSizes:y,scaleStyle:p,size:l,widget:C,widgetTitle:r,widgetTitleSize:c,jump:D,onResize:g,fullscreenEnabled:I,fullscreenElement:S,fullscreenActive:_,fullscreenToggle:P}}});function At(e,t,n,o,s,r){const a=M("icon");return h(),$("div",{ref:"fullscreenElement",onDblclick:t[1]||(t[1]=i=>e.fullscreenEnabled&&e.fullscreenToggle()),class:j(["jarvis-widget-container bgcolor",{tile:e.tab.widgetEdges,paper:!e.tab.widgetEdges,fullscreenEnabled:e.fullscreenEnabled}])},[e.fullscreenEnabled?(h(),$("div",{key:0,class:j(["fullscreener",{close:e.fullscreenActive}]),onClick:t[0]||(t[0]=(...i)=>e.fullscreenToggle&&e.fullscreenToggle(...i))},null,2)):H("",!0),u(we,{flat:"",class:j(["jarvis-widget full-width full-height",{["jarvis-widget-module-"+e.widget.module]:!0,["jarvis-widget-"+e.widget.id]:!0}])},{default:w(()=>[e.widget.hideTitle!==!0&&(e.widget.icon||e.widget.title)?(h(),k(Pe,{key:0,class:"jarvis-widget-header",ref:"widgetTitle"},{default:w(()=>[e.widget.icon?(h(),k(le,{key:0,side:"",class:j({"cursor-pointer":e.widget.link}),onClick:e.jump},{default:w(()=>[u(nt,{square:e.tab.widgetEdges,rounded:!e.tab.widgetEdges,class:"jarvis-widget-icon","font-size":"24px"},{default:w(()=>[u(a,{name:e.widget.icon},null,8,["name"])]),_:1},8,["square","rounded"])]),_:1},8,["class","onClick"])):H("",!0),u(le,null,{default:w(()=>[u(ot,{class:j(["text-h6",{"cursor-pointer":e.widget.link}]),onClick:e.jump},{default:w(()=>[me(Y(e.widget.label||e.widget.title),1)]),_:1},8,["class","onClick"])]),_:1})]),_:1},512)):H("",!0),e.widget.hideSeparator!==!0&&e.widget.hideTitle!==!0&&(e.widget.icon||e.widget.title)?(h(),k(ne,{key:1})):H("",!0),u(te,{horizontal:"",class:"jarvis-widget-content",style:N(e.alignment.fit===!1?{"overflow-y":"auto",...e.scaleSizes,...e.verticalAlignment}:e.verticalAlignment)},{default:w(()=>[u(it,{onResize:e.onResize},null,8,["onResize"]),G("div",{class:"jarvis-widget-scaler full-width",style:N(e.scaleStyle)},[(h(),k(st(e.widget.module),{key:e.widget.revision,class:"full-width",widget:e.widget,_alignment:e.alignment,_fullscreen:e.fullscreenActive,_containerSize:{width:e.containerSize.width,height:e.containerSize.height-e.widgetTitleSize},_widgetSize:{width:e.size.width,height:e.size.height}},null,8,["widget","_alignment","_fullscreen","_containerSize","_widgetSize"]))],4)]),_:1},8,["style"])]),_:1},8,["class"])],34)}var Lt=J(Rt,[["render",At]]);const qt=U({name:"TabPanel",props:["page","tab"],components:{Widget:Lt},setup(e){z.dev("DEBUG","TabPanel","setup()");const t=R(),n=ie(),o=n.platform.is.mobile,s=!1,r=He(e.tab,"widgetConfig"),a=m(()=>Math.max(o&&r.value.smartphoneGapSize||s||r.value.desktopGapSize||5,0)),i=m(()=>{let d=[];return o&&r.value.smartphoneSameAs==="specific-layout"||s?d=e.tab.widgetsSmartphone||[]:o&&r.value.smartphoneSameAs==="tablet"?d=e.tab.widgetsTablet||[]:d=e.tab.widgetsDesktop||[],d}),l=m(()=>Math.max.apply(Math,i.value.map(d=>d.y+d.h))),c=m(()=>{var d;return((d=i.value)==null?void 0:d[0])||{}}),b=n.screen.width,v=m(()=>t.pageHeight),f=m(()=>{const d=o&&r.value.smartphoneFitPageHeight||s||r.value.desktopFitPageHeight||!1,p=o&&r.value.smartphoneWidgetHeight||s||r.value.desktopWidgetHeight||50;return d===!0?(v.value-2*a.value)/l.value-a.value:p}),y=m(()=>o&&r.value.smartphoneSameAs==="specific-layout"||s?"smartphone":o&&r.value.smartphoneSameAs==="tablet"?"tablet":"desktop");return{containerRows:l,fullscreenContainer:c,pageWidth:b,pageHeight:v,widgetGap:a,widgetHeight:f,widgetLayout:y,widgetContainers:i}}});function Nt(e,t,n,o,s,r){const a=M("widget");return h(),$("div",{class:j({["jarvis-page-"+e.page.id]:!0,["jarvis-tab-"+e.tab.id]:!0})},[e.tab.fullscreen!==!0?(h(),$("div",{key:0,class:j(["container",e.widgetLayout]),style:N({gridTemplateRows:"repeat("+e.containerRows+", "+e.widgetHeight+"px)",columnGap:e.widgetGap+"px",rowGap:e.widgetGap+"px",padding:e.widgetGap+"px"})},[(h(!0),$(Q,null,oe(e.widgetContainers,i=>(h(),$(Q,null,[i&&i.items&&i.items.length>0?(h(),$("div",{key:i.i,style:N({gridArea:i.y+1+" / "+(i.x+1)+" / span "+i.h+" / span "+i.w}),class:"box"},[u(a,{page:e.page,tab:e.tab,widgets:i.items||[],config:i,layout:e.widgetLayout,containerSize:{width:e.pageWidth/12*i.w,height:i.h*e.widgetHeight+(i.h-1)*e.widgetGap}},null,8,["page","tab","widgets","config","layout","containerSize"])],4)):H("",!0)],64))),256))],6)):(h(),$("div",{key:1,style:N({height:e.pageHeight+"px"})},[u(a,{fullscreen:"",page:e.page,tab:e.tab,widgets:e.fullscreenContainer.items||[],config:e.fullscreenContainer,layout:e.widgetLayout,containerSize:{width:e.pageWidth,height:e.pageHeight}},null,8,["page","tab","widgets","config","layout","containerSize"])],4))],2)}var Ot=J(qt,[["render",Nt]]);const Vt=U({name:"Page",props:["page"],components:{Container:$t,Tabs:Ht,TabPanel:Ot},setup(e){z.dev("DEBUG","Page","setup()");const t=ie(),n=Ie(),o=R(),s=m(()=>t.platform.is.mobile),r=m(()=>o.drawerMiniMode),a=m(()=>o.settings),i=m(()=>Object.keys(e.page.tabs).length),l=m({get(){return"tab-"+o.getSelectedTabId},set(f){f&&n.push({params:{tabId:f.replace("tab-","")}})}});return{setPageContainer:(f,y)=>{const d=document.querySelector(".jarvis-header");f=d&&d.offsetHeight?d.offsetHeight:f;const p=y-f;return p!==o.pageHeight&&(z.dev("DEBUG","Page","setPageContainer",f,y,p,o.pageHeight),o.set("pageHeight",y-f)),{}},onSelectedTabMoving:()=>o.set("selectedTabReady",!1),onSelectedTabReady:()=>o.set("selectedTabReady",!0),drawerMiniMode:r,isMobile:s,tabsCount:i,tabId:l,tabAnimated:m(()=>a.value.tabsSwipeAnimation==="always"||(!a.value.tabsSwipeAnimation||a.value.tabsSwipeAnimation==="mobile")&&s.value),tabSwipeable:m(()=>a.value.tabsSwipe==="always"||(!a.value.tabsSwipe||a.value.tabsSwipe==="mobile")&&s.value),settings:a}}});function Wt(e,t,n,o,s,r){const a=M("Tabs"),i=M("Container"),l=M("TabPanel");return h(),k(mt,{style:{"padding-top":"0"}},{default:w(()=>[u(i,{tabsCount:e.tabsCount},{default:w(()=>[u(a,{page:e.page,tabs:e.page.tabs},null,8,["page","tabs"])]),_:1},8,["tabsCount"]),u(ft,{"style-fn":e.setPageContainer,class:"jarvis-page jarvis-body"},{default:w(()=>[u(Me,{modelValue:e.tabId,"onUpdate:modelValue":t[0]||(t[0]=c=>e.tabId=c),"keep-alive":!0,animated:e.tabAnimated,swipeable:e.tabSwipeable,style:{"background-color":"transparent"},onBeforeTransition:e.onSelectedTabMoving,onTransition:e.onSelectedTabReady},{default:w(()=>[(h(!0),$(Q,null,oe(e.page.tabs,c=>(h(),k(Re,{key:c.id,name:"tab-"+c.id,style:N({padding:0,"margin-top":e.settings.tabsBottom||e.page.tabs.length<=1?0:e.settings.tabsDense?"40px":"60px"})},{default:w(()=>[u(l,{page:e.page,tab:{widgetConfig:{},...c}},null,8,["page","tab"])]),_:2},1032,["name","style"]))),128))]),_:1},8,["modelValue","animated","swipeable","onBeforeTransition","onTransition"])]),_:1},8,["style-fn"])]),_:1})}var Ft=J(Vt,[["render",Wt],["__scopeId","data-v-3796d092"]]);function Le(e){return e.split("-")[0]}function Gt(e){return e.split("-")[1]}function Qt(e){return["top","bottom"].includes(Le(e))?"x":"y"}function Ut(e){return e==="y"?"height":"width"}function ke(e,t,n){let{reference:o,floating:s}=e;const r=o.x+o.width/2-s.width/2,a=o.y+o.height/2-s.height/2,i=Qt(t),l=Ut(i),c=o[l]/2-s[l]/2,b=Le(t),v=i==="x";let f;switch(b){case"top":f={x:r,y:o.y-s.height};break;case"bottom":f={x:r,y:o.y+o.height};break;case"right":f={x:o.x+o.width,y:a};break;case"left":f={x:o.x-s.width,y:a};break;default:f={x:o.x,y:o.y}}switch(Gt(t)){case"start":f[i]-=c*(n&&v?-1:1);break;case"end":f[i]+=c*(n&&v?-1:1);break}return f}const Jt=async(e,t,n)=>{const{placement:o="bottom",strategy:s="absolute",middleware:r=[],platform:a}=n,i=await(a.isRTL==null?void 0:a.isRTL(t));let l=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:c,y:b}=ke(l,o,i),v=o,f={},y=0;for(let d=0;d<r.length;d++){const{name:p,fn:C}=r[d],{x:D,y:E,data:g,reset:S}=await C({x:c,y:b,initialPlacement:o,placement:v,strategy:s,middlewareData:f,rects:l,platform:a,elements:{reference:e,floating:t}});if(c=D!=null?D:c,b=E!=null?E:b,f={...f,[p]:{...f[p],...g}},S&&y<=50){y++,typeof S=="object"&&(S.placement&&(v=S.placement),S.rects&&(l=S.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:c,y:b}=ke(l,v,i)),d=-1;continue}}return{x:c,y:b,placement:v,strategy:s,middlewareData:f}};function Ce(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function qe(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function W(e){if(e==null)return window;if(!qe(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function se(e){return W(e).getComputedStyle(e)}function V(e){return qe(e)?"":e?(e.nodeName||"").toLowerCase():""}function Ne(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function O(e){return e instanceof W(e).HTMLElement}function x(e){return e instanceof W(e).Element}function Kt(e){return e instanceof W(e).Node}function be(e){if(typeof ShadowRoot=="undefined")return!1;const t=W(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function de(e){const{overflow:t,overflowX:n,overflowY:o}=se(e);return/auto|scroll|overlay|hidden/.test(t+o+n)}function _t(e){return["table","td","th"].includes(V(e))}function Oe(e){const t=/firefox/i.test(Ne()),n=se(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&(n.filter?n.filter!=="none":!1)}function Ve(){return!/^((?!chrome|android).)*safari/i.test(Ne())}const Te=Math.min,ee=Math.max,ce=Math.round;function X(e,t,n){var o,s,r,a;t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect();let l=1,c=1;t&&O(e)&&(l=e.offsetWidth>0&&ce(i.width)/e.offsetWidth||1,c=e.offsetHeight>0&&ce(i.height)/e.offsetHeight||1);const b=x(e)?W(e):window,v=!Ve()&&n,f=(i.left+(v&&(o=(s=b.visualViewport)==null?void 0:s.offsetLeft)!=null?o:0))/l,y=(i.top+(v&&(r=(a=b.visualViewport)==null?void 0:a.offsetTop)!=null?r:0))/c,d=i.width/l,p=i.height/c;return{width:d,height:p,top:y,right:f+d,bottom:y+p,left:f,x:f,y}}function K(e){return((Kt(e)?e.ownerDocument:e.document)||window.document).documentElement}function ue(e){return x(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function We(e){return X(K(e)).left+ue(e).scrollLeft}function Yt(e){const t=X(e);return ce(t.width)!==e.offsetWidth||ce(t.height)!==e.offsetHeight}function Xt(e,t,n){const o=O(t),s=K(t),r=X(e,o&&Yt(t),n==="fixed");let a={scrollLeft:0,scrollTop:0};const i={x:0,y:0};if(o||!o&&n!=="fixed")if((V(t)!=="body"||de(s))&&(a=ue(t)),O(t)){const l=X(t,!0);i.x=l.x+t.clientLeft,i.y=l.y+t.clientTop}else s&&(i.x=We(s));return{x:r.left+a.scrollLeft-i.x,y:r.top+a.scrollTop-i.y,width:r.width,height:r.height}}function Fe(e){return V(e)==="html"?e:e.assignedSlot||e.parentNode||(be(e)?e.host:null)||K(e)}function Ee(e){return!O(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function xt(e){let t=Fe(e);for(be(t)&&(t=t.host);O(t)&&!["html","body"].includes(V(t));){if(Oe(t))return t;t=t.parentNode}return null}function he(e){const t=W(e);let n=Ee(e);for(;n&&_t(n)&&getComputedStyle(n).position==="static";)n=Ee(n);return n&&(V(n)==="html"||V(n)==="body"&&getComputedStyle(n).position==="static"&&!Oe(n))?t:n||xt(e)||t}function De(e){if(O(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=X(e);return{width:t.width,height:t.height}}function Zt(e){let{rect:t,offsetParent:n,strategy:o}=e;const s=O(n),r=K(n);if(n===r)return t;let a={scrollLeft:0,scrollTop:0};const i={x:0,y:0};if((s||!s&&o!=="fixed")&&((V(n)!=="body"||de(r))&&(a=ue(n)),O(n))){const l=X(n,!0);i.x=l.x+n.clientLeft,i.y=l.y+n.clientTop}return{...t,x:t.x-a.scrollLeft+i.x,y:t.y-a.scrollTop+i.y}}function en(e,t){const n=W(e),o=K(e),s=n.visualViewport;let r=o.clientWidth,a=o.clientHeight,i=0,l=0;if(s){r=s.width,a=s.height;const c=Ve();(c||!c&&t==="fixed")&&(i=s.offsetLeft,l=s.offsetTop)}return{width:r,height:a,x:i,y:l}}function tn(e){var t;const n=K(e),o=ue(e),s=(t=e.ownerDocument)==null?void 0:t.body,r=ee(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=ee(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0);let i=-o.scrollLeft+We(e);const l=-o.scrollTop;return se(s||n).direction==="rtl"&&(i+=ee(n.clientWidth,s?s.clientWidth:0)-r),{width:r,height:a,x:i,y:l}}function Ge(e){const t=Fe(e);return["html","body","#document"].includes(V(t))?e.ownerDocument.body:O(t)&&de(t)?t:Ge(t)}function Qe(e,t){var n;t===void 0&&(t=[]);const o=Ge(e),s=o===((n=e.ownerDocument)==null?void 0:n.body),r=W(o),a=s?[r].concat(r.visualViewport||[],de(o)?o:[]):o,i=t.concat(a);return s?i:i.concat(Qe(a))}function nn(e,t){const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&be(n)){let o=t;do{if(o&&e===o)return!0;o=o.parentNode||o.host}while(o)}return!1}function on(e,t){const n=X(e,!1,t==="fixed"),o=n.top+e.clientTop,s=n.left+e.clientLeft;return{top:o,left:s,x:s,y:o,right:s+e.clientWidth,bottom:o+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function $e(e,t,n){return t==="viewport"?Ce(en(e,n)):x(t)?on(t,n):Ce(tn(K(e)))}function sn(e){const t=Qe(e),o=["absolute","fixed"].includes(se(e).position)&&O(e)?he(e):e;return x(o)?t.filter(s=>x(s)&&nn(s,o)&&V(s)!=="body"):[]}function rn(e){let{element:t,boundary:n,rootBoundary:o,strategy:s}=e;const a=[...n==="clippingAncestors"?sn(t):[].concat(n),o],i=a[0],l=a.reduce((c,b)=>{const v=$e(t,b,s);return c.top=ee(v.top,c.top),c.right=Te(v.right,c.right),c.bottom=Te(v.bottom,c.bottom),c.left=ee(v.left,c.left),c},$e(t,i,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}const an={getClippingRect:rn,convertOffsetParentRelativeRectToViewportRelativeRect:Zt,isElement:x,getDimensions:De,getOffsetParent:he,getDocumentElement:K,getElementRects:e=>{let{reference:t,floating:n,strategy:o}=e;return{reference:Xt(t,he(n),o),floating:{...De(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>se(e).direction==="rtl"},ln=(e,t,n)=>Jt(e,t,{platform:an,...n});var cn=`[\r
   {\r
      "id":"cfbea70b-925b-40d1-9e8e-d0768336e3da",\r
      "title":"Main Site",\r
      "type":"page",\r
      "icon":"mdi-file",\r
      "tabs":[\r
         {\r
            "id":"0559b5e5-1c56-4ea4-8211-d51226417202",\r
            "title":"Dashboard",\r
            "icon":"mdi-monitor-dashboard",\r
            "widgetsDesktop":[\r
               {\r
                  "x":0,\r
                  "y":0,\r
                  "w":4,\r
                  "h":8,\r
                  "i":"77ac22da-738d-4646-b0f5-940298bd6571",\r
                  "moved":false,\r
                  "items":[\r
                     "3958dfb0-83da-48ae-96f3-e66969a92cac"\r
                  ]\r
               },\r
               {\r
                  "x":4,\r
                  "y":0,\r
                  "w":4,\r
                  "h":4,\r
                  "i":"28e602ec-4064-48d0-94d8-80e64fe37f87",\r
                  "moved":false,\r
                  "items":[\r
                     "be31acad-6bb4-40ed-a9cf-24cd981d8545"\r
                  ]\r
               },\r
               {\r
                  "x":4,\r
                  "y":4,\r
                  "w":4,\r
                  "h":4,\r
                  "i":"0f1c06bc-f5c3-4e32-84e6-41fc0b4d05b5",\r
                  "moved":false,\r
                  "items":[\r
                     "b073226b-14d9-40e9-bbd7-4a54080cfa87"\r
                  ]\r
               },\r
               {\r
                  "x":8,\r
                  "y":0,\r
                  "w":4,\r
                  "h":4,\r
                  "i":"a3c543c8-8135-47ef-905e-681982708764",\r
                  "moved":false,\r
                  "items":[\r
                     "99142690-4245-445b-bbc4-be8d09b93b83"\r
                  ]\r
               }\r
            ],\r
            "widgetsSmartphone":[\r
               \r
            ]\r
         },\r
         {\r
            "id":"e2055e5e-c0a8-46dc-8019-30c97e157d62",\r
            "title":"Map",\r
            "icon":"map",\r
            "fullscreen":true,\r
            "widgetsDesktop":[\r
               {\r
                  "x":0,\r
                  "y":0,\r
                  "w":4,\r
                  "h":4,\r
                  "i":"3587d28c-ffbe-4121-9e93-35cc52a5e947",\r
                  "moved":false,\r
                  "items":[\r
                     "232c9a69-1077-4b03-9c68-2d27eb148e6f"\r
                  ]\r
               }\r
            ],\r
            "widgetsSmartphone":[\r
               \r
            ]\r
         },\r
         {\r
            "id":"c9ae69c1-5c33-49bb-86e9-6ca2106cb9b7",\r
            "title":"Settings",\r
            "icon":"cog",\r
            "widgetsDesktop":[\r
               {\r
                  "x":0,\r
                  "y":0,\r
                  "w":4,\r
                  "h":30,\r
                  "i":"252b1b88-f112-4095-aa75-a8f97fc6856b",\r
                  "moved":false,\r
                  "items":[\r
                     "dc0d5c0e-d82d-41a9-8f55-6d6ce9b94937"\r
                  ],\r
                  "scaleToFitContents":false\r
               },\r
               {\r
                  "x":4,\r
                  "y":0,\r
                  "w":8,\r
                  "h":5,\r
                  "i":"6367c1cf-9e5d-4ec7-a383-f578e6dd0ea2",\r
                  "moved":false,\r
                  "items":[\r
                     "6fc7cca0-306e-40f6-a7c6-556ebd1fbd73"\r
                  ]\r
               },\r
               {\r
                  "x":8,\r
                  "y":5,\r
                  "w":4,\r
                  "h":25,\r
                  "i":"9f4dbd4d-cbe7-4dcd-94f3-c35850e28778",\r
                  "moved":false,\r
                  "items":[\r
                     "e90fd75a-f510-4481-845d-b2cdac5c4e2f"\r
                  ],\r
                  "scaleToFitContents":false\r
               }\r
            ],\r
            "widgetsSmartphone":[\r
               \r
            ]\r
         }\r
      ]\r
   }\r
]`,dn=`{\r
   "232c9a69-1077-4b03-9c68-2d27eb148e6f":{\r
      "id":"232c9a69-1077-4b03-9c68-2d27eb148e6f",\r
      "config":{\r
      },\r
      "module":"Map"\r
   }\r
}`,un=[{title:"#introduction.title",message:"#introduction.content",onEnter:({props:e})=>{const t=ve.getConnection,n=R();t.setState(F.get("NODE_SETTINGS"),JSON.stringify({...n.settings,["tour"+Ae(e.tour)]:!0})).catch(o=>console.warn("Tours.Introduction",o.message||o))}},{target:"#SettingsButton",spotlight:".jarvis-sidebar-container",title:"#settings.title",message:"#settings.content",params:{placement:"right"},secondaryButton:"#settings.buttons.manually",secondaryAction:({finishTour:e,step:t})=>{document.querySelector("#SettingsButton").click(),e()},primaryButton:"#settings.buttons.automatically",primaryAction:({finishTour:e,nextStep:t,step:n})=>{t();const o={},s={};fe.importDevices(F.get("DEFAULT_ADAPTERIMPORT").concat(["daswetter"])).then(r=>{r.forEach(y=>{if(y.status==="fulfilled"){const d=y.value;o[d.function]=o[d.function]||[],o[d.function].push(d),s[d.id]=d}});const a=JSON.parse(cn),i=JSON.parse(dn),l={config:{},items:[],module:"StateList",title:""},c=[{widgetId:"3958dfb0-83da-48ae-96f3-e66969a92cac",function:"light",icon:"mdi-lightbulb-on"},{widgetId:"be31acad-6bb4-40ed-a9cf-24cd981d8545",function:"blind",icon:"mdi-window-shutter-open"},{widgetId:"b073226b-14d9-40e9-bbd7-4a54080cfa87",function:"heating",icon:"mdi-radiator"},{widgetId:"99142690-4245-445b-bbc4-be8d09b93b83",function:"window",icon:"mdi-window-closed-variant"}];i["dc0d5c0e-d82d-41a9-8f55-6d6ce9b94937"]={id:"dc0d5c0e-d82d-41a9-8f55-6d6ce9b94937",config:{},items:[],module:"AdapterStatus",title:""},i["6fc7cca0-306e-40f6-a7c6-556ebd1fbd73"]={id:"6fc7cca0-306e-40f6-a7c6-556ebd1fbd73",config:{},items:[],module:"AdapterLogs",title:""},i["e90fd75a-f510-4481-845d-b2cdac5c4e2f"]={id:"e90fd75a-f510-4481-845d-b2cdac5c4e2f",config:{},items:[],module:"ScriptStatus",title:""},c.forEach((y,d)=>{const p=rt(l);p.id=y.widgetId,p.title=at.global.t(y.function),p.icon=y.icon,o[y.function]=o[y.function]||[];for(const D of o[y.function]){if(!D.states)continue;const E=Object.keys(D.states);let g={id:lt(),type:"device",deviceId:D.id,showState:!0,primaryStateKey:E[0]||"",secondaryStatesKeys:[]};D.function==="light"&&(E.includes("power")||E.includes("level"))?g={...g,showState:!1,actionElement:"SwitchAction",primaryStateKey:E.includes("power")?"power":"level"}:D.function==="blind"&&E.includes("level")?g={...g,showState:!1,actionElement:"BlindLevelAction",primaryStateKey:"level"}:D.function==="heating"&&E.includes("temperature")?g={...g,showState:!0,primaryStateKey:"temperature",secondaryStatesKeys:E.filter(S=>["setTemperature","humidity"].includes(S))}:D.function==="window"&&E.includes("open")&&(g={...g,primaryStateKey:"open"}),p.items.push(g)}i[p.id]=p;const{height:C}=fe.getDefaultModuleHeight(p,p.items);a[0].tabs[0].widgetsDesktop[d].h=C,a[0].tabs[0].widgetsDesktop[d+1]&&a[0].tabs[0].widgetsDesktop[d].x===a[0].tabs[0].widgetsDesktop[d+1].x&&(a[0].tabs[0].widgetsDesktop[d+1].y=C)});const b=R(),v=ve.getConnection,f=[v.setState(F.get("NODE_LAYOUT"),JSON.stringify({version:3,layout:a})),v.setState(F.get("NODE_DEVICES"),JSON.stringify({version:3,devices:s})),v.setState(F.get("NODE_WIDGETS"),JSON.stringify(i)),v.setState(F.get("NODE_SETTINGS"),JSON.stringify({...b.settings,tourInterface:!1}))];Promise.allSettled(f).then(()=>{e(),window.location.reload()}).catch(y=>console.warn("Tours.Introduction",y.message||y))}).catch(r=>{console.warn("Tours.Introduction",r.message||r)})}},{style:{"max-width":"450px"},title:"#jarvis.title",loading:!0,buttons:!1}],gn=[{target:".jarvis-sidebar-container",title:"#drawer.title",message:"#drawer.content",params:{placement:"right"},onEnter:({props:e})=>{const t=ve.getConnection,n=R();t.setState(F.get("NODE_SETTINGS"),JSON.stringify({...n.settings,["tour"+Ae(e.tour)]:!0})).catch(o=>console.warn("Tours.Interface",o.message||o))}},{target:".jarvis-tabs-container",title:"#tabs.title",message:"#tabs.content"},{spotlight:".q-page-container .jarvis-page",title:"#widgets.title",message:"#widgets.content"},{target:".jarvis-widget-container .jarvis-widget-module-StateList",title:"#modules.title",message:"#modules.content",params:{placement:"right-start"}},{target:".jarvis-widget-container .jarvis-widget-module-StateList .jarvis-widget-header",title:"#WidgetHeader.title",message:"#WidgetHeader.content",targetStyle:{}},{buttons:!1,onSpotlightClick:({nextStep:e})=>{e()},target:".jarvis-widget-container .jarvis-widget-module-StateList .jarvis-widget-content",title:"#WidgetContent.title",message:"#WidgetContent.content",targetStyle:{},params:{placement:"right-start"}},{target:".jarvis-popup",title:"#DeviceStateDetails.title",message:"#DeviceStateDetails.content",params:{placement:"top"}}],pn={introduction:un,interface:gn};const fn=U({name:"Tours",props:{tour:{type:String},start:{type:Boolean,default:!1}},setup(e){const t=B(!1),n=B(null),o=pn[e.tour],s=B(null),r=B(null);let a,i,l={};const c=(g,S)=>{i=S?g.style.position:i,g.style.position=S?g.style.position||"relative":i,g.style.zIndex=S?5001:null,g.style.border=S?"5px solid #fff":null,g.style.opacity=S?.7:"unset",a=S?g.parentElement.style.zIndex:a,g.parentElement.style.zIndex=S?5001:a},b=(g,S=!0)=>{const _=g.spotlight||g.target;if(t.value=!0,_){const P=document.querySelector(_);if(P){if(c(P,S),g.onSpotlightClick!==void 0&&(P.style.pointerEvents="all",P.onclick=()=>g.onSpotlightClick({props:e,step:g,nextStep:d,previousStep:y,skipStep:p,finishTour:C})),g.targetStyle&&S===!0){l={};for(const I in g.targetStyle)l[I]=P.style[I],P.style[I]=g.targetStyle[I]}else if(g.targetStyle&&S===!1)for(const I in g.targetStyle)P.style[I]=l[I]}}},v=g=>{const S=document.querySelector(g.value.target||"body"),_={...g.value.params||{},middleware:[]};return ln(S,n.value,_).then(P=>{const{x:I,y:T}=P;n.value.firstChild&&(n.value.firstChild.style.display="block");const ge=n.value.offsetWidth,Z=n.value.offsetHeight,ye=document.querySelector("body");ye.style.pointerEvents="none";const Ue=ye.offsetHeight-Z;return n.value.style.left=(g.value.target?I+15:"calc(50% - "+ge/2)+"px",n.value.style.top=(g.value.target?Math.max(10,Math.min(Ue-10,T-Z/2+10)):T/2-Z/2)+"px",n.value.style.pointerEvents="all",!0})},f=g=>{r.value;const S=r.value===null||r.value===g-2;r.value=g-1,s.value=o[r.value],v(s).then(()=>{o[r.value-1]&&b(o[r.value-1],!1),o[r.value+1]&&b(o[r.value+1],!1),b(s.value)}),S&&s.value&&s.value.onEnter&&s.value.onEnter({props:e,step:s,previousStep:y,nextStep:d,finishTour:C,skipStep:p})},y=()=>f(r.value),d=()=>f(r.value+2),p=()=>{b(s.value,!1),s.value=null,t.value=!1;const g=document.querySelector("body");g.style.pointerEvents="all"},C=()=>{p()},D=m(()=>r.value<=0),E=m(()=>r.value===o.length-1);return R(),ct(()=>{e.start&&f(1)}),{marked:bt,tooltip:n,overlay:t,step:s,isFirst:D,isLast:E,previousStep:y,nextStep:d,skipStep:p,finishTour:C}}}),mn={class:"tooltip",ref:"tooltip"},vn={class:"text-h6"},hn=["innerHTML"];function wn(e,t,n,o,s,r){const a=M("q-overlay");return h(),$(Q,null,[u(a,{modelValue:e.overlay,"onUpdate:modelValue":t[0]||(t[0]=i=>e.overlay=i),"no-scroll":!0,"z-index":5e3,opacity:.7},null,8,["modelValue","opacity"]),G("div",mn,[e.step?(h(),k(we,{key:e.step.title,class:"step"},{default:w(()=>[u(te,null,{default:w(()=>[G("div",vn,Y(e.$t(e.step.title||"")),1)]),_:1}),u(ne),e.step.loading===!0?(h(),k(dt,{key:0,indeterminate:""})):H("",!0),u(te,{style:{"max-height":"50vh"},class:"body scroll"},{default:w(()=>[G("div",{innerHTML:e.marked.parse(e.$t(e.step.message||""))},null,8,hn)]),_:1}),u(ne),e.step.buttons!==!1?(h(),k(je,{key:1,class:"nowrap"},{default:w(()=>[u(A,{onClick:e.skipStep,flat:"",label:e.$t("Skip"),color:"accent"},null,8,["onClick","label"]),u(ze),e.step.secondaryAction===void 0?L((h(),k(A,{key:0,onClick:e.previousStep,flat:"",label:e.$t("Previous"),color:"secondary"},null,8,["onClick","label"])),[[q,!e.isFirst]]):L((h(),k(A,{key:1,onClick:t[1]||(t[1]=i=>e.step.secondaryAction({step:e.step,previousStep:e.previousStep,nextStep:e.nextStep,finishTour:e.finishTour,skipStep:e.skipStep})),flat:"",label:e.$t(e.step.secondaryButton),color:"secondary"},null,8,["label"])),[[q,!e.isFirst]]),e.step.primaryButton===void 0?L((h(),k(A,{key:2,onClick:e.nextStep,flat:"",label:e.$t("Next"),color:"primary"},null,8,["onClick","label"])),[[q,!e.isLast]]):H("",!0),e.step.primaryButton===void 0?L((h(),k(A,{key:3,onClick:e.finishTour,label:e.$t("Finish"),color:"primary"},null,8,["onClick","label"])),[[q,e.isLast]]):L((h(),k(A,{key:4,onClick:t[2]||(t[2]=i=>e.step.primaryAction({step:e.step,previousStep:e.previousStep,nextStep:e.nextStep,finishTour:e.finishTour,skipStep:e.skipStep})),flat:"",label:e.$t(e.step.primaryButton),color:"primary"},null,8,["label"])),[[q,!e.isFirst]])]),_:1})):H("",!0)]),_:1})):H("",!0)],512)],64)}var bn=J(fn,[["render",wn]]);const yn=U({name:"Jarvis",components:{DeviceDetailsPopup:Tt,Page:Ft,tours:bn},setup(){z.dev("DEBUG","Jarvis","setup()");const e=ie(),t=R(),n=m(()=>t.settings);pe(()=>{z.dev("DEBUG","Jarvis","watchEffect","scrollbar"),re("style",n.value.scrollbars==="desktop"&&(e.platform.is.desktop||e.platform.is.mobile)||n.value.scrollbars==="mobile"&&e.platform.is.mobile?yt:" ",{id:"scrollbar",type:"text/css",onlyPro:!1})});try{pe(()=>{z.dev("DEBUG","Jarvis","watchEffect","styles");let r=t.styles;document.querySelectorAll(".import_custom_styles").forEach(c=>c.remove());const i=/@import (?:url\()?['"](?<url>.*)['"]\)?;/ig;[...t.styles.matchAll(i)].forEach((c,b)=>{re("link","",{href:c.groups.url+"?ts="+Date.now(),id:"import_custom_styles-"+b,class:"import_custom_styles",rel:"stylesheet"}),r=r.replace(c[0],"")}),re("style",r,{id:"css",type:"text/css"})})}catch(r){console.warn("Jarvis-B7cq4T4m","Error injecting custom styles: "+r.message),console.debug("Jarvis-B7cq4T4m",t.styles)}try{pe(()=>{z.dev("DEBUG","Jarvis","watchEffect","scripts"),re("script",t.scripts,{id:"scripts"})})}catch(r){console.warn("Jarvis-B7cq4T4m","Error injecting custom scripts: "+r.message),console.debug("Jarvis-B7cq4T4m",t.scripts)}const o=m(()=>t.layout||[]),s=m(()=>"page-"+t.getSelectedPageId);return{settings:n,pages:o,pageId:s}}});function Sn(e,t,n,o,s,r){const a=M("tours"),i=M("DeviceDetailsPopup"),l=M("Page");return h(),$(Q,null,[u(a,{tour:"introduction",start:e.settings.tourIntroduction!==!0},null,8,["start"]),u(a,{tour:"interface",start:e.settings.tourIntroduction===!0&&e.settings.tourInterface!==!0},null,8,["start"]),u(i),u(Me,{"model-value":e.pageId,"keep-alive":!0,style:{"background-color":"transparent"},vertical:""},{default:w(()=>[(h(!0),$(Q,null,oe(e.pages,c=>(h(),k(Re,{key:c.id,name:"page-"+c.id,style:{padding:"0","margin-top":"0px"}},{default:w(()=>[u(l,{page:c},null,8,["page"])]),_:2},1032,["name"]))),128))]),_:1},8,["model-value"])],64)}var Pn=J(yn,[["render",Sn]]);export{Pn as default};
