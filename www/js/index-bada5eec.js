import{Q as b}from"./QToolbarTitle-96e4c1e2.js";import{Q as S}from"./QToolbar-91675785.js";import{Q as V}from"./QExpansionItem-65a16e78.js";import{bt as E,a4 as j,co as k,bw as O,Q as c,k as Q,df as J,aG as u,ay as a,W as t,X as m,a2 as s,b1 as i,a1 as $,D as M,I as w,aE as y,b3 as g,bn as h,C as N,A as T,ak as x}from"./index-e89a99fa.js";import{J as B}from"./json-editor-77b95219.js";import"./QSlideTransition-c70310ba.js";import"./_commonjsHelpers-55d1ff45.js";const D=j({name:"SettingsPage",components:{JsonEditor:B},setup(){const n=k(),r=O(),f=c(()=>r.pageHeight),v=c(()=>n.settings),C=c(()=>{var e;return(e=n.settings)==null?void 0:e.configExpertMode}),_=e=>n.settings[e.id]!==void 0?e.validate?e.validate(n.settings[e.id]):n.settings[e.id]:e.value,d=e=>!e._error&&n.set({[e.id]:JSON.parse(e.value)}),l=({id:e,value:o})=>n.set({["settings."+e]:o}),p=e=>e?e({jarvis:r,editor:n}):!0;return{expanded:Q({}),groups:J,pageHeight:f,expertMode:C,json:v,dependencies:p,getValue:_,onChange:l,onJsonEditor:d}}}),H={class:"full-height"},P={class:"row no-wrap"},z={class:"row",style:{padding:"8px 16px"}};function I(n,r,f,v,C,_){const d=u("inputs"),l=u("json-editor"),p=u("paper");return a(),t("div",H,[m("div",P,[s(S,{class:"paper",style:{"min-height":"56px"}},{default:i(()=>[s(b,{shrink:""},{default:i(()=>[$(M(n.$t("Settings")),1)]),_:1})]),_:1})]),(a(!0),t(w,null,y(n.groups,e=>g((a(),t("div",{class:"row no-wrap paper",key:e.id},[s(V,{modelValue:n.expanded[e.id],"onUpdate:modelValue":o=>n.expanded[e.id]=o,icon:e.icon,label:n.$t(e.label),class:"full-width"},{default:i(()=>[m("div",z,[(a(!0),t(w,null,y(e.settings,o=>g((a(),t("div",{class:T("col-"+(o.columns||2)),key:o.id},[m("form",null,[s(d,x(o,{onOnChange:n.onChange,onOnSelect:n.onChange,value:n.getValue(o)}),null,16,["onOnChange","onOnSelect","value"])])],2)),[[h,n.dependencies(o.dependency)]])),128))])]),_:2},1032,["modelValue","onUpdate:modelValue","icon","label"])])),[[h,!n.expertMode]])),128)),g(s(p,{style:N({height:n.pageHeight-66-16+"px"})},{default:i(()=>[s(l,{id:"settings",json:n.json,onOnChange:n.onJsonEditor},null,8,["json","onOnChange"])]),_:1},8,["style"]),[[h,n.expertMode]])])}var q=E(D,[["render",I]]);export{q as default};
