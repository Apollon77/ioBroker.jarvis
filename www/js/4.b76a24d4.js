(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"02ae":function(t,e,i){"use strict";i("eff0")},1177:function(t,e,i){"use strict";i("b849")},"424e":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-dialog",{attrs:{value:null!==t.widget,"full-height":"",persistent:""}},[null!==t.widget?i("q-card",{staticClass:"column full-height",staticStyle:{width:"1200px","max-width":"90vw"}},[i("q-card-section",{staticClass:"row items-center"},[i("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("Widget"))+" "+t._s(t.widget.title))]),i("q-space"),i("q-btn",{attrs:{flat:"",round:"",color:"grey",icon:"close"},on:{click:function(e){return t.cancel()}}})],1),i("q-separator"),i("q-card-section",{staticClass:"col scroll body"},[i("div",{staticClass:"text-h6 primary q-ma-sm"},[t._v(t._s(t.$t("Widget-Box")))]),i("q-separator",{staticStyle:{margin:"0 -16px"}}),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("inputs",{attrs:{id:"icon",label:t.$t("Widget Icon"),value:t.widget.icon||t.ModuleSettings.icon||"",icon:t.widget.icon},on:{onChange:t.onChange}})],1),i("div",{staticClass:"col"},[i("inputs",{attrs:{id:"title",label:t.$t("Widget Title"),value:t.widget.title||"",autofocus:""},on:{onChange:t.onChange}})],1),i("div",{staticClass:"col"},[i("inputs",{attrs:{type:"switch",id:"hideTitle",label:t.$t("Hide Widget Title and Icon"),value:t.widget.hideTitle||!1},on:{onChange:t.onChange}})],1)]),i("div",{staticClass:"text-h6 primary q-ma-sm"},[t._v(t._s(t.$t("Module")))]),i("q-separator",{staticStyle:{margin:"0 -16px"}}),i("div",{staticClass:"row"},[i("div",{staticClass:"col-3"},[i("inputs",{attrs:{id:"module",label:t.$t("Module"),type:"select",options:t.ModuleList,value:t.widget.module,"options-dense":"","use-input":"",required:"",error:void 0!==t.errors["module"],"error-message":t.errors["module"]},on:{onSelect:t.onChange}})],1),i("div",{staticClass:"col-9"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.widget.module,expression:"widget.module"}],staticClass:"centered"},[t._v(t._s(t.$t(t.widget.module+"#description")))])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.widget.module,expression:"widget.module"}]},[i("div",{staticClass:"text-h7 primary q-ma-sm"},[t._v(t._s(t.$t("Module Configuration")))]),i("q-separator",{staticStyle:{margin:"0 0 8px 0"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:null!==t.ModuleConfigurations,expression:"ModuleConfigurations !== null"}],staticClass:"row"},[t._l(t.ModuleConfigurations,(function(e){return[!0!==e.hide?i("div",{key:e.parameter,class:"col-"+(e.columns||4)},[i("inputs",t._b({attrs:{value:t.getValueForInput(e)},on:{onChange:function(i){return t.onChange(Object.assign({},arguments[0],{id:"config."+e.parameter}))},onSelect:function(i){return t.onChange(Object.assign({},arguments[0],{id:"config."+e.parameter}))}}},"inputs",e,!1))],1):t._e()]}))],2),i("div",{directives:[{name:"show",rawName:"v-show",value:null===t.ModuleConfigurations||0===t.ModuleConfigurations.length,expression:"ModuleConfigurations === null || ModuleConfigurations.length === 0"}],staticClass:"row"},[i("p",{staticClass:"q-pa-sm"},[t._v("\n\t\t\t\t\t\t"+t._s(t.$t("No configuration options for this module"))+"\n\t\t\t\t\t")])]),t.ModuleSettings&&t.ModuleSettings.customConfiguration?i("div",{staticClass:"row"},[i(t.ModuleSettings.customConfiguration,{tag:"component",attrs:{config:t.widget.config},on:{onChange:t.onChange}})],1):t._e(),!1!==t.ModuleSettings.addDevice?[i("div",{staticClass:"text-h7 primary q-ma-sm"},[t._v(t._s(t.$t("Module Devices")))]),i("q-separator",{staticStyle:{margin:"0 -0 8px 0"}}),i("div",{staticClass:"row"},[i("widget-devices-section",{attrs:{itemList:t.widget.items||[],module:t.widget.module},on:{onChange:t.onChange}})],1)]:t._e()],2)],1),i("q-separator"),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:t.$t("Cancel"),color:"negative"},on:{click:function(e){return t.cancel()}}}),i("q-btn",{attrs:{flat:"",label:t.$t("Apply"),color:"primary",disable:t.hasErrors},on:{click:t.save}})],1)],1):t._e()],1)},a=[],o=(i("5319"),i("a6f4")),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"full-width"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-4"},[i("q-select",{directives:[{name:"show",rawName:"v-show",value:!1!==t.ModuleSettings.addDevice&&(!t.ModuleSettings.addDevice||t.ModuleSettings.addDevice&&(void 0===t.ModuleSettings.addDevice.max||t.ModuleSettings.addDevice.max>t.items.length)),expression:"ModuleSettings.addDevice !== false && (!ModuleSettings.addDevice || (ModuleSettings.addDevice && (ModuleSettings.addDevice.max === undefined || ModuleSettings.addDevice.max > items.length)))"}],ref:"addDeviceSelect",staticStyle:{margin:"0 8px"},attrs:{label:t.$t("Add Device"),options:t.optionGroupsAddDevice,value:"","use-input":"","stack-label":""},on:{filter:t.filter},scopedSlots:t._u([{key:"option",fn:function(e){return[i("q-expansion-item",{attrs:{"expand-separator":"","header-class":"text-weight-bold",label:e.opt.label,icon:e.opt.icon}},[t._l(e.opt.devices,(function(e){return[i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.id,attrs:{clickable:""},on:{click:function(i){return t.addDevice(e.id)}}},[i("q-item-section",[i("q-item-label",{staticClass:"q-ml-md"},[t._v(t._s(e.name))])],1)],1)]}))],2)]}}])})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!1!==t.ModuleSettings.addGroup,expression:"ModuleSettings.addGroup !== false"}],staticClass:"col-1",staticStyle:{"text-align":"center","line-height":"70px"}},[t._v(t._s(t.$t("or")))]),i("div",{directives:[{name:"show",rawName:"v-show",value:!1!==t.ModuleSettings.addGroup,expression:"ModuleSettings.addGroup !== false"}],staticClass:"col-3"},[i("inputs",{attrs:{label:"Add Group",value:t.group.value||""},on:{onChange:function(e){t.group=arguments[0]},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addGroup.apply(null,arguments)}}},[[i("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.group.value,expression:"group.value"}],staticStyle:{height:"32px","min-width":"100px","margin-top":"16px"},attrs:{flat:"",size:"sm",dense:"",icon:"mdi-check",label:t.$t("add group")},on:{click:t.addGroup}})]],2)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!1!==t.ModuleSettings.addDivider,expression:"ModuleSettings.addDivider !== false"}],staticClass:"col-1",staticStyle:{"text-align":"center","line-height":"70px"}},[t._v(t._s(t.$t("or")))]),i("div",{directives:[{name:"show",rawName:"v-show",value:!1!==t.ModuleSettings.addDivider,expression:"ModuleSettings.addDivider !== false"}],staticClass:"col-3",staticStyle:{"line-height":"70px"}},[i("q-btn",{attrs:{icon:"mdi-minus",label:t.$t("Add Divider"),color:"primary"},on:{click:t.addDivider}})],1)]),i("div",{staticClass:"row"},[i("q-list",{staticClass:"full-width",staticStyle:{"margin-top":"16px"}},[i("draggable",{attrs:{handle:".dragndrop"},on:{change:t.emitChange},model:{value:t.items,callback:function(e){t.items=e},expression:"items"}},[i("transition-group",{attrs:{type:"transition",name:"flip-list",tag:"div"}},t._l(t.items,(function(e){return i("div",{key:e.id,staticClass:"list-group-item",attrs:{set:t.isInGroup=(!t.isInGroup||"divider"!==e.type)&&("group"===e.type||t.isInGroup)}},[i("q-item",[i("q-item-section",{attrs:{avatar:""}},[i("div",{staticClass:"row items-center"},[i("icon",{directives:[{name:"show",rawName:"v-show",value:t.items.length>1,expression:"items.length > 1"}],staticClass:"dragndrop",staticStyle:{"padding-right":"16px"},attrs:{name:"mdi-drag-horizontal"}}),i("inputs",{attrs:{type:"button",icon:"mdi-content-copy",tooltip:t.$t("copy")},on:{click:function(i){return t.copyItem(i,e.id)}}}),i("inputs",{directives:[{name:"show",rawName:"v-show",value:!0!==e._deleted,expression:"item._deleted !== true"}],attrs:{type:"button",icon:"mdi-delete",tooltip:t.$t("delete"),color:"negative"},on:{click:function(i){return t.deleteItem(i,e.id)}}}),i("inputs",{directives:[{name:"show",rawName:"v-show",value:!0===e._deleted,expression:"item._deleted === true"}],staticClass:"restore",attrs:{type:"button",icon:"mdi-restore",tooltip:t.$t("restore"),color:"positive"},on:{click:function(i){return t.restoreItem(i,e.id)}}})],1)]),"device"!==e.type||"device"===e.type&&void 0!==t.deviceList[e.deviceId]?[i("q-item-section",["divider"===e.type?i("span",[i("em",[t._v(t._s("("+t.$t("divider")+")"))])]):t._e(),"group"===e.type?i("span",[i("strong",[t._v(t._s(e.name))])]):t._e(),"device"===e.type?i("span",[i("strong",[t._v(t._s(t.deviceList[e.deviceId].name))]),t._v(" ("+t._s(t.deviceList[e.deviceId].function+", #"+e.deviceId)+")")]):t._e(),"device"===e.type?i("div",{staticClass:"row nowrap"},[t.shallBeShown("label")?i("inputs",{staticStyle:{width:"150px"},attrs:{dense:"",label:"Label",itemId:e.id,id:"label",value:t.deviceLabel(e)},on:{onChange:t.onChange}}):t._e(),t.shallBeShown("bodyStateKey")?i("inputs",{staticStyle:{width:"130px"},attrs:{dense:"",label:"Body State",itemId:e.id,id:"bodyStateKey",value:e.bodyStateKey,type:"select",options:t.deviceStatesOptions(e.deviceId)},on:{onSelect:t.onChange}}):t._e(),t.shallBeShown("bodyElement")?i("inputs",{directives:[{name:"show",rawName:"v-show",value:e.bodyStateKey,expression:"item.bodyStateKey"}],staticStyle:{width:"230px"},attrs:{dense:"",id:"bodyElement",label:"Body Element",itemId:e.id,value:e.bodyElement,info:"mdi-plus",type:"select.components",components:t.FUNCTION_COMPONENTS["bodyElements"][t.deviceFunction(e)],componentValues:t.componentValues(e)},on:{onSelect:t.onChange,onOptions:t.onChange}}):t._e()],1):t._e()]),t.ModuleSettings.addDevice&&t.ModuleSettings.addDevice.customDeviceSection?i("q-item-section",[i(t.ModuleSettings.addDevice.customDeviceSection,{tag:"component",attrs:{item:e},on:{onChange:t.onChange}})],1):t._e(),i("q-item-section",{attrs:{side:""}},["group"===e.type?i("div",{staticClass:"row nowrap"},[i("inputs",{staticStyle:{width:"100px"},attrs:{dense:"",label:t.$t("Group Actions"),itemId:e.id,id:"actions",value:e.actions||!1,type:"switch"},on:{onChange:t.onChange}}),t.shallBeShown("groupElement")?i("inputs",{directives:[{name:"show",rawName:"v-show",value:!0===e.actions,expression:"item.actions === true"}],staticStyle:{width:"200px"},attrs:{dense:"",id:"groupElement",label:"Group Element",itemId:e.id,value:e.groupElement,info:"mdi-plus",type:"select.components",components:t.FUNCTION_COMPONENTS["actionElements"]["_defaults"].filter((function(t){return"InputAction"!==t.value&&"DropdownAction"!==t.value})),componentValues:t.componentValues(e)},on:{onSelect:t.onChange,onOptions:t.onChange}}):t._e()],1):t._e(),"device"===e.type?i("div",{staticClass:"row nowrap"},[t.shallBeShown("primaryStateKey")?i("inputs",{staticStyle:{width:"130px"},attrs:{dense:"",label:"Action State",itemId:e.id,id:"primaryStateKey",value:e.primaryStateKey,type:"select",options:t.deviceStatesOptions(e.deviceId)},on:{onSelect:t.onChange}}):t._e(),t.shallBeShown("showState")?i("inputs",{directives:[{name:"show",rawName:"v-show",value:e.primaryStateKey,expression:"item.primaryStateKey"}],staticStyle:{width:"100px"},attrs:{dense:"",label:"Show State",itemId:e.id,id:"showState",value:void 0===e.showState||e.showState,type:"switch"},on:{onChange:t.onChange}}):t._e(),t.shallBeShown("showGroupAction")?i("inputs",{directives:[{name:"show",rawName:"v-show",value:e.primaryStateKey&&!0===t.isInGroup,expression:"item.primaryStateKey && isInGroup === true"}],staticStyle:{width:"100px"},attrs:{dense:"",label:"Use in Actions",itemId:e.id,id:"useInGroup",value:void 0===e.useInGroup||e.useInGroup,type:"switch"},on:{onChange:t.onChange}}):t._e(),t.shallBeShown("actionElement")?i("inputs",{directives:[{name:"show",rawName:"v-show",value:e.primaryStateKey,expression:"item.primaryStateKey"}],staticStyle:{width:"200px"},attrs:{dense:"",id:"actionElement",label:"Action Element",itemId:e.id,value:e.actionElement,info:"mdi-plus",type:"select.components",components:t.FUNCTION_COMPONENTS["actionElements"][t.deviceFunction(e)],componentsValues:t.componentValues(e,"action","primary"),device:t.getDevice(e.deviceId)},on:{onSelect:t.onChange,onOptions:t.onChange}}):t._e()],1):t._e(),"device"===e.type?i("div",{staticClass:"row nowrap"},[t.shallBeShown("secondaryStateKeys")?i("q-select",{staticStyle:{width:"430px"},attrs:{"stack-label":"",dense:"",label:t.$t("Secondary State"),value:e.secondaryStateKeys,options:t.deviceStatesOptions(e.deviceId),"use-chips":"",multiple:""},on:{input:function(i){return t.onChangeSecondaryStateKeys(e.id,arguments[0])}}}):t._e()],1):t._e()])]:i("q-item-section",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.$t("Device not found")+" ("+t.$t("Device ID")+": "+e.deviceId+")")+"\n\t\t\t\t\t\t\t")])],2),i("q-separator")],1)})),0)],1)],1)],1)])},d=[],l=i("ec26"),r=i("b76a"),c=i.n(r),u=i("6211"),p=i("c7ac");const g=i("0050")(),m=i("3c4e");var h=Object(o["c"])({name:"WidgetDevicesSection",props:["module","itemList"],components:{Draggable:c.a,WidgetDevicesSection:N},data(){this.FUNCTION_COMPONENTS=p["listOfComponents"];const t=this.$store.getters["editor/getGroups"]("function");return{components:p["listOfComponents"],deviceId:null,group:{},isInGroup:!1,items:g(this.itemList),deviceList:this.$store.state.editor.devices,optionsAddDevice:t,optionGroupsAddDevice:Object.values(t),optionGroupsAddDeviceDefault:Object.values(t),ModuleSettings:u["c"]._ModuleSettings[this.module]||{}}},watch:{module(t){this.ModuleSettings=u["c"]._ModuleSettings[t]||{}}},methods:{shallBeShown(t){return!this.ModuleSettings.addDevice||this.ModuleSettings.addDevice&&(!this.ModuleSettings.addDevice.fields||this.ModuleSettings.addDevice.fields&&this.ModuleSettings.addDevice.fields.includes(t))},filter(t,e){const i=t?Object.values(this.$store.getters["editor/getGroups"]("function",t)):this.optionGroupsAddDeviceDefault;e((()=>{this.optionGroupsAddDevice=i}))},componentValues(t,e="body",i="body"){const s=this.deviceList[t.deviceId]&&this.deviceList[t.deviceId].states[t[i+"StateKey"]]||{},a=t[e+"Element"];return m(s[a+"Config"]||{},t[a+"Config"]&&t[a+"Config"][t.primaryStateKey]||{})},getDevice(t){return this.deviceList[t]},deviceFunction(t){return"other"===this.deviceList[t.deviceId].function?"_defaults":this.deviceList[t.deviceId].function},deviceLabel(t){return t.label||this.deviceList[t.deviceId].label||this.deviceList[t.deviceId].name},deviceStatesOptions(t){return Object.keys(this.deviceList[t].states).map((t=>({label:t,value:t})))},hasDevices(t){return this.optionsAddDevice[t].devices.length>0},emitChange(){this.$emit("onChange",{id:"items",value:this.items})},deleteItem(t,e){t.stopPropagation(),this.$delete(this.items,this.items.findIndex((t=>t.id===e))),this.emitChange()},copyItem(t,e){t.stopPropagation();const i=g(this.items.find((t=>t.id===e)));this.addItem(i)},addItem(t){const e=Object(l["a"])();this.items.push({...t,id:e}),this.emitChange()},addDevice(t){this.addItem({type:"device",deviceId:t}),this.ModuleSettings.addDevice&&void 0!==this.ModuleSettings.addDevice.max&&this.ModuleSettings.addDevice.max<=this.items.length&&this.$refs.addDeviceSelect.hidePopup()},addGroup(){this.addItem({type:"group",name:this.group.value}),this.group={}},addDivider(){this.addItem({type:"divider"})},onChange(t){if(t.id&&t.itemId){const e=this.items.findIndex((e=>e.id===t.itemId));if(e>-1){if(t.id.indexOf("moduleConfig.")>-1)this.$set(this.items,e,{...this.items[e],moduleConfig:{...this.items[e].moduleConfig||{},[t.id.replace("moduleConfig.","")]:t.value}});else if("componentOptions"===t.id){const i=this.items[e].primaryStateKey;this.$set(this.items[e],t.component+"Config",{...this.items[e][t.component+"Config"]||{},[i]:{...this.items[e][t.component+"Config"]&&this.items[e][t.component+"Config"][i]||{},...t.value}})}else this.$set(this.items,e,{...this.items[e],[t.id]:t.value});this.$emit("onChange",{id:"items",value:this.items})}}},onChangeSecondaryStateKeys(t,e){this.onChange({value:e.map((t=>t.value||t)),itemId:t,id:"secondaryStateKeys"})}}}),v=h,w=i("2877"),b=i("ddd8"),C=i("3b73"),y=i("66e5"),f=i("4074"),S=i("0170"),I=i("9c40"),_=i("1c1c"),x=i("eb85"),$=i("714f"),q=i("eebe"),D=i.n(q),k=Object(w["a"])(v,n,d,!1,null,null,null),N=k.exports;D()(k,"components",{QSelect:b["a"],QExpansionItem:C["a"],QItem:y["a"],QItemSection:f["a"],QItemLabel:S["a"],QBtn:I["a"],QList:_["a"],QSeparator:x["a"]}),D()(k,"directives",{Ripple:$["a"]});const T=i("0050")();var E=Object(o["c"])({name:"WidgetPage",props:["widgetId"],components:{WidgetDevicesSection:N},data(){return this.ModuleList=u["c"]._ModuleList.map((t=>({label:t,value:t}))),{component:null,errors:{},ModuleConfigurations:null,ModuleSettings:null,widget:null}},computed:{hasErrors(){return Object.keys(this.errors).length>0}},methods:{getValueForInput(t){return this.widget&&void 0!==this.widget.config[t.parameter]?this.widget.config[t.parameter]:"function"===typeof t.value?t.value():t.value},onChange(t){const{_error:e,id:i,value:s}=t;e?this.$set(this.errors,i,e):i.indexOf("config.")>-1?(this.$delete(this.errors,i),this.$set(this.widget.config,i.replace("config.",""),s)):(this.$delete(this.errors,i),this.$set(this.widget,i,s),"module"===i&&(this.ModuleConfigurations=u["c"]._ModuleConfigurations[s]||null,this.ModuleSettings=u["c"]._ModuleSettings[s]||null,this.$set(this.widget,"config",{})))},cancel(t=null){this.$emit("onClose",t),this.widget=null,this.errors={}},save(){this.$store.commit("editor/addWidget",{widget:this.widget}),this.cancel(this.widget)}},watch:{widgetId(t){null===t?this.widget=null:(this.widget=this.$store.state.editor.widgets[t]?T(this.$store.state.editor.widgets[t]):{id:t,config:{}},this.ModuleConfigurations=u["c"]._ModuleConfigurations[this.widget.module]||null,this.ModuleSettings=u["c"]._ModuleSettings[this.widget.module]||{})}}}),P=E,W=(i("02ae"),i("24e8")),M=i("f09f"),L=i("a370"),O=i("2c91"),A=i("4b7e"),Q=Object(w["a"])(P,s,a,!1,null,"0b2c67e3",null);e["a"]=Q.exports;D()(Q,"components",{QDialog:W["a"],QCard:M["a"],QCardSection:L["a"],QSpace:O["a"],QBtn:I["a"],QSeparator:x["a"],QCardActions:A["a"]})},b849:function(t,e,i){},d4f0:function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return wt}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"full-height LayoutsPage"},[i("div",{staticClass:"row no-wrap"},[i("q-toolbar",{staticClass:"paper",staticStyle:{"min-height":"56px"}},[i("q-toolbar-title",{attrs:{shrink:""}},[t._v(t._s(t.$t("Layout")))])],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.expertMode,expression:"!expertMode"}],staticClass:"row",staticStyle:{"margin-bottom":"54px"}},[i("div",{staticClass:"col-3"},[i("paper",{staticClass:"q-pa-sm"},[i("div",{staticClass:"text-h6 primary q-ma-sm"},[t._v("\n\t\t\t\t\t"+t._s(t.$t("Drawer")+" / "+t.$t("Pages"))+"\n\t\t\t\t")]),i("q-btn-group",[i("q-btn",{attrs:{color:"primary",icon:"mdi-plus-circle",label:t.$t("add page")},on:{click:t.addPage}}),i("q-btn",{attrs:{color:"secondary",icon:"mdi-plus-circle",label:t.$t("add header")},on:{click:t.addHeader}}),i("q-btn",{attrs:{color:"secondary",icon:"mdi-plus-circle",label:t.$t("add divider")},on:{click:t.addDivider}})],1),i("alert",{directives:[{name:"show",rawName:"v-show",value:!t.isPro&&t.pages.length>5,expression:"!isPro && pages.length > 5"}],staticStyle:{margin:"16px 0 0 0"}},[t._v(t._s(t.$t("Only 5 items (page, header and divider) are allowed without Pro"))+".")]),i("q-separator",{staticStyle:{margin:"16px 0"}}),i("q-list",[i("draggable",{attrs:{handle:".dragndrop"},model:{value:t.pages,callback:function(e){t.pages=e},expression:"pages"}},[i("transition-group",{attrs:{type:"transition",name:"flip-list",tag:"div"}},t._l(t.pages,(function(e){return i("q-item",{key:e.id,class:{rowDeleted:!0===e._deleted,selected:t.selectedPage.id===e.id},attrs:{clickable:!e.type||"page"===e.type,disable:!0===e._deleted},on:{click:function(i){return t.onSelectPage(e)}}},[i("q-item-section",{attrs:{avatar:"",center:""}},[i("icon",{staticClass:"dragndrop",attrs:{name:"mdi-drag-horizontal"}})],1),e.type&&"page"!==e.type?t._e():i("q-item-section",{style:{backgroundColor:e.backgroundColor,color:e.iconColor},attrs:{avatar:"",center:""}},[i("icon",{attrs:{name:e.icon}})],1),i("q-item-section",{class:{itemDeleted:!0===e._deleted},style:{backgroundColor:e.backgroundColor,color:e.color}},["divider"===e.type?i("q-separator"):t._e(),i("q-item-label",{class:{header:"header"===e.type}},[t._v(t._s(e.title))])],1),i("q-item-section",{class:{rowDeleted:!0===e._deleted,selected:t.selectedPage.id===e.id},attrs:{side:""}},[i("div",{staticClass:"row items-center"},[i("inputs",{directives:[{name:"show",rawName:"v-show",value:"divider"!==e.type&&!0!==e._deleted,expression:"page.type !== 'divider' && page._deleted !== true"}],attrs:{type:"button",icon:"mdi-content-copy",tooltip:t.$t("copy")},on:{click:function(i){return t.copyItem(i,e.id)}}}),i("inputs",{directives:[{name:"show",rawName:"v-show",value:(e.type&&"page"!==e.type||(!e.type||"page"===e.type)&&t.pagesWithoutDeletionsCount>1)&&!0!==e._deleted,expression:"((page.type && page.type !== 'page') || ((!page.type || page.type === 'page') && pagesWithoutDeletionsCount > 1)) && page._deleted !== true"}],attrs:{type:"button",icon:"mdi-delete",tooltip:t.$t("delete"),color:"negative"},on:{click:function(i){return t.deleteItem(i,e.id)}}}),i("inputs",{directives:[{name:"show",rawName:"v-show",value:!0===e._deleted,expression:"page._deleted === true"}],staticClass:"restore",attrs:{type:"button",icon:"mdi-restore",tooltip:t.$t("restore"),color:"positive"},on:{click:function(i){return t.restoreItem(i,e.id)}}})],1)])],1)})),1)],1)],1)],1)],1),i("div",{staticClass:"col-9"},[i("paper",{staticClass:"q-pa-sm"},[i("drawer-section",{attrs:{pageId:t.selectedPage.id}})],1)],1)]),i("paper",{directives:[{name:"show",rawName:"v-show",value:t.expertMode,expression:"expertMode"}],style:{height:t.pageHeight-66-16+"px"}},[i("json-editor",{attrs:{id:"layout",json:t.json},on:{onChange:t.onJsonEditor}})],1)],1)},a=[],o=i("a6f4"),n=i("853a"),d=i("a54a"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"text-h6 primary q-ma-sm"},[t._v(t._s(t.$t("Page"))+": "+t._s(t.page.title))]),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("inputs",{attrs:{id:"icon",label:t.$t("Page Icon"),value:t.page.icon||"",icon:t.page.icon},on:{onChange:t.onChange}})],1),i("div",{staticClass:"col"},[i("inputs",{attrs:{id:"title",label:t.$t("Page Title"),value:t.page.title||""},on:{onChange:t.onChange}})],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("inputs",{attrs:{type:"color",id:"iconColor",label:t.$t("Icon Color"),value:t.page.iconColor||""},on:{onChange:t.onChange}})],1),i("div",{staticClass:"col"},[i("inputs",{attrs:{type:"color",id:"color",label:t.$t("Font Color"),value:t.page.color||""},on:{onChange:t.onChange}})],1),i("div",{staticClass:"col"},[i("inputs",{attrs:{type:"color",id:"backgroundColor",label:t.$t("Background Color"),value:t.page.backgroundColor||""},on:{onChange:t.onChange}})],1)]),i("div",{staticClass:"text-h6 primary q-ma-sm"},[t._v(t._s(t.$t("Tabs of page")+" "+t.page.title))]),i("div",{staticClass:"q-ma-sm row"},[i("q-btn",{attrs:{color:"secondary",icon:"mdi-plus-circle",label:t.$t("add tab")},on:{click:t.addTab}}),i("inputs",{staticStyle:{margin:"auto 0 auto 16px"},attrs:{type:"switch",inline:"",label:t.$t("Tab Labels nicht anzeigen (nur Icons)"),id:"hideLabels",value:t.page.hideLabels||!1},on:{onChange:t.onChange}})],1),i("alert",{directives:[{name:"show",rawName:"v-show",value:!t.isPro&&t.tabs.length>5,expression:"!isPro && tabs.length > 5"}]},[t._v(t._s(t.$t("Only 5 tabs are allowed without Pro"))+".")]),i("q-tabs",{staticClass:"bg-primary text-white full-width",attrs:{"inline-label":"","outside-arrows":"","mobile-arrows":"",align:"left"},model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}},[i("draggable",{attrs:{handle:".dragndrop"},model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[i("transition-group",{staticStyle:{display:"flex","flex-wrap":"wrap"},attrs:{type:"transition",name:"flip-list",tag:"div"}},t._l(t.tabs,(function(e){return i("q-tab",{key:e.id,class:{rowDeleted:!0===e._deleted},style:{backgroundColor:e.backgroundColor},attrs:{name:e.id,disable:!0===e._deleted}},[[i("icon",{staticClass:"dragndrop",staticStyle:{"font-size":"24px"},style:{color:e.color},attrs:{name:"mdi-drag-vertical"}}),i("icon",{staticClass:"q-tab__icon",style:{color:e.iconColor||e.color},attrs:{name:e.icon}}),i("div",{directives:[{name:"show",rawName:"v-show",value:!0!==t.page.hideLabels,expression:"page.hideLabels !== true"}],staticClass:"q-tab__label",style:{color:e.color}},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t")]),i("div",{staticClass:"row items-center no-wrap",staticStyle:{"margin-left":"16px"},style:{color:e.color}},[i("inputs",{directives:[{name:"show",rawName:"v-show",value:!0!==e._deleted,expression:"tab._deleted !== true"}],attrs:{type:"button",icon:"mdi-content-copy",tooltip:t.$t("copy")},on:{click:function(i){return t.copyTab(i,e.id)}}}),i("inputs",{directives:[{name:"show",rawName:"v-show",value:!0!==e._deleted&&t.pagesDropdown.length>0,expression:"tab._deleted !== true && pagesDropdown.length > 0"}],attrs:{type:"button",icon:"mdi-folder-move-outline",tooltip:t.$t("move"),items:t.pagesDropdown},on:{onSelect:function(i){var s=arguments.length,a=Array(s);while(s--)a[s]=arguments[s];return t.moveTab.apply(void 0,[e.id].concat(a))},click:t.stopPropagation}}),i("inputs",{directives:[{name:"show",rawName:"v-show",value:!0!==e._deleted,expression:"tab._deleted !== true"}],attrs:{type:"button",icon:"mdi-delete",tooltip:t.$t("delete"),color:"negative"},on:{click:function(i){return t.deleteTab(i,e.id)}}}),i("inputs",{directives:[{name:"show",rawName:"v-show",value:!0===e._deleted,expression:"tab._deleted === true"}],attrs:{type:"button",icon:"mdi-restore",tooltip:t.$t("restore"),color:"positive"},on:{click:function(i){return t.restoreTab(i,e.id)}}})],1)]],2)})),1)],1)],1),i("q-tab-panels",{staticClass:"border",attrs:{animated:""},model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}},t._l(t.tabs,(function(e){return i("q-tab-panel",{key:e.id,staticClass:"body",staticStyle:{padding:"16px 0"},attrs:{name:e.id}},[i("tab-section",{attrs:{pageId:t.page.id,tabId:e.id}})],1)})),1)],1)},r=[],c=i("ded3"),u=i.n(c),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{padding:"0 8px"}},[i("div",{staticClass:"text-h6 primary q-ma-sm"},[t._v(t._s(t.$t("Tab"))+": "+t._s(t.tab.title))]),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("inputs",{attrs:{id:"icon",label:t.$t("Tab Icon"),value:t.tab.icon||"",icon:t.tab.icon},on:{onChange:t.onChange}})],1),i("div",{staticClass:"col"},[i("inputs",{attrs:{id:"title",label:t.$t("Tab Title"),value:t.tab.title||""},on:{onChange:t.onChange}})],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("inputs",{attrs:{type:"color",id:"iconColor",label:t.$t("Icon Color"),value:t.tab.iconColor||""},on:{onChange:t.onChange}})],1),i("div",{staticClass:"col"},[i("inputs",{attrs:{type:"color",id:"color",label:t.$t("Font Color"),value:t.tab.color||""},on:{onChange:t.onChange}})],1),i("div",{staticClass:"col"},[i("inputs",{attrs:{type:"color",id:"backgroundColor",label:t.$t("Background Color"),value:t.tab.backgroundColor||""},on:{onChange:t.onChange}})],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-2"},[i("inputs",{staticStyle:{margin:"auto 0 auto 16px"},attrs:{type:"switch",inline:"",label:t.$t("Tab Fullscreen"),id:"fullscreen",value:t.tab.fullscreen||!1},on:{onChange:t.onChange}})],1),i("div",{staticClass:"col"},[i("inputs",{staticStyle:{margin:"auto 0 auto 16px"},attrs:{type:"switch",inline:"",label:t.$t("Widgets edges (round or angled)"),id:"widgetEdges",value:t.tab.widgetEdges||!1},on:{onChange:t.onChange}})],1)]),i("div",{staticClass:"text-h6 primary q-ma-sm",staticStyle:{"margin-top":"24px"}},[t._v(t._s(t.$t("Widgets of tab")+" "+t.tab.title))]),i("widget-section",{attrs:{pageId:t.pageId,tabId:t.tabId,id:"desktop",label:"Desktop",icon:"mdi-monitor",fullscreen:t.tab.fullscreen||!1,widgetEdges:t.tab.widgetEdges||!1,widgetConfig:t.tab.widgetConfig||{},items:t.tab.widgetsDesktop}}),i("widget-section",{attrs:{pageId:t.pageId,tabId:t.tabId,id:"tablet",label:"Tablet",icon:"mdi-tablet-android",fullscreen:t.tab.fullscreen||!1,widgetEdges:t.tab.widgetEdges||!1,widgetConfig:t.tab.widgetConfig||{},items:t.tab.widgetsTablet}}),i("widget-section",{attrs:{pageId:t.pageId,tabId:t.tabId,id:"smartphone",label:"Smartphone",icon:"mdi-cellphone",fullscreen:t.tab.fullscreen||!1,widgetEdges:t.tab.widgetEdges||!1,widgetConfig:t.tab.widgetConfig||{},items:t.tab.widgetsSmartphone}})],1)},g=[],m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("widget-popup",{attrs:{widget:t.selectedWidget},on:{onClose:function(e){t.selectedWidget=null},onSave:t.saveWidgetAssignments}}),i("q-expansion-item",{staticClass:"full-width paper",attrs:{value:!0!==t.disabled&&t.expanded,disable:t.disabled},on:{input:function(e){t.expanded=!t.expanded}},scopedSlots:t._u([{key:"header",fn:function(){return[i("q-item-section",{attrs:{avatar:""}},[i("icon",{attrs:{name:t.icon}})],1),i("q-item-section",{staticStyle:{height:"40px"}},[t._v("\n\t\t\t\t"+t._s(t.label)+"\n\t\t\t")]),"desktop"!==t.id?i("q-item-section",{staticClass:"notDisabled",attrs:{side:""}},[i("inputs",{staticStyle:{width:"150px"},attrs:{type:"select",options:t.options,dense:"",label:t.$t("Use same layout as"),id:t.id+"SameAs",value:t.widgetConfig[t.id+"SameAs"]||"desktop"},on:{onSelect:t.onChange},nativeOn:{click:function(e){return e.preventDefault(),t.stopPropagation.apply(null,arguments)}}})],1):t._e()]},proxy:!0}])},[i("div",{staticStyle:{"padding-bottom":"100px"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.fullscreen,expression:"fullscreen === true"}]},[i("div",{directives:[{name:"show",rawName:"v-show",value:0===t.widgets.length,expression:"widgets.length === 0"}],staticClass:"row",staticStyle:{padding:"0 16px 8px 16px","min-height":"64px"}},[i("q-btn",{staticStyle:{margin:"auto 0"},attrs:{color:"secondary",icon:"mdi-plus-circle",label:t.$t("add widget")},on:{click:t.addWidget}})],1),i("q-separator"),i("div",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.widgets[0],expression:"widgets[0] !== undefined"}],staticClass:"grid-item tooltip-widget"},[i("div",{staticClass:"row justify-between"},[i("div",{staticClass:"row items-center",staticStyle:{"padding-left":"8px"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("Fullscreen"))+"\n\t\t\t\t\t\t")]),i("div",{staticClass:"row"},[i("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-pencil"},on:{click:function(e){t.selectedWidget=t.widgets[0]}}}),i("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-content-copy"},on:{click:function(e){return t.copyWidget(t.widgets[0].i)}}}),i("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-delete",color:"negative"},on:{click:function(e){return t.deleteWidget(t.widgets[0].i)}}})],1)])])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!0!==t.fullscreen,expression:"fullscreen !== true"}]},[i("div",{staticClass:"row",staticStyle:{padding:"0 16px 8px 16px","min-height":"64px"}},[i("q-btn",{staticStyle:{margin:"auto 0"},attrs:{color:"secondary",icon:"mdi-plus-circle",label:t.$t("add widget")},on:{click:t.addWidget}}),i("inputs",{staticStyle:{margin:"auto 0 auto 16px"},attrs:{dense:"",type:"switch",inline:"",label:t.$t("Height of all widgets equal to page height (no scrollbars)"),id:t.id+"FitPageHeight",value:t.widgetConfig[t.id+"FitPageHeight"]||!1},on:{onChange:t.onChange}}),i("inputs",{directives:[{name:"show",rawName:"v-show",value:!0!==t.widgetConfig[t.id+"FitPageHeight"],expression:"widgetConfig[id + 'FitPageHeight'] !== true"}],staticStyle:{margin:"auto 0 auto 16px"},attrs:{dense:"",type:"number",label:t.$t("Widget height"),id:t.id+"WidgetHeight",value:t.widgetConfig[t.id+"WidgetHeight"]||100},on:{onChange:t.onChange}})],1),i("q-separator"),i("grid-layout",{staticStyle:{"min-height":"100px"},attrs:{layout:t.widgets,"row-height":parseInt(!0!==t.widgetConfig[t.id+"FitPageHeight"]&&t.widgetConfig[t.id+"WidgetHeight"])||100,margin:[5,5],"use-css-transforms":!0,responsive:!0},on:{"layout-updated":t.setWidgets}},t._l(t.widgets,(function(e){return i("grid-item",{key:e.i,staticClass:"grid-item tooltip-widget",class:{"rounded-borders":!0!==t.widgetEdges},attrs:{x:e.x,y:e.y,w:e.w,h:e.h,i:e.i}},[i("q-tooltip",{attrs:{target:".tooltip-widget"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.getWidgetsData(e.items))+"\n\t\t\t\t\t\t")]),i("div",{staticClass:"row justify-between"},[i("div",{staticClass:"row items-center",staticStyle:{"padding-left":"8px"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.$t("Position")+": "+e.x+"x * "+e.y+"y")+" -\n\t\t\t\t\t\t\t\t"+t._s(t.$t("Size")+": "+e.w+"w * "+e.h+"h")+",\n\t\t\t\t\t\t\t")]),i("div",{staticClass:"row"},[i("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-pencil"},on:{click:function(i){t.selectedWidget=e}}}),i("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-content-copy"},on:{click:function(i){return t.copyWidget(e.i)}}}),i("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-delete",color:"negative"},on:{click:function(i){return t.deleteWidget(e.i)}}})],1)]),i("div",{staticClass:"row q-pa-sm tooltip-widget",staticStyle:{overflow:"hidden"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.getWidgetsData(e.items))+"\n\t\t\t\t\t\t")])],1)})),1)],1)])])],1)},h=[],v=i("ec26"),w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("widget-page",{attrs:{widgetId:t.selectedWidgetId},on:{onClose:t.onWidgetClose}}),i("q-dialog",{attrs:{value:null!==t.items,persistent:""}},[null!==t.items?i("q-card",{staticClass:"column",staticStyle:{width:"800px","max-width":"80vw"}},[i("q-card-section",{staticClass:"row items-center"},[i("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("Assign Widget to Box")))]),i("q-space"),i("q-btn",{attrs:{flat:"",round:"",color:"grey",icon:"close"},on:{click:t.cancel}})],1),i("q-separator"),i("q-card-section",{staticClass:"col defaultPadding-2 q-pt-none scroll body"},[i("div",{staticClass:"text-h7 primary q-ma-sm"},[t._v(t._s(t.$t("Widget")))]),i("q-separator",{staticStyle:{margin:"0 0 8px 0"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:0===t.itemList.length,expression:"itemList.length === 0"}],staticClass:"row"},[i("div",{staticClass:"col"},[i("inputs",{attrs:{id:"assignWidget",label:"Assign Widget",type:"select",options:t.widgetList,reset:t.reset,"options-dense":"","use-input":""},on:{onSelect:t.onChange}})],1),i("div",{staticClass:"col-1",staticStyle:{"text-align":"center","line-height":"56px"}},[t._v(t._s(t.$t("or")))]),i("div",{staticClass:"col-3",staticStyle:{"text-align":"center","line-height":"56px"}},[i("q-btn",{attrs:{color:"primary",icon:"mdi-plus-circle",label:t.$t("add widget")},on:{click:t.onAddWidget}})],1)]),i("q-list",t._l(t.itemList,(function(e,s){return i("q-item",{key:e.id+"-"+s,staticClass:"list-group-item"},[i("q-item-section",[i("q-item-label",[t._v(t._s(e.title||t.$t("No Widget title")))]),i("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.module))])],1),i("q-item-section",{attrs:{side:""}},[i("div",{staticClass:"row items-center"},[i("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-pencil"},on:{click:function(i){return t.onWidgetEdit(e.id)}}}),i("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-delete",color:"negative"},on:{click:function(i){return t.onWidgetRemove(e.id)}}})],1)])],1)})),1),i("div",{staticClass:"text-h7 primary q-ma-sm",staticStyle:{"margin-top":"16px"}},[t._v(t._s(t.$t("Options")))]),i("q-separator",{staticStyle:{margin:"0 0 8px 0"}}),i("div",{staticClass:"row q-pb-xs"},[i("div",{staticClass:"col"},[i("inputs",{directives:[{name:"show",rawName:"v-show",value:t.itemList[0]&&!1===t.SCALE_EXCEPTIONS.includes(t.itemList[0].module),expression:"itemList[0] && SCALE_EXCEPTIONS.includes(itemList[0].module) === false"}],attrs:{icon:"mdi-fit-to-page",id:"scaleToFitContents",label:"Scale contents to fit widget",type:"switch",value:t.inputScaleToFitContents},on:{onChange:t.onChange}}),i("em",{directives:[{name:"show",rawName:"v-show",value:!(t.itemList[0]&&!1===t.SCALE_EXCEPTIONS.includes(t.itemList[0].module)&&!1===t.ALIGNMENT_EXCEPTIONS.includes(t.itemList[0].module)),expression:"!(itemList[0] && SCALE_EXCEPTIONS.includes(itemList[0].module) === false && ALIGNMENT_EXCEPTIONS.includes(itemList[0].module) === false)"}],staticClass:"q-mx-md"},[t._v(t._s(t.$t("No options")))])],1),i("div",{staticClass:"col"},[i("inputs",{directives:[{name:"show",rawName:"v-show",value:!1===t.ALIGNMENT_EXCEPTIONS.includes(t.itemList[0].module),expression:"ALIGNMENT_EXCEPTIONS.includes(itemList[0].module) === false"}],attrs:{icon:"mdi-arrow-split-horizontal",id:"alignmentVertical",label:"Vertical alignment",type:"select",options:t.alignmentVertical,value:t.inputValueAlignmentVertical},on:{onSelect:t.onChange}})],1),i("div",{staticClass:"col"},[i("inputs",{directives:[{name:"show",rawName:"v-show",value:!1===t.ALIGNMENT_EXCEPTIONS.includes(t.itemList[0].module),expression:"ALIGNMENT_EXCEPTIONS.includes(itemList[0].module) === false"}],attrs:{icon:"mdi-arrow-split-vertical",id:"alignmentHorizontal",label:"Horizontal alignment",type:"select",options:t.alignmentHorizontal,value:t.inputValueAlignmentHorizontal},on:{onSelect:t.onChange}})],1)])],1),i("q-separator"),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:t.$t("Cancel"),color:"negative"},on:{click:t.cancel}}),i("q-btn",{attrs:{flat:"",label:t.$t("Apply"),color:"primary",disable:t.hasErrors},on:{click:t.save}})],1)],1):t._e()],1)],1)},b=[],C=(i("4e82"),i("424e")),y=i("6211");const f=i("0050")();var S=Object(o["c"])({name:"WidgetPopup",props:["widget"],components:{WidgetPage:C["a"]},data(){return this.SCALE_EXCEPTIONS=y["b"],this.ALIGNMENT_EXCEPTIONS=y["a"],this.alignmentVertical=[{label:this.$i18n.t("top aligned"),value:"top"},{label:this.$i18n.t("middle aligned"),value:"middle"},{label:this.$i18n.t("bottom aligned"),value:"bottom"}],this.alignmentHorizontal=[{label:this.$i18n.t("left aligned"),value:"left"},{label:this.$i18n.t("center aligned"),value:"center"},{label:this.$i18n.t("right aligned"),value:"right"},{label:this.$i18n.t("fill full width"),value:"fill-width"}],{reset:null,selectedWidgetId:null,selectedWidgetShallBeAdded:!1,items:null===this.widget?null:f(this.widget.items||[])}},computed:{inputScaleToFitContents(){return void 0===this.widget.scaleToFitContents||this.widget.scaleToFitContents},inputValueAlignmentVertical(){return this.widget.alignmentVertical||"top"},inputValueAlignmentHorizontal(){return this.widget.alignmentHorizontal||"center"},hasErrors(){return!1},widgetList(){const t=Object.values(this.$store.state.editor.widgets).filter((t=>-1===this.items.indexOf(t.id))).map((t=>({value:t.id,label:t.module+(t.title?" - "+t.title:"")+" ("+t.id.substr(0,5)+")"}))).sort(((t,e)=>{const i=t.label.toLowerCase(),s=e.label.toLowerCase();return i===s?0:i>s?1:-1}));return t},itemList(){const t=this.items.map((t=>this.$store.state.editor.widgets[t]));return t}},methods:{onChange(t){"assignWidget"===t.id&&t.value&&-1===this.items.indexOf(t.value)?(this.items.push(t.value),this.reset=Math.random()):this.$set(this.widget,t.id,t.value)},onAddWidget(){this.selectedWidgetShallBeAdded=!0,this.selectedWidgetId=Object(v["a"])()},onWidgetClose(t){t&&!0===this.selectedWidgetShallBeAdded&&this.onChange({id:"assignWidget",value:this.selectedWidgetId}),this.selectedWidgetShallBeAdded=!1,this.selectedWidgetId=null},cancel(){this.$emit("onClose"),this.items=null},save(){this.$emit("onSave",this.items),this.cancel()},onWidgetEdit(t){this.selectedWidgetId=t},onWidgetRemove(t){this.items.splice(this.items.indexOf(t),1)}},watch:{widget(t){this.items=null===t?null:f(t.items||[])}}}),I=S,_=i("2877"),x=i("24e8"),$=i("f09f"),q=i("a370"),D=i("2c91"),k=i("9c40"),N=i("eb85"),T=i("1c1c"),E=i("66e5"),P=i("4074"),W=i("0170"),M=i("4b7e"),L=i("eebe"),O=i.n(L),A=Object(_["a"])(I,w,b,!1,null,null,null),Q=A.exports;O()(A,"components",{QDialog:x["a"],QCard:$["a"],QCardSection:q["a"],QSpace:D["a"],QBtn:k["a"],QSeparator:N["a"],QList:T["a"],QItem:E["a"],QItemSection:P["a"],QItemLabel:W["a"],QCardActions:M["a"]});var G=i("a2b6"),j=i("7be8"),B=i.n(j);const F=i("0050")();var H=Object(o["c"])({name:"WidgetSection",props:["pageId","tabId","id","label","icon","fullscreen","widgetEdges","widgetConfig","items"],components:{GridLayout:B.a.GridLayout,GridItem:B.a.GridItem,WidgetPopup:Q},watch:{fullscreen(t){!0===t&&0===this.widgets.length&&this.addWidget()}},data(){return{expanded:"desktop"===this.id,selectedWidget:null,widgets:F(this.items)||[]}},computed:{disabled(){return"desktop"!==this.id&&"specific-layout"!==this.widgetConfig[this.id+"SameAs"]},options(){let t=[{label:this.$i18n.t("wie Desktop"),value:"desktop"},{label:this.$i18n.t("wie Tablet"),value:"tablet"},{label:this.$i18n.t("wie Smartphone"),value:"smartphone"},{label:this.$i18n.t("eigenes Layout"),value:"specific-layout"}];return t=t.filter((t=>t.value!==this.id)),t}},methods:{stopPropagation(t){t.stopPropagation()},onChange(t){this.$store.commit("editor/setWidgetConfig",{pageId:this.pageId,tabId:this.tabId,key:t.id,val:t.value})},getWidgetsData(t){return t&&0!==t.length?t.map((t=>{const e=this.$store.state.editor.widgets[t]||{};return e.module+(e.title?" ("+e.title+")":"")})).join(", "):this.$i18n.t("No widgets assigned")},setWidgets(t){this.$store.commit("editor/setWidgets",{pageId:this.pageId,tabId:this.tabId,key:"widgets"+Object(G["f"])(this.id),val:t})},addWidget(){this.widgets.push({x:2*this.widgets.length%12,y:this.widgets.length+12,w:4,h:4,i:Object(v["a"])()})},copyWidget(t){const e=F(this.widgets.find((e=>e.i===t)));e.i=Object(v["a"])(),this.widgets.push(e)},deleteWidget(t){this.widgets.splice(this.widgets.findIndex((e=>e.i===t)),1)},saveWidget(t){const e=this.widgets.findIndex((e=>e.i===t.i));this.widgets.splice(e,1,t),this.setWidgets(this.widgets)},saveWidgetAssignments(t){this.widgets.splice(this.widgets.findIndex((t=>t.i===this.selectedWidget.i)),1,u()(u()({},this.selectedWidget),{},{items:t})),this.selectedWidget=null,this.setWidgets(this.widgets)}}}),z=H,K=(i("f15b"),i("3b73")),V=i("05c0"),X=i("b498"),J=Object(_["a"])(z,m,h,!1,null,null,null),U=J.exports;O()(J,"components",{QExpansionItem:K["a"],QItemSection:P["a"],QBtn:k["a"],QSeparator:N["a"],QTooltip:V["a"],QColor:X["a"]});var R=Object(o["c"])({name:"TabPage",props:["pageId","tabId"],components:{WidgetSection:U},methods:{onChange(t){this.$store.commit("editor/editTab",{pageId:this.pageId,tabId:this.tabId,key:t.id,val:t.value})}},computed:{tab(){const t=this.$store.state.editor.layout.find((t=>t.id===this.pageId))||{},e=t.tabs.find((t=>t.id===this.tabId))||{};return e}}}),Y=R,Z=Object(_["a"])(Y,p,g,!1,null,null,null),tt=Z.exports,et=i("b76a"),it=i.n(et),st=Object(o["c"])({name:"DrawerPage",props:["pageId"],components:{Draggable:it.a,TabSection:tt},data(){var t,e;const i=this.$store.state.editor.layout.find((t=>t.id===this.pageId))||{};return{selectedTab:(null===(t=i.tabs)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.id)||null}},methods:{stopPropagation(t){t.stopPropagation()},addTab(){this.$store.commit("editor/addTab",{pageId:this.pageId}),this.selectedTab=this.tabs[this.tabs.length-1].id},copyTab(t,e){this.stopPropagation(t),this.$store.commit("editor/addTab",{pageId:this.pageId,tabId:e}),this.selectedTab=this.tabs[this.tabs.length-1].id},moveTab(t,e){const{val:i}=e;this.$store.commit("editor/moveTab",{pageId:this.pageId,tabId:t,destinationPageId:i})},deleteTab(t,e){this.stopPropagation(t),this.$store.commit("editor/deleteTab",{pageId:this.pageId,tabId:e}),this.selectedTab===e&&(this.selectedTab=this.tabs.find((t=>!0!==t._deleted)).id)},restoreTab(t,e){this.stopPropagation(t),this.$store.commit("editor/restoreTab",{pageId:this.pageId,tabId:e}),this.selectedTab=e},onChange(t){this.$store.commit("editor/editDrawerItem",{itemId:this.pageId,key:t.id,val:t.value})}},computed:{isPro(){return n["a"].isPro()},page(){return this.$store.state.editor.layout.find((t=>t.id===this.pageId))||{}},pagesDropdown(){const t=[];return this.$store.getters["editor/getPagesWithoutDeletions"].forEach((e=>{e.id!==this.pageId&&t.push(u()({id:e.id,label:e.title},e))})),t},tabs:{get(){const t=this.page.tabs||[];return t},set(t){this.$store.commit("editor/setTabs",{pageId:this.pageId,tabs:t})}}},watch:{pageId(){var t,e;this.selectedTab=(null===(t=this.tabs)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.id)||null}}}),at=st,ot=(i("dda7"),i("429b")),nt=i("7460"),dt=i("adad"),lt=i("823b"),rt=Object(_["a"])(at,l,r,!1,null,null,null),ct=rt.exports;O()(rt,"components",{QBtn:k["a"],QTabs:ot["a"],QTab:nt["a"],QTabPanels:dt["a"],QTabPanel:lt["a"],QColor:X["a"]});var ut=Object(o["c"])({name:"LayoutsPage",components:{Draggable:it.a,DrawerSection:ct,JsonEditor:d["a"]},data(){return{selectedPage:this.$store.getters["editor/getLayout"][0]||{},editItemId:null}},methods:{stopPropagation(t){t.stopPropagation()},onSelectPage(t){this.selectedPage=t},onJsonEditor(t){t._error||this.$store.commit("editor/set",{[t.id]:JSON.parse(t.value)})},addDivider(){this.$store.commit("editor/addDrawerItem",{type:"divider"})},addHeader(){this.$store.commit("editor/addDrawerItem",{type:"header",title:this.$i18n.t("New Header")})},addPage(){this.$store.commit("editor/addDrawerItem",{type:"page",icon:"mdi-file",title:this.$i18n.t("New Page"),tabs:[]}),this.selectedPage=this.pages[this.pages.length-1],this.$store.commit("editor/addTab",{pageId:this.selectedPage.id})},copyItem(t,e){this.stopPropagation(t),this.$store.commit("editor/copyDrawerItem",{itemId:e});const i=this.pages[this.pages.length-1];"page"===i.type&&(this.selectedPage=i)},deleteItem(t,e){this.stopPropagation(t),this.$store.commit("editor/deleteDrawerItem",{itemId:e}),this.selectedPage.id===e&&(this.selectedPage=this.pages.find((t=>"page"===t.type&&!0!==t._deleted)))},restoreItem(t,e){this.stopPropagation(t),this.$store.commit("editor/restoreDrawerItem",{itemId:e});const i=this.pages.find((t=>t.id===e));"page"===i.type&&(this.selectedPage=i)},resetLayout(){this.$store.commit("editor/setLayout",this.$store.state.layout.drawers)}},computed:{isPro(){return n["a"].isPro()},pageHeight(){return this.$store.state.jarvis.pageHeight},pagesWithoutDeletionsCount(){return this.$store.getters["editor/getPagesWithoutDeletions"].length},pages:{get(){const t=this.$store.getters["editor/getLayout"]||[];return t},set(t){this.$store.commit("editor/setLayout",t)}},json(){return this.$store.state.editor.layout},expertMode(){var t;return null===(t=this.$store.state.editor.settings)||void 0===t?void 0:t.configExpertMode}}}),pt=ut,gt=(i("1177"),i("65c6")),mt=i("6ac5"),ht=i("e7a9"),vt=Object(_["a"])(pt,s,a,!1,null,null,null),wt=vt.exports;O()(vt,"components",{QToolbar:gt["a"],QToolbarTitle:mt["a"],QBtnGroup:ht["a"],QBtn:k["a"],QSeparator:N["a"],QList:T["a"],QItem:E["a"],QItemSection:P["a"],QItemLabel:W["a"],QColor:X["a"]})},dda7:function(t,e,i){"use strict";i("ec5e")},ec5e:function(t,e,i){},ee78:function(t,e,i){},eff0:function(t,e,i){},f15b:function(t,e,i){"use strict";i("ee78")}}]);