(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"8cfe":function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return D}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"full-height WidgetsPage"},[i("div",{staticClass:"row no-wrap"},[i("q-toolbar",{staticClass:"paper",staticStyle:{"min-height":"56px"}},[i("q-toolbar-title",{attrs:{shrink:""}},[t._v(t._s(t.$t("Widgets"))+" ("+t._s(t.widgetsCount)+")")]),i("q-space"),i("q-btn",{attrs:{color:"primary",icon:"mdi-plus-circle",label:t.$t("add widget")},on:{click:t.addWidget}})],1)],1),i("widget-page",{attrs:{widgetId:t.selectedWidgetId},on:{onClose:function(e){t.selectedWidgetId=null}}}),t._l(t.groups,(function(e){return i("div",{directives:[{name:"show",rawName:"v-show",value:!t.expertMode&&e.widgets.length>0,expression:"!expertMode && group.widgets.length > 0"}],key:e.id,staticClass:"row no-wrap paper"},[i("q-expansion-item",{staticClass:"full-width",attrs:{icon:e.icon,label:e.label+" ("+e.widgets.length+")"},model:{value:t.expanded[e.id],callback:function(i){t.$set(t.expanded,e.id,i)},expression:"expanded[group.id]"}},[i("widgets-table",{attrs:{widgets:e.widgets},on:{onEditWidget:t.editWidget}})],1)],1)})),i("paper",{directives:[{name:"show",rawName:"v-show",value:t.expertMode,expression:"expertMode"}],style:{height:t.pageHeight-66-16+"px"}},[i("json-editor",{attrs:{id:"widgets",json:t.json},on:{onChange:t.onJsonEditor}})],1)],2)},s=[],n=i("a6f4"),d=i("a54a"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"q-pa-md"},[i("q-table",{attrs:{data:t.widgets,columns:t.columns,pagination:t.pagination,"rows-per-page-label":t.$t("Widgets per page")},scopedSlots:t._u([{key:"header",fn:function(e){return[i("q-tr",{attrs:{props:e}},[i("q-th",{attrs:{"auto-width":""}}),t._l(e.cols,(function(o){return i("q-th",{key:o.name,attrs:{props:e}},[t._v("\n\t\t\t\t\t\n\t\t\t\t\t"+t._s(o.label)+"\n\t\t\t\t")])})),i("q-th",{attrs:{"auto-width":""}})],2)]}},{key:"body",fn:function(e){return[i("q-tr",{class:{rowDeleted:t.isDeleted(e.row)},attrs:{props:e}},[i("q-td",{attrs:{"auto-width":""}},[!0!==t.isDeleted(e.row)?i("div",[i("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-pencil"},on:{click:function(i){return t.onWidgetEdit(e.row)}}}),i("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-content-copy"},on:{click:function(i){return t.onWidgetCopy(e.row)}}})],1):t._e()]),t._l(e.cols,(function(o){return i("q-td",{key:o.name,attrs:{props:e}},[i("div",{class:{itemDeleted:t.isDeleted(e.row)}},[t._v("\n\t\t\t\t\t\t"+t._s(o.value)+"\n\t\t\t\t\t")])])})),i("q-td",{attrs:{"auto-width":""}},[!0!==t.isDeleted(e.row)?i("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-delete",color:"negative"},on:{click:function(i){return t.onWidgetRemove(e.row)}}}):t._e(),t.isDeleted(e.row)?i("q-btn",{attrs:{size:"sm",flat:"",round:"",icon:"mdi-restore",color:"positive"},on:{click:function(i){return t.onWidgetRestore(e.row)}}}):t._e()],1)],2)]}}])})],1)},a=[],l=Object(n["c"])({name:"WidgetsTable",props:["widgets"],data(){return{pagination:{sortBy:"name",rowsPerPage:15},columns:[{name:"id",label:this.$i18n.t("ID"),field:"id",align:"left",sortable:!0,style:{width:"20%"}},{name:"title",label:this.$i18n.t("Title"),field:"title",align:"left",sortable:!0,style:{width:"30%"}},{name:"module",label:this.$i18n.t("Module"),field:"module",align:"left",sortable:!0,style:{width:"50%"}}]}},methods:{isDeleted(t){return!0===t._deleted},onWidgetEdit(t){this.$emit("onEditWidget",t)},onWidgetCopy(t){this.$store.commit("editor/copyWidget",{widget:t})},onWidgetRemove(t){this.$store.commit("editor/removeWidget",{widget:t})},onWidgetRestore(t){this.$store.commit("editor/restoreWidget",{widget:t})}}}),c=l,g=i("2877"),u=i("eaac"),p=i("bd08"),w=i("357e"),m=i("db86"),h=i("9c40"),b=i("eebe"),f=i.n(b),W=Object(g["a"])(c,r,a,!1,null,null,null),v=W.exports;f()(W,"components",{QTable:u["a"],QTr:p["a"],QTh:w["a"],QTd:m["a"],QBtn:h["a"]});var _=i("424e"),q=i("ec26"),x=Object(n["c"])({name:"WidgetsPage",components:{JsonEditor:d["a"],WidgetsTable:v,WidgetPage:_["a"]},data(){return{expanded:{},selectedWidgetId:null}},methods:{addWidget(){this.selectedWidgetId=Object(q["a"])()},editWidget(t){this.selectedWidgetId=t.id},onJsonEditor(t){t._error||this.$store.commit("editor/set",{[t.id]:JSON.parse(t.value)})}},computed:{pageHeight(){return this.$store.state.jarvis.pageHeight},groups(){return this.$store.getters["editor/getGroupedWidgets"]},widgetsCount(){return this.$store.getters["editor/getWidgetsWthoutDeletionsCount"]},json(){return this.$store.state.editor.widgets},expertMode(){var t;return null===(t=this.$store.state.editor.settings)||void 0===t?void 0:t.configExpertMode}}}),$=x,y=i("65c6"),k=i("6ac5"),C=i("2c91"),E=i("3b73"),j=Object(g["a"])($,o,s,!1,null,null,null),D=j.exports;f()(j,"components",{QToolbar:y["a"],QToolbarTitle:k["a"],QSpace:C["a"],QBtn:h["a"],QExpansionItem:E["a"]})}}]);