import{bW as ce,a2 as P,bf as ve,d5 as pe,b8 as ge,b4 as fe,z as he,h as ye,cf as me,aY as Ce,ch as ee,B as Se,d6 as be,q as ae,W as we,ck as le,c as N,d7 as z,cs as Z,a3 as Ie,_ as se,d8 as Oe,d4 as ke,j as T,o as l,d as I,e as d,J as y,a1 as S,k as t,w as r,F as R,l as ie,a as C,M as B,Z as $e,f as de,t as k,g as h,L as U,cK as De,Y as ne,O as j,bV as Ke,p as X,m as Y,ad as _,i as H,I as Le,N as oe,a6 as W,x as Ee,a4 as Me,ab as Ve,a5 as te,a7 as Ae,a8 as Be}from"./index-5ed861c6.js";import{Q as Fe}from"./QExpansionItem-590d0d66.js";import{D as Ge,a as Qe,u as We}from"./useDragDrop-d29d5b68.js";var qe=ce({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validation-success","validation-error"],setup(e,{slots:$,emit:L}){const V=Ce(),b=P(null);let w=0;const a=[];function E(c){const O=[],A=typeof c=="boolean"?c:e.noErrorFocus!==!0,f=++w,i=(v,u)=>{L("validation-"+(v===!0?"success":"error"),u)};for(let v=0;v<a.length;v++){const u=a[v],D=u.validate();if(typeof D.then=="function")O.push(D.then(M=>({valid:M,comp:u}),M=>({valid:!1,comp:u,err:M})));else if(D!==!0){if(e.greedy===!1)return i(!1,u),A===!0&&typeof u.focus=="function"&&u.focus(),Promise.resolve(!1);O.push({valid:!1,comp:u})}}return O.length===0?(i(!0),Promise.resolve(!0)):Promise.all(O).then(v=>{const u=v.filter(J=>J.valid!==!0);if(u.length===0)return f===w&&i(!0),!0;const{valid:D,comp:M,err:F}=u[0];return f===w&&(F!==void 0&&console.error(F),i(!1,M),A===!0&&D!==!0&&typeof M.focus=="function"&&M.focus()),!1})}function s(){w++,a.forEach(c=>{typeof c.resetValidation=="function"&&c.resetValidation()})}function n(c){c!==void 0&&ee(c);const O=w+1;E().then(A=>{O===w&&A===!0&&(e.onSubmit!==void 0?L("submit",c):c!==void 0&&c.target!==void 0&&typeof c.target.submit=="function"&&c.target.submit())})}function g(c){c!==void 0&&ee(c),L("reset"),Se(()=>{s(),e.autofocus===!0&&e.noResetFocus!==!0&&K()})}function K(){be(()=>{if(b.value===null)return;const c=b.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(b.value.querySelectorAll("[tabindex]"),O=>O.tabIndex>-1);c!=null&&c.focus({preventScroll:!0})})}ve(pe,{bindComponent(c){a.push(c)},unbindComponent(c){const O=a.indexOf(c);O>-1&&a.splice(O,1)}});let G=!1;return ge(()=>{G=!0}),fe(()=>{G===!0&&e.autofocus===!0&&K()}),he(()=>{e.autofocus===!0&&K()}),Object.assign(V.proxy,{validate:E,resetValidation:s,submit:n,reset:g,focus:K,getValidationComponents:()=>a}),()=>ye("form",{class:"q-form",ref:b,onSubmit:n,onReset:g},me($.default))}});const Pe=ae({name:"WidgetDevicesSection",props:["module","itemList"],emits:["onChange"],components:{Draggable:Ge},setup(e,{emit:$}){const L=we(),V=le(),b=N(()=>z.Settings[e.module]||{}),w=N(()=>V.devices),a=o=>w.value[o],E=o=>w.value[o.deviceId].function==="other"?"_defaults":w.value[o.deviceId].function,s=o=>Object.keys(w.value[o].states)||[],n=o=>s(o).map(p=>({label:p,value:p})),g=o=>K[o].devices.length!==0,K=V.getGroups("function"),G=P(Object.values(K)),c=o=>!b.value.addDevice||b.value.addDevice&&(!b.value.addDevice.fields||b.value.addDevice.fields&&b.value.addDevice.fields.includes(o)),O=(o,p)=>{const m=Object.values(o?V.getGroups("function",o):K);p(()=>{G.value=m})},A=(o,p,m)=>{const Q=w.value[o.deviceId]&&w.value[o.deviceId].states[o[m+"StateKey"]]||{},q=o[p+"Element"];return Oe(Q[q+"Config"]||{},o[q+"Config"]&&o[q+"Config"][m]||{})},f=P(Z(e.itemList)),i=(o,p=null)=>{const m=ke(),Q={...o,id:m};if(p===null){if(o.type==="device"){const q=s(o.deviceId)[0]||null;Q.primaryStateKey=q,Q.bodyStateKey=q,Q.bodyElement="LastChangeBody"}f.value.push(Q)}else f.value.splice(p,0,Q);$("onChange",{id:"items",value:f.value})},v=o=>{const p=Z(f.value.find(m=>m.id===o));i(p,f.value.findIndex(m=>m.id===p.id)+1)},u=o=>{confirm(L.t("Really delete item?"))&&(f.value.splice(f.value.findIndex(m=>m.id===o),1),$("onChange",{id:"items",value:f.value}))},D=P(),M=o=>{(!o.attributes||o.attributes&&o.attributes.deleted!==!0)&&(i({type:"device",deviceId:o.id}),b.value.addDevice&&b.value.addDevice.max!==void 0&&b.value.addDevice.max<=f.value.length&&D.value.hidePopup())},F=P({}),J=()=>{F.value.value&&i({type:"group",name:F.value.value}),F.value={}},ue=()=>i({type:"divider"}),x=o=>{if(o.id&&o.itemId){const p=f.value.findIndex(m=>m.id===o.itemId);if(p>-1){if(o.id.indexOf("moduleConfig.")>-1)f.value[p].moduleConfig={...f.value[p].moduleConfig||{},[o.id.replace("moduleConfig.","")]:o.value};else if(o.id.indexOf("secondaryStatesConfig.")>-1)f.value[p].secondaryStatesConfig={...f.value[p].secondaryStatesConfig||{},[o.id.replace("secondaryStatesConfig.","")]:o.value};else if(o.id==="componentOptions"){const m=o.stateKey||f.value[p].primaryStateKey;f.value[p][o.component+"Config"]={...f.value[p][o.component+"Config"]||{},[m]:{...f.value[p][o.component+"Config"]&&f.value[p][o.component+"Config"][m]||{},...o.value}}}else f.value[p][o.id]=o.value;$("onChange",{id:"items",value:f.value})}}},re=(o,p)=>{x({value:p.map(m=>m.value||m),itemId:o,id:"secondaryStatesKeys"})};return{...Qe(),FunctionsComponentsList:Ie.ComponentsListAsOptions,ModuleSettings:b,onFilter:O,shallBeShown:c,deviceList:w,getDevice:a,getDeviceFunction:E,getDeviceStates:s,getDeviceStatesOptions:n,hasDevices:g,onChange:x,onChangeSecondaryStatesKeys:re,isInGroup:!1,setGroup:o=>{F.value=o},group:F,addGroup:J,addDivider:ue,addDevice:M,items:f,addItem:i,copyItem:v,deleteItem:u,componentValues:A,addDeviceElement:D,optionsAddDevice:K,optionGroupsAddDevice:G}}}),je={class:"full-width"},Ne={class:"row sticky body"},Te={class:"col-4"},Re=H("\xA0"),Ue={key:0},ze={class:"col-3"},He={class:"col-3",style:{"line-height":"70px"}},Je={class:"row"},Ye=["set"],Ze={class:"row items-center"},Xe={key:0},_e={key:1},xe={key:2},en={key:3,class:"row nowrap"},nn={key:0,class:"row nowrap"},on={key:1,class:"row nowrap"},tn={key:2,class:"row nowrap"};function an(e,$,L,V,b,w){const a=T("inputs"),E=T("icon"),s=T("draggable");return l(),I("div",je,[d("div",Ne,[d("div",Te,[y(t(ne,{onFilter:e.onFilter,ref:"addDeviceElement",label:e.$t("Add Device"),options:e.optionGroupsAddDevice,"model-value":"","use-input":"","stack-label":"",style:{margin:"0 8px"}},{option:r(n=>[t(Fe,{"expand-separator":"","header-class":"text-weight-bold",label:n.opt.label,icon:n.opt.icon},{default:r(()=>[(l(!0),I(R,null,ie(n.opt.devices,g=>y((l(),C(U,{key:g.id,clickable:"",onClick:K=>e.addDevice(g)},{default:r(()=>[t(B,null,{default:r(()=>[t($e,{class:"q-ml-md"},{default:r(()=>[d("span",{class:de({"text-strike":g.attributes&&g.attributes.deleted===!0})},k(g.label?g.label+" ("+g.name+")":g.name),3),Re,g.attributes&&g.attributes.deleted===!0?(l(),I("em",Ue,"[ "+k(e.$t("deleted"))+" ]",1)):h("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[De]])),128))]),_:2},1032,["label","icon"])]),_:1},8,["onFilter","label","options"]),[[S,e.ModuleSettings.addDevice!==!1&&(!e.ModuleSettings.addDevice||e.ModuleSettings.addDevice&&(e.ModuleSettings.addDevice.max===void 0||e.ModuleSettings.addDevice.max>e.items.length))]])]),y(d("div",{class:"col-1",style:{"text-align":"center","line-height":"70px"}},k(e.$t("or")),513),[[S,e.ModuleSettings.addGroup!==!1]]),y(d("div",ze,[t(a,{label:"Add Group",onOnChange:e.setGroup,onKeyup:Ke(e.addGroup,["enter"]),value:e.group.value||""},{end:r(()=>[y(t(j,{flat:"",size:"sm",dense:"",icon:"mdi-check",label:e.$t("add group"),style:{height:"32px","min-width":"100px","margin-top":"16px"},onClick:e.addGroup},null,8,["label","onClick"]),[[S,!!e.group.value]])]),_:1},8,["onOnChange","onKeyup","value"])],512),[[S,e.ModuleSettings.addGroup!==!1]]),y(d("div",{class:"col-1",style:{"text-align":"center","line-height":"70px"}},k(e.$t("or")),513),[[S,e.ModuleSettings.addDivider!==!1]]),y(d("div",He,[t(j,{icon:"mdi-minus",label:e.$t("Add Divider"),color:"primary",onClick:e.addDivider},null,8,["label","onClick"])],512),[[S,e.ModuleSettings.addDivider!==!1]])]),d("div",Je,[t(oe,{ref:"deviceListElement",class:"full-width",style:{"margin-top":"16px"}},{default:r(()=>[t(s,X({class:"list-group",tag:"div","component-data":{tag:"div",type:"transition",name:e.drag?null:"flip-list"},modelValue:e.items,"onUpdate:modelValue":$[0]||($[0]=n=>e.items=n)},e.dragOptions,{onStart:$[1]||($[1]=n=>e.drag=!0),onEnd:$[2]||($[2]=n=>e.drag=!1),"item-key":"id",handle:".dragndrop"}),{item:r(({element:n})=>[(l(),I("div",{key:n.id,set:e.isInGroup=n.type==="device"?e.isInGroup:n.type==="divider"?!1:n.type==="group"},[t(U,null,{default:r(()=>[t(B,{avatar:""},{default:r(()=>[d("div",Ze,[y(t(E,{name:"mdi-drag-horizontal",class:"dragndrop",style:{"padding-right":"16px"}},null,512),[[S,e.items.length>1]]),t(a,{type:"button",dense:"",icon:"mdi-content-copy",tooltip:e.$t("copy"),onClick:Y(g=>e.copyItem(n.id),["stop"])},null,8,["tooltip","onClick"]),y(t(a,{type:"button",dense:"",icon:"mdi-delete",tooltip:e.$t("delete"),color:"negative",onClick:Y(g=>e.deleteItem(n.id),["stop"])},null,8,["tooltip","onClick"]),[[S,n._deleted!==!0]]),y(t(a,{type:"button",dense:"",icon:"mdi-restore",tooltip:e.$t("restore"),color:"positive",onClick:Y(g=>e.restoreItem(n.id),["stop"]),class:"restore"},null,8,["tooltip","onClick"]),[[S,n._deleted===!0]])])]),_:2},1024),n.type!=="device"||n.type==="device"&&e.deviceList[n.deviceId]!==void 0?(l(),I(R,{key:0},[e.ModuleSettings.customBodySection?(l(),C(B,{key:0},{default:r(()=>[(l(),C(_(e.ModuleSettings.customBodySection),X({...e.$props,...e.$attrs},{onOnChange:e.onChange,item:n,device:e.deviceList[n.deviceId]}),null,16,["onOnChange","item","device"]))]),_:2},1024)):(l(),C(B,{key:1},{default:r(()=>[n.type==="divider"?(l(),I("span",Xe,[d("em",null,k("("+e.$t("divider")+")"),1)])):h("",!0),n.type==="group"?(l(),I("span",_e,[d("strong",null,k(n.name),1)])):h("",!0),n.type==="device"?(l(),I("span",xe,[d("strong",null,k(e.deviceList[n.deviceId].name),1),H(" ("+k(e.deviceList[n.deviceId].function+", #"+n.deviceId)+")",1)])):h("",!0),n.type==="device"?(l(),I("div",en,[e.shallBeShown("label")?(l(),C(a,{key:0,dense:"",onOnChange:e.onChange,label:"Label",itemId:n.id,id:"label",json:"",value:n.label||"",placeholder:e.deviceList[n.deviceId].states[n.bodyStateKey]&&e.deviceList[n.deviceId].states[n.bodyStateKey].label?JSON.stringify(e.deviceList[n.deviceId].states[n.bodyStateKey].label):e.deviceList[n.deviceId].name},null,8,["onOnChange","itemId","value","placeholder"])):h("",!0),e.shallBeShown("bodyStateKey")?(l(),C(a,{key:1,dense:"",style:{width:"130px"},onOnSelect:e.onChange,label:"Body State",itemId:n.id,id:"bodyStateKey",value:n.bodyStateKey,type:"select",options:e.getDeviceStatesOptions(n.deviceId)},null,8,["onOnSelect","itemId","value","options"])):h("",!0),e.shallBeShown("bodyElement")?y((l(),C(a,{key:2,dense:"",style:{width:"230px"},onOnSelect:e.onChange,onOnOptions:e.onChange,id:"bodyElement",label:"Body Element",state:e.deviceList[n.deviceId].states[n.bodyStateKey],stateKey:n.bodyStateKey,itemId:n.id,value:n.bodyElement,type:"select.components",components:e.FunctionsComponentsList.bodyElements[e.getDeviceFunction(n)],componentValues:e.componentValues(n,"body",n.bodyStateKey)},null,8,["onOnSelect","onOnOptions","state","stateKey","itemId","value","components","componentValues"])),[[S,n.bodyStateKey]]):h("",!0)])):h("",!0)]),_:2},1024)),e.ModuleSettings.customActionSection?(l(),C(B,{key:2,side:""},{default:r(()=>[(l(),C(_(e.ModuleSettings.customActionSection),{onOnChange:e.onChange,item:n,device:e.deviceList[n.deviceId]},null,40,["onOnChange","item","device"]))]),_:2},1024)):(l(),C(B,{key:3,side:""},{default:r(()=>[n.type==="group"?(l(),I("div",nn,[t(a,{dense:"",style:{width:"100px"},onOnChange:e.onChange,label:e.$t("Group Actions"),itemId:n.id,id:"actions",value:n.actions||!1,type:"switch"},null,8,["onOnChange","label","itemId","value"]),e.shallBeShown("groupElement")?y((l(),C(a,{key:0,dense:"",style:{width:"200px"},onOnSelect:e.onChange,onOnOptions:e.onChange,id:"groupElement",label:"Group Element",stateKey:"group",itemId:n.id,value:n.groupElement,type:"select.components",components:e.FunctionsComponentsList.actionElements._defaults.filter(g=>!["DatePickerAction","TimePickerAction","InputAction","DropdownAction"].includes(g.value)),componentValues:e.componentValues(n,"group","group")},null,8,["onOnSelect","onOnOptions","itemId","value","components","componentValues"])),[[S,n.actions===!0]]):h("",!0)])):h("",!0),n.type==="device"?(l(),I("div",on,[e.shallBeShown("primaryStateKey")?(l(),C(a,{key:0,dense:"",style:{width:"130px"},onOnSelect:e.onChange,label:"Action State",itemId:n.id,id:"primaryStateKey",value:n.primaryStateKey,type:"select",options:e.getDeviceStatesOptions(n.deviceId)},null,8,["onOnSelect","itemId","value","options"])):h("",!0),e.shallBeShown("showState")?y((l(),C(a,{key:1,dense:"",style:{width:"100px"},onOnChange:e.onChange,label:"Show State",itemId:n.id,id:"showState",value:n.showState!==void 0?n.showState:!0,type:"switch"},null,8,["onOnChange","itemId","value"])),[[S,n.primaryStateKey]]):h("",!0),e.shallBeShown("showGroupAction")?y((l(),C(a,{key:2,dense:"",style:{width:"100px"},onOnChange:e.onChange,label:"Use in Actions",itemId:n.id,id:"useInGroup",value:n.useInGroup!==void 0?n.useInGroup:!0,type:"switch"},null,8,["onOnChange","itemId","value"])),[[S,n.primaryStateKey&&e.isInGroup===!0]]):h("",!0),e.shallBeShown("actionElement")?y((l(),C(a,{key:3,dense:"",style:{width:"200px"},onOnSelect:e.onChange,onOnOptions:e.onChange,id:"actionElement",label:"Action Element",state:e.deviceList[n.deviceId].states[n.primaryStateKey],stateKey:n.primaryStateKey,itemId:n.id,value:n.actionElement,type:"select.components",components:e.FunctionsComponentsList.actionElements[e.getDeviceFunction(n)],componentValues:e.componentValues(n,"action",n.primaryStateKey)},null,8,["onOnSelect","onOnOptions","state","stateKey","itemId","value","components","componentValues"])),[[S,n.primaryStateKey]]):h("",!0)])):h("",!0),n.type==="device"?(l(),I("div",tn,[e.shallBeShown("secondaryStatesKeys")?(l(),C(ne,{key:0,"stack-label":"",dense:"",style:{width:"430px"},"onUpdate:modelValue":g=>e.onChangeSecondaryStatesKeys(n.id,g),label:e.$t("Secondary State"),"model-value":n.secondaryStatesKeys,options:e.getDeviceStatesOptions(n.deviceId),"use-chips":"",multiple:""},{after:r(()=>[t(j,{flat:"",dense:"",icon:"mdi-dots-vertical","click.prevent":""},{default:r(()=>[t(Le,null,{default:r(()=>[t(oe,{style:{"min-width":"100px"}},{default:r(()=>[t(U,null,{default:r(()=>[t(B,null,{default:r(()=>[t(a,{dense:"",onOnChange:e.onChange,itemId:n.id,label:"Use Labels",id:"secondaryStatesConfig.useLabel",value:n.secondaryStatesConfig&&n.secondaryStatesConfig.useLabel||!1,type:"switch",inline:""},null,8,["onOnChange","itemId","value"])]),_:2},1024)]),_:2},1024),t(U,null,{default:r(()=>[t(B,null,{default:r(()=>[t(a,{dense:"",onOnChange:e.onChange,itemId:n.id,label:"Use Colors",id:"secondaryStatesConfig.useColor",value:n.secondaryStatesConfig&&n.secondaryStatesConfig.useColor||!0,type:"switch",inline:""},null,8,["onOnChange","itemId","value"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onUpdate:modelValue","label","model-value","options"])):h("",!0)])):h("",!0)]),_:2},1024))],64)):(l(),C(B,{key:1},{default:r(()=>[H(k(e.$t("Device not found")+" ("+e.$t("Device ID")+": "+n.deviceId+")"),1)]),_:2},1024))]),_:2},1024),t(W)],8,Ye))]),_:1},16,["component-data","modelValue"])]),_:1},512)])])}var ln=se(Pe,[["render",an],["__scopeId","data-v-6539a402"]]);const sn=ae({name:"WidgetPage",props:["widgetId"],emits:["onClose"],components:{WidgetDevicesSection:ln},setup(e,{emit:$}){const L=le(),{errors:V,hasErrors:b,addError:w,removeError:a,resetErrors:E}=We({module:"Empty"}),s=P(null);Ee(()=>e.widgetId,i=>{i?(s.value=L.widgets[i]?Z(L.widgets[i]):{id:i,config:{}},s.value.module&&a("module")):s.value=null});const n=z.ModuleList.map(i=>({label:i,value:i})),g=N(()=>z.Configurations[s.value.module]||[]),K=N(()=>z.Settings[s.value.module]||{}),G=N(()=>{const i={};return g.value.forEach(v=>{if(s.value.config[v.parameter]===void 0){const u=typeof v.value=="function"?v.value(s.value):v.value;O({id:"config."+v.parameter,value:u}),i[v.parameter]=u}else i[v.parameter]=s.value.config[v.parameter]}),i}),c=i=>i?Object.keys(i).some(v=>{const u=Array.isArray(i[v])?i[v]:[i[v]],D=s.value.config[v]===void 0?g.value.find(M=>M.parameter===v).value:s.value.config[v];return u.includes(D)}):!0,O=i=>{const{_error:v,id:u,value:D}=i;v?w(u,v):u!==void 0&&D!==void 0&&u.indexOf("config.")!==-1?(s.value.config[u.replace("config.","")]=D,a(u)):u!==void 0&&D!==void 0&&(s.value[u]=D,a(u),u==="module"&&(E(),s.value.config={}))},A=(i=null)=>{$("onClose",i),s.value=null,E()};return{ModuleList:n,ModuleConfigurations:g,ModuleSettings:K,ModuleConfigValues:G,errors:V,hasErrors:b,dependencies:c,widget:s,onChange:O,onCancel:A,onSave:()=>{L.addWidget({widget:s.value}),A(s.value)}}}}),dn={class:"text-h6 row items-center"},un={class:"text-h6 primary q-ma-sm"},rn={class:"row"},cn={class:"col"},vn={class:"col"},pn={class:"col"},gn={class:"col-2"},fn={class:"col-1"},hn={class:"text-h6 primary q-ma-sm"},yn={class:"row"},mn={class:"col-3"},Cn={class:"col-9"},Sn={class:"text-h7 primary q-ma-sm"},bn={class:"row"},wn={class:"row"},In={class:"q-pa-sm"},On={key:0,class:"row"},kn={class:"text-h7 primary q-ma-sm"},$n={class:"row"};function Dn(e,$,L,V,b,w){const a=T("inputs"),E=T("widget-devices-section");return l(),C(Be,{"model-value":e.widget!==null,"full-height":"",persistent:""},{default:r(()=>[e.widget!==null?(l(),C(Me,{key:0,class:"column full-height",style:{width:"1400px","max-width":"90vw"}},{default:r(()=>[t(te,{class:"row items-center"},{default:r(()=>[d("div",dn,[H(k(e.$t("Widget"))+": ",1),t(a,{dense:"",onOnChange:e.onChange,id:"title",label:e.$t("Name"),value:e.widget.title||"",autofocus:"",style:{width:"230px"}},null,8,["onOnChange","label","value"])]),t(Ve),t(j,{flat:"",round:"",color:"grey",icon:"close",onClick:e.onCancel},null,8,["onClick"])]),_:1}),t(W),t(te,{id:"WidgetDialogBody",class:"col scroll body"},{default:r(()=>[t(qe,null,{default:r(()=>[d("div",un,k(e.$t("Widget-Box")),1),t(W,{style:{margin:"0 -16px"}}),d("div",rn,[d("div",cn,[t(a,{onOnChange:e.onChange,id:"icon",label:e.$t("Widget")+" "+e.$t("Icon"),value:e.widget.icon||e.ModuleSettings.icon||"",icon:e.widget.icon},null,8,["onOnChange","label","value","icon"])]),d("div",vn,[t(a,{onOnChange:e.onChange,id:"label",label:e.$t("Widget")+" "+e.$t("Label"),value:e.widget.label||"",placeholder:e.widget.title},null,8,["onOnChange","label","value","placeholder"])]),d("div",pn,[t(a,{onOnChange:e.onChange,id:"link",label:e.$t("Widget")+" "+e.$t("Link"),value:e.widget.link||"",info:"config#HomeKitTile#jumper#info"},null,8,["onOnChange","label","value"])]),d("div",gn,[t(a,{type:"switch",onOnChange:e.onChange,id:"hideTitle",label:e.$t("Hide Widget Label and Icon"),value:e.widget.hideTitle||!1},null,8,["onOnChange","label","value"])]),d("div",fn,[y(t(a,{type:"switch",onOnChange:e.onChange,id:"hideSeparator",label:e.$t("Hide Separator"),value:e.widget.hideSeparator||!1},null,8,["onOnChange","label","value"]),[[S,e.widget.hideTitle!==!0]])])]),d("div",hn,k(e.$t("Module")),1),t(W,{style:{margin:"0 -16px"}}),d("div",yn,[d("div",mn,[t(a,{onOnSelect:e.onChange,id:"module",label:e.$t("Module"),type:"select",options:e.ModuleList,value:e.widget.module,"options-dense":"","use-input":"",required:"",error:e.errors.module!==void 0,"error-message":e.errors.module},null,8,["onOnSelect","label","options","value","error","error-message"])]),d("div",Cn,[y(d("div",{class:"centered"},k(e.$t(e.widget.module+"#description")),513),[[S,e.widget.module]])])]),y(d("div",null,[d("div",Sn,k(e.$t("Module Configuration")),1),t(W,{style:{margin:"0 0 8px 0"}}),y(d("div",bn,[(l(!0),I(R,null,ie(e.ModuleConfigurations,s=>(l(),I(R,null,[s.hide!==!0?y((l(),I("div",{class:de("col-"+(s.columns||4)),key:s.parameter},[t(a,X(s,{onOnChange:e.onChange,onOnSelect:e.onChange,id:"config."+s.parameter,value:e.ModuleConfigValues[s.parameter]}),null,16,["onOnChange","onOnSelect","id","value"])],2)),[[S,e.dependencies(s.dependencies)]]):h("",!0)],64))),256))],512),[[S,e.ModuleConfigurations.length>0]]),y(d("div",wn,[d("p",In,k(e.$t("No configuration options for this module")),1)],512),[[S,e.ModuleConfigurations.length===0]]),e.ModuleSettings&&e.ModuleSettings.customConfiguration?(l(),I("div",On,[(l(),C(_(e.ModuleSettings.customConfiguration),{config:e.widget.config,onOnChange:e.onChange},null,40,["config","onOnChange"]))])):h("",!0),e.ModuleSettings.addDevice!==!1?(l(),I(R,{key:1},[d("div",kn,k(e.$t("Module Devices")),1),t(W,{style:{margin:"0 -0 8px 0"}}),d("div",$n,[t(E,{onOnChange:e.onChange,ModuleConfigValues:e.ModuleConfigValues,itemList:e.widget.items||[],module:e.widget.module},null,8,["onOnChange","ModuleConfigValues","itemList","module"])])],64)):h("",!0)],512),[[S,e.widget.module]])]),_:1})]),_:1}),t(W),t(Ae,{align:"right"},{default:r(()=>[t(j,{flat:"",label:e.$t("Cancel"),color:"negative",onClick:e.onCancel},null,8,["label","onClick"]),t(j,{flat:"",label:e.$t("Apply"),color:"primary",onClick:e.onSave,disable:e.hasErrors},null,8,["label","onClick","disable"])]),_:1})]),_:1})):h("",!0)]),_:1},8,["model-value"])}var Mn=se(sn,[["render",Dn],["__scopeId","data-v-071db1c4"]]);export{Mn as W};
