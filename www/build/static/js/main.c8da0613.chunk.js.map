{"version":3,"sources":["components/inputs/Field.js","components/inputs/Text.js","controller/Log.js","helpers/timeConverter.js","modules/StateList/StateList.config.js","functions/blind/index.js","functions/blind/blind.js","functions/blind/i18n/de.js","functions/blind/i18n/en.js","functions/door/index.js","functions/door/door.js","functions/door/i18n/de.js","functions/door/i18n/en.js","functions/heating/index.js","functions/heating/heating.js","functions/heating/i18n/de.js","functions/heating/i18n/en.js","functions/light/index.js","functions/light/i18n/de.js","functions/light/i18n/en.js","functions/location/index.js","functions/location/location.js","functions/location/i18n/de.js","functions/location/i18n/en.js","functions/user/index.js","functions/user/user.js","functions/user/i18n/de.js","functions/user/i18n/en.js","functions/window/index.js","functions/window/window.js","functions/window/i18n/de.js","functions/window/i18n/en.js","modules/DateTime/DateTime.config.js","modules/Map/Map.config.js","helpers/colorConverter.js","functions/light/light.js","functions/blind/blind-manufacturers.js","modules/Multimedia/MultimediaItem.js","modules/StateList/StateList.js","modules/StateList/StateListItem.js","components/EnhancedTableToolbar.js","components/EnhancedTableHead.js","components/EnhancedTableBody.js","components/EnhancedTable.js","controller/Function.js","config/adapters.js","controller/Device.js","functions sync /^/.*$","modules/AdapterStatus/AdapterStatus.config.js","modules/AdapterStatus/AdapterStatus.settings.js","modules/Chart/Chart.config.js","modules/Chart/Chart.settings.js","modules/DateTime/DateTime.settings.js","modules/Map/Map.settings.js","modules/Multimedia/Multimedia.config.js","modules/Multimedia/Multimedia.settings.js","modules/StateList/StateList.settings.js","modules/StateListHorizontal/StateListHorizontal.config.js","modules/StateListHorizontal/StateListHorizontal.settings.js","modules/Weather/Weather.config.js","modules/Weather/Weather.settings.js","components/inputs/Chips.js","components/inputs/Fieldset.js","controller/i18n.js","controller/Settings.js","modules sync /^/.*$","modules/AdapterStatus/AdapterStatus.js","modules/AdapterStatus/i18n/de.js","modules/Chart/Chart.js","modules/DateTime/DateTime.js","modules/DateTime/i18n/de.js","modules/Map/Map.js","modules/Map/i18n/de.js","modules/Multimedia/Multimedia.js","modules/StateListHorizontal/StateListHorizontal.js","modules/Weather/Weather.js","modules/Weather/i18n/de.js","components/inputs/Switch.js","pages/ConfigurationPage/DevicesPage/i18n/de.js","controller/Devices.js","config/config.js","functions/defaults.js","modules/index.js","functions/blind/i18n sync /^/.*$","functions/door/i18n sync /^/.*$","functions/heating/i18n sync /^/.*$","functions/index.js","helpers/utils.js","functions/light/i18n sync /^/.*$","functions/location/i18n sync /^/.*$","functions/user/i18n sync /^/.*$","functions/window/i18n sync /^/.*$","modules/AdapterStatus/screenshots/AdapterStatus1.png","controller/Socket.js","controller/Connection.js","modules/Chart/screenshots/Chart1.png","modules/DateTime/screenshots/DateTime1.png","modules/StateList/screenshots/StateList1.png","modules/StateList/screenshots/StateList2.png","modules/StateList/screenshots/StateList3.png","modules/StateList/screenshots/StateList4.png","modules/StateListHorizontal/screenshots/StateListHorizontal1.png","modules sync /^/.*/.settings$","modules sync /^/.*/.config$","components/inputs/Button.js","components/inputs/Number.js","components/inputs/Select.js","pages/ConfigurationPage/DevicesPage/i18n sync /^/.*$","pages/LogsPage/LogsPage.js","config/config.dev.js","components/GridContainer.js","components/StatusSnackbar.js","components/TopBar.js","helpers/useWindowDimensions.js","components/TabBar.js","components/Notifications.js","components/Popup.js","components/Widget.js","pages/index.js","Jarvis.js","App.js","serviceWorker.js","index.js","components/Inputs.js","pages/ConfigurationPage/DevicesPage/Devices.config.js","pages/ConfigurationPage/DevicesPage/DevicesPage.js","pages/ConfigurationPage/DevicesPage/DevicesListPage.js","pages/ConfigurationPage/LayoutsPage/Layouts.config.js","components/Placeholder.js","pages/ConfigurationPage/LayoutsPage/WidgetPage.js","pages/ConfigurationPage/LayoutsPage/LayoutsPage.js","pages/ConfigurationPage/SettingsPage/Settings.config.js","pages/ConfigurationPage/SettingsPage/SettingsPage.js","pages/ConfigurationPage/ConfigurationPage.js","components/Dialog.js"],"names":["useStyles","makeStyles","theme","Field","display","marginLeft","spacing","marginRight","padding","CustomField","props","children","id","info","link","width","classes","key","className","clsx","style","container","item","i18n","t","target","rel","href","title","color","noIconPadding","paddingRight","Text","options","TextAutoComplete","TextInput","onChange","onBlur","required","label","type","select","shrink","disabled","size","placeholder","errorMessage","autoFocus","multiline","val","onEnter","clearOnEnter","clearOnBlur","disableUnderline","icon","InputProps","json","otherProps","useState","value","setValue","error","setError","useEffect","undefined","inputId","toLowerCase","replace","validate","JSON","parse","err","root","TextField","rows","fullWidth","onKeyPress","e","preventDefault","helperText","Array","isArray","map","lbl","join","startAdornment","position","InputLabelProps","showMaxResults","clearOnSelect","popupIcon","closeIcon","filterOptions","createFilterOptions","limit","objectify","Input","inputRoot","multiple","name","getOptionSelected","option","renderInput","params","onClose","reason","Log","module","message","criticality","printToConsole","stack","forEach","entry","log","push","time","Date","console","timeToSeconds","toString","indexOf","split","length","hours","minutes","seconds","parseInt","timeToHoursMinutesSeconds","withHours","Number","isNaN","Math","floor","substr","secondsToDateTime","dateTimeFormat","format","locale","locales","getLanguage","float","lineHeight","borderLeftTransparent","borderLeftColor","palette","primary","main","alpha","rgb","borderRightTransparent","borderRightColor","borderRightColorSecondary","secondary","setTranslation","require","configurations","level","round","level2","unit","activity","stateKey","device","getActivityType","manufacturer","true","false","components","defaults","LevelComponent","actions","state","setLevel","setActivity","stateChangeActivity","sKey","s","d","states","requestDeviceState","catch","_","listen","unlisten","Fragment","onClick","setDeviceState","open","lock","temperature","toFixed","setTemperature","humidity","boost","Level","min","max","PowerAction","presence","users","location","battery","HsvToRgb","h","r","g","b","i","f","p","q","v","RgbToHex","LightColorAction","stateVal","colorSpace","setColorSpace","colors","labels","Red","Green","Blue","Hue","Saturation","Brightness","Label","br","LightColorComponent","initialColor","helpers","Component","onChangeComplete","power","stateStyle","colorTemperature","hue","hsv","hex","step","setHue","hsl","setChecked","checked","getOption","parent","Action","MultimediaItem","stateChange","setState","progress","this","clearTimeout","progressTimeout","isRunning","duration","setTimeout","prevState","openDialog","noHeader","index","styleImage","styleLengthBar","background","backgroundImage","backgroundUrlPrepend","playIconElements","bind","divider","image","noImage","information","informationLeft","grandParent","informationRight","lengthBar","controls","controlsBox","controlsBoxLeft","controlsBoxCenter","controlButton","controlsBoxRight","React","withStyles","margin","marginTop","height","alignItems","backgroundPosition","cursor","backgroundColor","minHeight","textAlign","justifyContent","paddingTop","flex","flexDirection","controlButtonSmall","fontSize","styles","defaultListSectionDivider","defaultListSectionDividerItem","defaultListSectionText","breakpoints","down","horizontalList","flexWrap","ListGroup","handleChange","targetStatus","devices","getDevices","status","primaryStateKey","StateList","groups","horizontal","config","component","action","group","items","Devices","forEachDevice","dense","defaultListIcon","horizontalListItem","horizontalListItemIcon","minWidth","horizontalListItemAction","top","right","transform","verticalListItemAction","ListItemIconElement","customClassNames","classNames","StateListItem","secondaryStateKey","ListItemTextWidth","getDeviceStates","ListItemText","createRef","ListItemSecondaryAction","current","offsetWidth","resizeComponent","ListItemSecondaryActionWidth","getIcon","primaryComponent","getComponent","primaryAction","getAction","secondaryAction","defaultListDivider","finger","button","getStyle","ref","disableTypography","subtitle","timeChanged","useToolbarStyles","paddingLeft","highlight","lighten","light","text","dark","EnhancedTableToolbar","rowCount","numSelected","rightActionButton","Toolbar","Typography","variant","Tooltip","IconButton","aria-label","EnhancedTableHead","headCells","onSelectAllClick","selectable","sortable","order","orderBy","onRequestSort","TableHead","TableRow","TableCell","Checkbox","indeterminate","inputProps","headCell","align","disablePadding","sortDirection","TableSortLabel","active","direction","property","event","noWrap","whiteSpace","nestedObjects","seen","EnhancedTable","columns","sortedRows","emptyRows","rowStyles","selected","row","isItemSelected","labelId","columnId","rowStyle","Object","keys","hover","role","aria-checked","tabIndex","column","scope","content","stringify","showTableContent","colSpan","table","descendingComparator","a","orderByCase","orderA","orderB","tmpA","tmpB","getComparator","stableSort","array","comparator","stabilizedThis","el","sort","CustomTableBody","toolbar","pagination","defaultOrder","defaultOrderBy","defaultSelected","defaultPage","defaultRowsPerPage","toolbarRightActionButton","setOrder","setOrderBy","setSelected","page","setPage","rowsPerPage","setRowsPerPage","TableBody","EnhancedTableBody","TableContainer","Table","aria-labelledby","stickyHeader","newSelecteds","n","slice","selectedIndex","newSelected","concat","TablePagination","rowsPerPageOptions","count","onChangePage","newPage","onChangeRowsPerPage","Function","functionType","function","Error","functionId","functions","_isFunction","settings","obj","defaultValue","default","EventEmitter","Device","deviceProperties","socket","room","attributes","Adapters","node","_setStatesOptions","stateSubscriptions","on","stateType","attribute","stateValKeys","stateValKey","stateValValue","ignoredStates","ignoredState","hiddenStates","_getStateFromKey","formatDistanceToNow","lc","includeSeconds","addSuffix","_getConfigurationSetting","pair","values","_getUserSetting","forceDefault","devicesStates","getDeviceState","stateProperty","deviceState","defaultIcon","eventName","callback","listeners","findIndex","listener","subscribe","responses","Promise","reject","resolve","emit","getState","then","_updateDeviceState","subscribeDeviceState","historyCache","start","end","getStateHistory","history","res","subscribeState","child","filter","arr","unsubscribeState","off","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","exports","requiredStates","StateListConfig","chip","InputChip","onDelete","deleteIcon","InputChips","list","InputChipsField","optionKey","freeSolo","getOptionLabel","noPadding","Fieldset","FieldsetItem","Legend","FieldsetLegend","centered","xs","Form","utils","getLocaleDateAdapter","getLocale","de","language","languages","loadTranslation","translation","file","warn","translations","isoLong","word","placeholders","w","parts","shift","RegExp","ucFirst","charAt","toUpperCase","navigator","userLanguage","_copy","Settings","setLanguage","pageTitle","document","pageFavicon","getElementById","setting","copy","layout","AdapterStatus","adapterInformation","adapterAliveStatus","newUpdates","updatesJson","lastUpdateCheck","Connection","getConnection","blacklist","updateStates","adapterStates","updates","getStates","subscribeStates","update","lastIndexOf","getAdapterInstances","instances","adapters","instance","common","item1","item2","aliveStatus","unsubscribeStates","updateList","adapterList","loading","adapter","enabled","alive","connected","connection","tooltip","alt","src","extIcon","small","version","availableVersion","UpdateAvailable","runAsCompactMode","compactGroup","StatusIndicator","notAlive","noUpdates","UpdatesListItem","UpdatesIndicator","fontStyle","borderRadius","Chart","_historyChange","_addChartGraph","_getAxis","chartAxisOptions","_stateChange","_updateChartGraph","chartFilter","chartConfig","yAxes","unshift","ticks","yLeftAxisUnitBefore","parseFloat","yLeftAxisUnitAfter","errors","datePicker","selectedTimeRangeValue","selectedTimeRangeUnit","selectedDateTime","dateNow","chartLabels","chartData","datasets","chartPan","chartZoom","timer","timeRangeRef","chartRef","chartUpdates","chartPluginOptions","maintainAspectRatio","spanGaps","legend","legendClickHandler","tooltips","callbacks","data","datasetIndex","scales","plugins","colorschemes","scheme","zoom","pan","mode","requestDeviceStateHistory","_chartAxisOptions","liveUpdates","prevProps","getTime","timeRange","axisTimeFormat","axis","prevMarker","markers","marker","ts","reduce","chartOptions","chartIndex","_groupChartData","chartInstance","prevStates","dataSet","fill","graphConfig","legendItem","ci","meta","getDatasetMeta","hidden","resetZoom","inputRef","input","displayEmpty","DateFnsUtils","onOpen","ampm","iconButton","dividerVertical","orientation","placement","buttonDisabled","severity","createElement","toolbarButtons","disableElevation","chartHeight","marginBottom","DateTime","joinConfig","refresh","refTimer","useRef","setDateTime","city","setCity","sunrise","setSunrise","sunset","setSunset","getSetting","latitude","longitude","getSunrise","getSunset","sun","mapOverview","left","bottom","zIndex","mapIconContainer","mapIconParent","boxShadow","mapIcon","mapTooltip","Map","defaultZoom","defaultPosition","setMarkers","memoizedMapInitialised","useCallback","memoizedHandleClick","flyTo","prevMarkers","mapMarkers","Marker","avatar","arrow","useFlyTo","center","whenReady","attribution","url","markerIcon","offset","L","divIcon","html","iconSize","memoizedHandleMouseEvent","closeTooltip","openTooltip","riseOnHover","onMouseOver","tooltipDirection","permanent","tooltipPermanent","Multimedia","StateListHorizontal","paper","Weather","setData","getRemoteResource","response","statusCode","body","weatherForecast","day","forecast","dailyForecast","date","justify","FormControl","InputLabel","Switch","SwitchSmall","SwitchInline","InputSwitch","userInput","InputSwitchInline","control","deviceList","processedDevices","addedDevices","deviceId","jarvis","requestDeviceStates","rawDevices","allSettled","raw","DEFAULTS","sliderMarkLabel","parentOnChange","TriggerAction","startIcon","linebreak","markSteps","markStep","markLabel","onChangeCommitted","valueLabelDisplay","marks","number","_any","door","trigger","wind","Modules","Configurations","ModuleSettings","ModuleConfigurations","Functions","blind","heating","user","window","func","str","moveKeyInObject","sorted","moveKeyInArray","next","keyOrIndex","element","splice","arrayOrObject","sortArray","entries","_sortedObj","k","sortObject","x","y","UserConfig","AdapterConfig","param","parameter","Socket","io","timeout","query","statesSubscribes","attempts","pattern","ids","cb","cbs","reg","_getPatternFromId","task","hasOwnProperty","test","getObjectView","getObject","design","search","setUrl","setListeners","connect","setListener","hostname","InputButton","Button","NumberInput","InputSelect","selection","menuOptions","LogsPage","logs","getLog","CustomDialog","pinToTop","maxWidth","navigate","header","gridContainer","GridContainer","contents","grid","Grid","sm","md","lg","xl","success","green","warning","amber","iconVariant","opacity","variantIcon","CheckCircleIcon","WarningIcon","ErrorIcon","InfoIcon","StatusSnackbar","autoHideDuration","closeButton","other","Icon","Snackbar","anchorOrigin","vertical","SnackbarContent","appBar","flexGrow","menuButton","notConnected","TopBar","connectionStatus","toggleDrawer","connectionStatusIcon","notifications","connectionStatusTooltip","AppBar","Hidden","smDown","getWindowDimensions","innerWidth","innerHeight","paddingBottom","transition","flexShrink","userSelect","tabs","borderBottom","fixed","indicator","fullscreen","TabBar","selectedTab","onSelectTab","tabBarProps","tab","setTab","setFixed","handleScroll","threshold","scrollY","prevFixed","offsetTop","offsetHeight","addEventListener","removeEventListener","renderedTabs","Tab","Tabs","TabPanel","renderedTab","windowDimensions","setWindowDimensions","handleResize","useWindowDimensions","mapHeight","setMapHeight","topBarHeight","setHidden","Box","Notifications","Drawer","anchor","drawer","DialogTitle","grey","DialogContent","MuiDialogContent","DialogActions","MuiDialogActions","Popup","forceUpdate","nextProps","nextState","closeDialog","Dialog","dividers","card","cardHeaderNoContents","cardAvatar","cardContent","Widget","iconStyle","Card","CardHeader","Avatar","CardContent","configuration","getModule","widget","Tag","MODULE","showDevice","moduleConfig","getWidget","moduleSettings","getWidgets","widgets","Jarvis","tabTitle","notificationDrawer","notificationsUnread","dialog","dialogContents","getLayout","tabsEnabled","tabIcon","now","Page","Pages","tabPanels","_fullscreen","tabGridColumnsContent","tabGridColumnsContents","columnIndex","tabPanel","getTabPanels","withTheme","App","loaded","errorHandler","port","protocol","setSettings","iobroker","NODE_SETTINGS","applySettings","NODE_LAYOUT","setLayout","NODE_DEVICES","setDevices","CircularProgress","topBar","tabBar","gridColumns","SkeletonLoader","Skeleton","animation","gridItem","gridContents","loaders","random","loader","renderError","ThemeProvider","renderLoadingSkeleton","renderLoadingProgress","Boolean","match","ReactDOM","render","serviceWorker","ready","registration","unregister","Chip","Chips","ChipsField","Select","DevicesStates","DevicesPage","_onChange","nextErrors","editor","_onSave","savedDevice","base","characteristic","_created","onSave","_deleteDevice","_addState","newStateKey","_moveState","_deleteState","nextDevice","Inputs","ListItem","ListItemIcon","iconContainer","renderedStates","renderDeviceState","List","renderedOptions","DevicesConfig","renderDeviceOption","renderDeviceStates","renderDeviceOptions","alignRight","FUNCTIONS","DevicesListPage","_saveDevices","_saveDevice","selectedDevice","scrollTop","nextDevices","renderDevices","uuid","deleteButton","hr","CustomTextInput","CustomDialogTitle","verticalAlign","Placeholder","WidgetPage","_addItem","addDevice","_editItem","nextWidget","_moveItem","_deleteItem","field","deviceOptions","SecondaryActions","deviceWidgetConfig","renderedDevices","renderDevice","description","renderDeviceList","CustomDialogActions","LayoutsConfig","widgetTitle","widgetIcon","widgetIconStyle","widgetModule","autoComplete","autoHighlight","renderOption","some","groupBy","LayoutsPage","_setLayout","setter","_saveWidget","drawerIndex","selectedDrawer","selectedColumn","widgetIndex","nextLayout","selectedWidget","_addColumn","newColumn","_addTab","_changeTab","_deleteWidget","_deleteColumn","_deleteTab","_moveWidget","widgetKey","stopPropagation","_moveColumn","_moveTab","_openPopup","tabColumnWidgetsNodes","renderWidget","widgetsInFirstColumn","tabColumnsNodes","renderColumn","tabFullscreen","columnContainer","renderTab","tabsHideLabels","drawers","renderDrawer","Paper","borderRight","borderLeft","SettingsPage","_handleSettingsChange","setSetting","getSettings","_handlePanelChange","panel","isExpanded","inputKey","inputSettings","Accordion","expanded","AccordionSummary","expandIcon","heading","secondaryHeading","AccordionDetails","SettingsConfig","renderPanel","typography","pxToRem","flexBasis","ConfigurationPage","_onDevicesChange","_onSettingsChange","_onLayoutsChange","onRawChange","_handleTabChange","_cancel","_save","result","all","reload","expertMode","rawEditor","scrollHeight","rawEditorHeight","indicatorColor","textColor","fontFamily","DialogDense","DialogTitleTypography","CustomDialogContent","disableBackdropClick","disableEscapeKeyDown"],"mappings":"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","file":"static/js/main.c8da0613.chunk.js","sourcesContent":["import React from 'react'\r\nimport clsx from 'clsx'\r\nimport i18n from '../../controller/i18n'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles((theme) => ({\r\n\tField: {\r\n\t\tdisplay: 'inline-flex',\r\n\t\tmarginLeft: theme.spacing(1),\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\tpadding: '0 !important',\r\n\t},\r\n\tCustomField: {\r\n\t},\r\n}));\r\n\r\n\r\n/*\r\n *\r\n */\r\nexport default function Field(props) {\r\n\tconst { children, id, info, link, width } = props;\r\n\tconst classes = useStyles(props);\r\n\t\r\n\treturn (\r\n\t\t<Grid\r\n\t\t\tkey={'grid-' + id}\r\n\t\t\tclassName={clsx(classes.Field, classes.CustomField)}\r\n\t\t\tstyle={{ width: width || 250 }}\r\n\t\t\tcontainer\r\n\t\t\titem\r\n\t\t\t>\r\n\t\t\t\r\n\t\t\t{i18n.t(info) && <Grid item style={{ width: 30 }}>\r\n\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href={link}>\r\n\t\t\t\t\t<Tooltip title={i18n.t(info)}>\r\n\t\t\t\t\t\t<InfoIcon color=\"primary\" />\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</a>\r\n\t\t\t</Grid>}\r\n\t\t\t<Grid item style={{ width: info ? 250-30 : '100%' }}>\r\n\t\t\t\t{children}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\r\n\t);\r\n}","import React, { useState, useEffect } from 'react'\r\nimport clsx from 'clsx'\r\nimport i18n from '../../controller/i18n'\r\n\r\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nimport Field from './Field'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles((theme) => ({\r\n\tnoIconPadding: {\r\n\t\tpaddingRight: '0 !important'\r\n\t}\r\n}));\r\n\r\n\r\n/*\r\n *\r\n */\r\nexport default function Text(props) {\r\n\treturn props.options ? TextAutoComplete(props) : TextInput(props);\r\n}\r\n\r\n/*\r\n *\r\n */\r\nexport function TextInput(props) {\r\n\tconst { onChange, onBlur, id, required, label, type, children, select, shrink, disabled, size, placeholder, errorMessage, autoFocus, multiline, val, onEnter, clearOnEnter, clearOnBlur, disableUnderline, icon, InputProps, json, ...otherProps } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\tconst [value,setValue] = useState(val || '');\r\n\tconst [error,setError] = useState((props.error ? props.error : (required && !val)) || null);\r\n\tuseEffect(() => { props.error !== undefined && setError(props.error) }, [props.error]);\r\n\t\r\n\tconst inputId = id || 'input-' + label.toLowerCase().replace(/ /g, '');\r\n\t\r\n\tconst validate = val => {\r\n\t\t\r\n\t\t// validate required fields\r\n\t\tif (required && !val) {\r\n\t\t\tsetError(i18n.t('No input given'));\r\n\t\t\treturn [ true, '' ];\r\n\t\t}\r\n\t\t\r\n\t\t// validate JSON\r\n\t\tif (json) {\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tval = val ? JSON.parse(val) : '';\r\n\t\t\t}\r\n\t\t\tcatch(err) {\r\n\t\t\t\tsetError(i18n.t('Wrong JSON format'));\r\n\t\t\t\treturn [ true, {} ];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tsetError(null);\r\n\t\treturn [ false, val ];\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<Field {...props}>\r\n\t\t\t<TextField\r\n\t\t\t\tclasses={{ root: classes.TextField }}\r\n\t\t\t\t\r\n\t\t\t\tid={inputId}\r\n\t\t\t\ttype={type || 'text'}\r\n\t\t\t\trequired={required}\r\n\t\t\t\tselect={select}\r\n\t\t\t\t\r\n\t\t\t\tmultiline={multiline}\r\n\t\t\t\trows={4}\r\n\t\t\t\tsize={size}\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\r\n\t\t\t\tfullWidth={true}\r\n\t\t\t\tplaceholder={placeholder || ''}\r\n\t\t\t\tautoFocus={autoFocus ? autoFocus : false}\r\n\t\t\t\t\r\n\t\t\t\tonKeyPress={e => {\r\n\t\t\t\t\tif (e.key === 'Enter' && !multiline) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tclearOnEnter && setValue('');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet [ err, val ] = validate(e.target.value);\r\n\t\t\t\t\t\tonEnter && onEnter({ ...props, error: err }, val);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\t\r\n\t\t\t\terror={typeof error === 'boolean' ? error : (error !== null)}\r\n\t\t\t\thelperText={errorMessage ? i18n.t(errorMessage) : (error || '')}\r\n\t\t\t\t\r\n\t\t\t\tlabel={Array.isArray(label) ? label.map(lbl => i18n.t(lbl)).join('') : i18n.t(label)}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tonChange={e => {\r\n\t\t\t\t\tsetValue(e.target.value);\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet [ err, val ] = validate(e.target.value);\r\n\t\t\t\t\tonChange && onChange({ ...props, error: err }, val);\r\n\t\t\t\t}}\r\n\t\t\t\t\r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\t...InputProps || {},\r\n\t\t\t\t\tdisableUnderline: disableUnderline,\r\n\t\t\t\t\tstartAdornment: icon && (\r\n\t\t\t\t\t\t<InputAdornment position=\"start\">\r\n\t\t\t\t\t\t\t<span className={'mdi mdi-' + icon}></span>\r\n\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tonBlur: e => {\r\n\t\t\t\t\t\tonBlur && onBlur(props, value);\r\n\t\t\t\t\t\tclearOnBlur && setValue('');\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\t\r\n\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\tshrink: shrink ? shrink : true\r\n\t\t\t\t}}\r\n\t\t\t\t\r\n\t\t\t\t{...otherProps}\r\n\t\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t{children ? children : null}\r\n\t\t\t</TextField>\r\n\t\t</Field>\r\n\r\n\t)\r\n}\r\n\r\n\r\n/*\r\n *\r\n */\r\nexport function TextAutoComplete(props) {\r\n\tconst classes = useStyles();\r\n\tconst { error, errorMessage, required, autoFocus, placeholder, label, shrink,\r\n\t\t\t\tshowMaxResults, onChange, clearOnBlur, clearOnSelect, val, json, popupIcon, closeIcon, ...otherProps } = props;\r\n\t\r\n\tconst [value,setValue] = useState(val || null);\r\n\t//const [inputValue,setInputValue] = useState('');\r\n\tconst filterOptions = showMaxResults && showMaxResults > 0 ? createFilterOptions({ limit: showMaxResults }) : undefined;\r\n\tconst objectify = props.options && props.options[0] && props.options[0].id; // discover whether plain array of array of objects is used\r\n\t\r\n\treturn (\r\n\t\t<Field {...props}>\r\n\t\t\t<Autocomplete\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\troot: classes.Input,\r\n\t\t\t\t\tinputRoot: clsx(closeIcon === null && popupIcon === null && classes.noIconPadding)\r\n\t\t\t\t}}\r\n\t\t\t\t\r\n\t\t\t\tvalue={value}\r\n\t\t\t\t//defaultValue={val}\r\n\t\t\t\t//inputValue={inputValue}\r\n\t\t\t\t//onInputChange={(e, text) => setInputValue(text)}\r\n\t\t\t\t\r\n\t\t\t\tonChange={(e, options) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (props.multiple) {\r\n\t\t\t\t\t\toptions = options.map(val => typeof val === 'string' && objectify ? { id: val.toLowerCase().replace(/ /g, ''), name: val } : val);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tsetValue(clearOnSelect ? null : options);\r\n\t\t\t\t\tonChange && onChange(props, options);\r\n\t\t\t\t}}\r\n\t\t\t\t\r\n\t\t\t\tgetOptionSelected={(option, value) => option && value ? (objectify ? option.id === value.id : option === value) : false}\r\n\t\t\t\tfilterOptions={filterOptions}\r\n\t\t\t\t\r\n\t\t\t\trenderInput={params => <TextField\r\n\t\t\t\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\trequired={required}\r\n\t\t\t\t\t\t\t\t\t\tautoFocus={autoFocus ? autoFocus : false}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(label) || i18n.t(placeholder)}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\terror={error}\r\n\t\t\t\t\t\t\t\t\t\thelperText={errorMessage ? i18n.t(errorMessage) : (required && error && i18n.t('No input given'))}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\t\t\t\tshrink: shrink ? shrink : true\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>}\r\n\t\t\t\t\r\n\t\t\t\tonClose={(e, reason) => reason === 'blur' && clearOnBlur && setValue(null)}\r\n\t\t\t\t\r\n\t\t\t\t{...otherProps}\r\n\t\t\t\t/>\r\n\t\t</Field>\r\n\t\r\n\t);\r\n}\r\n","/**\r\n * Settings\r\n *\r\n *\r\n */\r\nexport default class Log {\r\n\r\n\t/*\r\n\t * holds the log\r\n\t */\r\n\tstatic log = [];\r\n\r\n\t/**\r\n\t * Add a message to the log\r\n\t *\r\n\t * @param\t{String}\t\tmodule\t\t\t\t\t\tModule (origin) of log message\r\n\t * @param\t{String|Array}\tmessage\t\t\t\t\t\tLog message\r\n\t * @param\t{String}\t\t[criticality=info]\t\t\tCriticality, one of 'debug', 'info', 'warn' or 'error'\r\n\t * @param\t{Boolean}\t\t[printToConsole=false]\t\tPrint log message to console\r\n\t * @param\t{Object}\t\t[stack={}]\t\t\t\t\tStack trace of error message\r\n\t * @return\t{Log}\r\n\t */\r\n\tstatic _(module, message, criticality = 'info', printToConsole = true, stack = {}) {\r\n\t\tmessage = Array.isArray(message) ? message : [message];\r\n\t\tmessage.forEach(entry => {\r\n\t\t\tLog.log.push({\r\n\t\t\t\ttime: new Date(),\r\n\t\t\t\tmodule: module,\r\n\t\t\t\tcriticality: criticality,\r\n\t\t\t\tmessage: entry,\r\n\t\t\t\tstack: stack\r\n\t\t\t});\r\n\t\t});\r\n\t\t\r\n\t\tif (printToConsole) {\r\n\t\t\tmessage[0] = module + ' # ' + message[0];\r\n\t\t\tconsole[criticality](...message); // https://nodejs.org/docs/latest/api/console.html\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Gets the log\r\n\t *\r\n\t * @param\tvoid\r\n\t * @return\t{Array}\r\n\t */\r\n\tstatic getLog() {\r\n\t\treturn Log.log;\r\n\t}\r\n}\r\n","import { format } from 'date-fns'\r\nimport i18n, { locales } from '../controller/i18n'\r\n\r\n/**\r\n *\r\n *\r\n */\r\nfunction timeToSeconds(time) {\r\n\t\r\n\tif (time.toString().indexOf(':') > -1) {\r\n\t\ttime = time.toString();\r\n\t\tlet format = time.split(':').length-1;\r\n\t\tlet [ hours, minutes, seconds ] = format > 1 ? time.split(':') : ('0:' + time).split(':');\r\n\t\ttime = parseInt(hours) * 3600 + parseInt(minutes) * 60 + parseInt(seconds);\r\n\t}\r\n\t\r\n\treturn parseInt(time);\r\n}\r\n\r\n/**\r\n *\r\n *\r\n */\r\nfunction timeToHoursMinutesSeconds(time, withHours = false) {\r\n\t\r\n\tif (time.toString().indexOf(':') > -1) {\r\n\t\treturn time;\r\n\t}\r\n\t\r\n\ttime = parseInt(time);\r\n\twithHours = withHours || (time > 3600);\r\n\t\r\n\tif (Number.isNaN(time)) {\r\n\t\treturn withHours ? '00:00:00' : '00:00';\r\n\t}\r\n\t\r\n\tlet hours = '0' + Math.floor(time/3600);\r\n\tlet minutes = '0' + Math.floor(time/60);\r\n\tlet seconds = '0' + (time % 60);\r\n\t\r\n\treturn withHours ? [ hours.substr(-2), minutes.substr(-2), seconds.substr(-2) ].join(':') : [ minutes.substr(-2), seconds.substr(-2) ].join(':');\r\n}\r\n\r\n/**\r\n *\r\n *\r\n */\r\nfunction secondsToDateTime(seconds, dateTimeFormat = 'dd. MMM yyyy, HH:mm') {\r\n\treturn format(new Date(seconds*1000), dateTimeFormat, { locale: locales[i18n.getLanguage()] });\r\n}\r\n\r\n\r\nexport default {\r\n\ttimeToSeconds,\r\n\ttimeToHoursMinutesSeconds,\r\n\tsecondsToDateTime\r\n}","\r\nexport default [\r\n\t{\r\n\t\t'parameter': 'subgroupActions',\r\n\t\t'label': {\r\n\t\t\t'en': 'Show on/off actions for groups',\r\n\t\t\t'de': 'Buttons an/aus für Gruppen einblenden'\r\n\t\t},\r\n\t\t'type': 'Switch',\r\n\t\t'val': true\r\n\t}\r\n]\r\n","export { default } from './blind'\r\n","import React, { useState, useEffect } from 'react'\r\nimport clsx from 'clsx'\r\nimport color from 'color'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup'\r\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport StopIcon from '@material-ui/icons/Stop'\r\n\r\nimport i18n from '../../controller/i18n'\r\nimport Log from '../../controller/Log'\r\nimport defaults from '../defaults'\r\nimport getActivityType from './blind-manufacturers'\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles(theme => ({\r\n\tvalue: props => ({\r\n\t\tfloat: 'left',\r\n\t\tlineHeight: '32px',\r\n\t\tmarginRight: '10px'\r\n\t}),\r\n\tborderLeftTransparent: {\r\n\t\tborderLeftColor: 'transparent !important'\r\n\t},\r\n\tborderLeftColor: {\r\n\t\tborderLeftColor: color(theme.palette.primary.main).alpha(0.5).rgb().toString() +  '!important'\r\n\t},\r\n\tborderRightTransparent: {\r\n\t\tborderRightColor: 'transparent !important'\r\n\t},\r\n\tborderRightColor: {\r\n\t\tborderRightColor: color(theme.palette.primary.main).alpha(0.5).rgb().toString() +  '!important'\r\n\t},\r\n\tborderRightColorSecondary: {\r\n\t\tborderRightColor: color(theme.palette.secondary.main).alpha(0.5).rgb().toString() +  '!important'\r\n\t}\r\n}));\r\n\r\n\r\n/*\r\n * ACTIONS\r\n *\r\n */\r\nfunction BlindLevelAction(props) {\r\n\tconst { device, state, stateKey } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\tconst onGoUp = () => {\r\n\t\tsetLevel(100);\r\n\t\tsetActivity(true);\r\n\t\tdevice.setDeviceState(stateKey, 100).catch(err => Log._('Function (blind)', err.message, 'error', true, err.stack));\r\n\t}\r\n\t\r\n\tconst onGoDown = () => {\r\n\t\tsetLevel(0);\r\n\t\tsetActivity(true);\r\n\t\tdevice.setDeviceState(stateKey, 0).catch(err => Log._('Function (blind)', err.message, 'error', true, err.stack));\r\n\t}\r\n\t\r\n\tconst onStop = () => {\r\n\t\tsetActivity(false);\r\n\t\tdevice.setDeviceState('activity', true).catch(err => Log._('Function (blind)', err.message, 'error', true, err.stack));\r\n\t}\r\n\t\r\n\t// level\r\n\tconst [level, setLevel] = useState(state.value || null);\r\n\tuseEffect(() => setLevel(state.value), [state]);\r\n\t\r\n\t// activity\r\n\tconst [activity, setActivity] = useState(false);\r\n\tconst stateChangeActivity = (sKey, s, d) => { sKey === 'activity' && setActivity(s.val); }\r\n\tuseEffect(() => {\r\n\t\t\r\n\t\tif (device.states.activity && device.states.activity.state) {\r\n\t\t\tdevice.states.activity.state = typeof device.states.activity.state === 'string' ? { 'node': device.states.activity.state } : device.states.activity.state;\r\n\t\t\t\r\n\t\t\t// request device state\r\n\t\t\tdevice.requestDeviceState('activity', true).catch(err => Log._('Function (blind)', err.message, 'error', true, err.stack));\r\n\t\t\t\r\n\t\t\t// listen for updates\r\n\t\t\tdevice.listen(stateChangeActivity)\r\n\t\t}\r\n\t\t\r\n\t\t// componentWillUnmount\r\n\t\treturn () => device.unlisten(stateChangeActivity);\r\n\t\t\r\n\t}, [device, state]);\r\n\t\r\n\treturn (\r\n\r\n<React.Fragment>\r\n\t\r\n\t<div className={classes.value}>\r\n\t\t{level + ' ' + state.unit}\r\n\t</div>\r\n\t\r\n\t<ButtonGroup size=\"small\">\r\n\t\t<Button color=\"primary\" className={clsx(activity !== null && (!activity ? classes.borderRightColor : classes.borderRightTransparent))} onClick={onGoUp}><ExpandLessIcon /></Button>\r\n\t\t{activity !== null && <Button color=\"secondary\" className={clsx(!activity ? [ classes.borderLeftTransparent, classes.borderRightTransparent ] : classes.borderRightColorSecondary)} onClick={onStop} disabled={!activity}><StopIcon /></Button>}\r\n\t\t<Button color=\"primary\" className={clsx(activity !== null && (!activity ? classes.borderLeftColor : classes.borderLeftTransparent))} onClick={onGoDown}><ExpandMoreIcon /></Button>\r\n\t</ButtonGroup>\r\n</React.Fragment>\r\n\r\n\t);\r\n}\r\n\r\n\r\n\r\ni18n.setTranslation(i18n.getLanguage(), () => require('./i18n/' + i18n.getLanguage()));\r\n\r\nexport default {\r\n\tconfigurations: {\r\n\t\tlevel: {\r\n\t\t\tvalue: val => Math.round(val),\r\n\t\t\ticon: {\r\n\t\t\t\t'default': 'window-shutter-open',\r\n\t\t\t\t'>90': 'window-shutter-open',\r\n\t\t\t\t'<=90': 'window-shutter'\r\n\t\t\t}\r\n\t\t},\r\n\t\tlevel2: {\r\n\t\t\tvalue: val => Math.round(val),\r\n\t\t\tunit: ' %',\r\n\t\t\ticon: {\r\n\t\t\t\t'default': 'window-shutter-open',\r\n\t\t\t\t'>90': 'window-shutter-open',\r\n\t\t\t\t'<=90': 'window-shutter'\r\n\t\t\t}\r\n\t\t},\r\n\t\tactivity: {\r\n\t\t\tval: (val, stateKey, device) => getActivityType(device.options.manufacturer, val),\r\n\t\t\ticon: {\r\n\t\t\t\ttrue: 'pan-vertical',\r\n\t\t\t\tfalse: 'dots-vertical',\r\n\t\t\t},\r\n\t\t\tdisplay: {\r\n\t\t\t\ttrue: i18n.t('blind#activity#true'),\r\n\t\t\t\tfalse: i18n.t('blind#activity#false'),\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tlevel2: defaults.components.LevelComponent\r\n\t},\r\n\tactions: {\r\n\t\tlevel: BlindLevelAction\r\n\t}\r\n}\r\n","export default {\r\n\t// States\r\n\t\"blind#activity\": \"Aktivität\",\r\n\t\"blind#level\": \"Behanghöhe\",\r\n\t\"blind#level2\": \"Lamellenposition\",\r\n\t\r\n\t// State values\r\n\t\"blind#activity#true\": \"in Bewegung\",\r\n\t\"blind#activity#false\": \"keine\",\r\n}","export default {\r\n\t// States\r\n\t\"blind#activity\": \"Activity\",\r\n\t\"blind#level\": \"Level\",\r\n\t\"blind#level2\": \"Lamella\",\r\n\t\r\n\t// State values\r\n\t\"blind#activity#true\": \"moving\",\r\n\t\"blind#activity#false\": \"none\",\r\n}","export { default } from './door'\r\n","import i18n from '../../controller/i18n'\r\n\r\n\r\ni18n.setTranslation(i18n.getLanguage(), () => require('./i18n/' + i18n.getLanguage()));\r\n\r\nexport default {\r\n\tconfigurations: {\r\n\t\topen: {\r\n\t\t\ticon: {\r\n\t\t\t\ttrue: 'door-open',\r\n\t\t\t\tfalse: 'door-closed'\r\n\t\t\t},\r\n\t\t\tdisplay: {\r\n\t\t\t\ttrue: i18n.t('door#open#true'),\r\n\t\t\t\tfalse: i18n.t('door#open#false')\r\n\t\t\t},\r\n\t\t},\r\n\t\tlock: {\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t},\r\n\tactions: {\r\n\t}\r\n}","export default {\r\n\t// States\r\n\t\"door#bell\": \"Klingel\",\r\n\t\"door#lock\": \"Schloß\",\r\n\t\"door#open\": \"Tür\",\r\n\t\r\n\t// State values\r\n\t\"door#open#true\": \"offen\",\r\n\t\"door#open#false\": \"geschlossen\",\r\n}","export default {\r\n\t// States\r\n\t\"door#bell\": \"Bell\",\r\n\t\"door#lock\": \"Lock\",\r\n\t\"door#open\": \"Door\",\r\n\t\r\n\t// State values\r\n\t\"door#open#true\": \"open\",\r\n\t\"door#open#false\": \"closed\",\r\n}","export { default } from './heating'\r\n","import React from 'react'\r\nimport i18n from '../../controller/i18n'\r\n\r\nimport defaults from '../defaults'\r\n\r\n\r\n/*\r\n * COMPONENTS\r\n *\r\n */\r\nfunction HeatingSetTemperatureComponent(props) {\r\n\tconst Level = defaults.components.LevelComponent;\r\n\treturn (\r\n\t\t<Level min={0} max={35} {...props} />\r\n\t);\r\n}\r\n\r\n\r\n\r\ni18n.setTranslation(i18n.getLanguage(), () => require('./i18n/' + i18n.getLanguage()));\r\n\r\nexport default {\r\n\tconfigurations: {\r\n\t\ttemperature: {\r\n\t\t\tvalue: val => val.toFixed(1),\r\n\t\t\tunit: ' °C',\r\n\t\t\ticon: 'radiator',\r\n\t\t},\r\n\t\tsetTemperature: {\r\n\t\t\tunit: ' °C',\r\n\t\t\ticon: 'thermometer-chevron-up'\r\n\t\t},\r\n\t\thumidity: {\r\n\t\t\tunit: ' %'\r\n\t\t},\r\n\t\tboost: {\r\n\t\t\ticon: 'radiator'\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tsetTemperature: HeatingSetTemperatureComponent\r\n\t},\r\n\tactions: {\r\n\t\tboost: defaults.actions.PowerAction\r\n\t}\r\n}","export default {\r\n\t\"heating#boost\": \"Boost\",\r\n\t\"heating#humidity\": \"Luftfeuchtigkeit\",\r\n\t\"heating#setTemperature\": \"eingestellte Temperatur\",\r\n\t\"heating#temperature\": \"Temperatur\",\r\n}","export default {\r\n\t\"heating#boost\": \"Boost\",\r\n\t\"heating#humidity\": \"Humidity\",\r\n\t\"heating#setTemperature\": \"Set Temperature\",\r\n\t\"heating#temperature\": \"Temperature\",\r\n}","export { default } from './light'\r\n","export default {\r\n\t// States\r\n\t\"light#colorTemperature\": \"Farbtemperatur\",\r\n\t\"light#hex\": \"Farbe (Hex)\",\r\n\t\"light#hsv\": \"Farbraum Hue-Saturation-Value (HSV)\",\r\n\t\"light#hue\": \"Farbe (Hue)\",\r\n\t\"light#level\": \"Helligkeit\",\r\n\t\"light#power\": \"Licht\",\r\n\t\"light#rgb\": \"Farbraum Rot-Grün-Blau (RGB)\",\r\n\t\r\n\t// State values\r\n\t\"light#level#off\": \"ausgeschaltet\",\r\n}","export default {\r\n\t// States\r\n\t\"light#colorTemperature\": \"Color Temperature\",\r\n\t\"light#hex\": \"Color (Hex)\",\r\n\t\"light#hsv\": \"Colorspace Hue-Saturation-Value (HSV)\",\r\n\t\"light#hue\": \"Color (Hue)\",\r\n\t\"light#level\": \"Brightness\",\r\n\t\"light#power\": \"Power\",\r\n\t\"light#rgb\": \"Colorspace Red-Green-Blue (RGB)\",\r\n\t\r\n\t// State values\r\n\t\"light#level#off\": \"off\",\r\n}","export { default } from './location'\r\n","import i18n from '../../controller/i18n'\r\n\r\n\r\ni18n.setTranslation(i18n.getLanguage(), () => require('./i18n/' + i18n.getLanguage()));\r\n\r\nexport default {\r\n\tconfigurations: {\r\n\t\tposition: {\r\n\t\t\ticon: 'map-marker'\r\n\t\t},\r\n\t\tpresence: {\r\n\t\t\ticon: {\r\n\t\t\t\ttrue: 'map-marker-radius',\r\n\t\t\t\tfalse: 'map-marker-remove-outline'\r\n\t\t\t},\r\n\t\t\tdisplay: {\r\n\t\t\t\ttrue: i18n.t('location#presence#true'),\r\n\t\t\t\tfalse: i18n.t('location#presence#false'),\r\n\t\t\t},\r\n\t\t},\r\n\t\tusers: {\r\n\t\t\ticon: {\r\n\t\t\t\t'': 'account-group-outline',\r\n\t\t\t\t'default': 'account-group'\r\n\t\t\t},\r\n\t\t\tdisplay: {\r\n\t\t\t\t'': i18n.t('location#users#empty')\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tcomponents: {\r\n\t},\r\n\tactions: {\r\n\t}\r\n}","export default {\r\n\t// States\r\n\t\"location#position\": \"Position\",\r\n\t\"location#presence\": \"Anwesenheit\",\r\n\t\"location#users\": \"Benutzer\",\r\n\t\r\n\t// State values\r\n\t\"location#presence#true\": \"anwesend\",\r\n\t\"location#presence#false\": \"abwesend\",\r\n\t\"location#users#empty\": \"niemand anwesend\",\r\n}","export default {\r\n\t// States\r\n\t\"location#position\": \"Position\",\r\n\t\"location#presence\": \"Presence\",\r\n\t\"location#users\": \"Users\",\r\n\t\r\n\t// State values\r\n\t\"location#presence#true\": \"present\",\r\n\t\"location#presence#false\": \"absent\",\r\n\t\"location#users#empty\": \"nobody present\",\r\n}","export { default } from './user'\r\n","import i18n from '../../controller/i18n'\r\n\r\n\r\ni18n.setTranslation(i18n.getLanguage(), () => require('./i18n/' + i18n.getLanguage()));\r\n\r\nexport default {\r\n\tconfigurations: {\r\n\t\tposition: {\r\n\t\t\ticon: 'map-marker'\r\n\t\t},\r\n\t\tlocation: {\r\n\t\t\ticon: 'account'\r\n\t\t},\r\n\t\tbattery: {\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t},\r\n\tactions: {\r\n\t}\r\n}","export default {\r\n\t\"user#location\": \"Standort\",\r\n\t\"user#position\": \"Position\",\r\n}","export default {\r\n\t\"user#location\": \"Location\",\r\n\t\"user#position\": \"Position\",\r\n}","export { default } from './window'\r\n","import i18n from '../../controller/i18n'\r\n\r\n\r\ni18n.setTranslation(i18n.getLanguage(), () => require('./i18n/' + i18n.getLanguage()));\r\n\r\nexport default {\r\n\tconfigurations: {\r\n\t\topen: {\r\n\t\t\ticon: {\r\n\t\t\t\ttrue: 'window-open-variant',\r\n\t\t\t\tfalse: 'window-closed-variant'\r\n\t\t\t},\r\n\t\t\tdisplay: {\r\n\t\t\t\ttrue: i18n.t('window#open#true'),\r\n\t\t\t\tfalse: i18n.t('window#open#false')\r\n\t\t\t},\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t},\r\n\tactions: {\r\n\t}\r\n}","export default {\r\n\t// States\r\n\t\"window#open\": \"Fenster\",\r\n\t\r\n\t// State values\r\n\t\"window#open#true\": \"offen\",\r\n\t\"window#open#false\": \"geschlossen\",\r\n}","export default {\r\n\t// States\r\n\t\"window#open\": \"Window\",\r\n\t\r\n\t// State values\r\n\t\"window#open#true\": \"open\",\r\n\t\"window#open#false\": \"closed\",\r\n}","\r\nexport default [\r\n\t{\r\n\t\t'parameter': 'style',\r\n\t\t'label': {\r\n\t\t\t'en': 'Style of the text',\r\n\t\t\t'de': 'Style des Textes'\r\n\t\t},\r\n\t\t'description': {\r\n\t\t\t'en': 'CSS statements in javascript notation',\r\n\t\t\t'de': 'CSS-Anweisungen in Javascript Syntax'\r\n\t\t},\r\n\t\t'json': true,\r\n\t\t'val': '{ \"fontSize\": \"1.5rem\", \"textAlign\": \"center\" }'\r\n\t},\r\n\t{\r\n\t\t'parameter': 'format',\r\n\t\t'label': {\r\n\t\t\t'en': 'Date/Time format',\r\n\t\t\t'de': 'Format des Datums / Uhrzeit'\r\n\t\t},\r\n\t\t'description': {\r\n\t\t\t'en': 'For possible format values, see date-fns documentation',\r\n\t\t\t'de': 'Für mögliche Werte, siehe date-fns Dokumentation'\r\n\t\t},\r\n\t\t'link': 'https://date-fns.org/v2.9.0/docs/format',\r\n\t\t'val': 'd. MMMM yyyy HH:mm'\r\n\t},\r\n\t{\r\n\t\t'parameter': 'sun',\r\n\t\t'label': {\r\n\t\t\t'en': 'Show times of sunrise and -set',\r\n\t\t\t'de': 'Zeigt Zeiten für Sonnenauf- und -untergang'\r\n\t\t},\r\n\t\t'type': 'Switch',\r\n\t\t'val': true\r\n\t}\r\n]\r\n","\r\nexport default [\r\n\t{\r\n\t\t'parameter': 'defaultZoom',\r\n\t\t'label': {\r\n\t\t\t'en': 'initial map zoom',\r\n\t\t\t'de': 'initialer Zoom der Karte'\r\n\t\t},\r\n\t\t'type': 'Number',\r\n\t\t'val': 10\r\n\t},\r\n\t{\r\n\t\t'parameter': 'defaultPosition',\r\n\t\t'label': {\r\n\t\t\t'en': 'initial map coordinates',\r\n\t\t\t'de': 'initiale Koordinaten auf der Karte'\r\n\t\t},\r\n\t\t'description': {\r\n\t\t\t'en': 'Separate latitude and longitude via comma (e.g. 53.550383, 9.992376)',\r\n\t\t\t'de': 'Latitude und Longitude mit Komma separiert (z. B. 53.550383, 9.992376)'\r\n\t\t},\r\n\t\t'val': ''\r\n\t},\r\n\t{\r\n\t\t'parameter': 'tooltipDirection',\r\n\t\t'label': {\r\n\t\t\t'en': 'Direction tooltip will open',\r\n\t\t\t'de': 'Richtung in die der Tooltip öffnet'\r\n\t\t},\r\n\t\t'description': {\r\n\t\t\t'en': 'possible directions to open: auto, center, top, left, right or bottom',\r\n\t\t\t'de': 'mögliche Werte: auto, center, top, left, right or bottom'\r\n\t\t},\r\n\t\t'type': 'Select',\r\n\t\t'selection': [\r\n\t\t\t{\r\n\t\t\t\t'auto': {\r\n\t\t\t\t\t'en': 'detect dynamically',\r\n\t\t\t\t\t'de': 'dynamisch erkennen'\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'center': {\r\n\t\t\t\t\t'en': 'center',\r\n\t\t\t\t\t'de': 'center'\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'top': {\r\n\t\t\t\t\t'en': 'top',\r\n\t\t\t\t\t'de': 'top'\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'left': {\r\n\t\t\t\t\t'en': 'left',\r\n\t\t\t\t\t'de': 'left'\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'right': {\r\n\t\t\t\t\t'en': 'right',\r\n\t\t\t\t\t'de': 'right'\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'bottom': {\r\n\t\t\t\t\t'en': 'bottom',\r\n\t\t\t\t\t'de': 'bottom'\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t\t'val': ''\r\n\t},\r\n\t{\r\n\t\t'parameter': 'tooltipPermanent',\r\n\t\t'label': {\r\n\t\t\t'en': 'permanent tooltip',\r\n\t\t\t'de': 'Permanenter Tooltip'\r\n\t\t},\r\n\t\t'description': {\r\n\t\t\t'en': 'Option to keep tooltip permanently open (true) or only open on mouse-over (false)',\r\n\t\t\t'de': 'Angabe ob der Tooltip permanent ist (true) oder nur beim rüberfahren mit der Maus gezeigt wird (false)'\r\n\t\t},\r\n\t\t'type': 'Switch',\r\n\t\t'val': true\r\n\t}\r\n]\r\n","/**\r\n *\r\n *\r\n */\r\nfunction HsvToRgb(h, s = 1, v = 1) {\r\n\tif (Array.isArray(h)) {\r\n\t\tv = h[2];\r\n\t\ts = h[1];\r\n\t\th = h[0];\r\n\t}\r\n\telse if (typeof h === 'string' && h.indexOf(',')) {\r\n\t\t[h, s, v] = h.split(',');\r\n\t}\r\n\t\r\n\tif (h > 1) {\r\n\t\th = h/360;\r\n\t}\r\n\t\r\n\tlet r, g, b, i, f, p, q, t;\r\n\t\r\n\ti = Math.floor(h * 6);\r\n\tf = h * 6 - i;\r\n\tp = v * (1 - s);\r\n\tq = v * (1 - f * s);\r\n\tt = v * (1 - (1 - f) * s);\r\n\t\r\n\tswitch (i % 6) {\r\n\t\tcase 0:\r\n\t\t\tr = v;\r\n\t\t\tg = t;\r\n\t\t\tb = p;\r\n\t\t\tbreak;\r\n\t\t\t\r\n\t\tcase 1:\r\n\t\t\tr = q;\r\n\t\t\tg = v;\r\n\t\t\tb = p;\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tcase 2:\r\n\t\t\tr = p;\r\n\t\t\tg = v;\r\n\t\t\tb = t;\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tcase 3:\r\n\t\t\tr = p;\r\n\t\t\tg = q;\r\n\t\t\tb = v;\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tcase 4:\r\n\t\t\tr = t;\r\n\t\t\tg = p;\r\n\t\t\tb = v;\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tcase 5:\r\n\t\t\tr = v;\r\n\t\t\tg = p;\r\n\t\t\tb = q;\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tdefault: // for webpack\r\n\t\t\tbreak;\r\n\t}\r\n\t\r\n\treturn [\r\n\t\tMath.round(r * 255),\r\n\t\tMath.round(g * 255),\r\n\t\tMath.round(b * 255)\r\n\t];\r\n}\r\n\r\n\r\n/**\r\n *\r\n *\r\n */\r\nfunction RgbToHex(r, g, b) {\r\n\tif (Array.isArray(r)) {\r\n\t\tb = r[2];\r\n\t\tg = r[1];\r\n\t\tr = r[0];\r\n\t}\r\n\telse if (typeof r === 'string' && r.indexOf(',')) {\r\n\t\t[r, g, b] = r.split(',');\r\n\t}\r\n\t\r\n\tr = parseInt(r).toString(16);\r\n\tg = parseInt(g).toString(16);\r\n\tb = parseInt(b).toString(16);\r\n\t\r\n\tif (r.length === 1) r = '0' + r;\r\n\tif (g.length === 1) g = '0' + g;\r\n\tif (b.length === 1) b = '0' + b;\r\n\t\r\n\treturn \"#\" + r + g + b;\r\n}\r\n\r\n\r\nexport default {\r\n\tHsvToRgb,\r\n\tRgbToHex\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { HuePicker, SketchPicker as ColorPicker } from 'react-color'\r\n\r\nimport helpers from '../../helpers/colorConverter'\r\nimport i18n from '../../controller/i18n'\r\nimport Log from '../../controller/Log'\r\nimport defaults from '../defaults'\r\n\r\n\r\n/*\r\n * ACTIONS\r\n *\r\n */\r\nfunction LightLevelAction(props) {\r\n\tconst { device, stateKey, stateVal } = props;\r\n\t\r\n\tconst onChange = (e) => {\r\n\t\tsetChecked(e.target.checked);\r\n\t\tdevice.setDeviceState(stateKey, e.target.checked ? ((device.getOption('defaultValue')) || 100) : 0).catch(({ error }) => Log._('Function (light)', error.message, 'error', true, error.stack));\r\n\t}\r\n\t\r\n\tconst [checked, setChecked] = useState(stateVal > 0);\r\n\tuseEffect(() => setChecked(stateVal > 0), [stateVal]);\r\n\t\r\n\t// only show percentage if device has a switch itself\r\n\tif (device.parent && device.parent.states.power) {\r\n\t\treturn <defaults.actions.Action {...props} stateVal={checked} onChange={onChange} />;\r\n\t}\r\n\t\r\n\treturn <defaults.actions.PowerAction {...props} stateVal={checked} onChange={onChange} />\r\n}\r\n\r\nfunction LightColorAction(props) {\r\n\tconst { stateKey, stateVal } = props;\r\n\t\r\n\tconst [colorSpace, setColorSpace] = useState(stateVal);\r\n\tuseEffect(() => setColorSpace(stateVal), [stateVal]);\r\n\t\r\n\tlet colors, labels = {};\r\n\tif (stateKey === 'rgb' && colorSpace) {\r\n\t\tcolors = colorSpace.split(',');\r\n\t\tlabels = { Red: colors[0], Green: colors[1], Blue: colors[2] };\r\n\t\t\r\n\t}\r\n\telse if (stateKey === 'hsv' && colorSpace) {\r\n\t\tcolors = colorSpace.split(',');\r\n\t\tlabels = { Hue: colors[0], Saturation: colors[1], Brightness: colors[2] };\r\n\t}\r\n\t\r\n\tconst Label = defaults.components.Label;\r\n\tlet label = [];\r\n\tfor (let key in labels) {\r\n\t\tlabel.push(<Label key={key} label={key + ' ' + labels[key]} br={true} />);\r\n\t}\r\n\t\r\n\treturn label;\r\n}\r\n\r\n\r\n/*\r\n * COMPONENTS\r\n *\r\n */\r\nfunction LightColorTemperatureComponent(props) {\r\n\tconst Level = defaults.components.LevelComponent;\r\n\treturn (\r\n\t\t<Level min={2000} max={6500} step={10} {...props} />\r\n\t);\r\n}\r\n\r\nfunction LightHueComponent(props) {\r\n\tconst { device, stateKey, stateVal, title } = props;\r\n\t\r\n\tconst onChangeComplete = (color, e) => {\r\n\t\tsetHue(Math.round(color.hsl.h));\r\n\t\tdevice.setDeviceState(stateKey, Math.round(color.hsl.h)).catch(({ error }) => Log._('Function (light)', error.message, 'error', true, error.stack));\r\n\t}\r\n\t\r\n\tconst [hue, setHue] = useState(stateVal);\r\n\tuseEffect(() => setHue(stateVal), [stateVal]);\r\n\t\r\n\tconst Component = defaults.components.Component;\r\n\tconst color = helpers.RgbToHex(helpers.HsvToRgb(hue));\r\n\treturn (\r\n\r\n<Component title={title || stateKey }>\r\n\t<HuePicker\r\n\t\tcolor={color}\r\n\t\twidth={'100%'}\r\n\t\tonChangeComplete={onChangeComplete}\r\n\t\t/>\r\n\t\t\r\n</Component>\r\n\r\n\t);\r\n}\r\n\r\nfunction LightColorComponent(props) {\r\n\tconst { device, stateKey, stateVal, title } = props;\r\n\t\r\n\tconst onChangeComplete = (color, e) => {\r\n\t\tcolor = color[stateKey];\r\n\t\t\r\n\t\t// RGB\r\n\t\tif (stateKey === 'rgb') {\r\n\t\t\tcolor = [color.r, color.g, color.b].join(',');\r\n\t\t}\r\n\t\t// HSV\r\n\t\telse if (stateKey === 'hsv') {\r\n\t\t\tcolor = [color.h, color.s, color.v].join(',');\r\n\t\t}\r\n\t\t\r\n\t\tdevice.setDeviceState(stateKey, color).catch(({ error }) => Log._('Function (light)', error.message, 'error', true, error.stack));\r\n\t};\r\n\t\r\n\tlet initialColor = stateVal || '#ffffff';\r\n\t\r\n\t// RGB\r\n\tif (stateKey === 'rgb') {\r\n\t\tinitialColor = helpers.RgbToHex(initialColor);\r\n\t}\r\n\t// HSV\r\n\telse if (stateKey === 'hsv') {\r\n\t\tinitialColor = helpers.RgbToHex(helpers.HsvToRgb(initialColor));\r\n\t}\r\n\t\r\n\tconst [colorSpace, setColorSpace] = useState(initialColor);\r\n\tuseEffect(() => {\r\n\t\t// RGB\r\n\t\tif (stateKey === 'rgb') {\r\n\t\t\tsetColorSpace(helpers.RgbToHex(stateVal));\r\n\t\t}\r\n\t\t// HSV\r\n\t\telse if (stateKey === 'hsv') {\r\n\t\t\tsetColorSpace(helpers.RgbToHex(helpers.HsvToRgb(stateVal)));\r\n\t\t}\r\n\t\t// HEX\r\n\t\telse if (stateKey === 'hex') {\r\n\t\t\tsetColorSpace(stateVal);\r\n\t\t}\r\n\t}, [stateKey, stateVal]);\r\n\t\r\n\tconst Component = defaults.components.Component;\r\n\treturn (\r\n\r\n<Component title={title || stateKey }>\r\n\t<ColorPicker\r\n\t\tcolor={colorSpace}\r\n\t\twidth={'100%'}\r\n\t\tonChangeComplete={onChangeComplete}\r\n\t\t/>\r\n\t\t\r\n</Component>\r\n\r\n\t);\r\n}\r\n\r\n\r\n\r\nconst color = {\r\n\ticon: {\r\n\t\t'default': 'palette',\r\n\t},\r\n\tunit: ' °'\r\n}\r\n\r\ni18n.setTranslation(i18n.getLanguage(), () => require('./i18n/' + i18n.getLanguage()));\r\n\r\nexport default {\r\n\tconfigurations: {\r\n\t\tpower: {\r\n\t\t\ticon: {\r\n\t\t\t\t'true': 'lightbulb-on',\r\n\t\t\t\t'false': 'lightbulb-off-outline'\r\n\t\t\t},\r\n\t\t},\r\n\t\tlevel: {\r\n\t\t\tvalue: val => val > 0 && val <= 1 ? val * 100 : val,\r\n\t\t\tunit: val => val > 0 ? ' %' : null,\r\n\t\t\tstateStyle: {\r\n\t\t\t\t'0': {\r\n\t\t\t\t\t'color': '#999'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ticon: {\r\n\t\t\t\t'default': 'lightbulb-on',\r\n\t\t\t\t'0': 'lightbulb-off-outline'\r\n\t\t\t},\r\n\t\t\tdisplay: {\r\n\t\t\t\t'0': i18n.t('light#level#off')\r\n\t\t\t},\r\n\t\t},\r\n\t\tcolorTemperature: {\r\n\t\t\ticon: {\r\n\t\t\t\t'default': 'thermometer',\r\n\t\t\t},\r\n\t\t\tunit: ' °K'\r\n\t\t},\r\n\t\thue: color,\r\n\t\trgb: color,\r\n\t\thsv: color,\r\n\t\thex: color\r\n\t},\r\n\tcomponents: {\r\n\t\tlevel: defaults.components.LevelComponent,\r\n\t\tcolorTemperature: LightColorTemperatureComponent,\r\n\t\trgb: LightColorComponent,\r\n\t\thsv: LightColorComponent,\r\n\t\thex: LightColorComponent,\r\n\t\thue: LightHueComponent\r\n\t},\r\n\tactions: {\r\n\t\tpower: defaults.actions.PowerAction,\r\n\t\tlevel: LightLevelAction,\r\n\t\trgb: LightColorAction,\r\n\t\thsv: LightColorAction,\r\n\t\thex: LightColorAction\r\n\t}\r\n}","export default function getActivityType(manufacturer, val) {\r\n\t\r\n\t// HomeMatic\r\n\tif (manufacturer === 'HomeMatic') {\r\n\t\t\r\n\t\tswitch(val) {\r\n\t\t\tcase 1: // UP\r\n\t\t\tcase 2: // DOWN\r\n\t\t\t\tval = true;\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 3: // STABLE\r\n\t\t\t\tval = false;\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tdefault: // UNKNOWN\r\n\t\t\t\tval = null;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Shelly\r\n\telse if (manufacturer === 'Shelly') {\r\n\t\t\r\n\t\tswitch(val) {\r\n\t\t\tcase 'open': // MOVING\r\n\t\t\tcase 'close': // MOVING\r\n\t\t\t\tval = true;\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 'stop': // MOVING\r\n\t\t\t\tval = false;\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tdefault: // UNKNOWN\r\n\t\t\t\tval = null;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn val;\r\n}","import React from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport Divider from '@material-ui/core/Divider'\r\n//import IconButton from '@material-ui/core/IconButton'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport PlayIcon from '@material-ui/icons/PlayArrow'\r\nimport PauseIcon from '@material-ui/icons/Pause'\r\nimport StopIcon from '@material-ui/icons/Stop'\r\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious'\r\nimport SkipNextIcon from '@material-ui/icons/SkipNext'\r\n\r\nimport Log from '../../controller//Log'\r\nimport helpers from '../../helpers/timeConverter'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles';\r\nconst styles = theme => ({\r\n\tdivider: {\r\n\t\tmargin: '15px -16px'\r\n\t},\r\n\tcontainer: {\r\n\t\tmargin: theme.spacing(0, -2),\r\n\t},\r\n\tnoHeader: {\r\n\t\tmarginTop: theme.spacing(-4),\r\n\t},\r\n\timage: {\r\n\t\theight: '200px',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'flex-end',\r\n\t\tbackgroundPosition: 'center',\r\n\t\tcursor: 'pointer'\r\n\t},\r\n\tnoImage: {\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t\tdisplay: 'flex',\r\n\t\tcursor: 'pointer'\r\n\t},\r\n\tinformation: {\r\n\t\tbackgroundColor: theme.palette.primary.main + '66',\r\n\t\tcolor: '#fff',\r\n\t\tpadding: '10px',\r\n\t\tmargin: 0,\r\n\t\twidth: '100%',\r\n\t\tminHeight: '45px'\r\n\t},\r\n\tinformationLeft: {\r\n\t\twidth: '80%',\r\n\t\tfloat: 'left',\r\n\t\tmargin: 0\r\n\t},\r\n\tinformationRight: {\r\n\t\twidth: '19%',\r\n\t\tfloat: 'right',\r\n\t\tmargin: 0,\r\n\t\ttextAlign: 'right'\r\n\t},\r\n\tlength: {\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t\twidth: '100%',\r\n\t\theight: '7px',\r\n\t},\r\n\tlengthBar: {\r\n\t\tbackgroundColor: theme.palette.secondary.main,\r\n\t\theight: '100%',\r\n\t},\r\n\tcontrols: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'stretch'\r\n\t},\r\n\tcontrolsBox: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tpaddingTop: '30px'\r\n\t},\r\n\tcontrolsBoxLeft: {\r\n\t\tflex: 1,\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'baseline'\r\n\t},\r\n\tcontrolsBoxCenter: {\r\n\t\tflex: 3\r\n\t},\r\n\tcontrolsBoxRight: {\r\n\t\tflex: 1,\r\n\t\tjustifyContent: 'end'\r\n\t},\r\n\tcontrolButton: {\r\n\t\tmargin: '0 5px'\r\n\t},\r\n\tcontrolButtonSmall: {\r\n\t\tmargin: '0 10px',\r\n\t\tfontSize: '1.2rem',\r\n\t\theight: '32px',\r\n\t\twidth: '32px'\r\n\t}\r\n});\r\n\r\n\r\nclass MultimediaItem extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\t// get initial states\r\n\t\tfor (let stateKey in this.props.device.states) {\r\n\t\t\tthis.props.device.requestDeviceState(stateKey, true).catch(err => Log._('Modules (MultimediaItem)', err.message, 'error', true, err.stack));\r\n\t\t}\r\n\t\t\r\n\t\t// receive updates\r\n\t\tthis.props.device.listen(this.stateChange);\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.device.unlisten(this.stateChange);\r\n\t}\r\n\t\r\n\tstateChange = (stateKey, state) => {\r\n\t\t\r\n\t\t// duration\r\n\t\tif (stateKey === 'duration' && state && state.val.indexOf(':') === -1) {\r\n\t\t\tstate.val = helpers.timeToHoursMinutesSeconds(state.val);\r\n\t\t}\r\n\t\t\r\n\t\t// isRunning\r\n\t\tif (stateKey === 'isRunning' && state && typeof state.val === 'string') {\r\n\t\t\tstate.val = state.val.indexOf('play') > -1;\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({ [stateKey]: state }, () => {\r\n\t\t\tthis.progress();\r\n\t\t});\r\n\t}\r\n\t\r\n\tprogress() {\r\n\t\tclearTimeout(this.progressTimeout);\r\n\t\t\r\n\t\tif (this.state.isRunning && this.state.isRunning.val === true && this.state.progress && this.state.progress.val && this.state.duration && this.state.duration.val) {\r\n\t\t\tthis.progressTimeout = setTimeout(() => {\r\n\t\t\t\tthis.setState(prevState => ({ progress: { ...prevState.progress, val: helpers.timeToSeconds(prevState.progress.val) + 1 }}), () => this.progress());\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t}\r\n\t\r\n\topenDialog() {\r\n\t\tthis.props.openDialog(this.props.device);\r\n\t}\r\n\t\r\n\tsetDeviceState(stateKey, value) {\r\n\t\tthis.props.device.setDeviceState(stateKey, value).catch(err => Log._('Modules (MultimediaItem)', err.message, 'error', true, err.stack));\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { classes, noHeader, index, device } = this.props;\r\n\t\tlet styleImage = {}, styleLength = {}, styleLengthBar = {};\r\n\t\t\r\n\t\t// background\r\n\t\tif (this.state.background && this.state.background.val !== '') {\r\n\t\t\tstyleImage.backgroundImage = 'url(' + ((device.options.backgroundUrlPrepend || '') + this.state.background.val) + ')';\r\n\t\t}\r\n\t\t\r\n\t\t// duration\r\n\t\tif (this.state.duration && this.state.duration.val) {\r\n\t\t\tstyleLengthBar.width = ((this.state.progress && this.state.progress.val) || 0) + 'px';\r\n\t\t}\r\n\t\t\r\n\t\tconst playIconElements = this.state.isRunning && this.state.isRunning.val ? [<PauseIcon onClick={this.setDeviceState.bind(this, 'pause', true)} />, <StopIcon />] : [<PlayIcon onClick={this.setDeviceState.bind(this, 'play', true)} />];\r\n\t\t//const repeatIcon = 'repeat'; // repeat, repeat-off, repeat-once\r\n\t\t//const shuffleIcon = 'shuffle-variant'; // shuffle-variant, shuffle-disabled\r\n\t\t//const volumeIcon = 'volume-high'; // volume-variant-off\r\n\t\t\r\n\t\treturn (\r\n\r\n<React.Fragment>\r\n\t\r\n\t{index > 0 && <Divider className={classes.divider} />}\r\n\t<div className={clsx(classes.container, noHeader && classes.noHeader)}>\r\n\t\t\r\n\t\t<div className={clsx(this.state.background && this.state.background.val !== '' ? classes.image : classes.noImage)} style={ styleImage } onClick={this.openDialog.bind(this)}>\r\n\t\t\t\r\n\t\t\t<div className={classes.information}>\r\n\t\t\t\t<p className={classes.informationLeft}>\r\n\t\t\t\t\t{this.state.grandParent && this.state.grandParent.val && [this.state.grandParent.val, <br key={'br-' + device.id} />]}\r\n\t\t\t\t\t{this.state.parent && this.state.parent.val && this.state.parent.val + ' - '}{this.state.title && this.state.title.val}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className={classes.informationRight}>\r\n\t\t\t\t\t{this.state.progress && helpers.timeToHoursMinutesSeconds(this.state.progress.val)} / {this.state.duration && this.state.duration.val}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t\t<div className={classes.length} style={ styleLength }>\r\n\t\t\t<div className={classes.lengthBar} style={ styleLengthBar }></div>\r\n\t\t</div>\r\n\t\t\r\n\t\t<div className={classes.controls}>\r\n\t\t\t<div className={clsx(classes.controlsBox, classes.controlsBoxLeft)}>\r\n\t\t\t\t{/*\r\n\t\t\t\t<IconButton size=\"small\" className={classes.controlButtonSmall}>\r\n\t\t\t\t\t<span className={'mdi mdi-' + repeatIcon}></span>\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t<IconButton size=\"small\" className={classes.controlButtonSmall}>\r\n\t\t\t\t\t<span className={'mdi mdi-' + shuffleIcon}></span>\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t*/}\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t<div className={clsx(classes.controlsBox, classes.controlsBoxCenter)}>\r\n\t\t\t\t\r\n\t\t\t\t<Fab className={classes.controlButton} size=\"small\" color=\"secondary\">\r\n\t\t\t\t\t<SkipPreviousIcon onClick={this.setDeviceState.bind(this, 'previous', true)} />\r\n\t\t\t\t</Fab>\r\n\t\t\t\t\r\n\t\t\t\t{playIconElements.map((icon, i) => \r\n\t\t\t\t<Fab key={'icon-' + i} className={classes.controlButton} size=\"large\" color=\"primary\">\r\n\t\t\t\t\t{icon}\r\n\t\t\t\t</Fab>\r\n\t\t\t\t)}\r\n\t\t\t\t\r\n\t\t\t\t<Fab className={classes.controlButton} size=\"small\" color=\"secondary\">\r\n\t\t\t\t\t<SkipNextIcon onClick={this.setDeviceState.bind(this, 'next', true)} />\r\n\t\t\t\t</Fab>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t<div className={clsx(classes.controlsBox, classes.controlsBoxRight)}>\r\n\t\t\t\t{/*\r\n\t\t\t\t<IconButton size=\"small\" className={classes.controlButtonSmall}>\r\n\t\t\t\t\t<span className={'mdi mdi-' + volumeIcon}></span>\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t*/}\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t</div>\r\n\r\n</React.Fragment>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(MultimediaItem);\r\n","import React from 'react'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport StateListItem from './StateListItem'\r\n\r\nimport Devices from '../../controller/Devices'\r\nimport i18n from '../../controller/i18n'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles';\r\nconst styles = theme => ({\r\n\tdefaultListSectionDivider: {\r\n\t\tmargin: '5px 0 0 0'\r\n\t},\r\n\tdefaultListSectionDividerItem: {\r\n\t\tmargin: '6px 0 7px 0',\r\n\t\tpadding: '0 16px !important'\r\n\t},\r\n\tdefaultListSectionText: {\r\n\t\tmargin: 0,\r\n\t\t[theme.breakpoints.down('md')]: {\r\n\t\t\tmargin: '0 0 0 10px',\r\n\t\t}\r\n\t},\r\n\thorizontalList: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'row',\r\n\t\tflexWrap: 'wrap'\r\n\t}\r\n});\r\n\r\n\r\nconst ListGroup = withStyles(styles)(props => {\r\n\tconst { classes, title, actions } = props;\r\n\t\r\n\tconst handleChangeOn = () => handleChange(true);\r\n\tconst handleChangeOff = () => handleChange(false);\r\n\tconst handleChange = targetStatus => {\r\n\t\t\r\n\t\tlet devices = props.getDevices();\r\n\t\tconsole.log(devices);\r\n\t\tdevices.forEach(device => {\r\n\t\t\t\r\n\t\t\tlet status = targetStatus;\r\n\t\t\tif (device.primaryStateKey === 'level') {\r\n\t\t\t\tstatus = status ? (device.getOption('defaultValue') || 100) : 0;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdevice.setDeviceState(null, status);\r\n\t\t});\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<ListItem divider className={classes.defaultListSectionDivider} />\r\n\t\t\t<ListItem className={classes.defaultListSectionDividerItem}>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.defaultListSectionText}\r\n\t\t\t\t\tprimary={title}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t{actions === null || actions === false ? null :\r\n\t\t\t\t\t<ButtonGroup color=\"primary\" size=\"small\">\r\n\t\t\t\t\t\t<Button onClick={handleChangeOn}>{i18n.t('on')}</Button>\r\n\t\t\t\t\t\t<Button onClick={handleChangeOff}>{i18n.t('off')}</Button>\r\n\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t</ListItem>\r\n\t\t</React.Fragment>\r\n\t\r\n\t);\r\n});\r\n\r\n\r\nclass StateList extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.groups = {};\r\n\t}\r\n\t\r\n\t\r\n\trender() {\r\n\t\tconst { classes, devices, horizontal, config, component, action, ...otherProps } = this.props;\r\n\t\t\r\n\t\tlet group = null;\r\n\t\tconst items = Devices.forEachDevice(devices, (device, index, options) => {\r\n\t\t\t\r\n\t\t\t// group\r\n\t\t\tif (device.type === 'group') {\r\n\t\t\t\tgroup = device.id;\r\n\t\t\t\t\r\n\t\t\t\treturn <ListGroup\r\n\t\t\t\t\t\t\tkey={'ListGroup-' + device.id}\r\n\t\t\t\t\t\t\ttitle={device.name}\r\n\t\t\t\t\t\t\tgetDevices={() => this.groups[device.id]}\r\n\t\t\t\t\t\t\tactions={device.actions || config.actions}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// divider\r\n\t\t\telse if (device.type === 'divider') {\r\n\t\t\t\treturn <ListItem key={'ListDivider-' + device.id} divider className={classes.defaultListSectionDivider} />\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// device\r\n\t\t\tthis.groups[group] = this.groups[group] || [];\r\n\t\t\tthis.groups[group].push(device);\r\n\t\t\t\r\n\t\t\treturn <StateListItem\r\n\t\t\t\t\t\t{...otherProps}\r\n\t\t\t\t\t\tkey={'StateListItem-' + device.id}\r\n\t\t\t\t\t\thorizontal={horizontal}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdevice={device}\r\n\t\t\t\t\t\toptions={options}\r\n\t\t\t\t\t\tcomponent={component || false}\r\n\t\t\t\t\t\taction={action || true}\r\n\t\t\t\t\t\t/>\r\n\t\t});\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<List dense={true} className={horizontal && classes.horizontalList}>\r\n\t\t\t\t{items}\r\n\t\t\t</List>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(StateList);\r\n","import React from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles';\r\nconst styles = theme => ({\r\n\tdefaultListIcon: props => ({\r\n\t\t...theme.components.icon,\r\n\t\t...props.styles\r\n\t}),\r\n\thorizontalListItem: {\r\n\t\tdisplay: 'inline-block',\r\n\t\ttextAlign: 'center',\r\n\t\tpaddingRight: '16px',\r\n\t\twidth: '140px',\r\n\t\tmarginTop: '10px'\r\n\t},\r\n\thorizontalListItemIcon: {\r\n\t\tminWidth: 'auto'\r\n\t},\r\n\thorizontalListItemAction: {\r\n\t\ttextAlign: 'center',\r\n\t\ttop: 0,\r\n\t\tright: 0,\r\n\t\tposition: 'static',\r\n\t\ttransform: 'none',\r\n\t},\r\n\tverticalListItemAction: {\r\n\t\ttextAlign: 'right'\r\n\t},\r\n});\r\n\r\n\r\nconst ListItemIconElement = withStyles(styles)(props => {\r\n\tconst { customClassNames, children, classes } = props;\r\n\t\r\n\tlet classNames = Array.isArray(customClassNames) ? customClassNames : [customClassNames];\r\n\tclassNames = classNames.map(className => (classes[className] ? classes[className] : className));\r\n\t\r\n\treturn <span className={clsx(classNames)}>{children}</span>\r\n});\r\n\r\n\r\nclass StateListItem extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tListItemTextWidth: '100%',\r\n\t\t\t...this.props.device.getDeviceStates() || {}\r\n\t\t}\r\n\t\t\r\n\t\tthis.ListItemText = React.createRef();\r\n\t\tthis.ListItemSecondaryAction = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.ListItemTextWidth = Math.floor(this.ListItemText.current.offsetWidth);\r\n\t\tthis.resizeComponent();\r\n\t\t\r\n\t\t// get state changes\r\n\t\tthis.props.device.listen(this.stateChange);\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.device.unlisten(this.stateChange);\r\n\t}\r\n\t\r\n\tcomponentDidUpdate() {\r\n\t\tthis.resizeComponent();\r\n\t}\r\n\t\r\n\tstateChange = (stateKey, state) => {\r\n\t\tif (stateKey === this.props.device.primaryStateKey || stateKey === this.props.device.secondaryStateKey) {\r\n\t\t\tthis.setState({ [stateKey]: state });\r\n\t\t}\r\n\t}\r\n\t\r\n\tresizeComponent() {\r\n\t\tconst ListItemSecondaryActionWidth = Math.floor(this.ListItemSecondaryAction.current.offsetWidth*1.08);\r\n\t\t\r\n\t\tif (this.state.ListItemSecondaryActionWidth !== ListItemSecondaryActionWidth) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tListItemSecondaryActionWidth: ListItemSecondaryActionWidth,\r\n\t\t\t\tListItemTextWidth: this.ListItemTextWidth-ListItemSecondaryActionWidth + 'px'\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\topenDialog() {\r\n\t\tthis.props.openDialog(this.props.device);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { classes, horizontal, device, options, component, action } = this.props;\r\n\t\t\r\n\t\tconst state = this.state[options.primaryStateKey || device.primaryStateKey] || {};\r\n\t\tconst icon = device.getIcon(options.primaryStateKey, state.val) || device.getIcon(options.primaryStateKey, state.value);\r\n\t\t\r\n\t\tconst primaryComponent = component && device.getComponent();\r\n\t\tconst primaryAction = device.getAction(options.primaryStateKey, device.options.primaryAction === false);\r\n\t\tconst secondaryAction = action && this.state[options.secondaryStateKey || device.secondaryStateKey] ? device.getAction(options.secondaryStateKey || device.secondaryStateKey) : null;\r\n\t\t\r\n\t\treturn (\r\n\r\n<React.Fragment>\r\n\t{device.options.divider && device.options.divider !== 'after' && <ListItem divider className={classes.defaultListDivider} />}\r\n\t\r\n\t<ListItem\r\n\t\tclassName={clsx(this.props.openDialog && classes.finger, horizontal && classes.horizontalListItem)}\r\n\t\tbutton={this.props.openDialog !== null}\r\n\t\tonClick={this.props.openDialog && this.openDialog.bind(this)}\r\n\t\t>\r\n\t\t\r\n\t\t<ListItemIcon className={clsx(horizontal && classes.horizontalListItemIcon)}>\r\n\t\t{icon === null ? <React.Fragment /> :\r\n\t\t\t<ListItemIconElement customClassNames={['defaultListIcon','mdi mdi-' + icon]} styles={device.getStyle('icon', options.primaryStateKey, state.val)} />\r\n\t\t}\r\n\t\t</ListItemIcon>\r\n\t\t\r\n\t\t<ListItemText\r\n\t\t\tref={this.ListItemText}\r\n\t\t\tdisableTypography={primaryComponent !== false}\r\n\t\t\tprimary={primaryComponent || device.getOption('label')}\r\n\t\t\tsecondary={(device.options.subtitle !== null ? (device.options.subtitle || (state && state.timeChanged) || null) : null)}\r\n\t\t\tstyle={{ flex: 'initial', width: this.state.ListItemTextWidth }}\r\n\t\t\t/>\r\n\t\t\r\n\t\t<ListItemSecondaryAction\r\n\t\t\tref={this.ListItemSecondaryAction}\r\n\t\t\tclassName={ horizontal ? classes.horizontalListItemAction : classes.verticalListItemAction }\r\n\t\t\t>\r\n\t\t\t\r\n\t\t\t{!secondaryAction ? primaryAction : [ primaryAction, <br key={'br_' + device.id} />, secondaryAction ]}\r\n\t\t</ListItemSecondaryAction>\r\n\t</ListItem>\r\n\t\r\n\t{device.options.divider && device.options.divider === 'after' && <ListItem divider style={{margin: '5px 0'}} />}\r\n</React.Fragment>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(StateListItem);\r\n","/*\r\n * Code by MATERIAL-UI\r\n * @see https://material-ui.com/components/tables/#sorting-amp-selecting\r\n *\r\n */\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport clsx from 'clsx'\r\n\r\nimport { lighten, makeStyles } from '@material-ui/core/styles'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\n\r\n\r\nconst useToolbarStyles = makeStyles(theme => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(2),\r\n    paddingRight: theme.spacing(1),\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n          color: theme.palette.secondary.main,\r\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n        }\r\n      : {\r\n          color: theme.palette.text.primary,\r\n          backgroundColor: theme.palette.secondary.dark,\r\n        },\r\n  title: {\r\n    flex: '1 1 100%',\r\n  },\r\n}));\r\n\r\nexport default function EnhancedTableToolbar(props) {\r\n  const classes = useToolbarStyles();\r\n  const { title, rowCount, numSelected, rightActionButton } = props;\r\n\r\n  return (\r\n    <Toolbar\r\n      className={clsx(classes.root, {\r\n        [classes.highlight]: numSelected > 0,\r\n      })}\r\n    >\r\n      {numSelected > 0 ? (\r\n        <Typography className={classes.title} color=\"inherit\" variant=\"subtitle1\">\r\n          {numSelected} selected\r\n        </Typography>\r\n      ) : (\r\n        <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\">\r\n\t\t\t{title !== undefined && (title + ' (' + rowCount + ')')}\r\n        </Typography>\r\n      )}\r\n\r\n      {numSelected > 0 ? (\r\n        <Tooltip title=\"Delete\">\r\n          <IconButton aria-label=\"delete\">\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      )\r\n\t  : rightActionButton}\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n};","/*\r\n * Code by MATERIAL-UI\r\n * @see https://material-ui.com/components/tables/#sorting-amp-selecting\r\n *\r\n */\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport TableHead from '@material-ui/core/TableHead'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport TableCell from '@material-ui/core/TableCell'\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n\r\n\r\nexport default function EnhancedTableHead(props) {\r\n  const { headCells, onSelectAllClick, selectable, sortable, order, orderBy, numSelected, rowCount, onRequestSort } = props;\r\n  const createSortHandler = property => event => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n\t\t{selectable !== false &&\r\n\t\t\t<TableCell padding=\"checkbox\">\r\n\t\t\t  <Checkbox\r\n\t\t\t\tindeterminate={numSelected > 0 && numSelected < rowCount}\r\n\t\t\t\tchecked={rowCount > 0 && numSelected === rowCount}\r\n\t\t\t\tonChange={onSelectAllClick}\r\n\t\t\t\tinputProps={{ 'aria-label': 'select all' }}\r\n\t\t\t  />\r\n\t\t\t</TableCell>\r\n\t\t}\r\n\t\t\r\n        {headCells.map(headCell => (\r\n          <TableCell\r\n            key={headCell.id}\r\n            align={headCell.align || 'left'}\r\n            padding={headCell.disablePadding ? 'none' : 'default'}\r\n            sortDirection={sortable && (orderBy === headCell.id ? order : false)}\r\n\t\t\tstyle={{ width: headCell.width || 'auto' }}\r\n          >\r\n\t\t  {sortable ?\r\n            <TableSortLabel\r\n              active={orderBy === headCell.id}\r\n              direction={orderBy === headCell.id ? order : 'asc'}\r\n              onClick={createSortHandler(headCell.orderBy || headCell.id)}\r\n            >\r\n              <strong>{headCell.label}</strong>\r\n            </TableSortLabel>\r\n\t\t\t:\r\n\t\t\t <strong>{headCell.label}</strong>\r\n\t\t\t}\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n};","/*\r\n * Code by MATERIAL-UI\r\n * @see https://material-ui.com/components/tables/#sorting-amp-selecting\r\n *\r\n */\r\nimport React from 'react'\r\nimport clsx from 'clsx'\r\nimport { format } from 'date-fns'\r\n\r\nimport TableBody from '@material-ui/core/TableBody'\r\nimport TableCell from '@material-ui/core/TableCell'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles(theme => ({\r\n\tnoWrap: {\r\n\t\twhiteSpace: 'nowrap'\r\n\t}\r\n}));\r\n\r\n\r\n// https://stackoverflow.com/questions/9382167/serializing-object-that-contains-cyclic-object-value\r\nfunction nestedObjects(key, val, seen) {\r\n\t\r\n\tif (val !== null && typeof val === 'object') {\r\n\t\tif (seen.indexOf(val) >= 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tseen.push(val);\r\n\t}\r\n\t\r\n\treturn val;\r\n}\r\n\r\nfunction showTableContent(content, type = '') {\r\n\t\r\n\tif (content === undefined || content === null) {\r\n\t\treturn '';\r\n\t}\r\n\t\r\n\tlet seen = [];\r\n\tswitch(type.toLowerCase()) {\r\n\t\tcase 'date':\r\n\t\t\tcontent = format(content, 'yyyy-MM-dd HH:mm:ss');\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tdefault:\r\n\t\t\tcontent = Array.isArray(content) || typeof content === 'object' ? JSON.stringify(content, (key, val) => nestedObjects(key, val, seen)) : content;\r\n\t\t\tcontent = typeof content === 'boolean' ? content.toString() : content;\r\n\t\t\tbreak;\r\n\t}\r\n\t\r\n\treturn content;\r\n}\r\n\r\nexport default function EnhancedTable(props) {\r\n\tconst { columns, sortedRows, emptyRows, rowStyles, selectable, selected, onClick } = props;\r\n\tconst classes = useStyles();\r\n\tconst isSelected = id => selected.indexOf(id) !== -1;\r\n\r\n\treturn (\r\n\r\n<TableBody>\r\n\t{sortedRows.map((row, index) => {\r\n\t\tconst isItemSelected = isSelected(row.id);\r\n\t\tconst labelId = `enhanced-table-checkbox-${index}`;\r\n\t\t\r\n\t\tlet styles = {};\r\n\t\tfor (let columnId in rowStyles) {\r\n\t\t\tlet rowStyle = rowStyles[columnId];\r\n\t\t\t\r\n\t\t\tif (row[columnId] && Object.keys(rowStyle).indexOf(row[columnId]) > -1) {\r\n\t\t\t\tstyles = { ...styles, ...rowStyle[row[columnId]] };\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\r\n\t<TableRow\r\n\t\tkey={'TableRow-' + index}\r\n\t\thover\r\n\t\tonClick={onClick ? (event => onClick(event, row.id)) : undefined}\r\n\t\trole=\"checkbox\"\r\n\t\taria-checked={isItemSelected}\r\n\t\ttabIndex={-1}\r\n\t\tselected={isItemSelected}\r\n\t\t>\r\n\t\t\r\n\t\t{selectable !== false &&\r\n\t\t<TableCell\r\n\t\t\tkey={'TableCell-' + index + '-Checkbox'}\r\n\t\t\tstyle={styles}\r\n\t\t\tpadding=\"checkbox\"\r\n\t\t\t>\r\n\t\t\t\r\n\t\t\t<Checkbox\r\n\t\t\t\tchecked={isItemSelected}\r\n\t\t\t\tinputProps={{ 'aria-labelledby': labelId }}\r\n\t\t\t\t/>\r\n\t\t\t\r\n\t\t</TableCell>\r\n\t\t}\r\n\t\t\r\n\t\t{columns.map(column => (\r\n\t\t<TableCell\r\n\t\t\tkey={'TableCell-' + index + '-' + column.id}\r\n\t\t\tclasses={{ root: clsx(column.noWrap && classes.noWrap) }}\r\n\t\t\tstyle={styles}\r\n\t\t\tscope=\"row\"\r\n\t\t\tpadding={column.disablePadding ? 'none' : 'default'}\r\n\t\t\t>\r\n\r\n\t\t\t{showTableContent(row[column.id], column.type)}\r\n\t\t</TableCell>\r\n\r\n\t\t))}\r\n\r\n\t</TableRow>\r\n\t\t\r\n\t\t);\r\n\t})}\r\n\t\r\n\t{emptyRows > 0 && (\r\n\t<TableRow style={{ height: 53 * emptyRows }}>\r\n\t\t<TableCell colSpan={6} />\r\n\t</TableRow>\r\n\t)}\r\n\t\r\n</TableBody>\r\n\r\n\t);\r\n}","/*\r\n * Code by MATERIAL-UI\r\n * @see https://material-ui.com/components/tables/#sorting-amp-selecting\r\n *\r\n */\r\nimport React, { useEffect } from 'react'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Table from '@material-ui/core/Table'\r\nimport TableContainer from '@material-ui/core/TableContainer'\r\nimport TablePagination from '@material-ui/core/TablePagination'\r\n\r\nimport EnhancedTableToolbar from '../components/EnhancedTableToolbar'\r\nimport EnhancedTableHead from '../components/EnhancedTableHead'\r\nimport EnhancedTableBody from '../components/EnhancedTableBody'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  table: {\r\n    minWidth: 750,\r\n  }\r\n}));\r\n\r\n\r\nfunction descendingComparator(a, b, orderBy, orderByCase) {\r\n\t\r\n\tlet orderA, orderB;\r\n\tif (orderBy.indexOf('.') === -1) {\r\n\t\torderA = a[orderBy] || '';\r\n\t\torderB = b[orderBy] || '';\r\n\t}\r\n\telse {\r\n\t\tlet tmpA = { ...a };\r\n\t\tlet tmpB = { ...b };\r\n\t\tlet key = orderBy;\r\n\t\tlet index;\r\n\t\t\r\n\t\twhile (key.indexOf('.') > -1) {\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tindex = key.substr(0, key.indexOf('.'));\r\n\t\t\t\tkey = key.substr(key.indexOf('.')+1);\r\n\t\t\t\ttmpA = tmpA[index];\r\n\t\t\t\ttmpB = tmpB[index];\r\n\t\t\t}\r\n\t\t\tcatch(err) {\r\n\t\t\t\tconsole.error(err.message);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\torderA = tmpA[key] || '';\r\n\t\torderB = tmpB[key] || '';\r\n\t}\r\n\t\r\n\tif (orderByCase !== true) {\r\n\t\torderA = typeof orderA === 'object' ? JSON.stringify(orderA) : orderA.toLowerCase();\r\n\t\torderB = typeof orderB === 'object' ? JSON.stringify(orderB) : orderB.toLowerCase();\r\n\t}\r\n\t\r\n\t\r\n  if (orderB < orderA) {\r\n    return -1;\r\n  }\r\n  if (orderB > orderA) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy, orderByCase) {\r\n  return order === 'desc'\r\n    ? (a, b) => descendingComparator(a, b, orderBy, orderByCase)\r\n    : (a, b) => -descendingComparator(a, b, orderBy, orderByCase);\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map(el => el[0]);\r\n}\r\n\r\nexport default function EnhancedTable(props) {\r\n  const classes = useStyles();\r\n  \r\n  const { title, headCells, size, CustomTableBody, rows, toolbar, selectable, pagination, defaultOrder, defaultOrderBy, orderByCase, defaultSelected, defaultPage, defaultRowsPerPage, toolbarRightActionButton } = props;\r\n  \r\n  const [order, setOrder] = React.useState(defaultOrder || 'asc');\r\n  const [orderBy, setOrderBy] = React.useState(defaultOrderBy || headCells[0].orderBy || headCells[0].id);\r\n  const [selected, setSelected] = React.useState(defaultSelected || []);\r\n  const [page, setPage] = React.useState(defaultPage || 0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(pagination ? (defaultRowsPerPage || 5) : rows.length);\r\n\r\nuseEffect(() => setRowsPerPage(pagination ? (defaultRowsPerPage || 5) : rows.length), [rows.length, pagination, defaultRowsPerPage]);\r\n\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc';\r\n    setOrder(isAsc ? 'desc' : 'asc');\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleSelectAllClick = event => {\r\n    if (event.target.checked) {\r\n      const newSelecteds = rows.map(n => n.id);\r\n      setSelected(newSelecteds);\r\n      return;\r\n    }\r\n    setSelected([]);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = event => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const selectRow = (event, id) => {\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, id);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1),\r\n      );\r\n    }\r\n\r\n    setSelected(newSelected);\r\n  };\r\n\r\n  const TableBody = CustomTableBody || EnhancedTableBody;\r\n  return (\r\n\t<React.Fragment>\r\n\t\t{toolbar !== false &&\r\n        <EnhancedTableToolbar\r\n\t\t  title={title}\r\n          rowCount={rows.length}\r\n\t\t  numSelected={selected.length || 0}\r\n\t\t  rightActionButton={toolbarRightActionButton}\r\n\t\t  />}\r\n\t\t\r\n        <TableContainer>\r\n          <Table\r\n            className={classes.table}\r\n            aria-labelledby=\"tableTitle\"\r\n            aria-label=\"enhanced table\"\r\n\t\t\tsize={size}\r\n\t\t\tstickyHeader={true}\r\n          >\r\n            <EnhancedTableHead\r\n              classes={classes}\r\n              numSelected={selected.length}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onSelectAllClick={handleSelectAllClick}\r\n              onRequestSort={handleRequestSort}\r\n              rowCount={rows.length}\r\n\t\t\t  {...props}\r\n            />\r\n\t\t\t\r\n\t\t\t<TableBody\r\n\t\t\t\tcolumns={headCells}\r\n\t\t\t\tsortedRows={stableSort(rows, getComparator(order, orderBy, orderByCase)).slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)}\r\n\t\t\t\temptyRows={rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage)}\r\n\t\t\t\tonClick={selectable !== false && selectRow}\r\n\t\t\t\tselected={selected}\r\n\t\t\t\t{...props}\r\n\t\t\t\t/>\r\n\t\t\t\r\n          </Table>\r\n        </TableContainer>\r\n\t\t{pagination && <TablePagination\r\n          rowsPerPageOptions={[5, 10, 25]}\r\n          component=\"div\"\r\n          count={rows.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          onChangePage={handleChangePage}\r\n          onChangeRowsPerPage={handleChangeRowsPerPage}\r\n        />}\r\n\t</React.Fragment>\r\n\t\r\n  );\r\n}","import EventEmitter from 'events'\r\nimport functions from '../functions'\r\n\r\n\r\n/**\r\n * Function\r\n *\r\n * @param\t{String}\t\tfunctionType\r\n * @return\t{Function}\r\n *\r\n */\r\nexport default class Function extends EventEmitter {\r\n\t\r\n\tconstructor(functionType) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis.function = functionType;\r\n\t\t\r\n\t\tif (!this.function) {\t\r\n\t\t\tthrow new Error('No function given!');\r\n\t\t}\r\n\t\t\r\n\t\tthis.functionId = this.function.toLowerCase();\r\n\t\t\r\n\t\t// configuration\r\n\t\tthis.defaults = functions['defaults'].configurations;\r\n\t\tthis.configurations = (functions[this.functionId] && functions[this.functionId].configurations) || {};\r\n\t\t\r\n\t\t// components and actions\r\n\t\tthis.components = { ...functions['defaults'].components, ...(functions[this.functionId] && functions[this.functionId].components) || {} };\r\n\t\tthis.actions = { ...functions['defaults'].actions, ...(functions[this.functionId] && functions[this.functionId].actions) || {} };\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @return\t{Mixed}\r\n\t * @private\r\n\t */\r\n\t_applyFunction(key, val) {\r\n\t\treturn this._isFunction(key) ? key(val) : val;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @return\t{String}\r\n\t * @private\r\n\t */\r\n\t_getValueFromSettings(settings, defaults = '') {\r\n\t\t\r\n\t\tfor (let key in settings) {\r\n\t\t\tif (settings[key] !== undefined) {\r\n\t\t\t\treturn settings[key];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn defaults;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @return\t{Boolean}\r\n\t * @private\r\n\t */\r\n\t_isFunction(key) {\r\n\t\treturn key && typeof key === 'function';\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @return\t{Boolean}\r\n\t * @private\r\n\t */\r\n\t_isValue(val) {\r\n\t\treturn val !== undefined; // || val === null || val === false; // null is considered a value, so it can be used to actually null the output\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @return\t{Object}\r\n\t * @private\r\n\t */\r\n\t_setObjectStructure(obj, defaultValue = undefined) {\r\n\t\t\r\n\t\tif (!obj || typeof obj != 'object') {\r\n\t\t\tobj = { 'default': obj || defaultValue };\r\n\t\t}\r\n\t\telse if (typeof obj == 'object' && !obj.default) {\r\n\t\t\tobj.default = defaultValue;\r\n\t\t}\r\n\t\t\r\n\t\treturn obj;\r\n\t}\r\n}\r\n","export default {\r\n\t\"hm-rpc\": \"HomeMatic\",\r\n\t\"shelly\": \"Shelly\",\r\n\t\"sonoff\": \"Sonoff\"\r\n}","import React from 'react'\r\n\r\nimport Log from './Log'\r\nimport i18n, { locales } from './i18n'\r\nimport Function from './Function'\r\nimport Adapters from '../config/adapters'\r\n\r\nimport { formatDistanceToNow } from 'date-fns'\r\n\r\n\r\n/**\r\n * Device\r\n *\r\n * @param\t{Object}\tdeviceProperties\r\n * @param\t{String}\tdeviceProperties.id\r\n * @param\t{String}\tdeviceProperties.name\r\n * @param\t{String}\t[deviceProperties.room=null]\r\n * @param\t{String}\tdeviceProperties.function\r\n * @param\t{Object}\tdeviceProperties.states\r\n * @param\t{Object}\t[deviceProperties.attributes={}]\r\n * @param\t{Object}\tdeviceProperties.options\r\n * @param\t{Object}\tsocket\r\n * @return\t{Device}\r\n * @see https://github.com/Zefau/ioBroker.jarvis/issues/21\r\n *\r\n */\r\nexport default class Device extends Function {\r\n\t\r\n\tconstructor(deviceProperties, socket) {\r\n\t\ttry {\r\n\t\t\tsuper(deviceProperties.function);\r\n\t\t}\r\n\t\tcatch(err) {\r\n\t\t\tthrow new Error('No function given for device ' + deviceProperties.name + '!');\r\n\t\t}\r\n\t\t\r\n\t\t// initialise class data\r\n\t\tthis.id = deviceProperties.id;\r\n\t\tthis.name = deviceProperties.name;\r\n\t\t\r\n\t\tthis.room = deviceProperties.room || null;\r\n\t\t\r\n\t\tthis.states = deviceProperties.states;\r\n\t\tthis.options = deviceProperties.options;\r\n\t\tthis.attributes = deviceProperties.attributes || {};\r\n\t\t\r\n\t\tthis.socket = socket;\r\n\t\t\r\n\t\t// verify data\r\n\t\tif (!this.states || typeof this.states !== 'object' || Object.keys(this.states).length === 0) {\r\n\t\t\tthrow new Error('Insufficent properties provided' + (deviceProperties.id || deviceProperties.name ? ' for device ' + (deviceProperties.name || deviceProperties.id) : '') + ' (no states defined)!');\r\n\t\t}\r\n\t\telse if (!this.id || !this.name || !this.function) {\r\n\t\t\tthrow new Error('Insufficent properties provided' + (deviceProperties.id || deviceProperties.name ? ' for device ' + (deviceProperties.name || deviceProperties.id) : '') + ' (no id, name or function defined)!');\r\n\t\t}\r\n\t\telse if (!this.socket) {\t\r\n\t\t\tthrow new Error('No socket given!');\r\n\t\t}\r\n\t\t\r\n\t\t// hierarchy\r\n\t\tthis.children = deviceProperties.children || [];\r\n\t\tthis.parent = deviceProperties.parent || null;\r\n\t\t\r\n\t\t// set options\r\n\t\tthis.options.manufacturer = (this.primaryStateKey && Adapters[this.states[this.primaryStateKey].state.node.substr(0, this.states[this.primaryStateKey].state.node.indexOf('.'))]) || '';\r\n\t\tthis.options.label = (this.options.label && (typeof this.options.label === 'string' && this.options.label.replace(/%name%/g, this.name))) || this.options.label || this.name;\r\n\t\t\r\n\t\t// get states\r\n\t\tthis._setStatesOptions();\r\n\t\tthis.stateSubscriptions = [];\r\n\t\t\r\n\t\t// listen for errors of the device\r\n\t\tthis.on('error', err => Log._('Device', [ i18n.t('Device error occured!'), err.message ], 'error', false, err.stack));\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @return\t{Object|String}\r\n\t * @private\r\n\t */\r\n\t_getStateFromKey(stateKey = null, stateType = 'state') {\r\n\t\t\r\n\t\t// already a state object\r\n\t\tif (stateKey && typeof stateKey === 'object') {\r\n\t\t\treturn stateKey;\r\n\t\t}\r\n\t\t\r\n\t\t// get state object\r\n\t\tlet s = this.states[stateKey || this.primaryStateKey];\r\n\t\t\r\n\t\t// state does not exist\r\n\t\tif (s === undefined) {\r\n\t\t\treturn i18n.t('State does not exist in device %device%').replace(/%device%/g, this.name) + '!';\r\n\t\t}\r\n\t\t\r\n\t\t// state not an object so far\r\n\t\telse if (typeof s === 'string') {\r\n\t\t\tthis.states[stateKey || this.primaryStateKey] = { [stateType]: { 'node': s }};\r\n\t\t\ts = this.states[stateKey || this.primaryStateKey];\r\n\t\t}\r\n\t\telse if (typeof s[stateType] === 'string') {\r\n\t\t\tthis.states[stateKey || this.primaryStateKey][stateType] = { 'node': s[stateType] };\r\n\t\t\ts = this.states[stateKey || this.primaryStateKey];\r\n\t\t}\r\n\t\t\r\n\t\t// state not valid\r\n\t\tif (!s || !s[stateType]) {\r\n\t\t\treturn i18n.t('Incorrect or non-defined state key for device %device%').replace(/%device%/g, this.name).replace(/%stateType%/g, stateType) + '!';\r\n\t\t}\r\n\t\telse if (typeof s[stateType] == 'object' && !s[stateType].node) {\r\n\t\t\treturn i18n.t('No %stateType% specified for device %device%').replace(/%device%/g, this.name).replace(/%stateType%/g, stateType) + '!';\r\n\t\t}\r\n\t\t\r\n\t\treturn s;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @private\r\n\t */\r\n\t_getConfigurationSetting(config, stateKey, attribute, stateVal) {\r\n\t\t//console.log(this.id, config, stateKey, attribute, stateVal, this[config], this[config][stateKey], this[config]['_any']);\r\n\t\t\r\n\t\tif (this[config][stateKey] && this[config][stateKey][attribute]) {\r\n\t\t\t\r\n\t\t\t// 1. if stateKey (e.g. level, power) is available, try to replace an attribute (e.g. icon, unit or for styles state, icon) based on current state (e.g. true, false)\r\n\t\t\tif (typeof this[config][stateKey][attribute] === 'object') {\r\n\t\t\t\t\r\n\t\t\t\tconst stateValKeys = Object.keys(this[config][stateKey][attribute]);\r\n\t\t\t\tif (stateValKeys.toString().indexOf('<') > -1 || stateValKeys.toString().indexOf('>') > -1 || stateValKeys.toString().indexOf('!=') > -1) { // !=, >, >=, <, <=\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet val = this[config][stateKey][attribute]['default'];\r\n\t\t\t\t\tstateValKeys.forEach(stateValKey => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet stateValValue = stateValKey.replace('<=', '').replace('<', '').replace('>=', '').replace('>', '').replace('!=', '');\r\n\t\t\t\t\t\tif (stateValKey.indexOf('<=') > -1 && stateVal <= stateValValue) {\r\n\t\t\t\t\t\t\tval = this[config][stateKey][attribute][stateValKey];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (stateValKey.indexOf('<') > -1 && stateVal < stateValValue) {\r\n\t\t\t\t\t\t\tval = this[config][stateKey][attribute][stateValKey];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (stateValKey.indexOf('>=') > -1 && stateVal >= stateValValue) {\r\n\t\t\t\t\t\t\tval = this[config][stateKey][attribute][stateValKey];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (stateValKey.indexOf('>') > -1 && stateVal > stateValValue) {\r\n\t\t\t\t\t\t\tval = this[config][stateKey][attribute][stateValKey];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (stateValKeys.toString().indexOf('!=') > -1 && stateVal != stateValValue) {  // eslint-disable-line eqeqeq\r\n\t\t\t\t\t\t\tval = this[config][stateKey][attribute][stateValKey];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn val;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn super._isValue(this[config][stateKey][attribute][stateVal]) ? this[config][stateKey][attribute][stateVal] : this[config][stateKey][attribute]['default'];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// 2. if #1 is a function, apply it\r\n\t\t\telse if (super._isFunction(this[config][stateKey][attribute])) {\r\n\t\t\t\treturn this[config][stateKey][attribute](stateVal, stateKey, this);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// 3. fallback to stateKey with attribute, if defined but neither an object (thus stateless) nor a function\r\n\t\t\telse if (typeof this[config][stateKey][attribute] === 'string') {\r\n\t\t\t\treturn this[config][stateKey][attribute];\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (this[config]['_any'] && this[config]['_any'][attribute]) {\r\n\t\t\t\r\n\t\t\t// 4. fallback to _any if no stateKey (e.g. level, power) is given, but consider attribute to be stateful (e.g. true, false)\r\n\t\t\tif (typeof this[config]['_any'][attribute] === 'object') {\r\n\t\t\t\treturn super._isValue(this[config]['_any'][attribute][stateVal]) ? this[config]['_any'][attribute][stateVal] : this[config]['_any'][attribute]['default'];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// 5. if #4 is a function, apply it\r\n\t\t\telse if (super._isFunction(this[config]['_any'][attribute])) {\r\n\t\t\t\treturn this[config]['_any'][attribute](stateVal, stateKey, this);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// nothing, return undefined (not null, because this would mean take an empty value)\r\n\t\treturn undefined;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @private\r\n\t */\r\n\t_getUserSetting(stateKey, attribute, stateVal) {\r\n\t\t\r\n\t\tlet options = this.states;\r\n\t\tif (options[stateKey] && options[stateKey][attribute]) {\r\n\t\t\tif (typeof options[stateKey][attribute] === 'object') {\r\n\t\t\t\treturn super._isValue(options[stateKey][attribute][stateVal]) ? options[stateKey][attribute][stateVal] : options[stateKey][attribute]['default'];\r\n\t\t\t}\r\n\t\t\telse if (super._isFunction(options[stateKey][attribute])) {\r\n\t\t\t\treturn options[stateKey][attribute](stateVal, stateKey, this);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn options[stateKey][attribute];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn undefined;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t *\r\n\t * @return void\r\n\t * @private\r\n\t *\r\n\t */\r\n\t_setStatesOptions() {\r\n\t\t\r\n\t\tlet states = Object.keys(this.states);\r\n\t\t\r\n\t\t// delete ignored states\r\n\t\tif (this.options.ignoredStates) {\r\n\t\t\tthis.options.ignoredStates = Array.isArray(this.options.ignoredStates) ? this.options.ignoredStates : [this.options.ignoredStates];\r\n\t\t\t\r\n\t\t\tthis.options.ignoredStates.forEach(ignoredState => {\r\n\t\t\t\tif (this.states[ignoredState]) {\r\n\t\t\t\t\tdelete this.states[ignoredState];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t// get hidden states\r\n\t\tthis.options.hiddenStates = this.options.hiddenStates ? (Array.isArray(this.options.hiddenStates) ? this.options.hiddenStates : [this.options.hiddenStates]) : [];\r\n\t\t\r\n\t\t// primary and secondary state\r\n\t\tthis.primaryStateKey = this.options.primary || states[0] || null;\r\n\t\tthis.secondaryStateKey = this.options.secondary || null;\r\n\t\tthis.states[this.primaryStateKey] = this._getStateFromKey(this.primaryStateKey);\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t *\r\n\t * @return\t{Object}\r\n\t * @private\r\n\t */\r\n\t_updateDeviceState(stateKey, state) {\r\n\t\t\r\n\t\t// add time changed\r\n\t\tstate.timeChanged = formatDistanceToNow(new Date(state.lc-5*1000), { locale: locales[i18n.getLanguage()], includeSeconds: true, addSuffix: true })\r\n\t\t\r\n\t\t// add unit\r\n\t\tstate.unit = '';\r\n\t\t\r\n\t\t// change val\r\n\t\tlet val = this._getConfigurationSetting('configurations', stateKey, 'val', state.val);\r\n\t\tstate.val = val !== undefined ? val : state.val;\r\n\t\t\r\n\t\t// assign value\r\n\t\tstate.value = state.val;\r\n\t\t\r\n\t\t// mapping of value to state values\r\n\t\t[{ 'value': 'value' }, { 'display': 'value' }, { 'unit': 'unit' }].forEach(pair => {\r\n\t\t\tlet attribute = Object.keys(pair).toString();\r\n\t\t\tlet option = Object.values(pair).toString();\r\n\t\t\tlet settings = {};\r\n\t\t\t\r\n\t\t\t// get user setting\r\n\t\t\tsettings['options'] = this._getUserSetting(stateKey, attribute, state.val);\r\n\t\t\t\r\n\t\t\t// get function setting or fallback to defaults\r\n\t\t\t['configurations', 'defaults'].forEach(config => {\r\n\t\t\t\tsettings[config] = this._getConfigurationSetting(config, stateKey, attribute, state.val);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tstate[option] = super._getValueFromSettings(settings, state[option]);\r\n\t\t});\r\n\t\t\r\n\t\tstate.value = typeof value === 'string' ? i18n.t(state.value) : state.value;\r\n\t\treturn state;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tget(property) {\r\n\t\treturn this[property] || null;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @param\t{String}\t[stateKey=this.primaryStateKey]\r\n\t * @return\t{React.Component}\r\n\t */\r\n\tgetAction(stateKey = null, forceDefault = false) {\r\n\t\tstateKey = stateKey || this.primaryStateKey;\r\n\t\t\r\n\t\tconst state = (this.states[stateKey].state && this.states[stateKey].state.value) || {};\r\n\t\tconst stateVal = state && state.val !== undefined ? state.val : null;\r\n\t\t\r\n\t\tconst Action = (!forceDefault && this.actions[stateKey]) || this.actions.Action;\r\n\t\treturn <Action key={'action-' + this.id + '-' + stateKey} device={this} state={state} stateKey={stateKey} stateVal={stateVal} styles={this.getStyle('state', stateKey, stateVal)} />\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @param\t{String}\t[stateKey=this.primaryStateKey]\r\n\t * @return\t{React.Component}\r\n\t */\r\n\tgetComponent(stateKey) {\r\n\t\tstateKey = stateKey || this.primaryStateKey;\r\n\t\t\r\n\t\tconst state = (this.states[stateKey].state && this.states[stateKey].state.value) || {};\r\n\t\tconst stateVal = state && state.val !== undefined ? state.val : null;\r\n\t\t\r\n\t\tconst Component = this.components[stateKey];\r\n\t\treturn (Component && <Component title={this.states[stateKey].label || i18n.t(this.function + '#' + stateKey)} device={this} stateKey={stateKey} stateVal={stateVal} />) || this.states[stateKey].label || i18n.t(this.function + '#' + stateKey);\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tgetDeviceStates() {\r\n\t\t\r\n\t\tlet devicesStates = {};\r\n\t\tfor (let stateKey in this.states) {\r\n\t\t\tdevicesStates[stateKey] = this.getDeviceState(stateKey);\r\n\t\t}\r\n\t\t\r\n\t\treturn devicesStates;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @param\t{String}\t[stateKey=this.primaryStateKey]\r\n\t * @param\t{String}\t[stateProperty=null]\r\n\t * @return\t{String}\r\n\t */\r\n\tgetDeviceState(stateKey = null, stateProperty = null) {\r\n\t\tconst s = this.states[stateKey || this.primaryStateKey];\r\n\t\t\r\n\t\tlet deviceState = null;\r\n\t\t\r\n\t\tif (s && s.state && stateProperty !== null && s.state.value !== undefined && s.state.value[stateProperty] !== undefined) {\r\n\t\t\tdeviceState = s.state.value[stateProperty];\r\n\t\t}\r\n\t\telse if (s && s.state && stateProperty === null && s.state.value !== undefined) {\r\n\t\t\tdeviceState = s.state.value;\r\n\t\t}\r\n\t\t\r\n\t\treturn deviceState;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Get an icon based on the current device state (or falls back to a default).\r\n\t *\r\n\t * @param\t{String}\t[stateKey=this.primaryStateKey]\r\n\t * @param\t{String}\t[stateVal=default]\r\n\t * @param\t{String}\t[defaultIcon=null]\r\n\t * @return\t{String}\r\n\t */\r\n\tgetIcon(stateKey, stateVal = '', defaultIcon = undefined) {\r\n\t\t\r\n\t\tlet settings = {};\r\n\t\tstateKey = stateKey || this.primaryStateKey;\r\n\t\t\r\n\t\t// get user setting\r\n\t\tsettings['options'] = this._getUserSetting(stateKey, 'icon', stateVal);\r\n\t\t\r\n\t\t// get function setting or fallback to defaults\r\n\t\t['configurations', 'defaults'].forEach(config => {\r\n\t\t\tsettings[config] = this._getConfigurationSetting(config, stateKey, 'icon', stateVal);\r\n\t\t});\r\n\t\t\r\n\t\treturn super._getValueFromSettings(settings, defaultIcon);\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tgetOption(option, stateVal = 'default') {\r\n\t\treturn (this.options[option] && (this.options[option][stateVal] || this.options[option]['default'])) || this.options[option] || null;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tgetStyle(attribute, stateKey = null, stateVal = 'default') {\r\n\t\t\r\n\t\tlet settings = {};\r\n\t\tstateKey = stateKey || this.primaryStateKey;\r\n\t\t\r\n\t\t// get user setting\r\n\t\tsettings['options'] = this._getUserSetting(stateKey, attribute + 'Style', stateVal);\r\n\t\t\r\n\t\t// get function setting or fallback to defaults\r\n\t\t['configurations', 'defaults'].forEach(config => {\r\n\t\t\tsettings[config] = this._getConfigurationSetting(config, stateKey, attribute + 'Style', stateVal);\r\n\t\t});\r\n\t\t\r\n\t\treturn super._getValueFromSettings(settings, {});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tlisten(eventName, callback) {\r\n\t\t\r\n\t\tif (typeof eventName === 'function') {\r\n\t\t\tcallback = eventName;\r\n\t\t\teventName = 'stateChange';\r\n\t\t}\r\n\t\t\r\n\t\t// check for duplicates\r\n\t\tlet duplicate = this.listeners(eventName).findIndex(listener => listener.toString() == callback.toString()) > -1; // eslint-disable-line eqeqeq\r\n\t\t\r\n\t\t// attach callback\r\n\t\tif (!duplicate) {\r\n\t\t\tthis.on(eventName, callback);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Requests all state values from the backend.\r\n\t *\r\n\t * @param\t{Boolean}\t[subscribe=false]\r\n\t * @return\t{Array<Promises>}\r\n\t *\r\n\t */\r\n\trequestDeviceStates(subscribe = false) {\r\n\t\t\r\n\t\tlet responses = [];\r\n\t\tfor (let stateKey in this.states) {\r\n\t\t\tresponses.push(this.requestDeviceState(stateKey, subscribe));\r\n\t\t}\r\n\t\t\r\n\t\treturn responses;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Requests a state value from the backend.\r\n\t *\r\n\t * @param\t{String}\t[stateKey=this.primaryStateKey]\r\n\t * @param\t{Boolean}\t[subscribe=false]\r\n\t * @return\t{Promise}\r\n\t *\r\n\t */\r\n\trequestDeviceState(stateKey = null, subscribe = false) {\r\n\t\t\r\n\t\tstateKey = stateKey || this.primaryStateKey;\r\n\t\tlet s = this._getStateFromKey(stateKey);\r\n\t\tif (typeof s === 'string') {\r\n\t\t\treturn Promise.reject({ 'success': false, 'stateKey': stateKey, 'error': new Error(s) });\r\n\t\t}\r\n\t\t\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\r\n\t\t\t// send cached value if present and subscrbe (means always updated)\r\n\t\t\tif (s.state.value !== undefined && this.stateSubscriptions.indexOf(stateKey) > -1) {\r\n\t\t\t\t\r\n\t\t\t\t// publish state\r\n\t\t\t\tthis.emit('stateChange', stateKey, s.state.value, this);\r\n\t\t\t\t\r\n\t\t\t\t// resolve\r\n\t\t\t\tresolve({ 'success': true, 'stateKey': stateKey, 'cached': true });\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// request from backend\r\n\t\t\telse {\r\n\t\t\t\tthis.socket.getState(s.state.node)\r\n\t\t\t\t\t.then(state => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// state does not exist\r\n\t\t\t\t\t\tif (state === null) {\r\n\t\t\t\t\t\t\treject({ 'success': false, 'stateKey': stateKey, 'error': new Error('State ' + s.state.node + ' not found!') });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// set result\r\n\t\t\t\t\t\ts.state.value = this._updateDeviceState(stateKey, state);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// publish state change\r\n\t\t\t\t\t\tthis.emit('stateChange', stateKey, s.state.value, this);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// subscribe to state\r\n\t\t\t\t\t\tif (subscribe) {\r\n\t\t\t\t\t\t\tthis.subscribeDeviceState(stateKey).catch(err => reject({ 'success': false, 'stateKey': stateKey, 'error': err }));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// resolve\r\n\t\t\t\t\t\tresolve({ 'success': true, 'stateKey': stateKey, 'cached': false });\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => reject({ 'success': false, 'stateKey': stateKey, 'error': err }));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t * Requests a state value from the backend.\r\n\t *\r\n\t * @param\t{String}\t[stateKey=this.primaryStateKey]\r\n\t * @param\t{Boolean}\t[subscribe=false]\r\n\t * @param\t{Object}\t[options={}]\r\n\t * @return\t{Promise}\r\n\t * @see https://github.com/ioBroker/ioBroker.history#access-values-from-javascript-adapter\r\n\t *\r\n\t */\r\n\trequestDeviceStateHistory(stateKey = null, subscribe = false, options = {}) {\r\n\t\t\r\n\t\tstateKey = stateKey || this.primaryStateKey;\r\n\t\tlet s = this._getStateFromKey(stateKey);\r\n\t\tif (typeof s == 'string') {\r\n\t\t\treturn Promise.reject({ 'success': false, 'stateKey': stateKey, 'error': new Error(s) });\r\n\t\t}\r\n\t\t\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\ts.state.historyCache = s.state.historyCache || {};\r\n\t\t\t\r\n\t\t\t// send cached value if present and subscrbe (means always updated)\r\n\t\t\tif (options.start && options.end && options.step && s.state.historyCache[options.start + '#' + options.end + '#' + options.step] !== undefined) {\r\n\t\t\t\t\r\n\t\t\t\t// publish state\r\n\t\t\t\tthis.emit('historyChange', stateKey, s.state.historyCache[options.start + '#' + options.end + '#' + options.step], s.state, this);\r\n\t\t\t\t\r\n\t\t\t\t// resolve\r\n\t\t\t\tresolve({ 'success': true, 'stateKey': stateKey, 'cached': true });\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// request from backend\r\n\t\t\telse {\r\n\t\t\t\tthis.socket.getStateHistory(s.state.node, options)\r\n\t\t\t\t\t.then(history => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// state does not exist\r\n\t\t\t\t\t\tif (history === null) {\r\n\t\t\t\t\t\t\treject({ 'success': false, 'stateKey': stateKey, 'error': new Error('State ' + s.state.node + ' not found!') });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// cache result\r\n\t\t\t\t\t\tif (options.start && options.end && options.step) {\r\n\t\t\t\t\t\t\ts.state.historyCache[options.start + '#' + options.end + '#' + options.step] = history;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// set result\r\n\t\t\t\t\t\ts.state.history = history;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// publish state change\r\n\t\t\t\t\t\tthis.emit('historyChange', stateKey, s.state.history, s.state, this);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// subscribe to state\r\n\t\t\t\t\t\tif (subscribe) {\r\n\t\t\t\t\t\t\tthis.subscribeDeviceState(stateKey).catch(err => reject({ 'success': false, 'stateKey': stateKey, 'error': err }));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// resolve\r\n\t\t\t\t\t\tresolve({ 'success': true, 'stateKey': stateKey, 'cached': false });\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => reject({ 'success': false, 'stateKey': stateKey, 'error': err }));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tsetAction(action) {\r\n\t\tthis.options.action = action;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tsetComponent(component) {\r\n\t\tthis.options.label = component;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @param\t{String}\tvalue\r\n\t * @param\t{String}\t[stateKey=this.primaryStateKey]\r\n\t * @return\tvoid\r\n\t */\r\n\tsetDeviceState(stateKey = null, value) {\r\n\t\t\r\n\t\tstateKey = stateKey || this.primaryStateKey;\r\n\t\tlet s = this._getStateFromKey(stateKey, 'action');\r\n\t\tif (typeof s == 'string') {\r\n\t\t\treturn Promise.reject({ 'success': false, 'stateKey': stateKey, 'error': new Error(s) });\r\n\t\t}\r\n\t\t\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.socket.setState(s.action.node, value)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\r\n\t\t\t\t\t// get state value if not subscribed\r\n\t\t\t\t\tif (this.stateSubscriptions.indexOf(stateKey) === -1) {\r\n\t\t\t\t\t\tthis.requestDeviceState(stateKey);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// resolve\r\n\t\t\t\t\tresolve({ 'success': true, 'stateKey': stateKey });\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => reject({ 'success': false, 'stateKey': stateKey, 'error': err }));\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @param\t{String}\t[stateKey=this.primaryStateKey]\r\n\t * @return\tvoid\r\n\t */\r\n\tsubscribeDeviceState(stateKey = null) {\r\n\t\t\r\n\t\tstateKey = stateKey || this.primaryStateKey;\r\n\t\tlet s = this._getStateFromKey(stateKey);\r\n\t\tif (typeof s == 'string') {\r\n\t\t\treturn Promise.reject({ 'success': false, 'stateKey': stateKey, 'error': new Error(s) });\r\n\t\t}\r\n\t\t\r\n\t\t// add subscription\t\r\n\t\tif (this.stateSubscriptions.indexOf(stateKey) === -1) {\r\n\t\t\tthis.stateSubscriptions.push(stateKey);\r\n\t\t\r\n\t\t\t// subscribe\r\n\t\t\treturn new Promise(resolve => {\r\n\t\t\t\tthis.socket.subscribeState(s.state.node, (id, state, params) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (state && state.val !== this.getDeviceState(stateKey, 'val')) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// format value\r\n\t\t\t\t\t\ts.state.value = this._updateDeviceState(stateKey, state);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// publish state change\r\n\t\t\t\t\t\tthis.emit('stateChange', stateKey, s.state.value, this);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// publish to children as well\r\n\t\t\t\t\t\tthis.children.forEach(child => child.emit('stateChange', stateKey, s.state.value, this));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tresolve({ 'success': true, 'stateKey': stateKey });\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn Promise.reject({ 'success': false, 'stateKey': stateKey, 'error': new Error('State already subscribed!') });\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tunsubscribeDeviceState(stateKey = null) {\r\n\t\t\r\n\t\tstateKey = stateKey || this.primaryStateKey;\r\n\t\tlet s = this._getStateFromKey(stateKey);\r\n\t\tif (typeof s == 'string') {\r\n\t\t\treturn Promise.reject({ 'success': false, 'stateKey': stateKey, 'error': new Error(s) });\r\n\t\t}\r\n\t\t\r\n\t\t// remove subscription\t\r\n\t\tif (this.stateSubscriptions.indexOf(stateKey) > -1) {\r\n\t\t\tthis.stateSubscriptions = this.stateSubscriptions.filter((value, index, arr) => value !== stateKey);\r\n\t\t\r\n\t\t\t// unsubscribe\r\n\t\t\treturn new Promise(resolve => {\r\n\t\t\t\tthis.socket.unsubscribeState(s.state.node);\r\n\t\t\t\tresolve({ 'success': true, 'stateKey': stateKey });\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn Promise.reject({ 'success': false, 'stateKey': stateKey, 'error': new Error('State not subscribed!') });\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tunlisten(eventName, callback) {\r\n\t\t\r\n\t\tif (typeof eventName === 'function') {\r\n\t\t\tcallback = eventName;\r\n\t\t\teventName = 'stateChange';\r\n\t\t}\r\n\t\t\r\n\t\tthis.off(eventName, callback);\r\n\t}\r\n}\r\n","var map = {\n\t\"./\": 50,\n\t\"./blind\": 157,\n\t\"./blind/\": 157,\n\t\"./blind/blind\": 158,\n\t\"./blind/blind-manufacturers\": 199,\n\t\"./blind/blind-manufacturers.js\": 199,\n\t\"./blind/blind.js\": 158,\n\t\"./blind/i18n/de\": 159,\n\t\"./blind/i18n/de.js\": 159,\n\t\"./blind/i18n/en\": 160,\n\t\"./blind/i18n/en.js\": 160,\n\t\"./blind/index\": 157,\n\t\"./blind/index.js\": 157,\n\t\"./defaults\": 45,\n\t\"./defaults.js\": 45,\n\t\"./door\": 161,\n\t\"./door/\": 161,\n\t\"./door/door\": 162,\n\t\"./door/door.js\": 162,\n\t\"./door/i18n/de\": 163,\n\t\"./door/i18n/de.js\": 163,\n\t\"./door/i18n/en\": 164,\n\t\"./door/i18n/en.js\": 164,\n\t\"./door/index\": 161,\n\t\"./door/index.js\": 161,\n\t\"./heating\": 165,\n\t\"./heating/\": 165,\n\t\"./heating/heating\": 166,\n\t\"./heating/heating.js\": 166,\n\t\"./heating/i18n/de\": 167,\n\t\"./heating/i18n/de.js\": 167,\n\t\"./heating/i18n/en\": 168,\n\t\"./heating/i18n/en.js\": 168,\n\t\"./heating/index\": 165,\n\t\"./heating/index.js\": 165,\n\t\"./index\": 50,\n\t\"./index.js\": 50,\n\t\"./light\": 169,\n\t\"./light/\": 169,\n\t\"./light/i18n/de\": 182,\n\t\"./light/i18n/de.js\": 182,\n\t\"./light/i18n/en\": 183,\n\t\"./light/i18n/en.js\": 183,\n\t\"./light/index\": 169,\n\t\"./light/index.js\": 169,\n\t\"./light/light\": 198,\n\t\"./light/light.js\": 198,\n\t\"./location\": 184,\n\t\"./location/\": 184,\n\t\"./location/i18n/de\": 186,\n\t\"./location/i18n/de.js\": 186,\n\t\"./location/i18n/en\": 187,\n\t\"./location/i18n/en.js\": 187,\n\t\"./location/index\": 184,\n\t\"./location/index.js\": 184,\n\t\"./location/location\": 185,\n\t\"./location/location.js\": 185,\n\t\"./user\": 188,\n\t\"./user/\": 188,\n\t\"./user/i18n/de\": 190,\n\t\"./user/i18n/de.js\": 190,\n\t\"./user/i18n/en\": 191,\n\t\"./user/i18n/en.js\": 191,\n\t\"./user/index\": 188,\n\t\"./user/index.js\": 188,\n\t\"./user/user\": 189,\n\t\"./user/user.js\": 189,\n\t\"./window\": 192,\n\t\"./window/\": 192,\n\t\"./window/i18n/de\": 194,\n\t\"./window/i18n/de.js\": 194,\n\t\"./window/i18n/en\": 195,\n\t\"./window/i18n/en.js\": 195,\n\t\"./window/index\": 192,\n\t\"./window/index.js\": 192,\n\t\"./window/window\": 193,\n\t\"./window/window.js\": 193\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 254;","\r\nexport default [\r\n\t{\r\n\t\t'parameter': 'updates',\r\n\t\t'label': 'Adapter Updates',\r\n\t\t'description': {\r\n\t\t\t'en': 'Enable to show adapters updates',\r\n\t\t\t'de': 'Aktivieren, um Adapter Updates anzuzeigen'\r\n\t\t},\r\n\t\t'type': 'Switch',\r\n\t\t'val': true\r\n\t},\r\n\t{\r\n\t\t'parameter': 'list',\r\n\t\t'label': {\r\n\t\t\t'en': 'List of Adapter\\'s',\r\n\t\t\t'de': 'Liste angezeigter Adapter'\r\n\t\t},\r\n\t\t'description': {\r\n\t\t\t'en': 'List of adapters to show (empty shows all adapters)',\r\n\t\t\t'de': 'Liste der Adapter, die angezeigt werden (leere Liste zeigt alle Adapter)'\r\n\t\t},\r\n\t\t'values': {\r\n\t\t\t'en': 'Adapter names separated by comma',\r\n\t\t\t'de': 'Namen der Adapter mit Komma separiert'\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\t'parameter': 'blacklist',\r\n\t\t'label': {\r\n\t\t\t'en': 'List of Adapter\\'s to hide',\r\n\t\t\t'de': 'Liste nicht angezeigter Adapter'\r\n\t\t},\r\n\t\t'description': {\r\n\t\t\t'en': 'Shows all adapters except the ones listed here',\r\n\t\t\t'de': 'Zeigt alle Adapter, außer die hier angegebenen'\r\n\t\t},\r\n\t\t'values': {\r\n\t\t\t'en': 'Adapter names separated by comma',\r\n\t\t\t'de': 'Namen der Adapter mit Komma separiert'\r\n\t\t}\r\n\t}\r\n]\r\n","import i18n from '../../controller/i18n'\r\n\r\nexport default {\r\n\ttitle: i18n.t('Adapter Status'),\r\n\ticon: 'traffic-light',\r\n\tdevices: false\r\n}","\r\nexport default [\r\n]\r\n","import i18n from '../../controller/i18n'\r\n\r\nexport default {\r\n\ttitle: i18n.t('Adapter Status'),\r\n\ticon: 'traffic-light',\r\n\tdevices: true,\r\n\tdevicesStates: {\r\n\t\tselectable: ['primaryStateKey']\r\n\t}\r\n}","import i18n from '../../controller/i18n'\r\n\r\nexport default {\r\n\ttitle: i18n.t('Time'),\r\n\ticon: 'clock-outline',\r\n\tdevices: false\r\n}","//import i18n from '../../controller/i18n'\r\n\r\nexport default {\r\n\tdevices: true,\r\n\tdevicesStates: {\r\n\t\tselectable: false,\r\n\t\trequiredStates: ['position']\r\n\t}\r\n}","\r\nexport default [\r\n]\r\n","//import i18n from '../../controller/i18n'\r\n\r\nexport default {\r\n\tdevices: true\r\n}","//import i18n from '../../controller/i18n'\r\n\r\nexport default {\r\n\tdevices: ['device', 'divider', 'group']\r\n}","import StateListConfig from '../StateList/StateList.config'\r\n\r\nexport default StateListConfig","//import i18n from '../../controller/i18n'\r\n\r\nexport default {\r\n\tdevices: ['device', 'divider', 'group']\r\n}","\r\nexport default [\r\n]\r\n","import i18n from '../../controller/i18n'\r\n\r\nexport default {\r\n\ttitle: i18n.t('Weather'),\r\n\ticon: 'weather-partly-cloudy',\r\n\tdevices: false\r\n}","import React from 'react'\r\n\r\nimport Chip from '@material-ui/core/Chip'\r\nimport { TextAutoComplete } from './Text'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles((theme) => ({\r\n\tchip: {\r\n\t\tmargin: theme.spacing(0.5),\r\n\t},\r\n}));\r\n\r\n\r\n/*\r\n *\r\n */\r\nexport default function InputChip(props) {\r\n\tconst { icon, color, label, onDelete, deleteIcon } = props;\r\n\tconst classes = useStyles(props);\r\n\t\r\n\tconst handleDelete = () => onDelete && onDelete();\r\n\treturn (\r\n\t\t<Chip\r\n\t\t\tclassName={classes.chip}\r\n\t\t\ticon={icon}\r\n\t\t\tcolor={color}\r\n\t\t\tlabel={label}\r\n\t\t\tonDelete={handleDelete}\r\n\t\t\tdeleteIcon={deleteIcon}\r\n\t\t\t/>\r\n\t)\r\n}\r\n\r\n/*\r\n *\r\n */\r\nexport function InputChips(props) {\r\n\tconst { list, ...otherProps } = props;\r\n\t\r\n\tconst chips = Array.isArray(list) ? list : list.split(',');\r\n\treturn chips.map(chip => typeof chip === 'string' ? InputChip({ label: chip, ...otherProps }) : InputChip({ ...chip, ...otherProps }));\r\n}\r\n\r\n/*\r\n *\r\n */\r\nexport function InputChipsField(props) {\r\n\tconst { optionKey, ...otherProps } = props;\r\n\t\r\n\treturn (\r\n\t\t<TextAutoComplete\r\n\t\t\tmultiple\r\n\t\t\tfreeSolo\r\n\t\t\tgetOptionLabel={option => optionKey ? option[optionKey] : option}\r\n\t\t\t{...otherProps}\r\n\t\t\t/>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport clsx from 'clsx'\r\nimport i18n from '../../controller/i18n'\r\n\r\nimport Divider from '@material-ui/core/Divider'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles((theme) => ({\r\n\tnoPadding: {\r\n\t\tpadding: '0 !important'\r\n\t},\r\n\tFieldset: {\r\n\t\tpadding: theme.spacing(0.5, 3, 2, 3)\r\n\t},\r\n\tFieldsetItem: {\r\n\t\tpadding: theme.spacing(2, 0, 1, 0)\r\n\t},\r\n\tLegend: {\r\n\t\tfontSize: '1.2rem',\r\n\t\tcolor: theme.palette.primary.dark,\r\n\t\tpadding: theme.spacing(1, 3),\r\n\t},\r\n}));\r\n\r\n/*\r\n *\r\n */\r\nexport default function Fieldset(props) {\r\n\tconst { children, noPadding, ...otherProps } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<FieldsetLegend {...otherProps} />\r\n\t\t\t<Grid container className={clsx(classes.Fieldset, noPadding && classes.noPadding)} {...otherProps}>\r\n\t\t\t\t{children}\r\n\t\t\t</Grid>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\n/*\r\n *\r\n */\r\nexport function FieldsetItem(props) {\r\n\tconst { container, children, columns, noPadding, centered, ...otherProps } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\treturn (\r\n\t\t<Grid\r\n\t\t\tcontainer={container || false}\r\n\t\t\titem\r\n\t\t\tclassName={clsx(classes.FieldsetItem, noPadding && classes.noPadding)}\r\n\t\t\txs={columns || 12}\r\n\t\t\tstyle={centered && { textAlign: 'center' }}\r\n\t\t\t{...otherProps}\r\n\t\t\t>\r\n\t\t\t\r\n\t\t\t{children}\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\n/*\r\n *\r\n */\r\nexport function FieldsetLegend(props) {\r\n\tconst classes = useStyles();\r\n\treturn !props.label ? null : (\r\n\t\t<>\r\n\t\t\t<Typography className={classes.Legend} variant=\"h3\">{props.label}</Typography>\r\n\t\t\t<Divider />\r\n\t\t</>\r\n\t);\r\n}\r\n\r\n/*\r\n *\r\n */\r\nexport function Form(props) {\r\n\tconst { children } = props;\r\n\t\r\n\treturn (\r\n\t\t<MuiPickersUtilsProvider utils={i18n.getLocaleDateAdapter()} locale={i18n.getLocale()}>\r\n\t\t\t{children}\r\n\t\t</MuiPickersUtilsProvider>\r\n\t);\r\n}","import Log from './Log'\r\nimport { de } from 'date-fns/locale'\r\nexport const locales = { de }\r\n\r\n\r\n/**\r\n * Internationalization\r\n * Based on https://raw.githubusercontent.com/ioBroker/adapter-react/master/src/i18n.js.\r\n * Copyright 2018-2019 bluefox <dogafox@gmaiLog.com>\r\n *\r\n * MIT License\r\n *\r\n *\r\n */\r\nexport default class i18n {\r\n\r\n\t/*\r\n\t * holds the translations\r\n\t */\r\n\tstatic translations = {};\r\n\r\n\t/*\r\n\t * default language\r\n\t */\r\n\tstatic language = (navigator.language || navigator.userLanguage || 'en-EN');\r\n\r\n\t/**\r\n\t * Override default language.\r\n\t *\r\n\t * @param\t{String}\tlanguage\r\n\t * @return\t{Boolean}\r\n\t */\r\n\tstatic setLanguage(language) {\r\n\t\tif (language) {\r\n\t\t\ti18n.language = language;\r\n\t\t\tLog._('i18n', 'Set language to ' + language + '.', 'debug');\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Loads multiple translations.\r\n\t *\r\n\t * @param\t{String|Array}\tlanguages\r\n\t * @return\t{Boolean}\r\n\t */\r\n\tstatic loadTranslations(languages) {\r\n\t\t\r\n\t\tif (languages) {\r\n\t\t\tlanguages = Array.isArray(languages) ? languages : [languages];\r\n\t\t\tlanguages.forEach(language => i18n.loadTranslation(language));\r\n\t\t\t\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Loads a translation.\r\n\t *\r\n\t * @param\t{String}\tlanguage\r\n\t * @return\t{Boolean}\r\n\t */\r\n\tstatic loadTranslation(language = i18n.getLanguage()) {\r\n\t\t\r\n\t\tif (language) {\r\n\t\t\tlet translation;\r\n\t\t\ttry {\r\n\t\t\t\ttranslation = require('./i18n/' + language + '.js').default;\r\n\t\t\t\ti18n.setTranslation(language, translation);\r\n\t\t\t}\r\n\t\t\tcatch(err) {\r\n\t\t\t\tLog._('i18n', err.message, 'error', false, err.stack);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * Set a translation for language.\r\n\t *\r\n\t * @param\t{String}\tlanguage\r\n\t * @param\t{Object}\ttranslation\r\n\t * @return\t{Boolean}\r\n\t */\r\n\tstatic setTranslation(language, translation) {\r\n\t\t\r\n\t\t// load translation file\r\n\t\tif (typeof translation === 'function') {\r\n\t\t\tlet file;\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tfile = translation();\r\n\t\t\t\ttranslation = file.default;\r\n\t\t\t}\r\n\t\t\tcatch(err) {\r\n\t\t\t\tconsole.warn('Could not load translation file!');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// set translation\r\n\t\tif (language && translation) {\r\n\t\t\ti18n.translations[language] = { ...i18n.translations[language] || {}, ...translation };\r\n\t\t\tLog._('i18n', 'Set translations for language ' + language + '.', 'debug');\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Get current set language.\r\n\t *\r\n\t * @param\tvoid\r\n\t * @return\t{String}\r\n\t */\r\n\tstatic getLanguage(isoLong = false) {\r\n\t\treturn i18n.language.substr(0, isoLong ? 5 : 2);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Get current set language.\r\n\t *\r\n\t * @param\t{String|Object}\t\tword\r\n\t * @param\t{Object}\t\t\t[options={}]\r\n\t * @param\t{Boolean}\t\t\t[options.ucFirst=false]\r\n\t * @param\t{Object}\t\t\t[placeholders={}]\r\n\t * @param\t{String}\t\t\t[language=i18n.language]\r\n\t * @return\t{String}\r\n\t */\r\n\tstatic t(word = '', options = {}, placeholders = {}, language = i18n.getLanguage()) {\r\n\t\t\r\n\t\t// if object is provided, it might be translated already\r\n\t\tif (typeof word === 'object' && word[language] !== undefined) {\r\n\t\t\tword = word[language];\r\n\t\t}\r\n\t\t\r\n\t\t// if array, then multiple words are given\r\n\t\telse if (Array.isArray(word)) {\r\n\t\t\tword = word.map(w => i18n.t(w, options, placeholders, language)).join('');\r\n\t\t}\r\n\t\t\r\n\t\t// otherwise, treat as string\r\n\t\telse if (word) {\r\n\t\t\tword = word.toString();\r\n\t\t\tif (i18n.translations[language]) {\r\n\t\t\t\t\r\n\t\t\t\t// check if word is concatenated\r\n\t\t\t\tif (word.indexOf('#') > -1) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet parts = word.split('#');\r\n\t\t\t\t\twhile (parts.length > 0 && !i18n.translations[language][parts.join('#')]) {\r\n\t\t\t\t\t\tparts.shift();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tword = parts.join('#');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (i18n.translations[language][word]) {\r\n\t\t\t\t\tword = i18n.translations[language][word];\r\n\t\t\t\t}\r\n\t\t\t\telse if (i18n.translations[language][word.toLowerCase()]) {\r\n\t\t\t\t\tword = i18n.translations[language][word.toLowerCase()];\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tLog._('i18n', 'Word \"' + word + '\" not found in language ' + language + '!', 'debug');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tLog._('i18n', 'Language ' + language + ' not loaded for word ' + word + '!', 'error');\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// replace placeholders\r\n\t\tfor (let key in placeholders) {\r\n\t\t\tword = word.replace(RegExp('%' + key + '%', 'g'), placeholders[key]);\r\n\t\t}\r\n\t\t\r\n\t\t// options\r\n\t\tif (options.ucFirst) {\r\n\t\t\tword = word.charAt(0).toUpperCase() + word.slice(1);\r\n\t\t}\r\n\t\t\r\n\t\treturn word;\r\n\t}\r\n}\r\n","import Log from './Log'\r\nimport i18n from './i18n'\r\n\r\nconst _copy = require('rfdc')();\r\n\r\n\r\n/**\r\n * Settings\r\n *\r\n *\r\n */\r\nexport default class Settings {\r\n\r\n\t/*\r\n\t * holds the layout\r\n\t */\r\n\tstatic layout = [];\r\n\t\r\n\t/*\r\n\t * holds the settings\r\n\t */\r\n\tstatic settings = {};\r\n\t\r\n\t/**\r\n\t * Apply settings.\r\n\t *\r\n\t * @param\tvoid\r\n\t * @return\tvoid\r\n\t */\r\n\tstatic applySettings() {\r\n\t\t\r\n\t\t// language\r\n\t\tif (Settings.settings.language) {\r\n\t\t\ti18n.setLanguage(Settings.settings.language);\r\n\t\t\ti18n.loadTranslation(Settings.settings.language);\r\n\t\t}\r\n\t\telse {\r\n\t\t\ti18n.loadTranslation();\r\n\t\t}\r\n\t\t\r\n\t\t// page title\r\n\t\tif (Settings.settings.pageTitle) {\r\n\t\t\tdocument.title = Settings.settings.pageTitle;\r\n\t\t}\r\n\t\t\r\n\t\t// favicon\r\n\t\tif (Settings.settings.pageFavicon && Settings.settings.pageFavicon.substr(0, 5) === 'data:') {\r\n\t\t\tdocument.getElementById('favicon').href = Settings.settings.pageFavicon;\r\n\t\t}\r\n\t\t\r\n\t\t// translations\r\n\t\tif (Settings.settings.translations) {\r\n\t\t\t\r\n\t\t\tlet translations = Settings.settings.translations;\r\n\t\t\tfor (let language in translations) {\r\n\t\t\t\ti18n.setTranslation(language, translations[language]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets a setting.\r\n\t *\r\n\t * @param\t{String}\tsettings\r\n\t * @return\t{String}\r\n\t */\r\n\tstatic getSetting(setting) {\r\n\t\treturn Settings.settings[setting] || '';\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets all settings.\r\n\t *\r\n\t * @param\tvoid\r\n\t * @return\t{Object}\r\n\t */\r\n\tstatic getSettings(copy = true) {\r\n\t\treturn copy ? _copy(Settings.settings || {}) : (Settings.settings || {});\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets the layout.\r\n\t *\r\n\t * @param\tvoid\r\n\t * @return\t{Object}\r\n\t */\r\n\tstatic getLayout(copy = true) {\r\n\t\treturn copy ? _copy(Settings.layout || {}) : (Settings.layout || {});\r\n\t}\r\n\t\r\n\t/**\r\n\t * Sets a setting.\r\n\t *\r\n\t * @param\t{String}\tsetting\r\n\t * @param\t{String}\tvalue\r\n\t * @return\t{Boolean}\r\n\t */\r\n\tstatic setSetting(setting, val) {\r\n\t\t\r\n\t\tif (setting && val !== undefined) {\r\n\t\t\tSettings.settings[setting] = val;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * Set layout.\r\n\t *\r\n\t * @param\t{Object}\tlayout\r\n\t * @return\t{Boolean}\r\n\t */\r\n\tstatic setLayout(layout) {\r\n\t\tif (layout) {\r\n\t\t\tSettings.layout = [ ...Settings.layout, ...layout || [] ];\r\n\t\t\tLog._('Settings', [ 'Set layout', Settings.layout ]);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * Set settings.\r\n\t *\r\n\t * @param\t{Object}\tsettings\r\n\t * @return\t{Boolean}\r\n\t */\r\n\tstatic setSettings(settings) {\r\n\t\tif (settings) {\r\n\t\t\tSettings.settings = { ...Settings.settings, ...settings || {} };\r\n\t\t\tLog._('Settings', [ 'Set settings', Settings.settings ]);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n}\r\n","var map = {\n\t\"./\": 48,\n\t\"./AdapterStatus/AdapterStatus\": 363,\n\t\"./AdapterStatus/AdapterStatus.config\": 273,\n\t\"./AdapterStatus/AdapterStatus.config.js\": 273,\n\t\"./AdapterStatus/AdapterStatus.js\": 363,\n\t\"./AdapterStatus/AdapterStatus.settings\": 274,\n\t\"./AdapterStatus/AdapterStatus.settings.js\": 274,\n\t\"./AdapterStatus/i18n/de\": 364,\n\t\"./AdapterStatus/i18n/de.js\": 364,\n\t\"./AdapterStatus/screenshots/AdapterStatus1.png\": 655,\n\t\"./Chart/Chart\": 365,\n\t\"./Chart/Chart.config\": 276,\n\t\"./Chart/Chart.config.js\": 276,\n\t\"./Chart/Chart.js\": 365,\n\t\"./Chart/Chart.settings\": 277,\n\t\"./Chart/Chart.settings.js\": 277,\n\t\"./Chart/screenshots/Chart1.png\": 665,\n\t\"./DateTime/DateTime\": 366,\n\t\"./DateTime/DateTime.config\": 196,\n\t\"./DateTime/DateTime.config.js\": 196,\n\t\"./DateTime/DateTime.js\": 366,\n\t\"./DateTime/DateTime.settings\": 278,\n\t\"./DateTime/DateTime.settings.js\": 278,\n\t\"./DateTime/i18n/de\": 367,\n\t\"./DateTime/i18n/de.js\": 367,\n\t\"./DateTime/screenshots/DateTime1.png\": 666,\n\t\"./Map/Map\": 368,\n\t\"./Map/Map.config\": 197,\n\t\"./Map/Map.config.js\": 197,\n\t\"./Map/Map.js\": 368,\n\t\"./Map/Map.settings\": 279,\n\t\"./Map/Map.settings.js\": 279,\n\t\"./Map/i18n/de\": 369,\n\t\"./Map/i18n/de.js\": 369,\n\t\"./Multimedia/Multimedia\": 370,\n\t\"./Multimedia/Multimedia.config\": 280,\n\t\"./Multimedia/Multimedia.config.js\": 280,\n\t\"./Multimedia/Multimedia.js\": 370,\n\t\"./Multimedia/Multimedia.settings\": 281,\n\t\"./Multimedia/Multimedia.settings.js\": 281,\n\t\"./Multimedia/MultimediaItem\": 200,\n\t\"./Multimedia/MultimediaItem.js\": 200,\n\t\"./StateList/StateList\": 201,\n\t\"./StateList/StateList.config\": 140,\n\t\"./StateList/StateList.config.js\": 140,\n\t\"./StateList/StateList.js\": 201,\n\t\"./StateList/StateList.settings\": 282,\n\t\"./StateList/StateList.settings.js\": 282,\n\t\"./StateList/StateListItem\": 202,\n\t\"./StateList/StateListItem.js\": 202,\n\t\"./StateList/screenshots/StateList1.png\": 667,\n\t\"./StateList/screenshots/StateList2.png\": 668,\n\t\"./StateList/screenshots/StateList3.png\": 669,\n\t\"./StateList/screenshots/StateList4.png\": 670,\n\t\"./StateListHorizontal/StateListHorizontal\": 371,\n\t\"./StateListHorizontal/StateListHorizontal.config\": 283,\n\t\"./StateListHorizontal/StateListHorizontal.config.js\": 283,\n\t\"./StateListHorizontal/StateListHorizontal.js\": 371,\n\t\"./StateListHorizontal/StateListHorizontal.settings\": 284,\n\t\"./StateListHorizontal/StateListHorizontal.settings.js\": 284,\n\t\"./StateListHorizontal/screenshots/StateListHorizontal1.png\": 671,\n\t\"./Weather/Weather\": 372,\n\t\"./Weather/Weather.config\": 285,\n\t\"./Weather/Weather.config.js\": 285,\n\t\"./Weather/Weather.js\": 372,\n\t\"./Weather/Weather.settings\": 286,\n\t\"./Weather/Weather.settings.js\": 286,\n\t\"./Weather/i18n/de\": 373,\n\t\"./Weather/i18n/de.js\": 373,\n\t\"./index\": 48,\n\t\"./index.js\": 48\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 362;","import React from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport { format } from 'date-fns'\r\n\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport List from '@material-ui/core/List'\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport StarIcon from '@material-ui/icons/Star'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nimport Connection from '../../controller/Connection'\r\nimport i18n, { locales } from '../../controller/i18n'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles';\r\nconst styles = theme => ({\r\n\tnoUpdates: {\r\n\t\tfontStyle: 'italic',\r\n\t\ttextAlign: 'right',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.54)'\r\n\t},\r\n\tUpdateAvailable: {\r\n\t\tcolor: '#CCAA00',\r\n\t},\r\n\tUpdatesListItem: {\r\n\t\tbackgroundColor: '#ffd700',\r\n\t\tcolor: '#fff',\r\n\t\tmargin: theme.spacing(0, -2),\r\n\t\tpaddingLeft: theme.spacing(2)\r\n\t},\r\n\tUpdatesIndicator: {\r\n\t\tright: theme.spacing(3.75),\r\n\t\tbackgroundColor: '#CCAA00',\r\n\t\tborderRadius: '50%',\r\n\t\twidth: theme.spacing(3),\r\n\t\theight: theme.spacing(3),\r\n\t\tcolor: '#fff',\r\n\t\ttextAlign: 'center',\r\n\t\tfontSize: '1rem !important'\r\n\t},\r\n\tStatusIndicator: {\r\n\t\tfontSize: '1.4rem'\r\n\t},\r\n\tloading: {\r\n\t\ttextAlign: 'center',\r\n\t\tmarginTop: '5px'\r\n\t},\r\n\tsmall: {\r\n\t\twidth: theme.spacing(3),\r\n\t\theight: theme.spacing(3),\r\n\t},\r\n\talive: {\r\n\t\tcolor: '#86d686'\r\n\t},\r\n\tnotAlive: {\r\n\t\tcolor: '#f7e43b'\r\n\t},\r\n\tdisabled: {\r\n\t\tcolor: '#bababa'\r\n\t}\r\n});\r\n\r\n\r\nclass AdapterStatus extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tadapterInformation: [],\r\n\t\t\tadapterAliveStatus: {},\r\n\t\t\tnewUpdates: false,\r\n\t\t\tupdatesJson: '',\r\n\t\t\tlastUpdateCheck: ''\r\n\t\t}\r\n\t\t\r\n\t\tthis.socket = Connection.getConnection;\r\n\t\tthis.list = this.props.config.list ? (Array.isArray(this.props.config.list) ? this.props.config.list : this.props.config.list.split(',')) : null;\r\n\t\tthis.blacklist = this.props.config.blacklist ? (Array.isArray(this.props.config.blacklist) ? this.props.config.blacklist : this.props.config.blacklist.split(',')) : null;\r\n\t\t\r\n\t\tthis.updateStates = ['admin.0.info.newUpdates', 'admin.0.info.lastUpdateCheck', 'admin.0.info.updatesJson'];\r\n\t\tthis.adapterStates = [];\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\t// retrieve updates\r\n\t\tif (this.props.config.updates !== false) {\r\n\t\t\t\r\n\t\t\tthis.socket.getStates(this.updateStates, (err, states) => {\r\n\t\t\t\t\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tnewUpdates: states['admin.0.info.newUpdates'].val,\r\n\t\t\t\t\tlastUpdateCheck: states['admin.0.info.lastUpdateCheck'].val,\r\n\t\t\t\t\tupdatesJson: states['admin.0.info.updatesJson'].val\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t// get state updates\r\n\t\t\t\tthis.socket.subscribeStates(this.updateStates, (id, update) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tid = id.substr(id.lastIndexOf('.')+1);\r\n\t\t\t\t\tif (this.state[id] !== update.val) {\r\n\t\t\t\t\t\tthis.setState({ [id]: update.val });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t// get adapter instances\r\n\t\tthis.socket.getAdapterInstances((err, instances) => {\r\n\t\t\t\r\n\t\t\tif (instances && instances.rows) {\r\n\t\t\t\tlet adapters = [];\r\n\t\t\t\t\r\n\t\t\t\t// states per instance to retrieve\r\n\t\t\t\tinstances.rows.forEach((instance, i) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\t// get alive / connected states\r\n\t\t\t\t\tif ((!this.list || (this.list && this.list.indexOf(instance.value.common.name) > -1)) && (!this.blacklist || (this.blacklist && this.blacklist.indexOf(instance.value.common.name) === -1))) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tadapters.push(instance);\r\n\t\t\t\t\t\tthis.adapterStates = this.adapterStates.concat([\r\n\t\t\t\t\t\t\tinstance.id + '.alive',\r\n\t\t\t\t\t\t\tinstance.id + '.connected',\r\n\t\t\t\t\t\t\tinstance.id.replace('system.adapter.', '') + '.info.connection'\r\n\t\t\t\t\t\t]);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t// sort instances\r\n\t\t\t\tthis.setState({ adapterInformation: adapters.sort((item1, item2) => {\r\n\t\t\t\t\t\tif (item1.id > item2.id) return 1;\r\n\t\t\t\t\t\telse if (item2.id > item1.id) return -1;\r\n\t\t\t\t\t\telse return 0;\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t// retrieve intial states\r\n\t\t\t\tthis.socket.getStates(this.adapterStates, (err, adapterAliveStatus) => {\r\n\t\t\t\t\tthis.setState({ adapterAliveStatus });\r\n\t\t\t\t\t\r\n\t\t\t\t\t// get state updates\r\n\t\t\t\t\tthis.socket.subscribeStates(this.adapterStates, (id, aliveStatus) => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (aliveStatus && (!this.state.adapterAliveStatus[id] || (aliveStatus.val !== this.state.adapterAliveStatus[id].val))) {\r\n\t\t\t\t\t\t\tthis.setState(prevState => ({ adapterAliveStatus: { ...prevState.adapterAliveStatus, [id]: aliveStatus } }));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\tthis.socket.unsubscribeStates([ ...this.updateStates, ...this.adapterStates ]);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\t// adapter updates\r\n\t\tconst updateList = (this.state.updatesJson && JSON.parse(this.state.updatesJson)) || {};\r\n\t\tconst updates = Object.keys(updateList).length\r\n\t\t\r\n\t\t// adapter instances\r\n\t\tlet adapterList = <ListItem key='loading' className={classes.loading}><CircularProgress size={20} /></ListItem>\r\n\t\t\r\n\t\tif (this.state.adapterInformation.length > 0) {\r\n\t\t\t\r\n\t\t\tadapterList = this.state.adapterInformation.map(adapter => {\r\n\t\t\t\tadapter.update = updateList[adapter.value.common.name] || false;\r\n\t\t\t\t\r\n\t\t\t\tconst enabled = adapter.value.common.enabled;\r\n\t\t\t\tconst alive = (this.state.adapterAliveStatus[adapter.id + '.alive'] && this.state.adapterAliveStatus[adapter.id + '.alive'].val) || false;\r\n\t\t\t\tconst connected = (this.state.adapterAliveStatus[adapter.id + '.connected'] && this.state.adapterAliveStatus[adapter.id + '.connected'].val) || false;\r\n\t\t\t\tconst connection = this.state.adapterAliveStatus[adapter.id.replace('system.adapter.', '') + '.info.connection'] ? this.state.adapterAliveStatus[adapter.id.replace('system.adapter.', '') + '.info.connection'].val : true;\r\n\t\t\t\t\r\n\t\t\t\tconst tooltip = i18n.t('Adapter') + ' ' + (enabled ? (alive && connected && connection ? i18n.t('alive') : i18n.t('not alive')) : i18n.t('disabled'));\r\n\t\t\t\t\r\n\t\t\t\treturn (\r\n\t\t\t\t\r\n\t\t\t\t\t<ListItem key={'adapter-' + adapter.id}>\r\n\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t<Avatar alt={adapter.value.common.name} src={adapter.value.common.extIcon} className={classes.small} />\r\n\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={adapter.value.common.title}\r\n\t\t\t\t\t\t\tsecondary={[\r\n\t\t\t\t\t\t\t\t'v' + adapter.value.common.version,\r\n\t\t\t\t\t\t\t\t(adapter.update && adapter.value.common.version !== adapter.update.availableVersion && (<span key={'updates-' + adapter.id}>, <span className={classes.UpdateAvailable}>{i18n.t('Update available') + ' v' + adapter.update.availableVersion}</span></span>)),\r\n\t\t\t\t\t\t\t\t(adapter.value.common.runAsCompactMode && ', ' + i18n.t('Compact Mode') + ' ' + i18n.t('on') + ' (' + i18n.t('Group') + ' ' + adapter.value.common.compactGroup + ')')\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<ListItemSecondaryAction className={clsx(classes.StatusIndicator, enabled ? (alive && connected && connection ? classes.alive : classes.notAlive) : classes.disabled)}>\r\n\t\t\t\t\t\t\t<Tooltip title={tooltip}>\r\n\t\t\t\t\t\t\t\t<span className={enabled ? (alive && connected && connection ? 'mdi mdi-check-circle' : 'mdi mdi-alert') : 'mdi mdi-close'}></span>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\r\n\t\t\t\t)\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\r\n<List dense>\r\n\t{this.state.newUpdates === false ? (this.state.lastUpdateCheck && \r\n\t<ListItem key=\"updates\" classes={{ root: classes.noUpdates }}>\r\n\t\t<ListItemText\r\n\t\t\tprimary={i18n.t('last update') + ': ' + format(new Date(this.state.lastUpdateCheck), 'dd.MM.yyyy HH:mm:ss', { locale: locales[i18n.getLanguage()] })}\r\n\t\t\t/>\r\n\t\t\r\n\t</ListItem>)\r\n\t:\r\n\t<ListItem key=\"updates\" classes={{ container: classes.UpdatesListItem }}>\r\n\t\t<ListItemAvatar>\r\n\t\t\t<StarIcon />\r\n\t\t</ListItemAvatar>\r\n\t\t<ListItemText\r\n\t\t\tprimary={i18n.t('Updates available') + '!'}\r\n\t\t\t/>\r\n\t\t\r\n\t\t<ListItemSecondaryAction className={clsx(classes.StatusIndicator, classes.UpdatesIndicator)}>\r\n\t\t\t{updates}\r\n\t\t</ListItemSecondaryAction>\r\n\t</ListItem>\r\n\t}\r\n\t\r\n\t{adapterList}\r\n</List>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nexport default withStyles(styles)(AdapterStatus);\r\n","\r\nexport default {\r\n\t'disabled': 'deaktiviert',\r\n\t'Update available': 'Aktualisierung verfügbar',\r\n\t'Group': 'Gruppe',\r\n\t'last update': 'letzte Aktualisierung',\r\n\t'Updates available': 'Aktualisierungen verfügbar',\r\n\t'Adapter Status': 'Adapter Status',\r\n\t'Adapter': 'Adapter',\r\n\t'alive': 'läuft',\r\n\t'not alive': 'läuft nicht',\r\n\t'Compact Mode': 'Compact Mode',\r\n}","import React from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport { Line } from 'react-chartjs-2'\r\n// eslint-disable-next-line\r\nimport chartjs_colorschemes from 'chartjs-plugin-colorschemes'\r\n// eslint-disable-next-line\r\nimport chartjs_zoom from 'chartjs-plugin-zoom'\r\nimport DateFnsUtils from '@date-io/date-fns'\r\n\r\nimport Alert from '@material-ui/lab/Alert'\r\nimport Button from '@material-ui/core/Button'\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport { MuiPickersUtilsProvider, DateTimePicker } from '@material-ui/pickers'\r\nimport InputBase from '@material-ui/core/InputBase'\r\nimport Select from '@material-ui/core/Select'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CalendarIcon from '@material-ui/icons/Event'\r\nimport CalendarTodayIcon from '@material-ui/icons/EventAvailable'\r\nimport HistoryIcon from '@material-ui/icons/History'\r\nimport FastRewindIcon from '@material-ui/icons/FastRewind'\r\n//import DisablePan from '@material-ui/icons/SelectAll'\r\n//import DisableZoom from '@material-ui/icons/LocationDisabled'\r\nimport ResetZoom from '@material-ui/icons/ZoomOutMap'\r\nimport LiveUpdates from '@material-ui/icons/Update'\r\n\r\nimport helpers from '../../helpers/timeConverter'\r\nimport i18n, { locales } from '../../controller/i18n'\r\nimport Log from '../../controller/Log'\r\nimport Devices from '../../controller/Devices'\r\n\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles';\r\nconst styles = theme => ({\r\n\tloading: {\r\n\t\tposition: 'absolute',\r\n\t\tbackgroundColor: 'rgba(0, 0, 0, 0.3)',\r\n\t\twidth: '100%',\r\n\t\theight: '100%',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t},\r\n\terrorMessage: {\r\n\t\tmarginBottom: 5,\r\n\t\tmarginRight: 15,\r\n\t\twidth: '100%'\r\n\t},\r\n\ttoolbar: {\r\n\t\tdisplay: 'flex'\r\n\t},\r\n\ttoolbarButtons: {\r\n\t\tdisplay: 'initial',\r\n\t\twhiteSpace: 'nowrap'\r\n\t},\r\n\toptions: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'center',\r\n\t},\r\n\tdatePicker: {\r\n\t\tpadding: '2px 4px',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tmargin: 2\r\n\t},\r\n\tinput: {\r\n\t\tmarginLeft: theme.spacing(1),\r\n\t\tflex: 1,\r\n\t},\r\n\tselect: {\r\n\t\twidth: 100\r\n\t},\r\n\ticon: {\r\n\t\tmargin: 10,\r\n\t},\r\n\ticonButton: {\r\n\t\tpadding: 10,\r\n\t},\r\n\tdivider: {\r\n\t\tmargin: '15px 0',\r\n\t},\r\n\tdividerVertical: {\r\n\t\theight: 28,\r\n\t\tmargin: 4,\r\n\t},\r\n\tbutton: {\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t\tcolor: '#fff !important',\r\n\t\tmargin: '4px'\r\n\t},\r\n\tbuttonDisabled: {\r\n\t\tbackgroundColor: '#eee',\r\n\t\tmargin: '4px'\r\n\t}\r\n});\r\n\r\n\r\nclass Chart extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\t// chart configuration\r\n\t\tthis.chartFilter = this.props.config.chartFilter || {};\r\n\t\tthis.chartConfig = this.props.config.chartConfig || {};\r\n\t\t\r\n\t\tthis.chartConfig.yAxes = this.chartConfig.yAxes || [];\r\n\t\tthis.chartConfig.yAxes.unshift({\r\n\t\t\tid: 'left',\r\n\t\t\ttype: 'linear',\r\n\t\t\tposition: 'left',\r\n\t\t\tticks: {\r\n\t\t\t\tcallback: value => (this.chartConfig.yLeftAxisUnitBefore || '') + Number.parseFloat(value).toFixed(1) + (this.chartConfig.yLeftAxisUnitAfter || '')\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t// states\r\n\t\tthis.state = {\r\n\t\t\tloading: true,\r\n\t\t\terrors: [],\r\n\t\t\t\r\n\t\t\tdatePicker: false,\r\n\t\t\tselectedTimeRangeValue: (this.chartFilter && this.chartFilter.selectedTimeRangeValue) || 1,\r\n\t\t\tselectedTimeRangeUnit: (this.chartFilter && this.chartFilter.selectedTimeRangeUnit) || 'days',\r\n\t\t\tselectedDateTime: (this.chartFilter && this.chartFilter.selectedDateTime && new Date(this.chartFilter.selectedDateTime)) || new Date(),\r\n\t\t\tdateNow: this.chartFilter && this.chartFilter.selectedDateTime ? false : true,\r\n\t\t\t\r\n\t\t\tchartLabels: [],\r\n\t\t\tchartData: {\r\n\t\t\t\tlabels: [],\r\n\t\t\t\tdatasets: []\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tchartPan: true,\r\n\t\t\tchartZoom: true\r\n\t\t}\r\n\t\t\r\n\t\t//\r\n\t\tthis.timer = null;\r\n\t\tthis.timeRangeRef = React.createRef();\r\n\t\t\r\n\t\t// chart instance options\r\n\t\tthis.chartRef = React.createRef();\r\n\t\tthis.chartUpdates = {};\r\n\t\tthis.chartAxisOptions = {};\r\n\t\t\r\n\t\tthis.chartPluginOptions = {\r\n\t\t\tmaintainAspectRatio: false,\r\n\t\t\tspanGaps: true,\r\n\t\t\tlegend: {\r\n\t\t\t\tonClick: this.legendClickHandler.bind(this)\r\n\t\t\t},\r\n\t\t\ttooltips: {\r\n\t\t\t\tcallbacks: {\r\n\t\t\t\t\tlabel: (item, data) => data.datasets[item.datasetIndex].label + ': ' + item.value + data.datasets[item.datasetIndex].unit\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tscales: {\r\n\t\t\t\tyAxes: this.chartConfig.yAxes\r\n\t\t\t},\r\n\r\n\t\t\tplugins: {\r\n\t\t\t\tcolorschemes: {\r\n\t\t\t\t\tscheme: 'brewer.SetOne9'\r\n\t\t\t\t},\r\n\t\t\t\tzoom: {\r\n\t\t\t\t\t// Container for pan options\r\n\t\t\t\t\tpan: {\r\n\t\t\t\t\t\t// Boolean to enable panning\r\n\t\t\t\t\t\tenabled: true,\r\n\r\n\t\t\t\t\t\t// Panning directions\r\n\t\t\t\t\t\tmode: 'xy'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Container for zoom options\r\n\t\t\t\t\tzoom: {\r\n\t\t\t\t\t\t// Boolean to enable zooming\r\n\t\t\t\t\t\tenabled: true,\r\n\r\n\t\t\t\t\t\t// Zooming directions.\r\n\t\t\t\t\t\tmode: 'xy'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\t// request initial history data\r\n\t\tDevices.forEachDevice(this.props.devices, (device, index, options) => {\r\n\t\t\t\r\n\t\t\tdevice.options = {\r\n\t\t\t\t...device.options,\r\n\t\t\t\tChart: {\r\n\t\t\t\t\tlabel: device.name + ' (' + i18n.t(options.primaryStateKey || device.primaryStateKey) + ')'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// add listeners for newly requested data\r\n\t\t\tdevice.listen('historyChange', this._historyChange);\r\n\t\t\t\r\n\t\t\t// request device history\r\n\t\t\tdevice.requestDeviceStateHistory(options.primaryStateKey || device.primaryStateKey, true, this._chartAxisOptions())\r\n\t\t\t\t.catch(({ error }) => Log._('Modules (Chart)', error.message, 'error', true, error.stack));\r\n\t\t\t\r\n\t\t\t// add listeners for data updates\r\n\t\t\tif (this.props.config.liveUpdates !== null && this.props.config.liveUpdates !== false && this.state.dateNow) {\r\n\t\t\t\tdevice.listen(this._stateChange);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\tDevices.forEachDevice(this.props.devices, (device, index, options) => device.unlisten(this._stateChange));\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\t\r\n\t\tif (this.state.selectedTimeRangeValue &&\r\n\t\t\t\t(prevState.selectedDateTime !== this.state.selectedDateTime || prevState.selectedTimeRangeValue !== this.state.selectedTimeRangeValue || prevState.selectedTimeRangeUnit !== this.state.selectedTimeRangeUnit)\r\n\t\t\t) {\r\n\t\t\t\r\n\t\t\t// request updated history data\r\n\t\t\tthis.setState({ loading: true, errors: [] });\r\n\t\t\t\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\t\r\n\t\t\t\tDevices.forEachDevice(this.props.devices, (device, index, options) => {\r\n\t\t\t\t\tdevice.requestDeviceStateHistory(options.primaryStateKey || device.primaryStateKey, false, this._chartAxisOptions())\r\n\t\t\t\t\t\t.catch(({ error }) => Log._('Modules (Chart)', error.message, 'error', true, error.stack));\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}, 500);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_historyChange = (stateKey, history, state, device) => {\r\n\t\tthis._addChartGraph(device.options.Chart.label, device, history, this._getAxis(this.chartAxisOptions.start, this.chartAxisOptions.end));\r\n\t\tthis.setState({ loading: false });\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_stateChange = (stateKey, val, state, device) => {\r\n\t\tconsole.log(stateKey, val, state, device);\r\n\t\tthis._updateChartGraph(device, val, this._getAxis(this.chartAxisOptions.end, new Date()));\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_chartAxisOptions() {\r\n\t\t\r\n\t\tconst end = this.state.selectedDateTime.getTime();\r\n\t\tconst unit = this.state.selectedTimeRangeUnit;\r\n\t\t\r\n\t\tlet timeRange = this.state.selectedTimeRangeValue;\r\n\t\tlet step = 1;\r\n\t\tlet axisTimeFormat = 'dd. MMM yyyy, HH:mm';\r\n\t\t\r\n\t\tswitch(unit) {\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase 'seconds':\r\n\t\t\t\taxisTimeFormat = 'dd. MMM yyyy, HH:mm:ss';\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 'minutes':\r\n\t\t\t\taxisTimeFormat = 'dd. MMM yyyy, HH:mm:ss';\r\n\t\t\t\ttimeRange = timeRange*60;\r\n\t\t\t\t//step = step;\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 'hours':\r\n\t\t\t\taxisTimeFormat = 'dd. MMM yyyy, HH:mm';\r\n\t\t\t\ttimeRange = timeRange*60*60;\r\n\t\t\t\tstep = step*60; // minute-by-minute step\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 'days':\r\n\t\t\t\taxisTimeFormat = 'dd. MMM yyyy, HH:mm';\r\n\t\t\t\ttimeRange = timeRange*60*60*24;\r\n\t\t\t\tstep = step*60*60; // hourly step\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 'weeks':\r\n\t\t\t\taxisTimeFormat = 'dd. MMM yyyy';\r\n\t\t\t\ttimeRange = timeRange*60*60*24*7;\r\n\t\t\t\tstep = step*60*60*24; // daily step\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 'months':\r\n\t\t\t\taxisTimeFormat = 'dd. MMM yyyy';\r\n\t\t\t\ttimeRange = timeRange*60*60*24*31;\r\n\t\t\t\tstep = step*60*60*24; // daily step\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 'years':\r\n\t\t\t\taxisTimeFormat = 'dd. MMM yyyy';\r\n\t\t\t\ttimeRange = timeRange*60*60*24*365;\r\n\t\t\t\tstep = step*60*60*24*31; // monthly step\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\t\r\n\t\tthis.chartAxisOptions = {\r\n\t\t\t'axisTimeFormat': axisTimeFormat,\r\n\t\t\t\r\n\t\t\t'start': end-timeRange*1000,\r\n\t\t\t'end': end,\r\n\t\t\t'step': step*1000,\r\n\t\t\t'aggregate': 'average',\r\n\t\t\t'ignoreNull': true\r\n\t\t};\r\n\t\t\r\n\t\treturn this.chartAxisOptions;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_getAxis(start, end) {\r\n\t\t\r\n\t\tlet axis = {};\r\n\t\t\r\n\t\tfor (let time = start; time <= end; time += this.chartAxisOptions.step) {\r\n\t\t\taxis[time] = helpers.secondsToDateTime(time/1000, this.chartAxisOptions.axisTimeFormat);\r\n\t\t}\r\n\t\t\r\n\t\treturn {\r\n\t\t\taxisTimeFormat: this.chartAxisOptions.axisTimeFormat,\r\n\t\t\taxis\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_groupChartData(chartData, axis) {\r\n\t\t\r\n\t\tlet prevMarker;\r\n\t\tlet data = [];\r\n\t\t\r\n\t\tlet markers = Object.keys(axis);\r\n\t\tmarkers.forEach((marker, i) => {\r\n\t\t\tprevMarker = markers[(i-1 > 0 ? i-1 : 0)];\r\n\t\t\t\r\n\t\t\tfor (let index in chartData) {\r\n\t\t\t\tlet entry = chartData[index];\r\n\t\t\t\tentry.val = parseFloat(entry.val);\r\n\t\t\t\t\r\n\t\t\t\t// \r\n\t\t\t\tif (!entry.ts || entry.val === null) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// before range, continue\r\n\t\t\t\tif (prevMarker > entry.ts) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// in range\r\n\t\t\t\telse if (prevMarker < entry.ts && entry.ts <= marker) {\r\n\t\t\t\t\tdata[i] = !data[i] ? [ entry.val ] : [ ...data[i], entry.val ]; // parseFloat((data[i] ? ((data[i]+entry.val)/2) : entry.val).toFixed(2));\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// beyond range, so next marker\r\n\t\t\t\telse if (entry.ts > marker) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//\r\n\t\t\tif (!data[i]) {\r\n\t\t\t\t// \r\n\t\t\t}\r\n\t\t\telse if (data[i].length === 1) {\r\n\t\t\t\tdata[i] = data[i][0];\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tdata[i] = data[i].reduce((a,b) => a + b, 0) / data[i].length;\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\treturn data;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_updateChartGraph(device, value, chartOptions) {\r\n\t\t\r\n\t\tconst chartIndex = this.state.chartLabels.findIndex(entry => entry === device.label);\r\n\t\tif (chartIndex === -1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tthis.chartUpdates[chartIndex] = this.chartUpdates[chartIndex] || [];\r\n\t\tthis.chartUpdates[chartIndex].push({\r\n\t\t\t'ts': value.ts,\r\n\t\t\t'val': value.val\r\n\t\t});\r\n\t\t\r\n\t\t// process data\r\n\t\tconst data = this._groupChartData(this.chartUpdates[chartIndex], chartOptions.axis);\r\n\t\t\r\n\t\t//console.log(value);\r\n\t\t//console.log(chartOptions, chartOptions.axis, data);\r\n\t\t\r\n\t\t// update chart\r\n\t\tthis.chartRef.current.chartInstance.data.labels = [ ...this.state.chartData.labels, ...Object.values(chartOptions.axis) ];\r\n\t\tthis.chartRef.current.chartInstance.data.datasets[chartIndex].data = [ ...this.state.chartData.datasets[chartIndex].data, ...data ];\r\n\t\tthis.chartRef.current.chartInstance.update();\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_addChartGraph(label, device, history, chartOptions) {\r\n\t\t\r\n\t\t// only add chart if data is given\r\n\t\tif (!history || !history.length) {\r\n\t\t\tlet error = i18n.t('No history data given for %s').replace('%s', label) + '!';\r\n\t\t\tthis.setState(prevStates => ({ errors: [ ...prevStates.errors, error ] }));\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\t// process data\r\n\t\tconst data = this._groupChartData(history, chartOptions.axis);\r\n\t\t\r\n\t\t// update chart\r\n\t\tconst chartIndex = this.state.chartLabels.findIndex(entry => entry === label);\r\n\t\tif (chartIndex > -1) {\r\n\t\t\tthis.chartRef.current.chartInstance.data.labels = Object.values(chartOptions.axis);\r\n\t\t\tthis.chartRef.current.chartInstance.data.datasets[chartIndex].data = data;\r\n\t\t\tthis.chartRef.current.chartInstance.update();\r\n\t\t}\r\n\t\t\r\n\t\t// index chart\r\n\t\telse {\r\n\t\t\tthis.setState(prevStates => ({ chartLabels: [ ...prevStates.chartLabels, label ] }));\r\n\t\t\t\r\n\t\t\t// chart dataset\r\n\t\t\tlet dataSet = {\r\n\t\t\t\tlabel: label,\r\n\t\t\t\tunit: device.states[device.primaryStateKey].state.value.unit || '',\r\n\t\t\t\tfill: false,\r\n\t\t\t\t...device.options.graphConfig || {},\r\n\t\t\t\tdata: data\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\t// add data to chart\r\n\t\t\tthis.setState(prevStates => ({\r\n\t\t\t\taxisTimeFormat: chartOptions.axisTimeFormat,\r\n\t\t\t\tchartData: {\r\n\t\t\t\t\tlabels: Object.values(chartOptions.axis),\r\n\t\t\t\t\tdatasets: [ ...prevStates.chartData.datasets, dataSet ],\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\tlegendClickHandler(e, legendItem) {\r\n\t\t\r\n\t\tlet index = legendItem.datasetIndex;\r\n\t\tlet ci = this.chartRef.current.chartInstance;\r\n\t\tlet meta = ci.getDatasetMeta(index);\r\n\r\n\t\tmeta.hidden = meta.hidden === null ? !ci.data.datasets[index].hidden : null;\r\n\t\tci.update();\r\n\t\tci.resetZoom();\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\tdisablePan() {\r\n\t\tlet pan = this.chartRef.current.chartInstance.options.plugins.zoom.pan.enabled;\r\n\t\tthis.chartRef.current.chartInstance.options.plugins.zoom.pan.enabled = (pan === false);\r\n\t\tthis.setState({ chartPan: (pan === false) });\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\tdisableZoom() {\r\n\t\tlet zoom = this.chartRef.current.chartInstance.options.plugins.zoom.zoom.enabled;\r\n\t\tthis.chartRef.current.chartInstance.options.plugins.zoom.zoom.enabled = (zoom === false);\r\n\t\tthis.setState({ chartZoom: (zoom === false) });\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trender() {\r\n\t\tconst { classes, config } = this.props;\r\n\t\treturn (\r\n\r\n<div>\r\n\t<div className={classes.options}>\r\n\t\r\n\t\t<Paper className={classes.datePicker}>\r\n\t\t\t<Tooltip title={i18n.t('Period shown in Chart')}>\r\n\t\t\t\t<HistoryIcon className={classes.icon} />\r\n\t\t\t</Tooltip>\r\n\t\t\t\r\n\t\t\t<InputBase\r\n\t\t\t\tinputRef={this.timeRangeRef}\r\n\t\t\t\tclassName={classes.input}\r\n\t\t\t\tvalue={this.state.selectedTimeRangeValue}\r\n\t\t\t\tonChange={event => this.setState({ selectedTimeRangeValue: event.target.value })}\r\n\t\t\t\t/>\r\n\t\t\t\r\n\t\t\t<Select\r\n\t\t\t\tvalue={this.state.selectedTimeRangeUnit}\r\n\t\t\t\tonChange={event => this.setState({ selectedTimeRangeUnit: event.target.value })}\r\n\t\t\t\tdisplayEmpty\r\n\t\t\t\tdisableUnderline\r\n\t\t\t\tclassName={classes.select}\r\n\t\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t<MenuItem value=\"seconds\">{i18n.t('Seconds')}</MenuItem>\r\n\t\t\t\t<MenuItem value=\"minutes\">{i18n.t('Minutes')}</MenuItem>\r\n\t\t\t\t<MenuItem value=\"hours\">{i18n.t('Hours')}</MenuItem>\r\n\t\t\t\t<MenuItem value=\"days\">{i18n.t('Days')}</MenuItem>\r\n\t\t\t\t<MenuItem value=\"weeks\">{i18n.t('Weeks')}</MenuItem>\r\n\t\t\t\t<MenuItem value=\"months\">{i18n.t('Months')}</MenuItem>\r\n\t\t\t\t<MenuItem value=\"years\">{i18n.t('Years')}</MenuItem>\r\n\t\t\t</Select>\r\n\t\t\t\r\n\t\t\t{/*\r\n\t\t\t<IconButton className={classes.iconButton} onClick={() => this.timeRangeRef.current.focus()}>\r\n\t\t\t\t<CalendarIcon />\r\n\t\t\t</IconButton>\r\n\t\t\t*/}\r\n\t\t</Paper>\r\n\r\n\t\t<Paper className={classes.datePicker}>\r\n\t\t\t<Tooltip title={i18n.t('End date')}>\r\n\t\t\t\t<FastRewindIcon className={classes.icon} />\r\n\t\t\t</Tooltip>\r\n\t\t\t\r\n\t\t\t<MuiPickersUtilsProvider locale={locales[i18n.getLanguage()]} utils={DateFnsUtils}>\r\n\t\t\t\t<DateTimePicker\r\n\t\t\t\t\tclassName={classes.input}\r\n\t\t\t\t\tvalue={this.state.selectedDateTime}\r\n\t\t\t\t\tonChange={selectedDateTime => this.setState({ selectedDateTime: selectedDateTime, dateNow: false })}\r\n\t\t\t\t\t\r\n\t\t\t\t\topen={this.state.datePicker}\r\n\t\t\t\t\tonOpen={() => this.setState({ datePicker: true })}\r\n\t\t\t\t\tonClose={() => this.setState({ datePicker: false })}\r\n\t\t\t\t\t\r\n\t\t\t\t\tvariant=\"inline\"\r\n\t\t\t\t\tampm={false}\r\n\t\t\t\t\tformat='dd.MM.yyyy HH:mm'\r\n\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\tdisableUnderline: true,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\r\n\t\t\t<Tooltip title={i18n.t('Select end date')}>\r\n\t\t\t\t<IconButton color=\"primary\" className={classes.iconButton} onClick={() => this.setState({ datePicker: true })}>\r\n\t\t\t\t\t<CalendarIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t\t<Divider className={classes.dividerVertical} orientation=\"vertical\" />\r\n\t\t\t<Tooltip title={i18n.t('Select today as end date')}>\r\n\t\t\t\t<IconButton className={classes.iconButton} onClick={() => this.setState({ selectedDateTime: new Date(), dateNow: true })}>\r\n\t\t\t\t\t<CalendarTodayIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t</Paper>\r\n\t\t\r\n\t\t<Tooltip title={i18n.t('Live updates are ' + (this.props.config.liveUpdates !== null && this.props.config.liveUpdates !== false && this.state.dateNow ? 'on' : 'off'))} placement=\"top\" style={{ display: 'flex' }}>\r\n\t\t\t<span>\r\n\t\t\t\t<Button disabled={true} className={clsx(classes.datePicker, this.props.config.liveUpdates !== null && this.props.config.liveUpdates !== false && this.state.dateNow ? classes.button : classes.buttonDisabled)}>\r\n\t\t\t\t\t<LiveUpdates />\r\n\t\t\t\t</Button>\r\n\t\t\t</span>\r\n\t\t</Tooltip>\r\n\t\t\r\n\t</div>\r\n\t<Divider className={classes.divider} />\r\n\t\r\n\t<div className={classes.toolbar}>\r\n\t\t<div className={classes.errorMessage}>\r\n\t\t\t{this.state.errors.length > 0 && <Alert severity=\"error\">{this.state.errors.map((error, i) => [ error, React.createElement('br', { key: 'br-error-' + i }) ])}</Alert>}\r\n\t\t</div>\r\n\t\t\r\n\t\t<ButtonGroup className={classes.toolbarButtons} color=\"primary\">\r\n\t\t{/*\r\n\t\t\t<Button disableElevation={true} variant={this.state.chartPan ? 'contained' : 'outlined'} onClick={this.disablePan.bind(this)}>\r\n\t\t\t\t<Tooltip title={i18n.t(this.state.chartPan ? 'Disable panning' : 'Enable panning')}>\r\n\t\t\t\t\t<DisablePan />\r\n\t\t\t\t</Tooltip>\r\n\t\t\t</Button>\r\n\t\t\t<Button disableElevation={true} variant={this.state.chartZoom ? 'contained' : 'outlined'} onClick={this.disableZoom.bind(this)}>\r\n\t\t\t\t<Tooltip title={i18n.t(this.state.chartZoom ? 'Disable Zoom' : 'Enable Zoom')}>\r\n\t\t\t\t\t<DisableZoom />\r\n\t\t\t\t</Tooltip>\r\n\t\t\t</Button>\r\n\t\t*/}\r\n\t\t\t<Button disableElevation={true} variant=\"contained\" onClick={() => this.chartRef.current.chartInstance.resetZoom()}>\r\n\t\t\t\t<Tooltip title={i18n.t('Reset Zoom')}>\r\n\t\t\t\t\t<ResetZoom />\r\n\t\t\t\t</Tooltip>\r\n\t\t\t</Button>\r\n\t\t</ButtonGroup>\r\n\t</div>\r\n\t\r\n\t<div className={'chart-container'} style={{ position: 'relative', height: config.chartHeight || '500px' }}>\r\n\t\t{this.state.loading && <div className={classes.loading}>\r\n\t\t\t<CircularProgress />\r\n\t\t</div>}\r\n\t\t\r\n\t\t<Line\r\n\t\t\tref={this.chartRef}\r\n\t\t\tdata={this.state.chartData}\r\n\t\t\toptions={this.chartPluginOptions}\r\n\t\t\t/>\r\n\t\t\t\r\n\t</div>\r\n</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(Chart);\r\n","import React, { useState, useEffect, useRef } from 'react'\r\n\r\nimport { format } from 'date-fns'\r\nimport { getSunrise, getSunset } from 'sunrise-sunset-js'\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n\r\nimport { joinConfig } from '../../helpers/utils'\r\nimport i18n, { locales } from '../../controller/i18n'\r\nimport Settings from '../../controller/Settings'\r\n\r\n\r\nexport default function DateTime(props) {\r\n\tlet config = joinConfig(props.config, require('./DateTime.config.js').default);\r\n\tconfig.refresh = config.format.indexOf('s') > -1 ? 1000 : (config.format.indexOf('m') > -1 ? 60*1000 : 60*60*1000);\r\n\t\r\n\tconst refTimer = useRef();\r\n\tconst [DateTime, setDateTime] = useState(format(new Date(), config.format, { locale: locales[i18n.getLanguage()] }));\r\n\tconst [city, setCity] = useState('');\r\n\tconst [sunrise, setSunrise] = useState('');\r\n\tconst [sunset, setSunset] = useState('');\r\n\t\r\n\tuseEffect(() => {\r\n\t\t\r\n\t\tfunction refresh() {\r\n\t\t\t\r\n\t\t\t// set current time\r\n\t\t\tsetDateTime(format(new Date(), config.format, { locale: locales[i18n.getLanguage()] }));\r\n\t\t\r\n\t\t\t// set sunrise / sunset\r\n\t\t\tif (Settings.getSetting('iobroker').latitude && Settings.getSetting('iobroker').longitude) {\r\n\t\t\t\tsetSunrise(getSunrise(Settings.getSetting('iobroker').latitude, Settings.getSetting('iobroker').longitude));\r\n\t\t\t\tsetSunset(getSunset(Settings.getSetting('iobroker').latitude, Settings.getSetting('iobroker').longitude));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// constantly refresh\r\n\t\t\trefTimer.current = setTimeout(refresh, config.refresh);\r\n\t\t}\r\n\t\t\r\n\t\t// refresh current time\r\n\t\tclearTimeout(refTimer.current);\r\n\t\trefTimer.current = setTimeout(refresh, 1*1000); // first refresh some seconds after render\r\n\t\t\r\n\t\tif (Settings.getSetting('iobroker').city) {\r\n\t\t\tsetCity(Settings.getSetting('iobroker').city);\r\n\t\t}\r\n\t\t\r\n\t}, [config.format, config.refresh]);\r\n\t\r\n\treturn (\r\n\r\n<div style={config.style}>\r\n\t{i18n.t('%DateTime').replace(/%DateTime/, DateTime)}\r\n\t\r\n\t{config.sun !== false && <div style={{ margin: '5px 0', fontSize: '1.2rem' }}>\r\n\t\t\r\n\t\t<span className=\"mdi mdi-city-variant-outline\"></span> {city ? city : <CircularProgress size=\"1.2rem\" />}\r\n\t\t<span style={{ margin: '0 10px' }}></span>\r\n\t\t\r\n\t\t<span className=\"mdi mdi-weather-sunset-up\"></span> {sunrise ? format(sunrise, 'HH:mm') : <CircularProgress size=\"1.2rem\" />}\r\n\t\t<span style={{ margin: '0 10px' }}></span>\r\n\t\t\r\n\t\t<span className=\"mdi mdi-weather-sunset-down\"></span> {sunset ? format(sunset, 'HH:mm') : <CircularProgress size=\"1.2rem\" />}\r\n\t</div>\r\n\t}\r\n\t\r\n</div>\r\n\r\n\t);\r\n}\r\n","export default {\r\n\t'Time': 'Zeit',\r\n}","import React, { useState, useEffect, useRef, useCallback } from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport L from 'leaflet'\r\nimport { Map as LeafletMap, TileLayer, Marker as LeafletMarker, Tooltip as LeafletTooltip } from 'react-leaflet'\r\n\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Box from '@material-ui/core/Box'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport Devices from '../../controller/Devices'\r\nimport i18n from '../../controller/i18n'\r\nimport Settings from '../../controller/Settings'\r\nimport Log from '../../controller/Log'\r\nimport moduleConfig from './Map.config'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles(theme => ({\r\n\tmap: {\r\n\t\twidth: '100%',\r\n\t\theight: '100%'\r\n\t},\r\n\tmapOverview: {\r\n\t\tcolor: '#666',\r\n\t\tposition: 'absolute',\r\n\t\tleft: 0,\r\n\t\tbottom: 0,\r\n\t\twidth: '100%',\r\n\t\theight: '60px',\r\n\t\tzIndex: 999,\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\t\r\n\t\t'& > *': {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t},\r\n\tmapIconContainer: {\r\n\t},\r\n\tmapIconParent: {\r\n\t\tbackgroundColor: '#fff',\r\n\t\tboxShadow: '0 0 0 8px rgba(255, 255, 255, 0.3)',\r\n\t\tborderRadius: '50%',\r\n\t\twidth: '100%',\r\n\t\theight: '100%'\r\n\t},\r\n\tmapIcon: {\r\n\t\tfontSize: '2rem',\r\n\t\tcolor: theme.palette.primary.main,\r\n\t\ttransform: 'translate3d(4px, -4px,0)', /* for fontSize: '2.3rem' -> 'translate3d(2px, -8px,0)', */\r\n\t\tdisplay: 'block',\r\n\t\t\r\n\t\t'&:after': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tpadding: '50% 0%'\r\n\t\t}\r\n\t},\r\n\tmapTooltip: {\r\n\t}\r\n}));\r\n\r\n\r\nexport default function Map(props) {\r\n\tconst { config, devices } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\tconst [zoom,] = useState(config.defaultZoom || 10);\r\n\tconst [position,] = useState(config.defaultPosition ? (Array.isArray(config.defaultPosition) ? config.defaultPosition : config.defaultPosition.split(',')) : [ Settings.getSetting('iobroker').latitude, Settings.getSetting('iobroker').longitude ]);\r\n\tconst [markers, setMarkers] = useState({});\r\n\t\r\n\t// map instance\r\n\tconst map = useRef();\r\n\tconst memoizedMapInitialised = useCallback(function() {map.current = this}, [],);\r\n\t\r\n\t// Marker click in overview\r\n\tconst memoizedHandleClick = useCallback(flyTo => map.current.flyTo(flyTo.split(',')), [],);\r\n\t\r\n\t// state change\r\n\tconst stateChange = (stateKey, state, device) => {\r\n\t\t\r\n\t\tif (stateKey === 'position') {\r\n\t\t\t\r\n\t\t\tsetMarkers(prevMarkers => {\r\n\t\t\t\tif (!prevMarkers[device.id] || prevMarkers[device.id].position !== state.val) {\r\n\t\t\t\t\tdevice.options.position = state.val;\r\n\t\t\t\t\treturn { ...prevMarkers, [device.id]: device };\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn prevMarkers;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t// get gps position coordinates\r\n\tuseEffect(() => {\r\n\t\tDevices.forEachDevice(devices, (device, index, options) => {\r\n\t\t\t\r\n\t\t\t// listen for updates\r\n\t\t\tdevice.listen(stateChange);\r\n\t\t\t\r\n\t\t\t// request device state\r\n\t\t\tdevice.requestDeviceState('position').catch(err => {\r\n\t\t\t\tLog._('Modules (Map)', err.message, 'error', true, err.stack)\r\n\t\t\t\t\r\n\t\t\t\tsetMarkers(prevMarkers => {\r\n\t\t\t\t\tif (!prevMarkers[device.id]) {\r\n\t\t\t\t\t\treturn { ...prevMarkers, [device.id]: null };\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn prevMarkers;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t\t\r\n\t\t// componentWillUnmount\r\n\t\treturn () => Devices.forEachDevice(devices, (device, index, options) => {device.unlisten(stateChange)});\r\n\t\t\r\n\t}, [devices]);\r\n\t\r\n\t// add markers\r\n\tlet mapMarkers = [], mapOverview = [];\r\n\tif (devices.length > 0 && devices.length === Object.keys(markers).length) {\r\n\t\t\r\n\t\tfor (let key in markers) {\r\n\t\t\tlet device = markers[key];\r\n\t\t\tif (device !== null) {\r\n\t\t\t\tlet marker = <Marker key={'marker-' + device.id} position={device.options.position || ''} device={device} config={config} />\r\n\t\t\t\tmapMarkers.push(marker);\r\n\t\t\t\t\r\n\t\t\t\tlet item = null;\r\n\t\t\t\tif (device.attributes.avatar) {\r\n\t\t\t\t\titem = <Avatar key={'overview-' + device.id} alt={device.name} src={device.attributes.avatar} onClick={() => memoizedHandleClick(device.options.position)} />\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tlet state = device.getDeviceState();\r\n\t\t\t\t\tconst icon = device.getIcon(null, state && state.val !== undefined ? state.val : null);\r\n\t\t\t\t\tconst styles = device.getStyle('icon', null, state && state.val !== undefined ? state.val : null);\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log(state && state.val !== undefined ? state.val : null);\r\n\t\t\t\t\tconsole.log(styles);\r\n\t\t\t\t\t\r\n\t\t\t\t\titem = <Avatar style={styles} key={'overview-' + device.id} alt={device.name} onClick={() => memoizedHandleClick(device.options.position)}><span className={clsx('mdi mdi-' + icon)}></span></Avatar>\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tmapOverview.push(<Tooltip key={'tooltip-' + device.id} title={device.name} aria-label={device.name} arrow>{item}</Tooltip>);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn (\r\n\r\n<React.Fragment>\r\n\t<Box className={classes.mapOverview}>\r\n\t\t<Typography>{i18n.t('Jump to')}:</Typography>\r\n\t\t{mapOverview}\r\n\t</Box>\r\n\t<LeafletMap useFlyTo={true} center={position} zoom={zoom} className={classes.map} whenReady={memoizedMapInitialised}>\r\n\t\t<TileLayer\r\n\t\t\tattribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n\t\t\turl='https://{s}.tile.osm.org/{z}/{x}/{y}.png'\r\n\t\t\t/>\r\n\t\t\r\n\t\t{mapMarkers}\r\n\t</LeafletMap>\r\n</React.Fragment>\r\n\r\n\t);\r\n}\r\n\r\n\r\nfunction Marker(props) {\r\n\tconst { position, device, config } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\tlet markerIcon = null, offset = 40;\r\n\t//Log._('Modules (Map)', 'Marker for ' + device.function + ' ' + device.name + ' added to map.');\r\n\t\r\n\t// Marker with avatar / picture\r\n\tif (device.attributes && device.attributes.avatar && device.attributes.avatar.substr(0, 11) === 'data:image/') {\r\n\t\tmarkerIcon = L.divIcon({\r\n\t\t\tclassName: classes.mapIconContainer,\r\n\t\t\thtml: '<img src=\"' + device.attributes.avatar + '\" class=\"' + classes.mapIconParent + '\" />',\r\n\t\t\ticonSize: [ 64, 64 ]\r\n\t\t});\r\n\t}\r\n\t\r\n\t// Marker with Icon\r\n\telse {\r\n\t\toffset = 30;\r\n\t\tlet state = device.getDeviceState();\r\n\t\tconst icon = device.getIcon(null, state && state.val !== undefined ? state.val : null);\r\n\t\tconst styles = device.getStyle('icon', null, state && state.val !== undefined ? state.val : null);\r\n\t\t\r\n\t\tconsole.log(styles); \r\n\t\tconst useStyles = makeStyles({root: styles}, {name:'testi'});\r\n\t\tconsole.log(useStyles.root); \r\n\t\t\r\n\t\tmarkerIcon = L.divIcon({\r\n\t\t\tclassName: classes.mapIconContainer,\r\n\t\t\thtml: '<div class=\"' + clsx(classes.mapIconParent) + '\"><span class=\"' + clsx(classes.mapIcon, 'mdi mdi-' + icon) + '\"></span></div>',\r\n\t\t\ticonSize: [ 40, 40 ]\r\n\t\t});\r\n\t}\r\n\t\r\n\t// Marker MouseOver / MouseOut (bring tooltip to front if markers overlay)\r\n\tconst memoizedHandleMouseEvent = useCallback(function() {this.closeTooltip().openTooltip()}, [],);\r\n\r\n\treturn (\r\n\r\n<LeafletMarker riseOnHover={true} position={Array.isArray(position) ? position : position.split(',')} icon={markerIcon} onMouseOver={memoizedHandleMouseEvent}>\r\n\t<LeafletTooltip className={classes.mapTooltip} direction={config.tooltipDirection || 'bottom'} permanent={config.tooltipPermanent || true} offset={[0,offset]}>\r\n\t\t{device.name}\r\n\t</LeafletTooltip>\r\n</LeafletMarker>\r\n\r\n\t);\r\n}\r\n","export default {\r\n\t'Jump to': 'springen zu',\r\n}","import React from 'react'\r\n\r\nimport MultimediaItem from './MultimediaItem'\r\n\r\n\r\nexport default function Multimedia(props) {\r\n\tconst { devices, settings } = props;\r\n\treturn devices.map((device, i) => <MultimediaItem key={'MultimediaItem-' + device.id} {...props} index={i} noHeader={i === 0 && settings.icon === null && settings.title === null} device={device} />)\r\n}\r\n","import React from 'react'\r\n\r\nimport StateList from '../StateList/StateList'\r\n\r\n\r\nexport default function StateListHorizontal(props) {\r\n\treturn <StateList horizontal={true} {...props} />\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport Connection from '../../controller/Connection'\r\nimport i18n from '../../controller/i18n'\r\nimport Log from '../../controller/Log'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles(theme => ({\r\n\tpaper: {\r\n\t\twidth: 100,\r\n\t\theight: 160,\r\n\t\tpadding: 5,\r\n\t\ttextAlign: 'center',\r\n\t}\r\n}));\r\n\r\n\r\nexport default function Weather(props) {\r\n\tconst { settings } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\tconst [data,setData] = useState(null);\r\n\tuseEffect(() => {\r\n\t\t\r\n\t\tConnection.getConnection.getRemoteResource(settings.url).then(\r\n\t\t\tresponse => {\r\n\t\t\t\t\r\n\t\t\t\tif (response.statusCode === 200) {\r\n\t\t\t\t\tsetData(JSON.parse(response.body));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terr => Log._('Modules (Weather)', err.message, 'error', true, err.stack)\r\n\t\t);\r\n\t\t\r\n\t}, [settings.url]);\r\n\t\r\n\tlet weatherForecast = [];\r\n\t//console.log(data);\r\n\t\r\n\tif (!data) {\r\n\t\treturn null;\r\n\t}\r\n\telse {\r\n\t\tfor (let day in data.day) {\r\n\t\t\tlet forecast = data.day[day];\r\n\t\t\tforecast.title = day === 1 ? i18n.t('today') : (day === 2 ? i18n.t('tomorrow') : forecast.name);\r\n\t\t\t\r\n\t\t\tconst dailyForecast = (\r\n\r\n<Grid key={'day-' + day} item>\r\n\t<Paper className={classes.paper}>\r\n\t\t<Typography variant=\"body1\">\r\n\t\t\t{forecast.title}\r\n\t\t</Typography>\r\n\t\t<Typography variant=\"caption\">\r\n\t\t\t{forecast.date}\r\n\t\t</Typography>\r\n\r\n\r\n\t</Paper>\r\n</Grid>\r\n\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\tweatherForecast.push(dailyForecast);\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn (\r\n\r\n<Grid container justify=\"space-between\" spacing={1}>\r\n\t{weatherForecast}\r\n\t\r\n</Grid>\r\n\r\n\t);\r\n}\r\n","export default {\r\n\t'tomorrow': 'Morgen',\r\n\t'Weather': 'Wetter',\r\n}","import React, { useState } from 'react'\r\nimport i18n from '../../controller/i18n'\r\n\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport Switch from '@material-ui/core/Switch'\r\n\r\nimport Field from './Field'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles((theme) => ({\r\n\tFormControl: {\r\n\t\twidth: '100%'\r\n\t},\r\n\tInputLabel: {\r\n\t\twidth: '133%'\r\n\t},\r\n\tSwitch: {\r\n\t\tmarginTop: '10px'\r\n\t},\r\n\tSwitchSmall: {\r\n\t\tmarginTop: '2px'\r\n\t},\r\n\tSwitchInline: {\r\n\t\tmarginLeft: '5px'\r\n\t},\r\n}));\r\n\r\n\r\n/*\r\n *\r\n */\r\nexport default function InputSwitch(props) {\r\n\tconst { id, label, val, size, disabled, onChange } = props;\r\n\tconst classes = useStyles(props);\r\n\t\r\n\tconst [checked, setChecked] = useState(val || false);\r\n\tconst handleSwitchChange = event => {\r\n\t\tlet userInput = (event && event.target && event.target.checked) || false;\r\n\t\t\r\n\t\tsetChecked(userInput);\r\n\t\tonChange && onChange(props, userInput);\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<Field {...props}>\r\n\t\t\t<FormControl\r\n\t\t\t\tkey={'FormControl-' + id}\r\n\t\t\t\tclasses={{ root: classes.FormControl }}\r\n\t\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t<InputLabel classes={{ root: classes.InputLabel }} shrink={true}>{i18n.t(label)}</InputLabel>\r\n\t\t\t\t<Switch\r\n\t\t\t\t\tclasses={{ root: size === 'small' ? classes.SwitchSmall : classes.Switch }}\r\n\t\t\t\t\tchecked={checked}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\tonChange={handleSwitchChange}\r\n\t\t\t\t\tsize={size}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t</FormControl>\r\n\t\t</Field>\r\n\r\n\t)\r\n}\r\n\r\n/*\r\n *\r\n */\r\nexport function InputSwitchInline(props) {\r\n\tconst { label, val, size, disabled, onChange } = props;\r\n\tconst classes = useStyles(props);\r\n\t\r\n\tconst [checked, setChecked] = useState(val || false);\r\n\tconst handleSwitchChange = event => {\r\n\t\tlet userInput = (event && event.target && event.target.checked) || false;\r\n\t\t\r\n\t\tsetChecked(userInput);\r\n\t\tonChange && onChange(props, userInput);\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<Field {...props}>\r\n\t\t\t<FormControlLabel\r\n\t\t\t\tclasses={{ root: classes.SwitchInline }}\r\n\t\t\t\tlabel={i18n.t(label)}\r\n\t\t\t\tcontrol={<Switch\r\n\t\t\t\t\tclasses={{ root: size === 'small' ? classes.SwitchSmall : classes.Switch }}\r\n\t\t\t\t\tchecked={checked}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\tonChange={handleSwitchChange}\r\n\t\t\t\t\tsize={size} />}\r\n\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t</Field>\r\n\r\n\t)\r\n}","export default {\r\n\t'Devices List': 'Geräteliste',\r\n\t'Name': 'Name',\r\n\t'Function': 'Gewerk',\r\n\t'States': 'States',\r\n\t'Options': 'Optionen',\r\n\t'Attributes': 'Attribute',\r\n\t\r\n\t'add new device': 'Gerät hinzufügen',\r\n\t'add new state': 'State hinzufügen',\r\n\t\r\n\t'No input given': 'Bitte etwas eingeben',\r\n\t'Wrong JSON format': 'Falsches JSON Format',\r\n\t'Type in a state key / identifier': 'State Bezeichnung eingeben',\r\n\t'State key already used': 'State bereits in Benutzung',\r\n\t\r\n\t'Device Configuration': 'Gerätekonfiguration',\r\n\t'Delete Device': 'Gerät löschen',\r\n\t'General': 'Allgemein',\r\n\t'Device': 'Gerät',\r\n\t'Displayed Name': 'Anzeigename',\r\n}","import { sort } from '../helpers/utils'\r\nimport Device from './Device'\r\nimport Log from './Log'\r\nconst _copy = require('rfdc')();\r\n\r\n\r\n/**\r\n * Devices\r\n *\r\n *\r\n */\r\nexport default class Devices {\r\n\r\n\t/*\r\n\t * holds the raw data\r\n\t */\r\n\tstatic rawDevices = {};\r\n\t\r\n\t/*\r\n\t * holds the devices\r\n\t */\r\n\tstatic Devices = {};\r\n\t\r\n\t/**\r\n\t * Set devices\r\n\t *\r\n\t * @param\t{Object}\tdevices\r\n\t * @return\t{Array<Promises>}\r\n\t */\r\n\tstatic setDevices(deviceList, socket) {\r\n\t\t\r\n\t\tlet devices = {};\r\n\t\tlet states = [];\r\n\t\t\r\n\t\tlet processedDevices = 0, addedDevices = 0;\r\n\t\tfor (let deviceId in deviceList) {\r\n\t\t\tprocessedDevices++;\r\n\t\t\t\r\n\t\t\t// correct options\r\n\t\t\tdeviceList[deviceId].id = deviceId;\r\n\t\t\tdeviceList[deviceId].options = { ...deviceList[deviceId].options, ...deviceList[deviceId].jarvis }\r\n\t\t\tdelete deviceList[deviceId].jarvis;\r\n\t\t\t\r\n\t\t\t// get device and its current state values\r\n\t\t\ttry {\r\n\t\t\t\tdevices[deviceId] = new Device(deviceList[deviceId], socket);\r\n\t\t\t\tstates = [ ...states, ...devices[deviceId].requestDeviceStates(true) ];\r\n\t\t\t\taddedDevices++;\r\n\t\t\t}\r\n\t\t\tcatch(err) {\r\n\t\t\t\tLog._('Devices', err.message, 'warn');\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// remember raw device list\r\n\t\tDevices.rawDevices = _copy(deviceList);\r\n\t\t\r\n\t\t// remember devices\r\n\t\tDevices.Devices = devices;\r\n\t\t\r\n\t\t// \r\n\t\treturn new Promise(resolve => {\r\n\t\t\tPromise.allSettled(states).then(res => {\r\n\t\t\t\tresolve({\r\n\t\t\t\t\tdevices: devices,\r\n\t\t\t\t\tstates: res,\r\n\t\t\t\t\tprocessedDevices: processedDevices,\r\n\t\t\t\t\taddedDevices: addedDevices\r\n\t\t\t\t});\r\n\t\t\t}).catch(() => {});\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t * Get devices\r\n\t *\r\n\t * @param\tvoid\r\n\t * @return\tObject\r\n\t */\r\n\tstatic getDevices(options = {}) {\r\n\t\t\r\n\t\tif (typeof options === 'boolean') {\r\n\t\t\toptions = { raw: options }\r\n\t\t}\r\n\t\t\r\n\t\tlet devices = options.raw ? Devices.rawDevices : Devices.Devices;\r\n\t\tdevices = options.copy ? _copy(devices) : devices;\r\n\t\t\r\n\t\tif (options.sort) {\r\n\t\t\tdevices = sort(devices, 'name');\r\n\t\t}\r\n\t\t\r\n\t\treturn devices;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tstatic forEachDevice(list, callback) {\r\n\t\t\r\n\t\treturn list.map((item, index) => {\r\n\t\t\tlet device = Devices.Devices[item.deviceId] || item || {};\r\n\t\t\tdevice.id = device.id || (device.name && device.name.toLowerCase().replace(/ /g, ''));\r\n\t\t\t\r\n\t\t\treturn callback && callback(device, index, item);\r\n\t\t});\r\n\t}\r\n}\r\n","\r\nexport const DEFAULTS = {\r\n\t'MODULE': 'StateList',\r\n\t\r\n\t'NODE_LAYOUT': 'jarvis.0.layout',\r\n\t'NODE_SETTINGS': 'jarvis.0.settings',\r\n\t'NODE_DEVICES': 'jarvis.0.devices',\r\n\t'NODE_NOTIFICATIONS': 'jarvis.0.notifications',\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport Switch from '@material-ui/core/Switch'\r\n\r\nimport i18n from '../controller/i18n'\r\nimport Log from '../controller/Log'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nconst styles = theme => ({\r\n\tprimaryAction: props => ({\r\n\t\t...props.styles\r\n\t}),\r\n\tsecondaryAction: props => ({\r\n\t\tcolor: '#999',\r\n\t\tfontSize: '14px',\r\n\t\t...props.styles\r\n\t}),\r\n});\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcomponent: {\r\n\t\tpadding: theme.spacing(2, 0, 2, 0)\r\n\t},\r\n\tsliderMarkLabel: {\r\n\t\t[theme.breakpoints.down('md')]: {\r\n\t\t\tdisplay: 'none',\r\n\t\t\t'&:nth-child(5)': { display: 'block' },\r\n\t\t\t'&:nth-child(15)': { display: 'block' },\r\n\t\t\t'&:nth-child(25)': { display: 'block' }\r\n\t\t}\r\n\t}\r\n}));\r\n\r\n\r\n/*\r\n * ACTIONS\r\n *\r\n */\r\nconst Action = withStyles(styles)(props => {\r\n\tconst { classes, device, state, stateKey } = props;\r\n\treturn (\r\n\r\n<span className={clsx((stateKey === device.primaryStateKey && classes.primaryAction) || (stateKey === device.secondaryStateKey && classes.secondaryAction))}>\r\n\t{state && state.value} {state && state.unit}\r\n</span>\r\n\r\n\t);\r\n});\r\n\r\nfunction PowerAction(props) {\r\n\tconst { device, stateKey, stateVal, onChange: parentOnChange } = props;\r\n\t\r\n\tconst onChange = (e) => {\r\n\t\tsetChecked(e.target.checked);\r\n\t\tdevice.setDeviceState(stateKey, e.target.checked).catch(({ error }) => Log._('Function (defaults)', error.message, 'error', true, error.stack));\r\n\t}\r\n\t\r\n\tconst [checked, setChecked] = useState(stateVal);\r\n\tuseEffect(() => setChecked(stateVal), [stateVal]);\r\n\t\r\n\treturn (\r\n\r\n<Switch\r\n\tchecked={checked}\r\n\tonChange={parentOnChange || onChange}\r\n\tvalue={checked !== true}\r\n\tcolor=\"primary\"\r\n\t/>\r\n\r\n\t);\r\n}\r\n\r\nfunction TriggerAction(props) {\r\n\tconst { device, stateKey, stateVal } = props;\r\n\t\r\n\tconst onClick = () => {\r\n\t\tdevice.setDeviceState(stateKey, true).catch(({ error }) => Log._('Function (defaults)', error.message, 'error', true, error.stack));\r\n\t}\r\n\t\r\n\t//\r\n\tif (stateVal === true || stateVal > 0) {\r\n\t\treturn <Action {...props} onChange={null} />;\r\n\t}\r\n\t\r\n\tconst icon = 'power';\r\n\treturn (\r\n\r\n<Button\r\n\tvariant=\"outlined\"\r\n\tcolor=\"primary\"\r\n\tsize=\"small\"\r\n\tstartIcon={<span className={'mdi mdi-' + icon}></span>}\r\n\tonClick={onClick}\r\n\t>\r\n\t\r\n\t{i18n.t('turn on')}\r\n</Button>\r\n\r\n\t);\r\n}\r\n\r\nfunction SelectionAction(props) {\r\n\t//const { device, stateKey, stateVal } = props;\r\n\t\r\n\treturn null;\r\n}\r\n\r\n\r\n/*\r\n * COMPONENTS\r\n *\r\n */\r\nfunction Label(props) {\r\n\tconst { label, br } = props;\r\n\tconst linebreak = br || false;\r\n\t\r\n\treturn (\r\n\t\r\n<React.Fragment>\r\n\t{label}\r\n\t{linebreak && <br />}\r\n</React.Fragment>\r\n\t\r\n\t);\r\n}\r\n\r\nfunction Component(props) {\r\n\tconst { title, children } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\treturn (\r\n\r\n<React.Fragment>\r\n\t<Label label={title} />\r\n\t<div className={classes.component}>\r\n\t\t{children}\r\n\t</div>\r\n</React.Fragment>\r\n\r\n\t);\r\n}\r\n\r\nfunction LevelComponent(props) {\r\n\tlet { device, stateKey, stateVal, title, min, max, step, markSteps } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\tconst onChange = (e, val) => setLevel(val)\r\n\tconst onChangeCommitted = (e, val) => {\r\n\t\tsetLevel(val);\r\n\t\tdevice.setDeviceState(stateKey, val).catch(({ error }) => Log._('Function (defaults)', error.message, 'error', true, error.stack));\r\n\t}\r\n\t\r\n\tconst [level, setLevel] = useState(stateVal);\r\n\tuseEffect(() => setLevel(stateVal), [stateVal]);\r\n\t\r\n\t// default settings\r\n\tmin = min || 0;\r\n\tmax = max || 100;\r\n\tstep = step || 1;\r\n\tmarkSteps = markSteps || 11; // 0 to 10\r\n\tlet markStep = ((max-min)/(markSteps-1)) || 10;\r\n\treturn (\r\n\r\n<Component title={title || stateKey }>\r\n\t<Slider\r\n\t\tclasses={{ markLabel: classes.sliderMarkLabel }}\r\n\t\tonChange={onChange}\r\n\t\tonChangeCommitted={onChangeCommitted}\r\n\t\tvalue={level}\r\n\t\tvalueLabelDisplay=\"auto\"\r\n\t\tmarks={[...Array(markSteps).keys()].map(number => ({ 'value': min+number*markStep, 'label': min+number*markStep }))}\r\n\t\tmin={min}\r\n\t\tmax={max}\r\n\t\tstep={step}\r\n\t/>\r\n\r\n</Component>\r\n\r\n\t);\r\n}\r\n\r\n\r\n\r\nexport default {\r\n\tconfigurations: {\r\n\t\t_any: {\r\n\t\t\tvalue: (val) => val.toString(),\r\n\t\t\t//stateStyle\r\n\t\t\t//unit\r\n\t\t\t//icon\r\n\t\t\t//iconStyle\r\n\t\t\t//display\r\n\t\t\tstateStyle: {\r\n\t\t\t\t'true': {\r\n\t\t\t\t\t'color': '#090',\r\n\t\t\t\t\t'fontWeight': 'bold'\r\n\t\t\t\t},\r\n\t\t\t\t'false': {\r\n\t\t\t\t\t'color': '#999'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tbattery: {\r\n\t\t\tunit: ' %',\r\n\t\t\ticon: 'battery-medium'\r\n\t\t},\r\n\t\tdoor: {\r\n\t\t\ticon: {\r\n\t\t\t\t'true': 'door-open',\r\n\t\t\t\t'false': 'door-closed'\r\n\t\t\t},\r\n\t\t\tdisplay: {\r\n\t\t\t\t'true': 'open',\r\n\t\t\t\t'false': 'closed'\r\n\t\t\t},\r\n\t\t},\r\n\t\thumidity: {\r\n\t\t\tunit: ' %',\r\n\t\t\ticon: 'water-percent'\r\n\t\t},\r\n\t\tlevel: {\r\n\t\t\tunit: ' %'\r\n\t\t},\r\n\t\tposition: {\r\n\t\t\ticon: 'map-marker'\r\n\t\t},\r\n\t\tpower: {\r\n\t\t\tdisplay: {\r\n\t\t\t\t'true': 'on',\r\n\t\t\t\t'false': 'off'\r\n\t\t\t},\r\n\t\t\ticon: 'power'\r\n\t\t},\r\n\t\ttemperature: {\r\n\t\t\tunit: ' °C',\r\n\t\t\ticon: 'thermometer'\r\n\t\t},\r\n\t\ttrigger: {\r\n\t\t\tdisplay: {\r\n\t\t\t\t'true': 'on',\r\n\t\t\t\t'false': 'off'\r\n\t\t\t},\r\n\t\t\ticon: 'power'\r\n\t\t},\r\n\t\twind: {\r\n\t\t\tunit: ' km/h',\r\n\t\t\ticon: 'weather-windy'\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tLabel,\r\n\t\tComponent,\r\n\t\tLevelComponent,\r\n\t\t\r\n\t\tlevel: LevelComponent\r\n\t},\r\n\tactions: {\r\n\t\tAction,\r\n\t\tPowerAction,\r\n\t\tTriggerAction,\r\n\t\t\r\n\t\tpower: PowerAction,\r\n\t\ttrigger: TriggerAction,\r\n\t\tactions: SelectionAction\r\n\t}\r\n}","import i18n from '../controller/i18n'\r\n\r\n\r\nexport const Modules = {\r\n\t'AdapterStatus': {\r\n\t\t'de': 'Zeigt alle installierten Adapter mit ihren Instanzen und dem jeweiligen Status (active & alive, active & not connected, inactive) an.'\r\n\t},\r\n\t'Chart': {\r\n\t\t'de': 'Stellt historische Werte (z.B. aus ioBroker.history) grafisch als Chart mittels Chart.js dar.'\r\n\t},\r\n\t'DateTime': {\r\n\t\t'de': 'Das Modul dient der Anzeige des aktuellen Datums und Zeit.'\r\n\t},\r\n\t'Map': {\r\n\t\t'de': 'Zeigt eine Karte von OpenStreetMap.'\r\n\t},\r\n\t/*'Multimedia': {\r\n\t\t'de': 'Zeigt ein Multimedia-Player an (z. B. Spotify)'\r\n\t},*/\r\n\t'StateList': {\r\n\t\t'de': 'Zeigt eine Liste von States an.'\r\n\t},\r\n\t'StateListHorizontal': {\r\n\t\t'de': 'Zeigt eine Liste von States horizontal an'\r\n\t},\r\n\t/*'Weather': {\r\n\t\t'de': 'Zeigt die Wetter-Vorschau an.'\r\n\t}*/\r\n}\r\n\r\n\r\nlet _ = {}\r\nlet Settings = {}\r\nlet Configurations = {}\r\n\r\nObject.keys(Modules).forEach(module => {\r\n\t_[module] = require('./' + module + '/' + module).default;\r\n\t\r\n\t// load settings\r\n\tSettings[module] = require('./' + module + '/' + module + '.settings').default;\r\n\t\r\n\t// load configurations\r\n\tConfigurations[module] = require('./' + module + '/' + module + '.config').default;\r\n\t\r\n\t// load language file\r\n\ttry {\r\n\t\ti18n.setTranslation(i18n.getLanguage(), require('./' + module + '/i18n/' + i18n.getLanguage()).default);\r\n\t}\r\n\tcatch(err) {}\r\n});\r\n\r\nexport const ModuleSettings = Settings;\r\nexport const ModuleConfigurations = Configurations;\r\nexport default _;\r\n","var map = {\n\t\"./de\": 159,\n\t\"./de.js\": 159,\n\t\"./en\": 160,\n\t\"./en.js\": 160\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 486;","var map = {\n\t\"./de\": 163,\n\t\"./de.js\": 163,\n\t\"./en\": 164,\n\t\"./en.js\": 164\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 487;","var map = {\n\t\"./de\": 167,\n\t\"./de.js\": 167,\n\t\"./en\": 168,\n\t\"./en.js\": 168\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 488;","import i18n from '../controller/i18n'\r\n\r\n\r\nexport const Functions = {\r\n\tdefaults: {\r\n\t\t'en': 'Default settings',\r\n\t\t'de': 'Standard-Einstellungen',\r\n\t},\r\n\t\r\n\tblind: {\r\n\t\t'en': 'Shutters / Blinds',\r\n\t\t'de': 'Rollos / Jalousien',\r\n\t},\r\n\tdoor: {\r\n\t\t'en': 'Doors',\r\n\t\t'de': 'Türen',\r\n\t},\r\n\theating: {\r\n\t\t'en': 'Heating',\r\n\t\t'de': 'Heizung',\r\n\t},\r\n\tlight: {\r\n\t\t'en': 'lights',\r\n\t\t'de': 'Lichter',\r\n\t},\r\n\tlocation: {\r\n\t\t'en': 'locations',\r\n\t\t'de': 'Orte',\r\n\t},\r\n\tuser: {\r\n\t\t'en': 'users',\r\n\t\t'de': 'Benutzer',\r\n\t},\r\n\twindow: {\r\n\t\t'en': 'windows',\r\n\t\t'de': 'Fenster',\r\n\t}\r\n}\r\n\r\n\r\nlet _ = {}\r\n\r\nObject.keys(Functions).forEach(func => {\r\n\t\r\n\tif (func === 'defaults') {\r\n\t\t_[func] = require('./' + func).default;\r\n\t}\r\n\telse {\r\n\t\t_[func] = require('./' + func + '/' + func).default;\r\n\t}\r\n\t\r\n\t// load language file\r\n\ttry {\r\n\t\ti18n.setTranslation(i18n.getLanguage(), require('./' + func + '/i18n/' + i18n.getLanguage()).default);\r\n\t}\r\n\tcatch(err) {}\r\n});\r\n\r\nexport default _;\r\n","/**\r\n * Capitalize first letter of a word.\r\n *\r\n */\r\nexport default function ucFirst(str) {\r\n\tif (!str) {\r\n\t\treturn '';\r\n\t}\r\n\t\r\n\treturn str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\n\r\n/**\r\n * Move a key in an object up or down (\"sort\")\r\n *\r\n */\r\nexport function moveKeyInObject(obj, key, action) {\r\n\t\r\n\t// sort array\r\n\tlet sorted = moveKeyInArray(Object.keys(obj), key, action);\r\n\t\r\n\t// build new object\r\n\tlet next = {}\r\n\tsorted.map(key => next[key] = obj[key]);\r\n\treturn next;\r\n}\r\n\r\n/**\r\n * Move a key in an object up or down (\"sort\")\r\n *\r\n */\r\nexport function moveKeyInArray(arr, keyOrIndex, action) {\r\n\t\r\n\tlet index = typeof keyOrIndex === 'string' ? arr.indexOf(keyOrIndex) : keyOrIndex;\r\n\tlet element = arr[index];\r\n\t\r\n\t// move up\r\n\tif (action === 'up' && index-1 >= 0) {\r\n\t  arr.splice(index-1, 0, element);\r\n\t  arr.splice(index+1, 1);\r\n\t}\r\n\t\r\n\t// move down\r\n\telse if (action === 'down' && index+1 < arr.length) {\r\n\t  arr.splice(index+2, 0, element);\r\n\t  arr.splice(index, 1);\r\n\t}\r\n\t\r\n\treturn arr;\r\n}\r\n\r\n/**\r\n * Sort array or object by specific key\r\n *\r\n */\r\nexport function sort(arrayOrObject, key) {\r\n\treturn Array.isArray(arrayOrObject) ? sortArray(arrayOrObject, key) : sortObject(arrayOrObject, key);\r\n}\r\n\r\n/**\r\n * Sort array by specific key\r\n *\r\n */\r\nexport function sortArray(arr, key) {\r\n\t\r\n\tarr = arr.slice(0);\r\n\tarr.sort((a, b) => {\r\n\t\tlet x = a[key].toLowerCase();\r\n\t\tlet y = b[key].toLowerCase();\r\n\t\treturn x < y ? -1 : x > y ? 1 : 0;\r\n\t});\r\n\t\r\n\treturn arr;\r\n}\r\n\r\n/**\r\n * Sort object by specific key\r\n *\r\n */\r\nexport function sortObject(obj, key) {\r\n\t\r\n\treturn Object\r\n\t\t.entries(obj)\r\n\t\t.sort((a, b) => {\r\n\t\t\tif(a[1][key] < b[1][key]) { return -1; }\r\n\t\t\tif(a[1][key] > b[1][key]) { return 1; }\r\n\t\t\treturn 0;\r\n\t\t})\r\n\t\t.reduce((_sortedObj, [k,v]) => ({\r\n\t\t\t..._sortedObj, \r\n\t\t\t[k]: v\r\n\t\t}), {});\r\n}\r\n\r\n/**\r\n * \r\n *\r\n */\r\nexport function joinConfig(UserConfig, AdapterConfig) {\r\n\t\r\n\tlet config = {}\r\n\tAdapterConfig.forEach(param => {\r\n\t\tconfig[param.parameter] = UserConfig[param.parameter] || param.val;\r\n\t\t\r\n\t\tif (param.json === true && config[param.parameter] && typeof config[param.parameter] === 'string') {\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tconfig[param.parameter] = JSON.parse(config[param.parameter]);\r\n\t\t\t}\r\n\t\t\tcatch(err) {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t\r\n\treturn config;\r\n}\r\n","var map = {\n\t\"./de\": 182,\n\t\"./de.js\": 182,\n\t\"./en\": 183,\n\t\"./en.js\": 183\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 651;","var map = {\n\t\"./de\": 186,\n\t\"./de.js\": 186,\n\t\"./en\": 187,\n\t\"./en.js\": 187\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 652;","var map = {\n\t\"./de\": 190,\n\t\"./de.js\": 190,\n\t\"./en\": 191,\n\t\"./en.js\": 191\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 653;","var map = {\n\t\"./de\": 194,\n\t\"./de.js\": 194,\n\t\"./en\": 195,\n\t\"./en.js\": 195\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 654;","module.exports = __webpack_public_path__ + \"static/media/AdapterStatus1.38536619.png\";","import EventEmitter from 'events'\r\nimport io from 'socket.io-client'\r\n\r\n\r\n/**\r\n * Class for Socket.io conncetion handling.\r\n *\r\n * @description This is based on an implementation @GermanBluefox (https://github.com/GermanBluefox), see https://github.com/ioBroker/adapter-react/blob/master/src/Connection.js\r\n *\t\t\t\tOnly required functions are taken from source class. Major change is that all events are emitted, so proper error handling is possible in the App.\r\n *\r\n *\r\n * @param\t{String}\t\turl\r\n * @param\t{Object}\t\toptions\r\n * @return\t{Socket}\r\n * @see https://github.com/ioBroker/ioBroker.socketio/blob/master/lib/socket.js https://github.com/ioBroker/ioBroker.js-controller/blob/master/lib/adapter.js#L635\r\n *\r\n */\r\nexport default class Socket extends EventEmitter {\r\n\t\r\n\tconstructor(url = null, options = {}) {\r\n\t\tsuper();\r\n\t\t\r\n\t\t// socket connection\r\n\t\tthis.socket = io(url, { timeout: 10000, ...options, query: 'ws=true' });\r\n\t\tthis.statesSubscribes = {}; // subscribed states\r\n\t\t\r\n\t\t/*\r\n\t\t * API events\r\n\t\t * @see https://github.com/socketio/socket.io-client/blob/HEAD/docs/API.md#socket\r\n\t\t *\r\n\t\t */\r\n\t\t// connect\r\n\t\tthis.socket.on('connect', () => this.emit('connect'));\r\n\t\t\r\n\t\t// reconnect: Fired upon a successful reconnection.\r\n\t\tthis.socket.on('reconnect', attempts => this.emit('reconnect', attempts));\r\n\t\t\r\n\t\t// reconnect_error: Fired upon a reconnection attempt error.\r\n\t\tthis.socket.on('reconnect_error', error => this.emit('error', { 'type': 'reconnect', 'event': 'reconnect_error', 'message': (error && error.message) || 'Reconnection error' }));\r\n\t\t\r\n\t\t// reconnect_failed: Fired upon a reconnection attempt error.\r\n\t\tthis.socket.on('reconnect_failed', () => this.emit('error', { 'type': 'reconnect', 'event': 'reconnect_failed', 'message': 'Reconnection failed' }));\r\n\t\t\r\n\t\t// discconect\r\n\t\tthis.socket.on('disconnect', reason => this.emit('disconnect', reason));\r\n\t\t\r\n\t\t// error\r\n\t\tthis.socket.on('error', error => this.emit('error', { 'type': 'error', 'event': 'error', 'message': (error && error.message) || 'Unknown error' }));\r\n\t\t\r\n\t\t// connect_failed\r\n\t\tthis.socket.on('connect_failed', error => this.emit('error', { 'type': 'connect', 'event': 'connect_error', 'message': (error && error.message) || 'Connection error' }));\r\n\t\t\r\n\t\t// connect_error\r\n\t\tthis.socket.on('connect_error', error => this.emit('error', { 'type': 'connect', 'event': 'connect_error', 'message': (error && error.message) || 'Connection error' }));\r\n\t\t\r\n\t\t// connect_timeout\r\n\t\tthis.socket.on('connect_timeout', () => this.emit('error', { 'type': 'connect', 'event': 'connect_timeout', 'message': 'Connect ran into timeout' }));\r\n\t\t\r\n\t\t/*\r\n\t\t * ioBroker events\r\n\t\t *\r\n\t\t */\r\n\t\tthis.socket.on('stateChange', (id, state) => setTimeout(() => this.stateChange(id, state), 0));\r\n\t}\r\n\t\r\n\t/**\r\n\t * Subscribes to multiple states by setting a callback.\r\n\t *\r\n\t */\r\n\t_getPatternFromId(id) {\r\n\t\tlet pattern = id\r\n\t\t\t.replace(/\\./g, '\\\\.')\r\n\t\t\t.replace(/\\*/g, '.*')\r\n\t\t\t.replace(/\\(/g, '\\\\(')\r\n\t\t\t.replace(/\\)/g, '\\\\)')\r\n\t\t\t.replace(/\\+/g, '\\\\+')\r\n\t\t\t.replace(/\\[/g, '\\\\[');\r\n\r\n\t\tif (pattern.indexOf('*') === -1) {\r\n\t\t\tpattern += '$';\r\n\t\t}\r\n\t\t\r\n\t\treturn pattern;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Subscribes to multiple states by setting a callback.\r\n\t *\r\n\t */\r\n\tsubscribeStates(ids, cb) {\r\n\t\tids = Array.isArray(ids) ? ids : [ids];\r\n\t\tids.forEach(id => this.subscribeState(id, cb));\r\n\t}\r\n\t\r\n\t/**\r\n\t * Subscribes to a state by setting a callback.\r\n\t *\r\n\t */\r\n\tsubscribeState(id, cb) {\r\n\t\t\r\n\t\tif (!this.statesSubscribes[id]) {\r\n\t\t\tlet reg = this._getPatternFromId(id);\r\n\t\t\tthis.statesSubscribes[id] = { reg: new RegExp(reg), cbs: [cb] };\r\n\t\t\t\r\n\t\t\tif (this.socket.connected) {\r\n\t\t\t\tthis.socket.emit('subscribe', id);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.statesSubscribes[id].cbs.indexOf(cb) === -1 && this.statesSubscribes[id].cbs.push( );\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Fires pre-registered callbacks (via subscribeState) upon state change.\r\n\t *\r\n\t */\r\n\tstateChange(id, state) {\r\n\t\t\r\n\t\tid = id ? id.replace(/[\\s'\"]/g, '_') : '';\r\n\t\tfor (const task in this.statesSubscribes) {\r\n\t\t\tif (this.statesSubscribes.hasOwnProperty(task) && this.statesSubscribes[task].reg.test(id)) {\r\n\t\t\t\tthis.statesSubscribes[task].cbs.forEach(cb => cb(id, state));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets an object view.\r\n\t *\r\n\t */\r\n\tgetAdapterInstances(adapter, cb) {\r\n\t\t\r\n\t\tif (typeof adapter === 'function') {\r\n\t\t\tcb = adapter;\r\n\t\t\tadapter = null;\r\n\t\t}\r\n\t\t\r\n\t\treturn this.getObjectView('system', 'instance', { 'startkey': 'system.adapter.' + (adapter ? adapter + '.' : ''), 'endkey': 'system.adapter.' + (adapter ? adapter + '.999' : 'zzz') }, cb);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets an object.\r\n\t *\r\n\t */\r\n\tgetObject(id, cb) {\r\n\t\t\r\n\t\tif (!cb) {\r\n\t\t\treturn new Promise((resolve, reject) => this.getObject(id, (err, obj) => err ? reject(err) : resolve(obj)));\r\n\t\t} else {\r\n\t\t\tthis.socket.emit('getObject', id, cb);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets an object view.\r\n\t *\r\n\t */\r\n\tgetObjectView(design, search, params, cb) {\r\n\t\t\r\n\t\tif (!cb) {\r\n\t\t\treturn new Promise((resolve, reject) => this.getObjectView(design, search, params, err => err ? reject(err) : resolve()));\r\n\t\t} else {\r\n\t\t\tthis.socket.emit('getObjectView', design, search, params, cb);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets a remote ressource.\r\n\t *\r\n\t */\r\n\tgetRemoteResource(url, cb) {\r\n\t\t\r\n\t\tif (!cb) {\r\n\t\t\treturn new Promise((resolve, reject) => this.getRemoteResource(url, (err, state) => err ? reject(err) : resolve(state)));\r\n\t\t} else {\r\n\t\t\tthis.socket.emit('httpGet', url, cb);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets a state.\r\n\t *\r\n\t */\r\n\tgetState(id, cb) {\r\n\t\t\r\n\t\tif (!cb) {\r\n\t\t\treturn new Promise((resolve, reject) => this.getState(id, (err, state) => err ? reject(err) : resolve(state)));\r\n\t\t} else {\r\n\t\t\tthis.socket.emit('getState', id, cb);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets multiple states at once.\r\n\t *\r\n\t */\r\n\tgetStates(pattern, cb) {\r\n\t\t\r\n\t\tif (!cb) {\r\n\t\t\treturn new Promise((resolve, reject) => this.getStates(pattern, (err, state) => err ? reject(err) : resolve(state)));\r\n\t\t} else {\r\n\t\t\tthis.socket.emit('getStates', pattern, cb);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets the state history.\r\n\t *\r\n\t */\r\n\tgetStateHistory(id, options, cb) {\r\n\t\t\r\n\t\tif (typeof options === 'function') {\r\n\t\t\tcb = options;\r\n\t\t\toptions = {};\r\n\t\t}\r\n\t\t\r\n\t\tif (!cb) {\r\n\t\t\treturn new Promise((resolve, reject) => this.getStateHistory(id, options, (err, state) => err ? reject(err) : resolve(state)));\r\n\t\t} else {\r\n\t\t\tthis.socket.emit('getHistory', id, options, cb);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Sets a state.\r\n\t *\r\n\t */\r\n\tsetState(id, val, cb) {\r\n\t\t\r\n\t\tif (!cb) {\r\n\t\t\treturn new Promise((resolve, reject) => this.setState(id, val, err => err ? reject(err) : resolve()));\r\n\t\t} else {\r\n\t\t\tthis.socket.emit('setState', id, val, cb);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Unsubscribe from multiple states.\r\n\t *\r\n\t */\r\n\tunsubscribeStates(ids) {\r\n\t\tids = Array.isArray(ids) ? ids : [ids];\r\n\t\tids.forEach(id => this.unsubscribeState(id));\r\n\t}\r\n\t\r\n\t/**\r\n\t * Unsubscribe a state.\r\n\t *\r\n\t */\r\n\tunsubscribeState(id) {\r\n\t\t\r\n\t\tif (this.statesSubscribes[id] && this.socket.connected) {\r\n\t\t\tthis.socket.emit('unsubscribe', id);\r\n\t\t\tdelete this.statesSubscribes[id];\r\n\t\t}\r\n\t}\r\n}\r\n","import Socket from './Socket'\r\n\r\n/**\r\n * Connection\r\n +\r\n *\r\n */\r\nexport default class Connection {\r\n\r\n\t/*\r\n\t * URL\r\n\t */\r\n\tstatic url = window.location.hostname;\r\n\t\r\n\t/*\r\n\t * Connection\r\n\t */\r\n\tstatic connection = null;\r\n\t\r\n\t/**\r\n\t * Connects to the Socket.\r\n\t *\r\n\t * @param\t{String}\turl\r\n\t * @param\t{Array}\t\tlisteners\r\n\t * @return\t{Connection}\r\n\t */\r\n\tstatic connect(url = null, listeners = null) {\r\n\t\t\r\n\t\t// set URL\r\n\t\tif (url) {\r\n\t\t\tConnection.setUrl = url;\r\n\t\t}\r\n\t\t\r\n\t\t// connect\r\n\t\tConnection.connection = new Socket(Connection.url);\r\n\t\t\r\n\t\t// set listeners\r\n\t\tif (listeners) {\r\n\t\t\tConnection.setListeners = listeners;\r\n\t\t}\r\n\t\t\r\n\t\t// return connection\r\n\t\treturn Connection.connection;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets the current Connection.\r\n\t *\r\n\t * @param\tvoid\r\n\t * @return\t{Connection}\tCurrent Connection\r\n\t */\r\n\tstatic get getConnection() {\r\n\t\treturn Connection.connection || null;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Get the current URL.\r\n\t *\r\n\t * @param\tvoid\r\n\t * @return\t{String}\tURL\r\n\t */\r\n\tstatic get getUrl() {\r\n\t\treturn Connection.url;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Reconnect to the Socket.\r\n\t *\r\n\t * @param\tvoid\r\n\t * @return\t{String}\tURL\r\n\t */\r\n\tstatic get reconnect() {\r\n\t\treturn Connection.connect;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Sets an event listener.\r\n\t *\r\n\t * @param\t{Object}\t\t\tlistener\r\n\t * @param\t{String}\t\t\tlistener.event\r\n\t * @param\t{Function}\t\t\tlistener.callback\r\n\t * @return\tvoid\r\n\t */\r\n\tstatic set setListener(listener) {\r\n\t\tConnection.connection.on(listener.event, listener.callback);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Set event listeners.\r\n\t *\r\n\t * @param\t{Array<Object>}\t\tlisteners\r\n\t * @return \t{Boolean}\r\n\t */\r\n\tstatic set setListeners(listeners = []) {\r\n\t\t\r\n\t\tif (!listeners || !Array.isArray(listeners)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tlisteners.forEach(listener => Connection.setListener = listener);\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Set a new URL (has to be set before calling connect()).\r\n\t *\r\n\t * @param\t{String}\tURL\r\n\t * @return\tvoid\r\n\t */\r\n\tstatic set setUrl(url) {\r\n\t\tConnection.url = url;\r\n\t}\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/Chart1.cb44dbbf.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/StateList2.7819d286.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/StateList4.5695145e.png\";","module.exports = \"data:image/png;base64,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\"","var map = {\n\t\"./AdapterStatus/AdapterStatus.settings\": 274,\n\t\"./Chart/Chart.settings\": 277,\n\t\"./DateTime/DateTime.settings\": 278,\n\t\"./Map/Map.settings\": 279,\n\t\"./Multimedia/Multimedia.settings\": 281,\n\t\"./StateList/StateList.settings\": 282,\n\t\"./StateListHorizontal/StateListHorizontal.settings\": 284,\n\t\"./Weather/Weather.settings\": 286\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 672;","var map = {\n\t\"./AdapterStatus/AdapterStatus.config\": 273,\n\t\"./Chart/Chart.config\": 276,\n\t\"./DateTime/DateTime.config\": 196,\n\t\"./Map/Map.config\": 197,\n\t\"./Multimedia/Multimedia.config\": 280,\n\t\"./StateList/StateList.config\": 140,\n\t\"./StateListHorizontal/StateListHorizontal.config\": 283,\n\t\"./Weather/Weather.config\": 285\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 673;","import React from 'react'\r\nimport i18n from '../../controller/i18n'\r\n\r\nimport AddIcon from '@material-ui/icons/AddCircle'\r\nimport InputButton from '@material-ui/core/Button'\r\n\r\nimport Field from './Field'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles((theme) => ({\r\n\tInputButton: {\r\n\t\twidth: '100%'\r\n\t}\r\n}));\r\n\r\n\r\n/*\r\n *\r\n */\r\nexport default function Button(props) {\r\n\tconst { id, label, color, variant, disabled, startIcon, onClick } = props;\r\n\tconst classes = useStyles(props);\r\n\t\r\n\treturn (\r\n\t\t<Field {...props}>\r\n\t\t\t<InputButton\r\n\t\t\t\tkey={id}\r\n\t\t\t\tclasses={{ root: classes.InputButton }}\r\n\t\t\t\tvariant={variant || 'contained'}\r\n\t\t\t\tcolor={color || 'primary'}\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\tstartIcon={startIcon || <AddIcon />}\r\n\t\t\t\tonClick={onClick}\r\n\t\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t{i18n.t(label)}\r\n\t\t\t</InputButton>\r\n\t\t</Field>\r\n\r\n\t)\r\n}","import TextInput from './Text'\r\n\r\n\r\n/*\r\n *\r\n */\r\nexport default function NumberInput(props) {\r\n\treturn TextInput({ ...props, type: 'number' });\r\n}","import React from 'react'\r\nimport i18n from '../../controller/i18n'\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\n\r\nimport Text from './Text'\r\n\r\n\r\n/*\r\n *\r\n */\r\nexport default function InputSelect(props) {\r\n\tconst { id, selection, val } = props;\r\n\t\r\n\tlet value = '';\r\n\tconst menuOptions = selection.map(option => {\r\n\t\tconst key = Object.keys(option).shift();\r\n\t\t\r\n\t\tif (key === val) {\r\n\t\t\tvalue = val;\r\n\t\t}\r\n\t\t\r\n\t\treturn <MenuItem key={'MenuItem-' + id + '-' + key} value={key}>{i18n.t(option[key])}</MenuItem>\r\n\t});\r\n\t\r\n\treturn (\r\n\t\t<Text\r\n\t\t\t{...props}\r\n\t\t\tval={value}\r\n\t\t\tselect={true}\r\n\t\t\t>\r\n\t\t\t\r\n\t\t\t{menuOptions}\r\n\t\t</Text>\r\n\t);\r\n}","var map = {\n\t\"./de\": 375,\n\t\"./de.js\": 375\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 677;","import React from 'react'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport Paper from '@material-ui/core/Paper'\r\n\r\nimport i18n from '../../controller/i18n'\r\nimport Log from '../../controller/Log'\r\n\r\nimport Dialog from '../../components/Dialog'\r\nimport EnhancedTable from '../../components/EnhancedTable'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles'\r\nconst styles = theme => ({\r\n\tpinToTop: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: 0,\r\n\t\tleft: 0\r\n\t}\r\n});\r\n\r\n\r\nconst headCells = [\r\n\t{ id: 'time', disablePadding: false, type: 'Date', label: i18n.t('Time'), noWrap: true },\r\n\t{ id: 'module', disablePadding: false, label: i18n.t('Module'), noWrap: true },\r\n\t{ id: 'criticality', disablePadding: false, label: i18n.t('Criticality'), noWrap: true },\r\n\t{ id: 'message', disablePadding: false, label: i18n.t('Message') },\r\n\t{ id: 'stack', disablePadding: false, type: 'Object', label: i18n.t('Stack Trace') },\r\n];\r\n\r\nconst rowStyles = { // https://material-ui.com/components/alert/#simple-alerts\r\n\t'criticality': {\r\n\t\t'debug': {\r\n\t\t\tcolor: 'rgba(0, 0, 0, 0.4)',\r\n\t\t\tbackgroundColor: 'rgba(0, 0, 0, 0.1)'\r\n\t\t},\r\n\t\t'info': {\r\n\t\t\tcolor: 'rgb(13, 60, 97)',\r\n\t\t\tbackgroundColor: 'rgb(232, 244, 253)'\r\n\t\t},\r\n\t\t'warn': {\r\n\t\t\tcolor: 'rgb(102, 60, 0)',\r\n\t\t\tbackgroundColor: 'rgb(255, 244, 229)'\r\n\t\t},\r\n\t\t'error': {\r\n\t\t\tcolor: 'rgb(97, 26, 21)',\r\n\t\t\tbackgroundColor: 'rgb(253, 236, 234)'\r\n\t\t},\r\n\t\t'success': {\r\n\t\t\tcolor: 'rgb(30, 70, 32)',\r\n\t\t\tbackgroundColor: 'rgb(237, 247, 237)'\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass LogsPage extends React.Component {\r\n\t\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\tconst logs = Log.getLog();\r\n\t\treturn (\r\n\r\n<Dialog\r\n\tclasses={{ CustomDialog: classes.pinToTop }}\r\n\tfullWidth={true}\r\n\tmaxWidth={'xl'}\r\n\t\r\n\topen={(this.props.page === 'logs')}\r\n\tonClose={() => this.props.navigate('home')}\r\n\t\r\n\theader=\"Logs\"\r\n\tactions={\r\n\t\t<Button autoFocus onClick={() => this.props.navigate('home')} color=\"primary\">\r\n\t\t\t{i18n.t('Close')}\r\n\t\t</Button>\r\n\t}\r\n\t>\r\n\t\r\n\t<Paper className={classes.paper}>\r\n\t\t<EnhancedTable\r\n\t\t\theadCells={headCells}\r\n\t\t\trows={logs}\r\n\t\t\trowStyles={rowStyles}\r\n\t\t\t\r\n\t\t\tselectable={false}\r\n\t\t\tsortable={true}\r\n\t\t\ttoolbar={false}\r\n\t\t\tstickyHeader\r\n\t\t\t/>\r\n\t\t\r\n\t</Paper>\r\n\t\r\n</Dialog>\r\n\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(LogsPage);\r\n","export default {\r\n\t\"iobrokerWebAdapterUrl\": \"https://192.168.178.29:8082\"\r\n}","import React from 'react'\r\n\r\nimport Log from '../controller/Log'\r\nimport Grid from '@material-ui/core/Grid'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles(theme => ({\r\n\tgridContainer: {\r\n\t\tpaddingLeft: theme.spacing(1),\r\n\t\t[theme.breakpoints.down('md')]: {\r\n\t\t\tpaddingLeft: theme.spacing(0.4)\r\n\t\t}\r\n\t}\r\n}));\r\n\r\n\r\nexport default function GridContainer(props) {\r\n\tconst { contents = {} } = props;\r\n\t\r\n\tconst classes = useStyles();\r\n\tconst columns = Object.keys(contents).length;\r\n\t\r\n\tlet grid = [];\r\n\tfor (let column = 1; column <= columns; column++) {\r\n\t\t\r\n\t\tif (!contents[column]) {\r\n\t\t\tLog._('GridContainer', 'No content for column #' + column + '!', 'warn');\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\t\r\n\t\tgrid.push(\r\n\t\t\t<Grid key={column} item\t\t\t\t// @see https://material-ui.com/customization/breakpoints/\r\n\t\t\t\txs={12}\t\t\t\t\t\t\t//    0 -  600px\r\n\t\t\t\tsm={6}\t\t\t\t\t\t\t//  600 -  960px\r\n\t\t\t\tmd={6}\t\t\t\t\t\t\t//  960 - 1280px\r\n\t\t\t\tlg={Math.round(12/columns)}\t\t// 1280 - 1920px\r\n\t\t\t\txl={Math.round(12/columns)}\t\t// \t\t> 1920px\r\n\t\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t{contents[column]}\r\n\t\t\t</Grid>\r\n\t\t);\r\n\t}\r\n\t\r\n\treturn (\r\n\r\n<Grid container spacing={0} className={classes.gridContainer}>\r\n\t{grid}\r\n</Grid>\r\n\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\r\nimport IconButton from '@material-ui/core/IconButton'\r\n\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\n\r\n\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles(theme => ({\r\n\tsuccess: {\r\n\t\tbackgroundColor: green[600],\r\n\t},\r\n\terror: {\r\n\t\tbackgroundColor: theme.palette.error.dark,\r\n\t},\r\n\tinfo: {\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t},\r\n\twarning: {\r\n\t\tbackgroundColor: amber[700],\r\n\t},\r\n\ticon: {\r\n\t\tfontSize: 20,\r\n\t},\r\n\ticonVariant: {\r\n\t\topacity: 0.9,\r\n\t\tmarginRight: theme.spacing(1),\r\n\t},\r\n\tmessage: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n}));\r\n\r\n\r\nconst variantIcon = {\r\n\tsuccess: CheckCircleIcon,\r\n\twarning: WarningIcon,\r\n\terror: ErrorIcon,\r\n\tinfo: InfoIcon,\r\n};\r\n\r\n\r\nexport default function StatusSnackbar(props) {\r\n\tconst classes = useStyles();\r\n\tlet { className, open, autoHideDuration, message, closeButton, onClose, variant, ...other } = props;\r\n\tconst Icon = variantIcon[variant];\r\n\t\r\n\topen = open || true;\r\n\tautoHideDuration = autoHideDuration || null;\r\n\treturn (\r\n\r\n<Snackbar\r\n\tanchorOrigin={{\r\n\t\tvertical: 'bottom',\r\n\t\thorizontal: 'center',\r\n\t}}\r\n\topen={open}\r\n\tautoHideDuration={autoHideDuration}\r\n\tonClose={onClose}\r\n\t>\r\n\t<SnackbarContent\r\n\t\tclassName={clsx(classes[variant], className)}\r\n\t\tmessage={\r\n\t\t\t<span id=\"client-snackbar\" className={classes.message}>\r\n\t\t\t\t<Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n\t\t\t\t{message}\r\n\t\t\t</span>\r\n\t\t}\r\n\t\taction={closeButton && [\r\n\t\t\t<IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n\t\t\t\t<CloseIcon className={classes.icon} />\r\n\t\t\t</IconButton>,\r\n\t\t]}\r\n\t\t{...other}\r\n\t\t/>\r\n\t\t\r\n</Snackbar>\r\n\r\n\t);\r\n}","import React, { useState, useEffect } from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport i18n from '../controller/i18n'\r\n\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/tooltip'\r\nimport Badge from '@material-ui/core/Badge'\r\nimport NotificationsIcon from '@material-ui/icons/Notifications'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport DonateIcon from '@material-ui/icons/Favorite'\r\nimport SettingsIcon from '@material-ui/icons/Settings'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles(theme => ({\r\n\tappBar: {\r\n\t\tflexGrow: 1,\r\n\t\tboxShadow: 'none',\r\n\t\ttransform: 'none',\r\n\t},\r\n\ttoolbar: {\r\n\t\tbackgroundColor: theme.palette.primary.main\r\n\t},\r\n\tmenuButton: {\r\n\t\tmarginRight: theme.spacing(2)\r\n\t},\r\n\ttitle: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tnotConnected: {\r\n\t\tcolor: '#f30'\r\n\t}\r\n}));\r\n\r\n\r\nexport default function TopBar(props) {\r\n\tconst classes = useStyles();\r\n\tconst { children, title, connectionStatus, toggleDrawer, navigate, notifications } = props;\r\n\t\r\n\tconst connectionStatusIcon = connectionStatus === true ? 'lan-connect' : (connectionStatus === 'pending' ? 'lan-pending' : 'lan-disconnect');\r\n\tconst connectionStatusTooltip = connectionStatus === true ? i18n.t('Connected to ioBroker') : (connectionStatus === 'pending' ? i18n.t('Not connected to ioBroker! Reconnecting..') : i18n.t('Not connected to ioBroker! Connection failed!'));\r\n\t\r\n\treturn (\r\n\r\n<AppBar id=\"appBar\" position=\"static\" className={classes.appBar}>\r\n\r\n\t<Toolbar className={classes.toolbar}>\r\n\t\t\r\n\t\t<Typography variant=\"h6\" className={classes.title}>\r\n\t\t\t{title}\r\n\t\t</Typography>\r\n\t\t\r\n\t\t<Hidden smDown>\r\n\t\t\t{connectionStatus !== true && <IconButton classes={{ root: classes.notConnected }} color=\"inherit\" onClick={() => navigate('logs')}>\r\n\t\t\t\t<Tooltip title={i18n.t(connectionStatusTooltip)}>\r\n\t\t\t\t\t<span className={\"mdi mdi-\" + connectionStatusIcon}></span>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t</IconButton>}\r\n\t\t\t<IconButton color=\"inherit\" onClick={() => navigate('donate')}>\r\n\t\t\t\t<DonateIcon />\r\n\t\t\t</IconButton>\r\n\t\t\t<IconButton color=\"inherit\" onClick={() => navigate('configuration')}>\r\n\t\t\t\t<SettingsIcon />\r\n\t\t\t</IconButton>\r\n\t\t</Hidden>\r\n\t\t\r\n\t\t{/*\r\n\t\t<IconButton color=\"inherit\" onClick={() => toggleDrawer('notificationDrawer', true)}>\r\n\t\t\t<Badge badgeContent={notifications} color=\"secondary\">\r\n\t\t\t\t<NotificationsIcon />\r\n\t\t\t</Badge>\r\n\t\t</IconButton>\r\n\t\t*/}\r\n\t\t\r\n\t</Toolbar>\r\n\t\r\n\t{children}\r\n</AppBar>\r\n\r\n\t);\r\n}\r\n","/*\r\n * by QoP <https://stackoverflow.com/users/4484822/qop>\r\n * @see https://stackoverflow.com/questions/36862334/get-viewport-window-height-in-reactjs\r\n */\r\nimport { useState, useEffect } from 'react';\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height\r\n  };\r\n}\r\n\r\nexport default function useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}\r\n","import React, { useState, useEffect, useRef, useCallback } from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport Settings from '../controller/Settings'\r\nimport useWindowDimensions from '../helpers/useWindowDimensions'\r\n\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport Box from '@material-ui/core/Box'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles(theme => ({\r\n\ticon: {\r\n\t\t...theme.components.icon,\r\n\t\tcolor: '#fff',\r\n\t\tpaddingBottom: '6px',\r\n\t\twidth: '1em',\r\n\t\theight: '1em',\r\n\t\tdisplay: 'inline-block',\r\n\t\tfontSize: '1.5rem',\r\n\t\ttransition: 'fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\r\n\t\tflexShrink: 0,\r\n\t\tuserSelect: 'none'\r\n\t},\r\n\ttabs: {\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t\tpaddingLeft: theme.spacing(),\r\n\t\tcolor: '#fff',\r\n\t\twidth: 'calc(100% - ' + theme.spacing() + 'px)',\r\n\t\tzIndex: 101,\r\n\t\tborderBottom: '5px solid #eee'\r\n\t},\r\n\tfixed: {\r\n\t\tposition: 'fixed',\r\n\t\ttop: 0\r\n\t},\r\n\tindicator: {\r\n\t\tbackgroundColor: '#fff',\r\n\t},\r\n\tfullscreen: {\r\n\t\tmarginLeft: -theme.spacing(),\r\n\t\tmarginTop: '-5px',\r\n\t},\r\n\tgrid: {\r\n\t\tpaddingBottom: '30px'\r\n\t}\r\n}));\r\n\r\n\r\nexport default function TabBar(props) {\r\n\tlet { tabs, selectedTab, onSelectTab } = props;\r\n\tconst classes = useStyles();\r\n\tlet tabBarProps = useRef({});\r\n\t\r\n\t// tab\r\n\tconst [tab, setTab] = useState(selectedTab);\r\n\tconst handleChange = (event, tab) => {\r\n\t\tonSelectTab(tab);\r\n\t\tsetTab(tab);\r\n\t}\r\n\t\r\n\t// scroll\r\n\tconst [fixed, setFixed] = useState(false);\r\n\tconst handleScroll = useCallback(() => {\r\n\t\tconst threshold = (tabBarProps.current.top + tabBarProps.current.height - 53);\r\n\t\tconst fixed = window.scrollY >= threshold;\r\n\t\t\r\n\t\tsetFixed(prevFixed => {\r\n\t\t\tif (prevFixed !== fixed) {\r\n\t\t\t\tdocument.getElementById('root').style.paddingTop = fixed ? (threshold-5-8) + 'px' : 0;\r\n\t\t\t\treturn fixed;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn prevFixed;\r\n\t\t});\r\n\t\t\r\n\t}, [tabBarProps]);\r\n\r\n\tuseEffect(() => setTab(selectedTab), [selectedTab]);\r\n\t\r\n\tuseEffect(() => {\r\n\t\ttabBarProps.current = {\r\n\t\t\ttop: document.getElementById('tabBar').offsetTop,\r\n\t\t\theight: document.getElementById('tabBar').offsetHeight\r\n\t\t}\r\n\t\t\r\n\t\twindow.addEventListener('scroll', handleScroll);\r\n\t\treturn () => window.removeEventListener('scroll', handleScroll, 0);\r\n\t\t\r\n\t}, [handleScroll]);\r\n\t\r\n\t// render tabs\r\n\tconst renderedTabs = tabs.map((tab, i) => {\r\n\t\treturn (\r\n\t\t\t<Tab\r\n\t\t\t\tkey={'tab' + i}\r\n\t\t\t\ticon={<span className={clsx(classes.icon, 'mdi mdi-' + tab.icon)}></span>}\r\n\t\t\t\tlabel={!fixed && Settings.getSetting('tabsHideLabels') !== true && tab.title ? tab.title : null}\r\n\t\t\t\t/>\r\n\t\t);\r\n\t});\r\n\t\r\n\treturn (\r\n\r\n<Tabs\r\n\tid=\"tabBar\"\r\n\tvalue={tab}\r\n\tonChange={handleChange}\r\n\tvariant=\"scrollable\"\r\n\tclasses={{\r\n\t\troot: clsx(classes.tabs, fixed && classes.fixed),\r\n\t\tindicator: classes.indicator\r\n\t}}>\r\n\t\r\n\t{renderedTabs}\r\n</Tabs>\r\n\r\n\t);\r\n}\r\n\r\n\r\nexport function TabPanel(props) {\r\n\tconst { children, selectedTab, renderedTab, fullscreen } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\t\r\n\t// get map height based on viewport\r\n\tconst { height } = useWindowDimensions();\r\n\tconst [mapHeight, setMapHeight] = useState(height);\r\n\tlet topBarHeight = useRef({});\r\n\t\r\n\tuseEffect(() => {\r\n\t\ttopBarHeight.current = document.getElementById('appBar').offsetHeight;\r\n\t\tsetMapHeight(height-topBarHeight.current+5);\r\n\t\t\r\n\t}, [height]);\r\n\t\r\n\t/*\r\n\t * Some components need to be visible upon loading, so proper initialise.\r\n\t * Due to the 'hidden' attribute though, they might be hidden.\r\n\t * This is a workaround to initially show everything for a short period of time and then hide according to tab settings.\r\n\t *\r\n\t */\r\n\tconst [hidden, setHidden] = useState(null);\r\n\tuseEffect(() => {\r\n\t\tsetTimeout(() => setHidden(selectedTab !== renderedTab), 10);\r\n\t\t\r\n\t}, [selectedTab, renderedTab]);\r\n\t\r\n\treturn (\r\n\r\n<Box\r\n\trole=\"tabpanel\"\r\n\thidden={hidden}\r\n\tid={'tabpanel-' + renderedTab}\r\n\tclassName={clsx(fullscreen ? classes.fullscreen : classes.grid)}\r\n\tstyle={{ height: mapHeight + 'px' }}\r\n\t>\r\n\t\r\n\t{children}\r\n</Box>\r\n\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport Drawer from '@material-ui/core/Drawer'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles';\r\nconst styles = theme => ({\r\n\tdrawer: {\r\n\t\twidth: 400\r\n\t}\r\n});\r\n\r\n\r\nclass Notifications extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { classes, notifications } = this.props;\r\n\t\t\r\n\t\treturn (\r\n\r\n<Drawer\r\n\tanchor=\"right\"\r\n\topen={this.props.open}\r\n\tonClose={() => this.props.toggleDrawer('notificationDrawer', false)}\r\n\tclasses={{\r\n\t\tpaper: classes.drawer\r\n\t}}\r\n\t>\r\n\t\r\n</Drawer>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(Notifications);\r\n","import React from 'react'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle'\r\nimport MuiDialogContent from '@material-ui/core/DialogContent'\r\nimport MuiDialogActions from '@material-ui/core/DialogActions'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport Connection from '../controller/Connection'\r\nimport Device from '../controller/Device'\r\nimport Log from '../controller/Log'\r\n\r\nimport Modules from '../modules'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles';\r\nconst styles = theme => ({\r\n\troot: {\r\n\t\tmargin: 0,\r\n\t\tpadding: theme.spacing(2),\r\n\t},\r\n\tcloseButton: {\r\n\t\tposition: 'absolute',\r\n\t\tright: theme.spacing(1),\r\n\t\ttop: theme.spacing(1),\r\n\t\tcolor: theme.palette.grey[500],\r\n\t},\r\n});\r\n\r\n\r\nconst DialogTitle = withStyles(styles)(props => {\r\n\tconst { children, classes, onClose, ...other } = props;\r\n\treturn (\r\n\r\n<MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n\t<Typography variant=\"h6\">{children}</Typography>\r\n\t{onClose ? (\r\n\t<IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n\t\t<CloseIcon />\r\n\t</IconButton>\r\n\t) : null}\r\n</MuiDialogTitle>\r\n\r\n\t);\r\n});\r\n\r\nconst DialogContent = withStyles(theme => ({\r\n\troot: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\t[theme.breakpoints.down('md')]: {\r\n\t\t\tpaddingLeft: theme.spacing(1)\r\n\t\t}\r\n\t},\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles(theme => ({\r\n\troot: {\r\n\t\tmargin: 0,\r\n\t\tpadding: theme.spacing(1),\r\n\t},\r\n}))(MuiDialogActions);\r\n\r\n\r\nexport default class Popup extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tchildren: []\r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\t\r\n\t\tlet device = this.props.contents && this.props.contents.device;\r\n\t\tif (device.id && this.props.contents.ts !== prevProps.contents.ts) {\r\n\t\t\t\r\n\t\t\t// get from cache\r\n\t\t\tif (device.children.length) {\r\n\t\t\t\tLog._('Popup', [ 'Got ' + Object.keys(device.children).length + ' states for device ' + device.name + ' from cache.', device.children ]);\r\n\t\t\t\tthis.setState({ 'children': device.children }, () => this.forceUpdate());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// retrieve new\r\n\t\t\telse {\r\n\t\t\t\t// loop through states and request status\r\n\t\t\t\tlet responses = [];\r\n\t\t\t\tlet children = [];\r\n\t\t\t\t\r\n\t\t\t\tfor (let stateKey in device.states) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (device.states[stateKey].state === undefined || device.options.hiddenStates.indexOf(stateKey) > -1) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet child = new Device({\r\n\t\t\t\t\t\t\t'parent': device,\r\n\t\t\t\t\t\t\t'id': device.id + '#' + stateKey,\r\n\t\t\t\t\t\t\t'name': device.name,\r\n\t\t\t\t\t\t\t'function': device.function,\r\n\t\t\t\t\t\t\t//'states': { [stateKey]: device.states[stateKey] },\r\n\t\t\t\t\t\t\t'states': device.states,\r\n\t\t\t\t\t\t\t'options': {\r\n\t\t\t\t\t\t\t\t...device.options,\r\n\t\t\t\t\t\t\t\t'primary': stateKey,\r\n\t\t\t\t\t\t\t\t'secondary': null,\r\n\t\t\t\t\t\t\t\t'divider': children.length !== 0,\r\n\t\t\t\t\t\t\t\t'subgroup': null,\r\n\t\t\t\t\t\t\t\t'subtitle': null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tConnection.getConnection,\r\n\t\t\t\t\t\twindow.language\r\n\t\t\t\t\t);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// add child to parent\r\n\t\t\t\t\tdevice.children.push(child);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// retrieve state\r\n\t\t\t\t\tresponses.push(child.requestDeviceState(null, true));\r\n\t\t\t\t\tchildren.push(child);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tPromise.allSettled(responses).then(() => {\r\n\t\t\t\t\tLog._('Popup', [ 'Retrieved ' + Object.keys(children).length + ' states for device ' + device.name + '.', children ]);\r\n\t\t\t\t\tthis.setState({ 'children': children }, () => this.forceUpdate());\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (!device.id && this.props.contents.ts !== prevProps.contents.ts) {\r\n\t\t\tthis.setState({ 'children': [] }, () => this.forceUpdate());\r\n\t\t}\r\n\t}\r\n\t\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\treturn !this.props.contents || this.props.contents.ts !== nextProps.contents.ts;\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { open, closeDialog, contents } = this.props;\r\n\t\tconst { device } = contents;\r\n\t\t\r\n\t\treturn (\r\n\r\n<Dialog onClose={closeDialog} open={open || false} maxWidth={'md'} fullWidth={true}>\r\n\t<DialogTitle onClose={closeDialog}>\r\n\t\t{device.name}\r\n\t</DialogTitle>\r\n\t<DialogContent dividers style={{ padding: 0 }}>\r\n\t\t\r\n\t\t<Modules.StateList openDialog={null} devices={this.state.children} component={true} action={true} />\t\r\n\t\t\r\n\t</DialogContent>\r\n\t<DialogActions>\r\n\t\t<Button autoFocus onClick={closeDialog} color=\"primary\">\r\n\t\t\tClose\r\n\t\t</Button>\r\n\t</DialogActions>\r\n</Dialog>\r\n\r\n\t\t);\r\n\t};\r\n}\r\n","import React from 'react'\r\n\r\nimport Settings from '../controller/Settings'\r\n\r\nimport Card from '@material-ui/core/Card'\r\nimport CardHeader from '@material-ui/core/CardHeader'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles(theme => ({\r\n\tcard: {\r\n\t\tmargin: theme.spacing(1, 1, 0, 0),\r\n\t\t[theme.breakpoints.down('md')]: {\r\n\t\t\tmargin: theme.spacing(0.4, 0.4, 0, 0)\r\n\t\t}\r\n\t},\r\n\tcardHeaderNoContents: {\r\n\t\tpadding: theme.spacing(),\r\n\t},\r\n\tcardAvatar: props => ({\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t\tcolor: '#fff',\r\n\t\tfontSize: '24px',\r\n\t\t...props\r\n\t}),\r\n\tcardContent: {\r\n\t\tpadding: theme.spacing(0, 2),\r\n\t\t[theme.breakpoints.down('md')]: {\r\n\t\t\tpadding: theme.spacing(0)\r\n\t\t}\r\n\t}\r\n}));\r\n\r\n\r\nexport default function Widget(props) {\r\n\tconst { title, icon, iconStyle } = props;\r\n\tconst classes = useStyles(iconStyle);\r\n\t\r\n\treturn (\r\n\r\n<Card className={classes.card}>\r\n\t<CardHeader\r\n\t\tavatar={icon !== null &&\r\n\t\t\t<Avatar variant=\"rounded\" classes={{ root: classes.cardAvatar }}>\r\n\t\t\t\t{React.createElement('span', { 'className': 'mdi mdi-' + (icon || Settings.getSetting('defaultBoxIcon') || 'home') })}\r\n\t\t\t</Avatar>\r\n\t\t}\r\n\t\ttitle={title &&\r\n\t\t\t<Typography variant=\"h5\" component=\"h2\">\r\n\t\t\t\t{title}\r\n\t\t\t</Typography>\r\n\t\t}\r\n\t/>\r\n\t<CardContent className={classes.cardContent}>\r\n\t\t{props.children}\r\n\t</CardContent>\r\n</Card>\r\n\r\n\t);\r\n}\r\n","\r\nexport default {\r\n\tconfiguration: require('./ConfigurationPage/ConfigurationPage').default,\r\n\tlogs: require('./LogsPage/LogsPage').default,\r\n}","import React from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport { withTheme } from '@material-ui/core/styles'\r\nimport Hidden from '@material-ui/core/Hidden'\r\n//import { SwipeableViews } from '@tarragon/swipeable-tabs'\r\n\r\nimport { DEFAULTS } from './config/config'\r\n\r\nimport Connection from './controller/Connection'\r\nimport Devices from './controller/Devices'\r\nimport Log from './controller/Log'\r\nimport Settings from './controller/Settings'\r\n\r\nimport TopBar from './components/TopBar'\r\nimport TabBar, { TabPanel } from './components/TabBar'\r\nimport Notifications from './components/Notifications'\r\nimport GridContainer from './components/GridContainer'\r\nimport Popup from './components/Popup'\r\nimport Widget from './components/Widget'\r\n\r\nimport Modules, { ModuleSettings } from './modules'\r\nimport Pages from './pages'\r\n\r\n\r\n/**\r\n *\r\n *\r\n */\r\nconst getModule = (widget, actions = {}) => {\r\n\t\r\n\t// widget has no devices assigned\r\n\t/*\r\n\tif (ModuleSettings[widget.module] && ModuleSettings[widget.module].noDevicesAllowed !== true) {\r\n\t\tLog._('Jarvis', 'Widget ' + (widget.title || widget.module) + ' has no devices assigned to it!', 'error');\r\n\t\treturn null;\r\n\t}\r\n\t*/\r\n\t\r\n\t// get module\r\n\tconst Tag = Modules[widget.module || DEFAULTS.MODULE];\r\n\t\r\n\t// get tag\r\n\tif (Tag === undefined) {\r\n\t\tLog._('Jarvis', 'Undefined module \"' + widget.module + '\" used!', 'error');\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\treturn <Tag\r\n\t\t\t\tkey={'tag-' + widget.module + '-' + widget.title}\r\n\t\t\t\tdevices={widget.devices || []}\r\n\t\t\t\topenDialog={actions.showDevice ? actions.showDevice : null}\r\n\t\t\t\tconfig={widget.moduleConfig || {}}\r\n\t\t\t\t/>\r\n}\r\n\r\n/**\r\n *\r\n *\r\n */\r\nconst getWidget = (widget, actions = {}, key = null) => {\r\n\twidget.module = widget.module || DEFAULTS.MODULE;\r\n\t\r\n\tconst moduleSettings = ModuleSettings[widget.module] || {};\r\n\tconst content = getModule(widget, actions);\r\n\t\r\n\treturn (\r\n\t\t<Widget\r\n\t\t\tkey={key ? ('widget-' + key) : ('widget-' + widget.module + '-' + widget.key)}\r\n\t\t\ttitle={widget.title === null ? null : (widget.title || moduleSettings.title)}\r\n\t\t\ticon={widget.icon === null ? null : (widget.icon || moduleSettings.icon)}\r\n\t\t\ticonStyle={widget.iconStyle}\r\n\t\t\t>\r\n\t\t\t\r\n\t\t\t{content}\r\n\t\t</Widget>\r\n\t);\r\n}\r\n\r\n/**\r\n *\r\n *\r\n */\r\nconst getWidgets = (widgets, actions = {}, key = '') => {\r\n\t\r\n\treturn widgets.map((widget, i) => getWidget(widget, actions, key ? (key + '-widget-' + i) : ('widget-' + i)));\r\n}\r\n\r\n/**\r\n *\r\n *\r\n */\r\nconst getTabPanels = (tabs, selectedTab, actions = {}) => {\r\n\t\r\n\tlet tabPanels = [];\r\n\ttabs.forEach((tab, tabIndex) => {\r\n\t\t\r\n\t\t// detect fullscreen\r\n\t\tconst fullscreen = tab._fullscreen !== undefined;\r\n\t\t\r\n\t\t// get widgets for each column\r\n\t\tlet tabGridColumnsContent = null;\r\n\t\tif (fullscreen) {\r\n\t\t\ttabGridColumnsContent = getModule(tab._fullscreen, actions);\r\n\t\t}\r\n\t\telse if (tab.columns && Array.isArray(tab.columns)) {\r\n\t\t\tlet tabGridColumnsContents = {};\r\n\t\t\t\r\n\t\t\ttab.columns.forEach((column, columnIndex) => {\r\n\t\t\t\ttabGridColumnsContents[columnIndex+1] = getWidgets(column, actions, 'tab-' + tabIndex + '-column-' + columnIndex+1);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\ttabGridColumnsContent = <GridContainer contents={tabGridColumnsContents} />\r\n\t\t}\r\n\t\t\r\n\t\t// render tab\r\n\t\tconst tabPanel = (\r\n\t\t\t<TabPanel\r\n\t\t\t\tkey={'tabPanel-' + tabIndex}\r\n\t\t\t\trenderedTab={tabIndex}\r\n\t\t\t\tselectedTab={selectedTab}\r\n\t\t\t\tfullscreen={fullscreen}\r\n\t\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t{tabGridColumnsContent}\r\n\t\t\t</TabPanel>\r\n\t\t);\r\n\t\t\r\n\t\ttabPanels.push(tabPanel);\r\n\t});\r\n\t\r\n\treturn tabPanels;\r\n}\r\n\r\n/**\r\n *\r\n *\r\n */\r\nclass Jarvis extends React.Component {\r\n\t\r\n    constructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tselectedTab: 0,\r\n\t\t\ttabTitle: '',\r\n\t\t\t\r\n\t\t\tpage: 'home',\r\n\t\t\t\r\n\t\t\tnotificationDrawer: false,\r\n\t\t\tnotifications: [],\r\n\t\t\tnotificationsUnread: 0,\r\n\t\t\t\r\n\t\t\tdialog: false,\r\n\t\t\tdialogContents: {\r\n\t\t\t\t'ts': 0,\r\n\t\t\t\t'device': {}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// bind methods\r\n\t\tthis.closeDialog = this.closeDialog.bind(this);\r\n\t\tthis.openDialog = this.openDialog.bind(this);\r\n\t\tthis.onSelectTab = this.onSelectTab.bind(this);\r\n\t\tthis.toggleDrawer = this.toggleDrawer.bind(this);\r\n\t\tthis.navigate = this.navigate.bind(this);\r\n\t\t\r\n\t\t// get connection\r\n\t\tthis.socket = Connection.getConnection;\r\n\t\t\r\n\t\t// initialise\r\n\t\tthis.devices = Devices.getDevices();\r\n\t\tthis.tabs = Settings.getLayout()[0].tabs;\r\n\t\tthis.tabsEnabled = this.tabs && this.tabs.length > 1;\r\n\t\t\r\n\t\tthis.state.tabIcon = this.tabs[this.state.selectedTab].icon;\r\n\t\tthis.state.tabTitle = this.tabs[this.state.selectedTab].title;\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\t// check if devices and settings are defined\r\n\t\tif (!this.devices || Object.keys(this.devices).length === 0 || !this.tabs || this.tabs.length === 0) {\r\n\t\t\tthis.navigate('configuration');\r\n\t\t}\r\n\t\t\r\n\t\t// get notifications\r\n\t\t/*\r\n\t\tthis.socket.getState('jarvis.0.notifications').then(notifications => {\r\n\t\t\tnotifications = (notifications && notifications.val && JSON.parse(notifications.val)) || [];\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tnotificationsUnread: notifications.filter(notification => !notification.unread || notification.unread !== false).length,\r\n\t\t\t\tnotifications: notifications\r\n\t\t\t});\r\n\t\t});\r\n\t\t\r\n\t\tthis.socket.subscribeState(DEFAULTS.NODE_NOTIFICATIONS, notifications => Log._('Jarvis', notifications));\r\n\t\t*/\r\n\t}\r\n\t\r\n\tcloseDialog() {\r\n\t\tthis.setState({ 'dialog': false, 'dialogContents': { 'ts': Date.now(), 'device': {} } });\r\n\t}\r\n\t\r\n\topenDialog(device) {\r\n\t\tthis.setState({ 'dialog': true, 'dialogContents': { 'ts': Date.now(), 'device': device } });\r\n\t}\r\n\t\r\n\tonSelectTab(tab) {\r\n\t\tthis.setState({\r\n\t\t\tselectedTab: tab,\r\n\t\t\ttabIcon: this.tabs[tab].icon,\r\n\t\t\ttabTitle: this.tabs[tab].title\r\n\t\t});\r\n\t}\r\n\t\r\n\ttoggleDrawer(drawer, open) {\r\n\t\tthis.setState({ [drawer]: open });\r\n\t}\r\n\t\r\n\tnavigate(page) {\r\n\t\tthis.setState({ page });\r\n\t}\r\n\t\r\n    render() {\r\n\t\tconst Page = Pages[this.state.page] || null;\r\n\t\t\r\n\t\tconst tabPanels = getTabPanels(this.tabs, this.state.selectedTab, { showDevice: this.openDialog });\r\n        return (\r\n\r\n<React.Fragment>\r\n\t<TopBar\r\n\t\ttitle={\r\n\t\t\t(this.tabsEnabled && <>\r\n\t\t\t\t{this.state.tabIcon && <span className={clsx(this.props.theme.components.tabIcon, 'mdi mdi-' + this.state.tabIcon)}></span>}\r\n\t\t\t\t{this.state.tabTitle !== 'null' && <span> {this.state.tabTitle}</span>}\r\n\t\t\t</>) ||\r\n\t\t\tSettings.getSetting('topBarTitle') ||\r\n\t\t\tSettings.getSetting('pageTitle') ||\r\n\t\t\t'jarvis - Smart Home Overview'\r\n\t\t}\r\n\t\t\r\n\t\tconnectionStatus={this.props.connectionStatus}\r\n\t\ttoggleDrawer={this.toggleDrawer}\r\n\t\tnavigate={this.navigate}\r\n\t\tnotifications={this.state.notificationsUnread}\r\n\t\t>\r\n\t\t\r\n\t\t{this.tabsEnabled && <TabBar tabs={this.tabs} selectedTab={this.state.selectedTab} onSelectTab={this.onSelectTab} />}\r\n\t</TopBar>\r\n\t\r\n\t\r\n\t{/* DRAWER: NOTIFICATIONS */}\r\n\t<Notifications\r\n\t\topen={this.state.notificationDrawer}\r\n\t\ttoggleDrawer={this.toggleDrawer}\r\n\t\tnotifications={this.state.notifications}\r\n\t\t/>\r\n\t\r\n\t\r\n\t{/* PAGE */}\r\n\t{Page && <Page\r\n\t\tpage={this.state.page}\r\n\t\tnavigate={this.navigate}\r\n\t\tdevices={this.devices}\r\n\t\t/>}\r\n\t\r\n\t\r\n\t{/* POPUP */}\r\n\t<Popup\r\n\t\topen={this.state.dialog}\r\n\t\tcontents={this.state.dialogContents}\r\n\t\tcloseDialog={this.closeDialog}\r\n\t\t/>\r\n\t\r\n\t\r\n\t{/* TABS */}\r\n{/*\r\n\t<Hidden smUp>\r\n\t<SwipeableViews\r\n\t\tviews={tabPanels}\r\n\t\tselectedView={this.state.selectedTab}\r\n\t\tonSwipe={this.onSelectTab}\r\n\t\t/>\r\n\t</Hidden>\r\n\t<Hidden smDown>\r\n\t\t{tabPanels}\r\n\t</Hidden>\r\n*/}\r\n\t{tabPanels}\r\n\t\r\n</React.Fragment>\r\n\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withTheme(Jarvis);","import React from 'react'\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport { DEFAULTS } from './config/config'\r\nimport config from './config/config.dev.js'\r\n\r\nimport GridContainer from './components/GridContainer'\r\nimport StatusSnackbar from './components/StatusSnackbar'\r\n\r\nimport Connection from './controller/Connection'\r\nimport Devices from './controller/Devices'\r\nimport i18n from './controller/i18n'\r\nimport Log from './controller/Log'\r\nimport Settings from './controller/Settings'\r\nimport Jarvis from './Jarvis'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { ThemeProvider, withStyles } from '@material-ui/core/styles';\r\nconst styles = theme => ({\r\n\tloading: {\r\n\t\tmargin: '10px 0 0 0',\r\n\t\tcolor: '#999'\r\n\t},\r\n\tgridItem: {\r\n\t\tmargin: theme.spacing(1, 1, 0, 0),\r\n\t\t[theme.breakpoints.down('md')]: {\r\n\t\t\tmarginRight: theme.spacing(0.4, 0.4, 0, 0)\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\nclass App extends React.Component {\r\n\t\r\n    constructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tloaded: [],\r\n\t\t\t\r\n\t\t\tconnected: false,\r\n\t\t\terror: false,\r\n\t\t\terrorMessage: '',\r\n\t\t\t\r\n\t\t\tlayout: null,\r\n\t\t\ttheme: null\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\t/*\r\n\t\t * get theme\r\n\t\t */\r\n\t\timport('./controller/theme').then(theme => this.setState({ theme: theme.default }));\r\n\t\t\r\n\t\t\r\n\t\t/*\r\n\t\t * connect and get connection\r\n\t\t */\r\n\t\tconst errorHandler = err => {\r\n\t\t\t//Log._('App', i18n.t('Socket disconnected') + '!', 'error') //, true, err.stack);\r\n\t\t\tthis.setState({\r\n\t\t\t\tconnected: false,\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorMessage: i18n.t(typeof err === 'string' ? err : err.message) + '. Reconnecting..'\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\tsetTimeout(function reconnect() {\r\n\t\t\t\t\r\n\t\t\t\tLog._('App', i18n.t('Attempting reconnect') + '..');\r\n\t\t\t\tConnection.reconnect();\r\n\t\t\t\tsetTimeout(() => reconnect, 30*1000);\r\n\t\t\t\t\r\n\t\t\t}, 10*1000);\r\n\t\t\t*/\r\n\t\t};\r\n\t\t\r\n\t\tconst url = window.location.port === '3000' ? config.iobrokerWebAdapterUrl :\r\n\t\t\twindow.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : '');\r\n\t\t\r\n\t\tconst listeners = [\r\n\t\t\t{ 'event': 'connect', 'callback': () => this.setState({ connected: true, error: false, errorMessage: '' }) },\r\n\t\t\t{ 'event': 'reconnect', 'callback': () => this.setState({ connected: 'pending', error: false, errorMessage: '' }) },\r\n\t\t\t{ 'event': 'disconnect', 'callback': errorHandler },\r\n\t\t\t{ 'event': 'error', 'callback': errorHandler }\r\n\t\t];\r\n\t\t\r\n\t\tLog._('App', i18n.t('Connect to') + ' ' + url + '...');\r\n\t\tthis.socket = Connection.connect(url, listeners);\r\n\t\t\r\n\t\t\r\n\t\t/*\r\n\t\t * retrieve ioBroker config\r\n\t\t */\r\n\t\tthis.socket.getObject('system.config', (err, data) => data && data.common && Settings.setSettings({ iobroker: data.common }));\r\n\t\t\r\n\t\t\r\n\t\t/*\r\n\t\t * retrieve settings\r\n\t\t */\r\n\t\tthis.socket.getState(DEFAULTS.NODE_SETTINGS)\r\n\t\t\t.then(state => {\r\n\t\t\t\tlet settings = null;\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tsettings = JSON.parse(state.val || {});\r\n\t\t\t\t\tSettings.setSettings(settings);\r\n\t\t\t\t\tSettings.applySettings();\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState(prevState => ({ loaded: [ ...prevState.loaded, 'settings' ] }));\r\n\t\t\t\t}\r\n\t\t\t\tcatch(err) {\r\n\t\t\t\t\tLog._('App', 'GET_SETTINGS: ' + err.message, 'error');\r\n\t\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\t\tloaded: [ ...prevState.loaded, 'settings' ],\r\n\t\t\t\t\t\terror: true,\r\n\t\t\t\t\t\terrorMessage: i18n.t('Error parsing settings') + '!'\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tLog._('App', 'GET_SETTINGS: ' + err.message, 'error');\r\n\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\tloaded: [ ...prevState.loaded, 'settings' ],\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\terrorMessage: typeof err === 'string' ? i18n.t(err) : i18n.t(err.message)\r\n\t\t\t\t}));\r\n\t\t\t});\r\n\t\t\r\n\t\t\r\n\t\t/*\r\n\t\t * retrieve layout\r\n\t\t */\r\n\t\tthis.socket.getState(DEFAULTS.NODE_LAYOUT)\r\n\t\t\t.then(state => {\r\n\t\t\t\tlet layout = null;\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlayout = JSON.parse(state.val || []);\r\n\t\t\t\t\tSettings.setLayout(layout);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (layout.length === 0) {\r\n\t\t\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\t\t\tloaded: [ ...prevState.loaded, 'layout' ],\r\n\t\t\t\t\t\t\terror: true,\r\n\t\t\t\t\t\t\terrorMessage: i18n.t('Please create the configuration. See documentation.')\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\t\t\tlayout: layout,\r\n\t\t\t\t\t\t\tloaded: [ ...prevState.loaded, 'layout' ]\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch(err) {\r\n\t\t\t\t\tLog._('App', 'GET_LAYOUT: ' + err.message, 'error');\r\n\t\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\t\tloaded: [ ...prevState.loaded, 'layout' ],\r\n\t\t\t\t\t\terror: true,\r\n\t\t\t\t\t\terrorMessage: i18n.t('Error parsing layout') + '!'\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tLog._('App', 'GET_LAYOUT: ' + err.message, 'error');\r\n\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\tloaded: [ ...prevState.loaded, 'layout' ],\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\terrorMessage: typeof err === 'string' ? i18n.t(err) : i18n.t(err.message)\r\n\t\t\t\t}));\r\n\t\t\t});\r\n\t\t\r\n\t\t\r\n\t\t/*\r\n\t\t * retrieve devices\r\n\t\t */\r\n\t\tthis.socket.getState(DEFAULTS.NODE_DEVICES)\r\n\t\t\t.then(state => {\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tDevices.setDevices(JSON.parse(state.val || {}), this.socket).then(res => {\r\n\t\t\t\t\t\tLog._('App', [ 'Processed ' + res.processedDevices + ' devices and discarded ' + (res.processedDevices - res.addedDevices) + ' devices due to incorrect configuration.', res ]);\r\n\t\t\t\t\t\tthis.setState(prevState => ({ loaded: [ ...prevState.loaded, 'devices' ] }));\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tcatch(err) {\r\n\t\t\t\t\tLog._('App', 'GET_DEVICES: ' + err.message, 'error');\r\n\t\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\t\tloaded: [ ...prevState.loaded, 'devices' ],\r\n\t\t\t\t\t\terror: true,\r\n\t\t\t\t\t\terrorMessage: i18n.t('Error parsing devices') + '!'\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tLog._('App', 'GET_DEVICES: ' + err.message, 'error');\r\n\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\tloaded: [ ...prevState.loaded, 'devices' ],\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\terrorMessage: i18n.t('Socket failed while getting devices') + '!'\r\n\t\t\t\t}));\r\n\t\t\t});\r\n    }\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderError(error) {\r\n\t\terror = error || this.state.errorMessage;\r\n\t\tLog._('App', 'Render Error: ' + error, 'error');\r\n\t\t\r\n\t\treturn (\r\n\r\n<StatusSnackbar\r\n\tkey={'StatusSnackbar'}\r\n\tvariant=\"error\"\r\n\tcloseButton={false}\r\n\tmessage={error.toString()}\r\n\t/>\r\n\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderLoadingProgress() {\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\r\n<Grid\r\n\tkey=\"loadingProcess\"\r\n\tcontainer\r\n\tspacing={0}\r\n\tdirection=\"column\"\r\n\tjustify=\"center\"\r\n\talignItems=\"center\"\r\n\tstyle={{ minHeight: \"100vh\" }}\r\n\t>\r\n\r\n\t<CircularProgress />\r\n\t<Typography className={classes.loading}>{i18n.t('Retrieving settings')}...</Typography>\r\n\r\n</Grid>\r\n\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderLoadingSkeleton(props) {\r\n\t\tconst { classes } = this.props;\r\n\t\tconst { topBar, tabBar, gridColumns } = props;\r\n\t\t\r\n\t\tconst SkeletonLoader = (props) => <Skeleton animation=\"wave\" variant=\"rect\" className={classes.gridItem} height={props.height} />;\r\n\t\t\r\n\t\tlet gridContents = {}\r\n\t\tfor (let column = 1; column <= gridColumns; column++) {\r\n\t\t\tgridContents[column] = gridContents[column] || [];\r\n\t\t\t\r\n\t\t\tlet loaders = Math.random() * (5 - 2) + 2;\r\n\t\t\tfor (let loader = 1; loader <= loaders; loader++) {\r\n\t\t\t\tgridContents[column].push(<SkeletonLoader key={column + '#' + loader} height={(Math.random() * (400 - 100) + 100)} />);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\r\n<React.Fragment>\r\n\t{topBar && <Skeleton animation=\"wave\" variant=\"rect\" height={64} />}\r\n\t{tabBar && <Skeleton animation=\"wave\" variant=\"rect\" height={48} />}\r\n\t<GridContainer key=\"loadingSkeleton\" contents={gridContents} />\r\n</React.Fragment>\r\n\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n    render() {\r\n\t\t\r\n\t\t// error message\r\n\t\tconst error = this.state.error ? this.renderError() : null;\r\n\t\t\r\n\t\t// loading screens\r\n\t\tif (!error && (this.state.loaded.indexOf('settings') === -1 || this.state.loaded.indexOf('layout') === -1)) {\r\n\t\t\treturn this.renderLoadingProgress();\r\n\t\t}\r\n\t\telse if (!error && this.state.loaded.indexOf('devices') === -1) {\r\n\t\t\treturn this.state.layout.length === 0 ? null : this.renderLoadingSkeleton({ topBar: true, tabBar: this.state.layout && this.state.layout[0] && this.state.layout[0].tabs.length > 1, gridColumns: this.state.layout && this.state.layout[0] && this.state.layout[0].tabs && this.state.layout[0].tabs[0] && this.state.layout[0].tabs[0].columns.length });\r\n\t\t}\r\n\t\t\r\n\t\t// App\r\n\t\telse {\r\n\t\t\tLog._('App', [ 'Connected:', this.state.connected ]);\r\n\t\t\treturn (\r\n\r\n<ThemeProvider theme={this.state.theme}>\r\n\t{error}\r\n\t{!error && this.state.loaded.length === 3 && <Jarvis key=\"jarvis\" connectionStatus={this.state.connected} />}\r\n</ThemeProvider>\r\n\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport './index.css'\r\nimport App from './App'\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","\r\nexport default {\r\n\tButton: require('./inputs/Button').default,\r\n\tChip: require('./inputs/Chips').default,\r\n\tChips: require('./inputs/Chips').InputChips,\r\n\tChipsField: require('./inputs/Chips').InputChipsField,\r\n\tFieldset: require('./inputs/Fieldset').default,\r\n\tFieldsetItem: require('./inputs/Fieldset').FieldsetItem,\r\n\tForm: require('./inputs/Fieldset').Form,\r\n\tNumber: require('./inputs/Number').default,\r\n\tSelect: require('./inputs/Select').default,\r\n\tSwitch: require('./inputs/Switch').default,\r\n\tSwitchInline: require('./inputs/Switch').InputSwitchInline,\r\n\tText: require('./inputs/Text').default\r\n}","\r\nexport default {\r\n\t'hiddenStates': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Liste mit States, die von jarvis zwar geladen, aber nicht angezeigt werden.'\r\n\t\t}\r\n\t},\r\n\t'ignoredStates': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Liste mit States, die von jarvis ignoriert (und damit nicht geladen) werden.'\r\n\t\t}\r\n\t},/*\r\n\t'defaultValue': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Initialer Standard-Wert, der beim Schalten gesetzt wird.'\r\n\t\t}\r\n\t},*/\r\n\t/*'label': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'alternativer Bezeichner des Geräts als Anzeige-Name'\r\n\t\t}\r\n\t},*/\r\n}\r\n\r\nexport const DevicesStates = {\r\n\t'state': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Datenpunkt dessen State als Wert angezeigt wird'\r\n\t\t}\r\n\t},\r\n\t'stateStyle': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Style des angezeigten Wertes (im JSON Format)'\r\n\t\t},\r\n\t\t'json': true\r\n\t},\r\n\t'display': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Texte die den angezeigten Wert ersetzen (im JSON Format)'\r\n\t\t},\r\n\t\t'json': true\r\n\t},\r\n\t'label': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Label'\r\n\t\t}\r\n\t},\r\n\t'unit': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Einheit'\r\n\t\t}\r\n\t},\r\n\t/*'type': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': ''\r\n\t\t},\r\n\t\t'type': 'Select',\r\n\t\t'selection': [\r\n\t\t\t{ 'de': 'Deutsch' },\r\n\t\t\t{ 'switch': 'Switch' },\r\n\t\t\t{ 'switch': 'Switch' },\r\n\t\t\t{ 'switch': 'Switch' },\r\n\t\t]\r\n\t},*/\r\n\t'action': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Datenpunkt der zum Schalten getriggert wird'\r\n\t\t}\r\n\t},\r\n\t'icon': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Material Icon (klick zur Ansicht aller Icons)'\r\n\t\t},\r\n\t\t'link': 'https://materialdesignicons.com/'\r\n\t},\r\n\t'iconStyle': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Style des Icons (im JSON Format)'\r\n\t\t},\r\n\t\t'json': true\r\n\t}\r\n}\r\n","import React from 'react'\r\n//import clsx from 'clsx'\r\n\r\nimport DevicesConfig, { DevicesStates } from './Devices.config'\r\nimport i18n from '../../../controller/i18n'\r\nimport FUNCTIONS from '../../../functions'\r\nimport ucFirst, { moveKeyInObject } from '../../../helpers/utils'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\n\r\nimport IconButton from '@material-ui/core/IconButton'\r\n\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport ArrowUpIcon from '@material-ui/icons/KeyboardArrowUp'\r\nimport ArrowDownIcon from '@material-ui/icons/KeyboardArrowDown'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\n\r\nimport Dialog from '../../../components/Dialog'\r\nimport Inputs from '../../../components/Inputs'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles'\r\nconst styles = theme => ({\r\n\tfullWidth: {\r\n\t\twidth: '100%',\r\n\t},\r\n\ticonContainer: {\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'center'\r\n\t},\r\n\talignRight: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'flex-end',\r\n\t\t\r\n\t\t'& > :not(:first-child)': {\r\n\t\t\tmarginLeft: 8,\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\nclass DevicesPage extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tdevice: this.props.device,\r\n\t\t\terrors: {}\r\n\t\t}\r\n\t\t\r\n\t\tthis.editor = {};\r\n\t\tthis.newStateKey = '';\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\tcomponentDidMount() {\r\n\t\tthis._onChange({ required: true, id: 'device-name' }, this.state.device.name || ''); // trigger initial validation\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\t_onChange = (props, val) => {\r\n\t\t\r\n\t\t// error occured\r\n\t\tif (props.error) {\r\n\t\t\tthis.setState(prevStates => ({\r\n\t\t\t\terrors: {\r\n\t\t\t\t\t...prevStates.errors,\r\n\t\t\t\t\t[props.id]: props.error\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t}\r\n\t\t\r\n\t\t// no error -> remove old error\r\n\t\telse if (!props.error && this.state.errors[props.id]) {\r\n\t\t\tthis.setState(prevStates => {\r\n\t\t\t\tlet nextErrors = { ...prevStates.errors || {} }\r\n\t\t\t\tdelete nextErrors[props.id];\r\n\t\t\t\treturn { errors: nextErrors };\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t// set value\r\n\t\tthis.editor[props.id] = val;\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\t_onSave = () => {\r\n\t\tlet savedDevice = { ...this.state.device }\r\n\t\t\r\n\t\tfor (const key in this.editor) {\r\n\t\t\tconst val = this.editor[key];\r\n\t\t\tconst [ type, base, characteristic ] = key.split('-');\r\n\t\t\t\r\n\t\t\t// states\r\n\t\t\tif (type === 'states') {\r\n\t\t\t\tif (typeof savedDevice[type][base] === 'object') {\r\n\t\t\t\t\tsavedDevice[type][base][characteristic] = val;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tsavedDevice[type][base] = {\r\n\t\t\t\t\t\tstate: savedDevice[type][base],\r\n\t\t\t\t\t\t[characteristic]: val\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// options or attributes\r\n\t\t\telse if (type === 'options' || type === 'attributes') {\r\n\t\t\t\tsavedDevice[type][base] = val;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// device\r\n\t\t\telse {\r\n\t\t\t\tsavedDevice[base] = val;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// save\r\n\t\tsavedDevice._created = Date.now();\r\n\t\tthis.props.onSave && this.props.onSave(savedDevice);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\t_deleteDevice = () => this.props.onDelete && this.props.onDelete(this.props.device.id);\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\t_addState = () => {\r\n\t\t\r\n\t\t// empty state key\r\n\t\tif (!this.newStateKey) {\r\n\t\t\tthis.setState(prevStates => ({\r\n\t\t\t\terrors: {\r\n\t\t\t\t\t...prevStates.errors,\r\n\t\t\t\t\tnewStateKey: i18n.t('Type in a state key / identifier')\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t}\r\n\t\t\r\n\t\t// state key exists already\r\n\t\telse if (Object.keys(this.state.device.states).indexOf(this.newStateKey) > -1) {\r\n\t\t\tthis.setState(prevStates => ({\r\n\t\t\t\terrors: {\r\n\t\t\t\t\t...prevStates.errors,\r\n\t\t\t\t\tnewStateKey: i18n.t('State key already used')\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t}\r\n\t\t\r\n\t\t// add state key\r\n\t\telse {\r\n\t\t\tlet key = this.newStateKey.replace(/ /g, '');\r\n\t\t\t//this.newStateKey = '';\r\n\t\t\t\r\n\t\t\tthis.setState(prevStates => {\r\n\t\t\t\tlet nextErrors = { ...prevStates.errors }\r\n\t\t\t\tdelete nextErrors['newStateKey'];\r\n\t\t\t\t\r\n\t\t\t\treturn {\r\n\t\t\t\t\terrors: nextErrors,\r\n\t\t\t\t\tdevice: {\r\n\t\t\t\t\t\t...prevStates.device,\r\n\t\t\t\t\t\tstates: {\r\n\t\t\t\t\t\t\t[key]: {},\r\n\t\t\t\t\t\t\t...prevStates.device.states || {}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\t_moveState = (action, key) => {\r\n\t\t\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tdevice: {\r\n\t\t\t\t...prevState.device,\r\n\t\t\t\tstates: moveKeyInObject({ ...this.state.device.states }, key, action)\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\t_deleteState = key => {\r\n\t\t\r\n\t\tthis.setState(prevStates => {\r\n\t\t\tlet nextDevice = { ...prevStates.device }\r\n\t\t\tdelete nextDevice.states[key];\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\tdevice: nextDevice\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderDeviceState(state) {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\tconst states = Object.keys(DevicesStates).map(key => {\r\n\t\t\tconst s = DevicesStates[key];\r\n\t\t\tconst Input = Inputs[s.type || 'Text'];\r\n\t\t\treturn (\r\n\t\t\t\t<Inputs.FieldsetItem columns={4} key={'states-' + state.key + '-' + key}>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\t{...s}\r\n\t\t\t\t\t\tid={'states-' + state.key + '-' + key}\r\n\t\t\t\t\t\tshrink={true}\r\n\t\t\t\t\t\tlabel={s.label || ucFirst(key)}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tval={!state[key] || typeof state[key] === 'string' ? (state[key] || '') : (state[key].node || JSON.stringify(state[key]))}\r\n\t\t\t\t\t\tonChange={this._onChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t);\r\n\t\t});\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<ListItem key={'StatesListItemLabel-' + state.key} dense divider>\r\n\t\t\t\t{state.key &&\r\n\t\t\t\t<ListItemIcon classes={{ root: classes.iconContainer }}>\r\n\t\t\t\t\t<IconButton size=\"small\" onClick={() => this._moveState('up', state.key)}>\r\n\t\t\t\t\t\t<ArrowUpIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton size=\"small\" onClick={() => this._moveState('down', state.key)}>\r\n\t\t\t\t\t\t<ArrowDownIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton size=\"small\" onClick={() => this._deleteState(state.key)} style={{ marginTop: 40 }}>\r\n\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</ListItemIcon>}\r\n\t\t\t\t\r\n\t\t\t\t<ListItemText disableTypography>\r\n\t\t\t\t\t<div style={{ paddingBottom: 8 }}><strong>{state.key}</strong></div>\r\n\t\t\t\t\t<Inputs.Fieldset noPadding>\r\n\t\t\t\t\t\t{states}\r\n\t\t\t\t\t</Inputs.Fieldset>\r\n\t\t\t\t</ListItemText>\r\n\t\t\t</ListItem>\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderDeviceStates(states) {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\tconst renderedStates = Object.keys(states || {}).map(stateKey => {\r\n\t\t\tlet state = states[stateKey];\r\n\t\t\tstate = typeof state === 'string' ? { 'state': state } : state;\r\n\t\t\treturn this.renderDeviceState({ ...state, key: stateKey });\r\n\t\t});\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<List classes={{ root: classes.fullWidth }} dense>\r\n\t\t\t\t\t<ListItem key={'StatesListItemLabel-add'} dense divider>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<IconButton size=\"small\" disabled>\r\n\t\t\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<ListItemText disableTypography>\r\n\t\t\t\t\t\t\t<Inputs.Text id={'states-add'} onChange={(props, input) => this.newStateKey = input} shrink={true} label=\"new key\" val={this.newStateKey} />\r\n\t\t\t\t\t\t\t<Inputs.Button\r\n\t\t\t\t\t\t\t\tlabel={i18n.t('add new state')}\r\n\t\t\t\t\t\t\t\tonClick={this._addState}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{this.state.errors['newStateKey'] || ''}\r\n\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{renderedStates}\r\n\t\t\t\t\t\r\n\t\t\t\t</List>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderDeviceOption(config, value) {\r\n\t\t\r\n\t\tif (Array.isArray(value)) {\r\n\t\t\tvalue = value.join(',');\r\n\t\t}\r\n\t\telse if (typeof value === 'object') {\r\n\t\t\tvalue = JSON.stringify(value);\r\n\t\t}\r\n\t\t\r\n\t\tconst Tag = Inputs[config.type || 'Text'];\r\n\t\treturn (\r\n\t\t\t<ListItem key={'StatesListItemLabel-' + config.parameter} divider>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tprimary={config.parameter}\r\n\t\t\t\t\tsecondary={i18n.t(config.label || '')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t<Tag\r\n\t\t\t\t\t\tkey={'options-' + config.parameter}\r\n\t\t\t\t\t\tid={'options-' + config.parameter}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tval={value}\r\n\t\t\t\t\t\tonChange={this._onChange}\r\n\t\t\t\t\t\t{...config}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t</ListItem>\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderDeviceOptions(options) {\r\n\t\tconst { classes } = this.props;\r\n\t\tconst renderedOptions = Object.keys(DevicesConfig).sort().map(config => this.renderDeviceOption({ ...DevicesConfig[config], parameter: config }, options[config] || ''));\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<List classes={{ root: classes.fullWidth }} dense>\r\n\t\t\t\t{renderedOptions}\r\n\t\t\t</List>\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\tif (this.state.device === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t\tconst states = this.renderDeviceStates(this.state.device.states);\r\n\t\tconst options = this.renderDeviceOptions(this.state.device.options);\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\theader={i18n.t('Device Configuration')}\r\n\t\t\t\tactions={[\r\n\t\t\t\t\t<Grid key='actions' container>\r\n\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t<Button key='action-delete' onClick={() => this._deleteDevice()} color=\"secondary\" startIcon={<DeleteIcon />}>\r\n\t\t\t\t\t\t\t\t{i18n.t('Delete Device')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={6} className={classes.alignRight}>\r\n\t\t\t\t\t\t\t<Button key='action-cancel' onClick={() => this.props.onClose()} color=\"secondary\">\r\n\t\t\t\t\t\t\t\t{i18n.t('Cancel')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button key='action-save' onClick={() => this._onSave()} color=\"primary\" disabled={Object.keys(this.state.errors).length > 0}>\r\n\t\t\t\t\t\t\t\t{i18n.t('Apply')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t]}\r\n\t\t\t\t\r\n\t\t\t\tdense\r\n\t\t\t\tmaxWidth='md'\r\n\t\t\t\tfullWidth={true}\r\n\t\t\t\t\r\n\t\t\t\topen={true}\r\n\t\t\t\tonClose={() => this.props.onClose()}\r\n\t\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t<Inputs.Fieldset label={i18n.t('General')}>\r\n\t\t\t\t\t<Inputs.FieldsetItem columns={4}>\r\n\t\t\t\t\t\t<Inputs.Text\r\n\t\t\t\t\t\t\tkey=\"device-name\"\r\n\t\t\t\t\t\t\tid=\"device-name\"\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlabel={i18n.t('Device')}\r\n\t\t\t\t\t\t\tval={this.state.device.name}\r\n\t\t\t\t\t\t\tonChange={this._onChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t\t\t<Inputs.FieldsetItem columns={4}>\r\n\t\t\t\t\t\t<Inputs.Text\r\n\t\t\t\t\t\t\tkey=\"device-options-label\"\r\n\t\t\t\t\t\t\tid=\"device-options-label\"\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlabel={i18n.t('Displayed Name')}\r\n\t\t\t\t\t\t\tval={(this.state.device.options && this.state.device.options.label) || ''}\r\n\t\t\t\t\t\t\tonChange={this._onChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t\t\t<Inputs.FieldsetItem columns={4}>\r\n\t\t\t\t\t\t<Inputs.Select\r\n\t\t\t\t\t\t\tkey=\"device-function\"\r\n\t\t\t\t\t\t\tid=\"device-function\"\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlabel={i18n.t('Function')}\r\n\t\t\t\t\t\t\tval={this.state.device.function}\r\n\t\t\t\t\t\t\tselection={Object.keys(FUNCTIONS).sort().map(func => func !== 'defaults' ? ({ [func]: i18n.t(func) }) : ({ 'other': i18n.t('other') }))}\r\n\t\t\t\t\t\t\tonChange={this._onChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t\t\t\r\n\t\t\t\t</Inputs.Fieldset>\r\n\t\t\t\t\r\n\t\t\t\t<Inputs.Fieldset label={i18n.t('States')}>\r\n\t\t\t\t\t{states}\r\n\t\t\t\t</Inputs.Fieldset>\r\n\t\t\t\t\r\n\t\t\t\t<Inputs.Fieldset label={i18n.t('Options')}>\r\n\t\t\t\t\t{options}\r\n\t\t\t\t</Inputs.Fieldset>\r\n\t\t\t</Dialog>\r\n\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(DevicesPage);\r\n","import React from 'react'\r\n//import clsx from 'clsx'\r\nimport { v4 as uuid } from 'uuid'\r\n\r\nimport Devices from '../../../controller/Devices'\r\nimport i18n from '../../../controller/i18n'\r\n\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nimport TableBody from '@material-ui/core/TableBody'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport TableCell from '@material-ui/core/TableCell'\r\n\r\nimport AddIcon from '@material-ui/icons/AddCircle'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\n\r\nimport EnhancedTable from '../../../components/EnhancedTable'\r\nimport Inputs from '../../../components/Inputs'\r\n\r\nimport DevicesPage from './DevicesPage'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles'\r\nconst styles = theme => ({\r\n\tdeleteButton: {\r\n\t\tmarginTop: '25px'\r\n\t},\r\n\thr: {\r\n\t\tmargin: '10px 2px'\r\n\t},\r\n\tCustomTextInput: {\r\n\t\twidth: 150\r\n\t},\r\n\tCustomDialogTitle: {\r\n\t\tpadding: 0,\r\n\t\tmarginRight: '50px'\r\n\t},\r\n\tTableCell: {\r\n\t\tverticalAlign: 'top',\r\n\t\tpadding: '5px 0'\r\n\t}\r\n});\r\n\r\n\r\ni18n.setTranslation(i18n.getLanguage(), () => require('./i18n/' + i18n.getLanguage()));\r\n\r\nclass DevicesListPage extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tselectedDevice: null,\r\n\t\t\terrors: {}\r\n\t\t}\r\n\t\t\r\n\t\tthis.devices = Devices.getDevices({ raw: true, copy: true });\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\t_saveDevices = devices => {\r\n\t\tthis.devices = devices;\r\n\t\tthis.props.onChange && this.props.onChange(devices);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\t_saveDevice = device => {\r\n\t\tthis._saveDevices({ ...this.devices, [device.id]: device });\r\n\t\t\r\n\t\tthis.setState({ selectedDevice: null, errors: {} }, () => document.getElementById('DialogContent').scrollTop = (document.getElementById('device-' + device.id) && document.getElementById('device-' + device.id).offsetTop) || 0);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\t_deleteDevice = deviceId => {\r\n\t\tlet nextDevices = { ...this.devices }\r\n\t\tdelete nextDevices[deviceId];\r\n\t\tthis._saveDevices(nextDevices);\r\n\t\t\r\n\t\tthis.setState({ selectedDevice: null, errors: {} });\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderDevices(props) {\r\n\t\tconst { sortedRows } = props;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<TableBody>\r\n\t\t\t\r\n\t\t\t{sortedRows.map((device, index) => {\r\n\t\t\t\tlet options = Object.keys(device.options || {}).filter(optionKey => (device.options[optionKey] === '' || (Array.isArray(device.options[optionKey]) && device.options[optionKey].length === 0) || (typeof device.options[optionKey] === 'object' && Object.keys(device.options[optionKey]).length === 0)) === false).sort().join(', '); \r\n\t\t\t\tlet attributes = Object.keys(device.attributes || {}).sort().join(', ');\r\n\t\t\t\t\r\n\t\t\t\treturn (\r\n\t\t\t\t<TableRow key={'TableRow-' + index} id={'device-' + device.id} hover tabIndex={-1}>\r\n\t\t\t\t\t<TableCell padding=\"checkbox\" scope=\"row\" align=\"center\">\r\n\t\t\t\t\t\t<IconButton onClick={() => this.setState({ selectedDevice: device.id })}>\r\n\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell>{(device.options && device.options.label) || device.name}</TableCell>\r\n\t\t\t\t\t<TableCell>{device.function}</TableCell>\r\n\t\t\t\t\t<TableCell>{Object.keys(device.states || {}).join(', ')}</TableCell>\r\n\t\t\t\t\t<TableCell>{options.length > 35 ? <Tooltip title={options}><span>{options.substr(0,32) + '...'}</span></Tooltip> : options}</TableCell>\r\n\t\t\t\t\t<TableCell>{attributes.length > 35 ? <Tooltip title={attributes}><span>{attributes.substr(0,32) + '...'}</span></Tooltip> : attributes}</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t\t\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t\r\n\t\t\t</TableBody>\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trender() {\r\n\t\treturn (\r\n\r\n<React.Fragment>\r\n\t<EnhancedTable\r\n\t\ttitle={i18n.t('Devices List')}\r\n\t\theadCells={[\r\n\t\t\t{ id: 'edit', width: '5%', disablePadding: true, label: '' },\r\n\t\t\t{ id: 'name', width: '15%', label: i18n.t('Name') },\r\n\t\t\t{ id: 'function', width: '10%', label: i18n.t('Function') },\r\n\t\t\t{ id: 'states', width: '40%', disablePadding: false, label: i18n.t('States') },\r\n\t\t\t{ id: 'options', width: '15%', disablePadding: false, label: i18n.t('Options') },\r\n\t\t\t{ id: 'attributes', width: '15%', disablePadding: false, label: i18n.t('Attributes') }\r\n\t\t]}\r\n\t\trows={Object.values(this.devices)}\r\n\t\t\r\n\t\tdefaultOrderBy=\"name\"\r\n\t\tselectable={false}\r\n\t\tsortable={true}\r\n\t\tstickyHeader\r\n\t\t\r\n\t\tCustomTableBody={props => this.renderDevices(props)}\r\n\t\ttoolbarRightActionButton={\r\n\t\t\t<Inputs.Button\r\n\t\t\t\tonClick={() => this.setState({ selectedDevice: '#new' })}\r\n\t\t\t\tstartIcon={<AddIcon />}\r\n\t\t\t\tdisabled={this.state.selectedDevice !== null}\r\n\t\t\t\tlabel={i18n.t('add new device')}\r\n\t\t\t\t/>\r\n\t\t}\r\n\t\t/>\r\n\t\r\n\t{this.state.selectedDevice != null && <DevicesPage\r\n\t\t\t\t\t\t\t\t\t\t\t\tdevice={this.state.selectedDevice === '#new' ? { id: uuid(), states: {}, options: {} } : this.devices[this.state.selectedDevice]}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonSave={this._saveDevice}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonDelete={this._deleteDevice}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClose={() => this.setState({ selectedDevice: null })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>}\r\n\t\r\n</React.Fragment>\r\n\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(DevicesListPage);\r\n","import Modules from '../../../modules'\r\n\r\nexport default {\r\n\t'tabsHideLabels': {\r\n\t\t'label': {\r\n\t\t\t'de': 'Tab Labels nicht anzeigen (nur Icons)',\r\n\t\t\t'en': 'Hide tab labels (only show icons)'\r\n\t\t},\r\n\t\t'info': {\r\n\t\t\t'de': 'Zeigt nur die Icons im Tab und nicht die Labels',\r\n\t\t\t'en': 'Show only icons within a tab, not the label'\r\n\t\t},\r\n\t\t'type': 'Switch',\r\n\t\t'val': false\r\n\t},\r\n\t'tabIcon': {\r\n\t\t'label': {\r\n\t\t\t'de': 'Tab Icon',\r\n\t\t\t'en': 'Tab Icon'\r\n\t\t},\r\n\t\t'type': 'Text',\r\n\t},\r\n\t'tabTitle': {\r\n\t\t'label': {\r\n\t\t\t'de': 'Tab Titel',\r\n\t\t\t'en': 'Tab Title'\r\n\t\t},\r\n\t\t'type': 'Text',\r\n\t},\r\n\t'tabFullscreen': {\r\n\t\t'label': {\r\n\t\t\t'de': 'Tab als Vollbild',\r\n\t\t\t'en': 'Tab Fullscreen'\r\n\t\t},\r\n\t\t'info': {\r\n\t\t\t'de': 'Vollbild kann nur bei einem Tab mit nur einer Spalte und nur einem eingestellten Widget aktiviert werden.',\r\n\t\t\t'en': 'Fullscreen can only be enabled on a tab setup with only a single column and only a single widget'\r\n\t\t},\r\n\t\t'type': 'Switch',\r\n\t\t'val': false\r\n\t},\r\n\t\r\n\t'widgetModule': {\r\n\t\t'required': true,\r\n\t\t'label': {\r\n\t\t\t'de': 'Modul zur Anzeige der Geräte',\r\n\t\t\t'en': 'Modul to display the devices'\r\n\t\t},\r\n\t\t'type': 'Text',\r\n\t\t//val: 'StateList',\r\n\t\t'options': Object.keys(Modules)\r\n\t},\r\n\t'widgetTitle': {\r\n\t\t'required': true,\r\n\t\t'label': {\r\n\t\t\t'de': 'Titel der Widget-Box',\r\n\t\t\t'en': 'Title of the widget-box'\r\n\t\t},\r\n\t\t'type': 'Text',\r\n\t\t//val: ''\r\n\t},\r\n\t'widgetIcon': {\r\n\t\t'label': {\r\n\t\t\t'de': 'Icon der Widget-Box',\r\n\t\t\t'en': 'Icon of the widget-box'\r\n\t\t},\r\n\t\t'type': 'Text',\r\n\t\t'placeholder': 'home',\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Material Icon (klick zur Ansicht aller Icons)'\r\n\t\t},\r\n\t\t'link': 'https://materialdesignicons.com/'\r\n\t},\r\n\t'widgetIconStyle': {\r\n\t\t'label': {\r\n\t\t\t'de': 'Icon style der Widget-Box',\r\n\t\t\t'en': 'Icon style of the widget-box'\r\n\t\t},\r\n\t\t'type': 'Text',\r\n\t\t'json': true,\r\n\t\t'placeholder': '{ \"color\": \"#fff\", \"fontSize\": \"24px\" }' // backgroundColor: theme.palette.primary.main,\r\n\t}\r\n}\r\n","import React from 'react'\r\n\r\n\r\n/*\r\n *\r\n */\r\nexport default function Placeholder(props) {\r\n\tconst { width, height } = props;\r\n\t\r\n\treturn (\r\n\t\t<div style={{ display: 'inline-flex', width: width + 'px', height: (height || 1) + 'px' }}>\r\n\t\t</div>\r\n\t);\r\n}","import React from 'react'\r\n\r\nimport { DEFAULTS } from '../../../config/config'\r\nimport LayoutsConfig from './Layouts.config'\r\nimport { moveKeyInArray, sortArray } from '../../../helpers/utils'\r\n\r\nimport i18n from '../../../controller/i18n'\r\nimport Devices from '../../../controller/Devices'\r\nimport { ModuleConfigurations, ModuleSettings } from '../../../modules/'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\n\r\nimport ArrowUpIcon from '@material-ui/icons/KeyboardArrowUp'\r\nimport ArrowDownIcon from '@material-ui/icons/KeyboardArrowDown'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport DevicesIcon from '@material-ui/icons/Devices'\r\nimport DividerIcon from '@material-ui/icons/Remove'\r\nimport GroupIcon from '@material-ui/icons/FormatListBulleted'\r\n\r\nimport Dialog from '../../../components/Dialog'\r\nimport Inputs from '../../../components/Inputs'\r\nimport Placeholder from '../../../components/Placeholder'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles'\r\nconst styles = theme => ({\r\n\tnoPadding: {\r\n\t\tpadding: 0,\r\n\t},\r\n\talignRight: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'flex-end',\r\n\t\t\r\n\t\t'& > :not(:first-child)': {\r\n\t\t\tmarginLeft: 8,\r\n\t\t}\r\n\t},\r\n\theight: {\r\n\t\tlineHeight: '45px'\r\n\t}\r\n});\r\n\r\n\r\nclass WidgetPage extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\twidget: this.props.widget,\r\n\t\t\terrors: {}\r\n\t\t}\r\n\t\t\r\n\t\tthis.editor = this.props.widget;\r\n\t\tthis.deviceList = Devices.getDevices({ sort: true });\r\n\t\tthis.deviceOptions = sortArray(Object.values(this.deviceList), 'function');\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\tcomponentDidMount() {\r\n\t\tthis._onChange({ required: true, id: 'title' }, (this.state.widget.title) || ''); // trigger initial validation\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_addItem = (type, val) => {\r\n\t\tlet device = { type: type }\r\n\t\t\r\n\t\tif (type === 'device') {\r\n\t\t\tdevice.deviceId = val.id;\r\n\t\t}\r\n\t\telse if (type === 'group') {\r\n\t\t\tdevice.name = val;\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState(prevStates => {\r\n\t\t\tlet nextErrors = { ...prevStates.errors }\r\n\t\t\tdelete nextErrors.addDevice;\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\terrors: nextErrors,\r\n\t\t\t\twidget: {\r\n\t\t\t\t\t...prevStates.widget,\r\n\t\t\t\t\tdevices: [\r\n\t\t\t\t\t\t...prevStates.widget.devices || [],\r\n\t\t\t\t\t\tdevice\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_editItem = (index, props, val) => {\r\n\t\t\r\n\t\tthis.setState(prevStates => {\r\n\t\t\tlet nextWidget = { ...prevStates.widget }\r\n\t\t\tnextWidget.devices[index][props.id] = val;\r\n\t\t\t\r\n\t\t\treturn { widget: nextWidget };\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_moveItem = (action, index) => {\r\n\t\t\r\n\t\tthis.setState(prevStates => ({\r\n\t\t\twidget: {\r\n\t\t\t\t...prevStates.widget,\r\n\t\t\t\tdevices: moveKeyInArray([ ...prevStates.widget.devices ], index, action)\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_deleteItem = index => {\r\n\t\t\r\n\t\tthis.setState(prevStates => {\r\n\t\t\tlet nextWidget = { ...prevStates.widget };\r\n\t\t\tnextWidget.devices.splice(index, 1);\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\twidget: nextWidget\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_onChange = (props, val) => {\r\n\t\t\r\n\t\t// error occured\r\n\t\tif (props.error) {\r\n\t\t\tthis.setState(prevStates => ({\r\n\t\t\t\terrors: {\r\n\t\t\t\t\t...prevStates.errors,\r\n\t\t\t\t\t[props.id]: props.error\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t}\r\n\t\t\r\n\t\t// no error -> remove old error\r\n\t\telse if (!props.error && this.state.errors[props.id]) {\r\n\t\t\tthis.setState(prevStates => {\r\n\t\t\t\tlet nextErrors = { ...prevStates.errors || {} }\r\n\t\t\t\tdelete nextErrors[props.id];\r\n\t\t\t\treturn { errors: nextErrors };\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t// set value\r\n\t\tthis.editor[props.id] = val;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_onSave = action => {\r\n\t\t\r\n\t\t// errors\r\n\t\tconst requiredFields = [{ parameter: 'title', required: true }, { parameter: 'module', required: true }];\r\n\t\tlet errors = {};\r\n\t\t\r\n\t\t[ ...requiredFields, ...(ModuleConfigurations[this.state.widget.module] || []) ].forEach(field => {\r\n\t\t\tif (field.required === true && !this.editor[field.parameter]) {\r\n\t\t\t\terrors[field.parameter] = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tif (Object.values(errors).indexOf(true) > -1) {\r\n\t\t\tthis.setState(prevStates => ({ errors: { ...prevStates.errors, ...errors }}));\r\n\t\t\t//console.error(errors, this.editor);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\t// attach module specific options\r\n\t\tthis.editor.moduleConfig = {}\r\n\t\tObject.keys(this.editor).forEach(key => {\r\n\t\t\tif (key.indexOf('moduleConfig-') > -1) {\r\n\t\t\t\tthis.editor.moduleConfig[key.replace('moduleConfig-', '')] = this.editor[key];\r\n\t\t\t\tdelete this.editor[key];\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t// attach devices\r\n\t\tthis.editor.devices = this.state.widget.devices || [];\r\n\t\tthis.props.onSave(this.editor);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderDevice(device, index) {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\tlet primary = device.deviceId;\r\n\t\tlet icon = <DevicesIcon />\r\n\t\tlet SecondaryActions = null;\r\n\t\t\r\n\t\tif (device && device.type === 'device') {\r\n\t\t\tdevice = this.deviceList[device.deviceId];\r\n\t\t\tprimary = <span>{device.name + ' (' + i18n.t(device.function) + ')'}</span>\r\n\t\t\t\r\n\t\t\tconst moduleSettings = ModuleSettings[this.state.widget.module] || {};\r\n\t\t\tconst deviceWidgetConfig = this.state.widget.devices[index] || {};\r\n\t\t\tconst states = Object.keys(device.states || {}).map(state => ({ [state]: device.states[state].label || state }));\r\n\t\t\t\r\n\t\t\tSecondaryActions = (!moduleSettings.devicesStates || (moduleSettings.devicesStates && moduleSettings.devicesStates.selectable !== false)) && <>\r\n\t\t\t\t\t{(!moduleSettings.devicesStates || !moduleSettings.devicesStates.selectable || (moduleSettings.devicesStates.selectable && moduleSettings.devicesStates.selectable.indexOf('primaryStateKey') > -1)) &&\r\n\t\t\t\t\t\t<Inputs.Select\r\n\t\t\t\t\t\t\tid=\"primaryStateKey\"\r\n\t\t\t\t\t\t\twidth={150}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlabel={i18n.t('Primary State')}\r\n\t\t\t\t\t\t\tselection={states}\r\n\t\t\t\t\t\t\tval={deviceWidgetConfig.primaryStateKey !== undefined ? deviceWidgetConfig.primaryStateKey : device.primaryStateKey}\r\n\t\t\t\t\t\t\tonChange={(props, val) => this._editItem(index, props, val)}\r\n\t\t\t\t\t\t\tdisabled={moduleSettings.devicesStates && moduleSettings.devicesStates.disabled && moduleSettings.devicesStates.disabled.indexOf('primaryStateKey') > -1}\r\n\t\t\t\t\t\t\t/>}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t{(!moduleSettings.devicesStates || !moduleSettings.devicesStates.selectable || (moduleSettings.devicesStates.selectable && moduleSettings.devicesStates.selectable.indexOf('secondaryStateKey') > -1)) ?\r\n\t\t\t\t\t\t<Inputs.Select\r\n\t\t\t\t\t\t\tid=\"secondaryStateKey\"\r\n\t\t\t\t\t\t\twidth={150}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlabel={i18n.t('Secondary State')}\r\n\t\t\t\t\t\t\tselection={[ { '': i18n.t('none') }, ...states ]}\r\n\t\t\t\t\t\t\tval={deviceWidgetConfig.secondaryStateKey !== undefined ? deviceWidgetConfig.secondaryStateKey : device.secondaryStateKey}\r\n\t\t\t\t\t\t\tonChange={(props, val) => this._editItem(index, props, val)}\r\n\t\t\t\t\t\t\tdisabled={moduleSettings.devicesStates && moduleSettings.devicesStates.disabled && moduleSettings.devicesStates.disabled.indexOf('secondaryStateKey') > -1}\r\n\t\t\t\t\t\t\t/> : <Placeholder width={150} />}\r\n\t\t\t\t</>\r\n\t\t}\r\n\t\telse if (device && device.type === 'group') {\r\n\t\t\ticon = <GroupIcon />\r\n\t\t\tprimary = <span>{device.name}</span>\r\n\t\t}\r\n\t\telse if (device && device.type === 'divider') {\r\n\t\t\ticon = <DividerIcon />\r\n\t\t\tprimary = <em>{'(' + i18n.t('divider') + ')'}</em>\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<ListItem key={'Device-' + (device.deviceId || (device.type + '-' + index))} divider classes={{ container: classes.height }}>\r\n\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t{icon}\r\n\t\t\t\t</ListItemIcon>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tdisableTypography\r\n\t\t\t\t\tprimary={primary}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t{SecondaryActions}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<IconButton onClick={() => this._moveItem('up', index)}>\r\n\t\t\t\t\t\t<ArrowUpIcon size=\"small\" />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton onClick={() => this._moveItem('down', index)}>\r\n\t\t\t\t\t\t<ArrowDownIcon size=\"small\" />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton onClick={() => this._deleteItem(index)} style={{ marginLeft: 16 }}>\r\n\t\t\t\t\t\t<DeleteIcon size=\"small\" />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t</ListItem>\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderDeviceList(devices) {\r\n\t\tconst { classes } = this.props;\r\n\t\tconst renderedDevices = devices.map((device, i) => this.renderDevice(device, i));\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<List classes={{ root: classes.fullWidth }} dense disablePadding>\r\n\t\t\t\t{renderedDevices}\r\n\t\t\t</List>\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\tif (this.state.widget === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t\t// get module configuration options\r\n\t\tconst moduleConfig = ModuleConfigurations[this.state.widget.module || DEFAULTS.MODULE].map(config => {\r\n\t\t\tconst Input = Inputs[config.type || 'Text'];\r\n\t\t\treturn (\r\n\t\t\t\t<Inputs.FieldsetItem columns={4} key={'FieldsetItem-' + config.parameter}>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\t{...config}\r\n\t\t\t\t\t\tkey={'moduleConfig-' + config.parameter}\r\n\t\t\t\t\t\tid={'moduleConfig-' + config.parameter}\r\n\t\t\t\t\t\tlabel={i18n.t(config.label || config.parameter)}\r\n\t\t\t\t\t\tinfo={config.description}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tonChange={this._onChange}\r\n\t\t\t\t\t\tval={this.state.widget[config.parameter] || config.val}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t);\r\n\t\t});\r\n\t\t\r\n\t\t// list devices\r\n\t\tconst moduleSettings = ModuleSettings[this.state.widget.module] || {};\r\n\t\tconst devices = moduleSettings.devices === false ? null : this.renderDeviceList(this.state.widget.devices || []);\r\n\t\t\r\n\t\treturn (\r\n\r\n\t<Dialog\r\n\t\theader={i18n.t('Widget configuration')}\r\n\t\tclasses={{ CustomDialogActions: classes.DialogActions }}\r\n\t\tactions={\r\n\t\t\t<Grid container>\r\n\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t{this.state.widget.index !== undefined && \r\n\t\t\t\t\t<Button key='action-delete' onClick={() => this.props.onDelete(this.state.widget.index)} color=\"secondary\" startIcon={<DeleteIcon />}>\r\n\t\t\t\t\t\t{i18n.t('Delete Widget')}\r\n\t\t\t\t\t</Button>}\r\n\t\t\t\t\t&nbsp;\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={6} className={classes.alignRight}>\r\n\t\t\t\t\t<Button key='action-cancel' onClick={() => this.props.onClose()} color=\"secondary\">\r\n\t\t\t\t\t\t{i18n.t('Cancel')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button key='action-save' onClick={this._onSave} color=\"primary\" disabled={Object.keys(this.state.errors).length > 0}>\r\n\t\t\t\t\t\t{i18n.t('Apply')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t}\r\n\t\t\r\n\t\tdense\r\n\t\tmaxWidth={'md'}\r\n\t\topen={true}\r\n\t\tonClose={() => this.props.onClose()}\r\n\t\t>\r\n\t\t\r\n\t\t<Inputs.Fieldset label={i18n.t('Widget-Box')}>\r\n\t\t\t<Inputs.FieldsetItem columns={4}>\r\n\t\t\t\t<Inputs.Text\r\n\t\t\t\t\tkey='title'\r\n\t\t\t\t\tid='title'\r\n\t\t\t\t\t{...LayoutsConfig.widgetTitle}\r\n\t\t\t\t\t\r\n\t\t\t\t\tautoFocus\r\n\t\t\t\t\tonChange={this._onChange}\r\n\t\t\t\t\tval={this.state.widget.title || ''}\r\n\t\t\t\t\terror={this.state.errors['title'] === true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t<Inputs.FieldsetItem columns={4}>\r\n\t\t\t\t<Inputs.Text\r\n\t\t\t\t\tkey='icon'\r\n\t\t\t\t\tid='icon'\r\n\t\t\t\t\t{...LayoutsConfig.widgetIcon}\r\n\t\t\t\t\t\r\n\t\t\t\t\tonChange={this._onChange}\r\n\t\t\t\t\tval={this.state.widget.icon || ''}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t<Inputs.FieldsetItem columns={4}>\r\n\t\t\t\t<Inputs.Text\r\n\t\t\t\t\tkey='iconStyle'\r\n\t\t\t\t\tid='iconStyle'\r\n\t\t\t\t\t{...LayoutsConfig.widgetIconStyle}\r\n\t\t\t\t\t\r\n\t\t\t\t\tonChange={this._onChange}\r\n\t\t\t\t\tval={this.state.widget.iconStyle ? JSON.stringify(this.state.widget.iconStyle) : ''}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t</Inputs.FieldsetItem>\r\n\t\t</Inputs.Fieldset>\r\n\t\t\r\n\t\t<Inputs.Fieldset label={i18n.t('Module')}>\r\n\t\t\t<Inputs.FieldsetItem>\r\n\t\t\t\t<Inputs.Text\r\n\t\t\t\t\tkey='module'\r\n\t\t\t\t\tid='module'\r\n\t\t\t\t\t{...LayoutsConfig.widgetModule}\r\n\t\t\t\t\t\r\n\t\t\t\t\tautoComplete\r\n\t\t\t\t\tautoHighlight\r\n\t\t\t\t\t\r\n\t\t\t\t\tval={this.state.widget.module}\r\n\t\t\t\t\tonChange={(props, val) => {\r\n\t\t\t\t\t\tthis._onChange(props, val);\r\n\t\t\t\t\t\tthis.setState(prevStates => ({\r\n\t\t\t\t\t\t\twidget: {\r\n\t\t\t\t\t\t\t\t...prevStates.widget,\r\n\t\t\t\t\t\t\t\tmodule: val\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t\r\n\t\t\t\t\terror={this.state.errors['module'] === true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t{moduleConfig}\r\n\t\t\t\r\n\t\t</Inputs.Fieldset>\r\n\t\t\r\n\t\t{moduleSettings.devices !== false && <Inputs.Fieldset label={i18n.t('Devices')}>\r\n\t\t\t\r\n\t\t\t<Inputs.FieldsetItem columns={3}>\r\n\t\t\t\t<Inputs.Text\r\n\t\t\t\t\twidth=\"90%\"\r\n\t\t\t\t\tkey='addDevice'\r\n\t\t\t\t\tid='addDevice'\r\n\t\t\t\t\tlabel={i18n.t('Add device')}\r\n\t\t\t\t\t\r\n\t\t\t\t\tautoComplete\r\n\t\t\t\t\tautoHighlight\r\n\t\t\t\t\t\r\n\t\t\t\t\terror={this.state.errors.addDevice !== undefined}\r\n\t\t\t\t\terrorMessage={this.state.errors.addDevice}\r\n\t\t\t\t\t\r\n\t\t\t\t\toptions={this.deviceOptions}\r\n\t\t\t\t\tgetOptionLabel={option => option.function + ' ' + option.name}\r\n\t\t\t\t\trenderOption={(option, state) => option.name}\r\n\t\t\t\t\t\r\n\t\t\t\t\tonChange={(props, device) => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// check if an item has been selected\r\n\t\t\t\t\t\tif (device) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// verify if device has certain state, if required by the module\r\n\t\t\t\t\t\t\tconst states = Object.keys(device.states);\r\n\t\t\t\t\t\t\tif (moduleSettings.devicesStates && moduleSettings.devicesStates.requiredStates && Array.isArray(moduleSettings.devicesStates.requiredStates) && moduleSettings.devicesStates.requiredStates.some(state => states.indexOf(state) === -1)) {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthis.setState(prevStates => ({\r\n\t\t\t\t\t\t\t\t\terrors: {\r\n\t\t\t\t\t\t\t\t\t\t...prevStates.errors,\r\n\t\t\t\t\t\t\t\t\t\t'addDevice': [ 'Device needs one of the following states', ': ', moduleSettings.devicesStates.requiredStates.join(', ') ]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis._addItem('device', device);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t\r\n\t\t\t\t\tclearOnSelect\r\n\t\t\t\t\tclearOnBlur\r\n\t\t\t\t\t\r\n\t\t\t\t\tgroupBy={option => option.function}\r\n\t\t\t\t\tcloseIcon={null}\r\n\t\t\t\t\tpopupIcon={null}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t{Array.isArray(moduleSettings['devices']) && moduleSettings['devices'].indexOf('divider') > -1 && <><Inputs.FieldsetItem columns={1} centered>\r\n\t\t\t\t<em>{i18n.t('or')}</em>\r\n\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t<Inputs.FieldsetItem columns={3}>\r\n\t\t\t\t<Inputs.Text\r\n\t\t\t\t\twidth=\"90%\"\r\n\t\t\t\t\tkey='addGroup'\r\n\t\t\t\t\tid='addGroup'\r\n\t\t\t\t\tlabel={i18n.t('Add group')}\r\n\t\t\t\t\t\r\n\t\t\t\t\tonEnter={(props, val) => val && this._addItem('group', val)}\r\n\t\t\t\t\tclearOnEnter\r\n\t\t\t\t\tclearOnBlur\r\n\t\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t</Inputs.FieldsetItem></>}\r\n\t\t\t{Array.isArray(moduleSettings['devices']) && moduleSettings['devices'].indexOf('group') > -1 && <><Inputs.FieldsetItem columns={1} centered>\r\n\t\t\t\t<em>{i18n.t('or')}</em>\r\n\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t<Inputs.FieldsetItem columns={3}>\r\n\t\t\t\t<Inputs.Button\r\n\t\t\t\t\tkey='addDivider'\r\n\t\t\t\t\tid='addDivider'\r\n\t\t\t\t\tlabel={i18n.t('Add divider')}\r\n\t\t\t\t\tonClick={() => this._addItem('divider')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t</Inputs.FieldsetItem></>}\r\n\t\t\t<Inputs.FieldsetItem>\r\n\t\t\t\t{devices}\r\n\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t\r\n\t\t</Inputs.Fieldset>}\r\n\t</Dialog>\r\n\t\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(WidgetPage);\r\n","import React from 'react'\r\n\r\nimport { DEFAULTS } from '../../../config/config'\r\nimport LayoutsConfig from './Layouts.config'\r\n\r\nimport i18n from '../../../controller/i18n'\r\nimport { moveKeyInArray } from '../../../helpers/utils'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport AddIcon from '@material-ui/icons/AddCircle'\r\nimport TabIcon from '@material-ui/icons/Tab'\r\nimport ArrowUpIcon from '@material-ui/icons/KeyboardArrowUp'\r\nimport ArrowDownIcon from '@material-ui/icons/KeyboardArrowDown'\r\nimport ArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft'\r\nimport ArrowRightIcon from '@material-ui/icons/KeyboardArrowRight'\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\n\r\nimport Inputs from '../../../components/Inputs'\r\nimport WidgetPage from './WidgetPage'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles'\r\nconst styles = theme => ({\r\n\tdeleteButton: {\r\n\t\tmarginTop: '20px'\r\n\t},\r\n\ttabs: {\r\n\t\tmarginBottom: '10px'\r\n\t},\r\n\ttab: {\r\n\t\tpadding: theme.spacing(3, 2),\r\n\t},\r\n\ticonContainer: {\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'center'\r\n\t},\r\n\tcolumnContainer: {\r\n\t\tmarginTop: theme.spacing(2),\r\n\t},\r\n\tcolumn: {\r\n\t\twidth: 250,\r\n\t\tmargin: theme.spacing(1, 1),\r\n\t\tborderRight: '1px solid rgba(0, 0, 0, 0.12)',\r\n\t\tborderLeft: '1px solid rgba(0, 0, 0, 0.12)',\r\n\t},\r\n\tDialogActions: {\r\n\t\tjustifyContent: 'initial'\r\n\t},\r\n\talignRight: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'flex-end',\r\n\t\t\r\n\t\t'& > :not(:first-child)': {\r\n\t\t\tmarginLeft: 8,\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\nclass LayoutsPage extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tselectedDrawer: null,\r\n\t\t\tselectedTab: null,\r\n\t\t\tselectedColumn: null,\r\n\t\t\tselectedWidget: null,\r\n\t\t\t\r\n\t\t\tlayout: this.props.layout,\r\n\t\t\tsettings: this.props.settings,\r\n\t\t\terrors: {}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_setLayout = (setter, callback) => {\r\n\t\tthis.setState(setter, () => {\r\n\t\t\tcallback && callback();\r\n\t\t\tthis.props.onChange(this.state.layout, this.state.settings);\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\t_saveWidget = widget => {\r\n\t\tconst drawerIndex = this.state.selectedDrawer;\r\n\t\tconst tabIndex = this.state.selectedTab;\r\n\t\tconst columnIndex = this.state.selectedColumn;\r\n\t\tconst widgetIndex = widget.index;\r\n\t\tdelete widget.index;\r\n\t\t\r\n\t\tthis._setLayout(prevState => {\r\n\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\t\r\n\t\t\t// fullscreen\r\n\t\t\tif (columnIndex === 'fullscreen') {\r\n\t\t\t\tnextLayout[drawerIndex].tabs[tabIndex]._fullscreen = widget;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// column\r\n\t\t\telse {\r\n\t\t\t\tif (widgetIndex >= 0) {\r\n\t\t\t\t\tnextLayout[drawerIndex].tabs[tabIndex].columns[columnIndex][widgetIndex] = widget;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tnextLayout[drawerIndex].tabs[tabIndex].columns[columnIndex].push(widget);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\tselectedWidget: null,\r\n\t\t\t\tlayout: nextLayout\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_addColumn = (drawerIndex, tabIndex, newColumn) => {\r\n\t\t\r\n\t\tthis._setLayout(prevState => {\r\n\t\t\tlet nextLayout = [ ...prevState.layout ];\r\n\t\t\tnextLayout[drawerIndex].tabs[tabIndex].columns.push([]);\r\n\t\t\treturn { layout: nextLayout }\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_addTab = drawerIndex => {\r\n\t\t\r\n\t\tthis._setLayout(prevState => {\r\n\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\tnextLayout[drawerIndex].tabs.push({\r\n\t\t\t\ttitle: i18n.t('new tab'),\r\n\t\t\t\ticon: 'home',\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t[]\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\treturn { layout: nextLayout }\r\n\t\t\t\r\n\t\t}, () => setTimeout(() => window.location = '#tab-' + (this.state.layout[drawerIndex].tabs.length-1), 100));\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_changeTab = (drawerIndex, tabIndex) => ({ id }, val) => {\r\n\t\tid = id.substr(0, id.indexOf('-'));\r\n\t\t\r\n\t\t// edit tab icon / label\r\n\t\tif (id === 'icon' || id === 'title') {\r\n\t\t\t\r\n\t\t\tthis._setLayout(prevState => {\r\n\t\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\t\tnextLayout[drawerIndex].tabs[tabIndex] = {\r\n\t\t\t\t\t...nextLayout[drawerIndex].tabs[tabIndex],\r\n\t\t\t\t\t[id]: val\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn { layout: nextLayout }\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t// edit tab fullscreen option\r\n\t\telse if (id === 'fullscreen') {\r\n\t\t\t\r\n\t\t\tthis._setLayout(prevState => {\r\n\t\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\t\t\r\n\t\t\t\tif (nextLayout[drawerIndex].tabs[tabIndex]._fullscreen) {\r\n\t\t\t\t\tnextLayout[drawerIndex].tabs[tabIndex].columns = [\r\n\t\t\t\t\t\t[nextLayout[drawerIndex].tabs[tabIndex]._fullscreen]\r\n\t\t\t\t\t];\r\n\t\t\t\t\t\r\n\t\t\t\t\tdelete nextLayout[drawerIndex].tabs[tabIndex]._fullscreen;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tnextLayout[drawerIndex].tabs[tabIndex]._fullscreen = nextLayout[drawerIndex].tabs[tabIndex].columns[0][0];\r\n\t\t\t\t\tdelete nextLayout[drawerIndex].tabs[tabIndex].columns;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn { layout: nextLayout }\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\t_deleteWidget = widgetIndex => {\r\n\t\tconst drawerIndex = this.state.selectedDrawer;\r\n\t\tconst tabIndex = this.state.selectedTab;\r\n\t\tconst columnIndex = this.state.selectedColumn;\r\n\t\t\r\n\t\tthis._setLayout(prevState => {\r\n\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\tnextLayout[drawerIndex].tabs[tabIndex].columns[columnIndex].splice(widgetIndex, 1);\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\tselectedWidget: null,\r\n\t\t\t\tlayout: nextLayout\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\t_deleteColumn = (drawerIndex, tabIndex, columnIndex) => {\r\n\t\t\r\n\t\tthis._setLayout(prevState => {\r\n\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\tnextLayout[drawerIndex].tabs[tabIndex].columns.splice(columnIndex, 1);\r\n\t\t\treturn { layout: nextLayout }\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_deleteTab = (drawerIndex, tabIndex) => {\r\n\t\t\r\n\t\tthis._setLayout(prevState => {\r\n\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\tnextLayout[drawerIndex].tabs.splice(tabIndex, 1);\r\n\t\t\treturn { layout: nextLayout }\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\t_moveWidget = (action, drawerIndex, tabIndex, columnIndex, widgetKey) => event => {\r\n\t\tevent.stopPropagation();\r\n\t\t\r\n\t\tthis._setLayout(prevState => {\r\n\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\tnextLayout[drawerIndex].tabs[tabIndex].columns[columnIndex] = moveKeyInArray([ ...nextLayout[drawerIndex].tabs[tabIndex].columns[columnIndex] ], widgetKey, action);\r\n\t\t\treturn { layout: nextLayout }\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\t_moveColumn = (action, drawerIndex, tabIndex, columnIndex) => {\r\n\t\t\r\n\t\tthis._setLayout(prevState => {\r\n\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\tnextLayout[drawerIndex].tabs[tabIndex].columns = moveKeyInArray([ ...nextLayout[drawerIndex].tabs[tabIndex].columns ], columnIndex, action);\r\n\t\t\treturn { layout: nextLayout }\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_moveTab = (action, drawerIndex, tabIndex) => event => {\r\n\t\tevent.stopPropagation();\r\n\t\t\r\n\t\tthis._setLayout(prevState => {\r\n\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\tnextLayout[drawerIndex].tabs = moveKeyInArray([ ...nextLayout[drawerIndex].tabs ], tabIndex, action);\r\n\t\t\treturn { layout: nextLayout }\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_openPopup = (drawerIndex, tabIndex, columnIndex, widget) => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\terrors: {},\r\n\t\t\t\r\n\t\t\tselectedDrawer: drawerIndex,\r\n\t\t\tselectedTab: tabIndex,\r\n\t\t\tselectedColumn: columnIndex,\r\n\t\t\tselectedWidget: widget\r\n\t\t});\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderWidget(drawer, tab, column, widget) {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\treturn (\r\n\r\n<ListItem\r\n\tkey={'Tab-' + tab.index + '_Column-' + column.index + '_Widget-' + widget.index}\r\n\tonClick={() => this._openPopup(drawer.index, tab.index, column.index, widget)}\r\n\tbutton\r\n\tdivider\r\n\t>\r\n\t\r\n\t{tab.fullscreen ?\r\n\t<ListItemIcon classes={{ root: classes.iconContainer }}>\r\n\t\t<FullscreenIcon />\r\n\t</ListItemIcon>\r\n\t\t:\r\n\t<ListItemIcon classes={{ root: classes.iconContainer }}>\r\n\t\t<React.Fragment>\r\n\t\t\t<IconButton size=\"small\" onClick={this._moveWidget('up', drawer.index, tab.index, column.index, widget.index)}>\r\n\t\t\t\t<ArrowUpIcon />\r\n\t\t\t</IconButton>\r\n\t\t\t<IconButton size=\"small\" onClick={this._moveWidget('down', drawer.index, tab.index, column.index, widget.index)}>\r\n\t\t\t\t<ArrowDownIcon />\r\n\t\t\t</IconButton>\r\n\t\t</React.Fragment>\r\n\t</ListItemIcon>}\r\n\t\r\n\t<ListItemText primary={\r\n\t\t<React.Fragment>\r\n\t\t\t<Typography display=\"block\">{widget.title}</Typography>\r\n\t\t\t<Typography variant=\"subtitle2\">({widget.module})</Typography>\r\n\t\t</React.Fragment>\r\n\t} />\r\n\t\r\n</ListItem>\r\n\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderColumn(drawer, tab, column) {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\t// components per tab\r\n\t\tlet tabColumnWidgetsNodes = [];\r\n\t\ttabColumnWidgetsNodes = column.widgets.map((widget, index) => {\r\n\t\t\twidget.index = index;\r\n\t\t\twidget.module = widget.module || DEFAULTS.MODULE;\r\n\t\t\treturn this.renderWidget(drawer, tab, column, widget);\r\n\t\t});\r\n\t\t\r\n\t\treturn (\r\n\r\n<Grid className={classes.column} key={'Tab-' + tab.index + '_Column-' + column.index} item>\r\n\t<List>\r\n\t\t{!tab._fullscreen && <>\r\n\t\t<ListItem divider dense>\r\n\t\t\t<ListItemIcon classes={{ root: classes.iconContainer }}>\r\n\t\t\t\t<IconButton size=\"small\" onClick={() => this._moveColumn('up', drawer.index, tab.index, column.index)}>\r\n\t\t\t\t\t<ArrowLeftIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</ListItemIcon>\r\n\t\t\t<ListItemText primary={i18n.t('move column')} />\r\n\t\t\t\r\n\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t<IconButton size=\"small\" onClick={() => this._moveColumn('down', drawer.index, tab.index, column.index)}>\r\n\t\t\t\t\t<ArrowRightIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</ListItemSecondaryAction>\r\n\t\t</ListItem>\r\n\t\t<ListItem onClick={() => this._deleteColumn(drawer.index, tab.index, column.index)} button divider dense>\r\n\t\t\t<ListItemIcon classes={{ root: classes.iconContainer }}>\r\n\t\t\t\t<IconButton size=\"small\">\r\n\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</ListItemIcon>\r\n\t\t\t<ListItemText primary={i18n.t('delete column')} />\r\n\t\t</ListItem></>}\r\n\t\t\r\n\t\t{(!tab._fullscreen || (tab._fullscreen && column.widgets.length < 1))&& <ListItem onClick={() => this._openPopup(drawer.index, tab.index, column.index, { module: DEFAULTS.MODULE })} button divider dense>\r\n\t\t\t<ListItemIcon classes={{ root: classes.iconContainer }}>\r\n\t\t\t\t<IconButton size=\"small\">\r\n\t\t\t\t\t<AddIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</ListItemIcon>\r\n\t\t\t<ListItemText primary={i18n.t('add new widget')} />\r\n\t\t</ListItem>}\r\n\t\t\r\n\t\t{tabColumnWidgetsNodes}\r\n\t\t\r\n\t</List>\r\n</Grid>\r\n\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderTab(drawer, tab) {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\t// columns per tab\r\n\t\tlet columns = 1;\r\n\t\tlet widgetsInFirstColumn = (tab.columns && tab.columns[1] && tab.columns[1].length) || 0;\r\n\t\tlet tabColumnsNodes = [];\r\n\t\t\r\n\t\t// tab is fullscreen\r\n\t\tif (tab._fullscreen !== undefined) {\r\n\t\t\ttabColumnsNodes.push(this.renderColumn(drawer, tab, { widgets: [ tab._fullscreen ], index: 'fullscreen' }));\r\n\t\t}\r\n\t\t\r\n\t\t// tab divided in columns\r\n\t\telse {\r\n\t\t\tcolumns = tab.columns.length;\r\n\t\t\ttabColumnsNodes = tab.columns.map((column, columnIndex) => this.renderColumn(drawer, tab, { widgets: column, index: columnIndex }));\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\r\n<ListItem\r\n\tkey={'Tab-' + tab.id}\r\n\tid={'tab-' + tab.index}\r\n\tdivider={tab.index !== (this.state.layout[drawer.index].tabs.length-1)}\r\n\tclasses={{ root: classes.tab }}\r\n\t>\r\n\t\r\n\t<ListItemIcon key={'Drawer-' + drawer.id + '-Tab-' + tab.id + '-ListItemIcon'} classes={{ root: classes.iconContainer }}>\r\n\t\t<React.Fragment>\r\n\t\t\t<IconButton size=\"small\" onClick={this._moveTab('up', drawer.index, tab.index)}>\r\n\t\t\t\t<ArrowUpIcon />\r\n\t\t\t</IconButton>\r\n\t\t\t<IconButton size=\"small\" onClick={this._moveTab('down', drawer.index, tab.index)}>\r\n\t\t\t\t<ArrowDownIcon />\r\n\t\t\t</IconButton>\r\n\t\t\t<IconButton size=\"small\" onClick={() => this._deleteTab(drawer.index, tab.index)} classes={{ root: classes.deleteButton }}>\r\n\t\t\t\t<DeleteIcon />\r\n\t\t\t</IconButton>\r\n\t\t</React.Fragment>\r\n\t</ListItemIcon>\r\n\t<ListItemText\r\n\t\tdisableTypography={true}\r\n\t\tprimary={[\r\n\t\t\t<Inputs.Text\r\n\t\t\t\tkey={'Input-tabIcon-' + tab.id}\r\n\t\t\t\tid={'icon-' + tab.index}\r\n\t\t\t\t{...LayoutsConfig.tabIcon}\r\n\t\t\t\t\r\n\t\t\t\tonBlur={this._changeTab(drawer.index, tab.index)}\r\n\t\t\t\tval={tab.icon || ''}\r\n\t\t\t\ticon={tab.icon || ''}\r\n\t\t\t\t/>,\r\n\t\t\t\r\n\t\t\t<Inputs.Text\r\n\t\t\t\tkey={'Input-tabTitle-' + tab.id}\r\n\t\t\t\tid={'title-' + tab.index}\r\n\t\t\t\t{...LayoutsConfig.tabTitle}\r\n\t\t\t\t\r\n\t\t\t\tonBlur={this._changeTab(drawer.index, tab.index)}\r\n\t\t\t\tval={tab.title || ''}\r\n\t\t\t\t/>,\r\n\t\t\t\r\n\t\t\t<Inputs.Button\r\n\t\t\t\tkey={'Input-tabAddColumn-' + tab.id}\r\n\t\t\t\tid={'tabAddColumn-' + tab.index}\r\n\t\t\t\tlabel='add new column'\r\n\t\t\t\tdisabled={tab._fullscreen !== undefined}\r\n\t\t\t\tonClick={() => this._addColumn(drawer.index, tab.index, columns+1)}\r\n\t\t\t\t/>,\r\n\t\t\t\r\n\t\t\t<Inputs.Switch\r\n\t\t\t\tkey={'Input-tabFullscreen-' + tab.id}\r\n\t\t\t\tid={'fullscreen-' + tab.index}\r\n\t\t\t\t{...LayoutsConfig.tabFullscreen}\r\n\t\t\t\t\r\n\t\t\t\tdisabled={(columns > 1 || widgetsInFirstColumn > 1)}\r\n\t\t\t\tonChange={this._changeTab(drawer.index, tab.index)}\r\n\t\t\t\tval={tab._fullscreen !== undefined}\r\n\t\t\t\t/>,\r\n\t\t\t\r\n\t\t\t<Grid\r\n\t\t\t\tkey={'Tab-' + tab.id + '-ColumnContainer'}\r\n\t\t\t\tclasses={{ root: classes.columnContainer }}\r\n\t\t\t\tcontainer\r\n\t\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t{tabColumnsNodes}\r\n\t\t\t</Grid>\r\n\t\t]}\r\n\t\t/>\r\n\t\r\n</ListItem>\r\n\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderDrawer(drawer) {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\tconst tabs = drawer.tabs.map((tab, tabIndex) => tab && this.renderTab(drawer, { ...tab, index: tabIndex, id: tab.title.toLowerCase().replace(/ /g, '') + tabIndex }));\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<List className={classes.tabs} key={'Drawer-' + drawer.id}>\r\n\t\t\t\t<ListItem divider classes={{ root: classes.tab }}>\r\n\t\t\t\t\t<ListItemIcon classes={{ root: classes.iconContainer }}>\r\n\t\t\t\t\t\t<TabIcon />\r\n\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tdisableTypography={true}\r\n\t\t\t\t\t\tprimary={[\r\n\t\t\t\t\t\t\t<Inputs.Button key='Input-addTabs' id='Input-addTabs' label='add new tab' onClick={() => this._addTab(drawer.index)} />,\r\n\t\t\t\t\t\t\t<Inputs.Switch\r\n\t\t\t\t\t\t\t\tkey='Input-tabsHideLabels'\r\n\t\t\t\t\t\t\t\tid='tabsHideLabels'\r\n\t\t\t\t\t\t\t\t{...LayoutsConfig.tabsHideLabels}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tonChange={({ id }, val) => this.props.onChange(this.state.layout, { [id]: val })}\r\n\t\t\t\t\t\t\t\tval={this.state.settings['tabsHideLabels']}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t{tabs}\r\n\t\t\t\t\r\n\t\t\t</List>\r\n\t\t)\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trender() {\r\n\t\t//const { classes } = this.props;\r\n\t\t\r\n\t\tconst drawers = this.state.layout.map((drawer, drawerIndex) => drawer && this.renderDrawer({ ...drawer, index: drawerIndex, id: drawer.title.toLowerCase().replace(/ /g, '') + drawerIndex }));\r\n\t\t\r\n\t\treturn (\r\n\r\n<React.Fragment>\r\n\t<Paper>\r\n\t\t{drawers}\r\n\t\t\r\n\t</Paper>\r\n\t\r\n\t{this.state.selectedWidget !== null && <WidgetPage\r\n\t\t\t\t\t\t\t\t\t\t\t\twidget={this.state.selectedWidget}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonSave={this._saveWidget}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonDelete={this._deleteWidget}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClose={() => this.setState({ selectedWidget: null })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>}\r\n\t\r\n</React.Fragment>\r\n\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(LayoutsPage);\r\n","\r\nexport default {\r\n\t'pageSettings': {\r\n\t\t'label': 'Page Settings',\r\n\t\t'settings': {\r\n\t\t\t'language': {\r\n\t\t\t\t'label': {\r\n\t\t\t\t\t'de': 'Spracheinstellung von jarvis',\r\n\t\t\t\t\t'en': 'Language settings for jarvis'\r\n\t\t\t\t},\r\n\t\t\t\t'type': 'Select',\r\n\t\t\t\t'selection': [\r\n\t\t\t\t\t{ 'de': 'Deutsch' },\r\n\t\t\t\t\t{ 'en': 'English' }\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t'pageFavicon': {\r\n\t\t\t\t'label': {\r\n\t\t\t\t\t'de': 'Favicon im Browser',\r\n\t\t\t\t\t'en': 'Browser favicon'\r\n\t\t\t\t},\r\n\t\t\t\t'info': {\r\n\t\t\t\t\t'de': 'base64 Wert der Grafik',\r\n\t\t\t\t\t'en': 'base64 value of the image'\r\n\t\t\t\t},\r\n\t\t\t\t'type': 'Text'\r\n\t\t\t},\r\n\t\t\t'pageTitle': {\r\n\t\t\t\t'label': {\r\n\t\t\t\t\t'de': 'Titel im Browser',\r\n\t\t\t\t\t'en': 'Browser title'\r\n\t\t\t\t},\r\n\t\t\t\t'type': 'Text',\r\n\t\t\t\t'placeholder': 'jarvis - just another remarkable vis'\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'themeSettings': {\r\n\t\t'label': 'Theme Settings',\r\n\t\t'settings': {\r\n\t\t\t'themeColorPrimary': {\r\n\t\t\t\t'label': {\r\n\t\t\t\t\t'de': 'Primäre Farbe des Themes',\r\n\t\t\t\t\t'en': 'Primary theme color'\r\n\t\t\t\t},\r\n\t\t\t\t'info': {\r\n\t\t\t\t\t'de': 'Der Farbwert kann ein Wert aus der Farbpalette in der Form `HUE|SHADE` (z. B. `blue|700`) sein. Alternativ kann ein Hex oder RGB angegeben werden.'\r\n\t\t\t\t},\r\n\t\t\t\t'link': 'https://material-ui.com/customization/color/#color-palette',\r\n\t\t\t\t'type': 'Text',\r\n\t\t\t\t'placeholder': 'blue|700'\r\n\t\t\t},\r\n\t\t\t'themeColorSecondary': {\r\n\t\t\t\t'label': {\r\n\t\t\t\t\t'de': 'Sekundäre Farbe des Themes',\r\n\t\t\t\t\t'en': 'Secondary theme color'\r\n\t\t\t\t},\r\n\t\t\t\t'info': {\r\n\t\t\t\t\t'de': 'Der Farbwert kann ein Wert aus der Farbpalette in der Form `HUE|SHADE` (z. B. `pink`) sein. Alternativ kann ein Hex oder RGB angegeben werden.'\r\n\t\t\t\t},\r\n\t\t\t\t'link': 'https://material-ui.com/customization/color/#color-palette',\r\n\t\t\t\t'type': 'Text',\r\n\t\t\t\t'placeholder': 'pink'\r\n\t\t\t},\r\n\t\t\t'defaultBoxIcon': {\r\n\t\t\t\t'label': {\r\n\t\t\t\t\t'de': 'Standard Widget-Box Icon',\r\n\t\t\t\t\t'en': 'Default widget-box icon'\r\n\t\t\t\t},\r\n\t\t\t\t'type': 'Text',\r\n\t\t\t\t'placeholder': 'home'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","import React from 'react'\r\n\r\nimport Accordion from '@material-ui/core/Accordion'\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails'\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\n\r\nimport SettingsConfig from './Settings.config'\r\nimport Settings from '../../../controller/Settings'\r\nimport Inputs from '../../../components/Inputs'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles'\r\nconst styles = theme => ({\r\n\theading: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tflexBasis: '33.33%',\r\n\t\tflexShrink: 0,\r\n\t},\r\n\tsecondaryHeading: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tcolor: theme.palette.text.secondary,\r\n\t},\r\n});\r\n\r\n\r\nclass SettingsPage extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tdelete Settings.settings.iobroker;\r\n\t\tthis.state = {\r\n\t\t\tpanel: false\r\n\t\t}\r\n\t\t\r\n\t\tthis.onChange = this.props.onChange;\r\n\t\tthis.settings = Settings.getSettings();\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_handleSettingsChange = (key, val) => {\r\n\t\tSettings.setSetting(key, val);\r\n\t\t\r\n\t\tif (this.onChange) {\r\n\t\t\tthis.onChange(Settings.getSettings());\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_handlePanelChange = panel => (event, isExpanded) => this.setState({ panel: isExpanded ? panel : false });\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderPanel(key, panel) {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\tconst settings = Object.keys(panel.settings).map(inputKey => {\r\n\t\t\tconst inputSettings = panel.settings[inputKey];\r\n\t\t\tconst Tag = Inputs[inputSettings.type || 'Text'];\r\n\t\t\t\r\n\t\t\treturn <Tag\r\n\t\t\t\t\t\tkey={'Input-' + key + '-' + inputKey}\r\n\t\t\t\t\t\tid={inputKey}\r\n\t\t\t\t\t\tonChange={this._handleSettingsChange}\r\n\t\t\t\t\t\tval={this.props.settings[inputKey] || this.settings[inputKey]}\r\n\t\t\t\t\t\t{...inputSettings}\r\n\t\t\t\t\t\t/>\r\n\t\t});\r\n\t\t\r\n\t\treturn (\r\n\r\n<Accordion\r\n\tkey={'Accordion-' + key}\r\n\texpanded={this.state.panel === key}\r\n\tonChange={this._handlePanelChange(key)}\r\n\t>\r\n\t\r\n\t<AccordionSummary\r\n\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\tid={'panel-header-' + key}\r\n\t\t>\r\n\t\t\r\n\t\t<Typography className={classes.heading}>{panel.label}</Typography>\r\n\t\t{panel.description && <Typography className={classes.secondaryHeading}>{panel.description}</Typography>}\r\n\t\t\r\n\t</AccordionSummary>\r\n\t<AccordionDetails>\r\n\t\t{settings}\r\n\t</AccordionDetails>\r\n</Accordion>\r\n\r\n\t\t)\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trender() {\r\n\t\treturn Object.keys(SettingsConfig).map(panel => this.renderPanel(panel, SettingsConfig[panel]))\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(SettingsPage);\r\n","import React from 'react'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport { DEFAULTS } from '../../config/config'\r\nimport Connection from '../../controller/Connection'\r\nimport Devices from '../../controller/Devices'\r\nimport i18n from '../../controller/i18n'\r\nimport Settings from '../../controller/Settings'\r\n\r\nimport Dialog from '../../components/Dialog'\r\nimport Inputs from '../../components/Inputs'\r\n\r\nimport DevicesListPage from './DevicesPage/DevicesListPage'\r\nimport LayoutsPage from './LayoutsPage/LayoutsPage'\r\nimport SettingsPage from './SettingsPage/SettingsPage'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles'\r\nconst styles = theme => ({\r\n\tpaper: {\r\n\t\tmarginBottom: '10px'\r\n\t},\r\n\tpinToTop: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: 0,\r\n\t\tleft: 0\r\n\t},\r\n\ttitle: {\r\n\t\tpaddingLeft: theme.spacing(2),\r\n\t\tpaddingRight: theme.spacing(1),\r\n\t\tmarginBottom: theme.spacing(1),\r\n\t\tminHeight: '64px',\r\n\t\tdisplay: 'flex',\r\n\t\tposition: 'relative',\r\n\t\talignItems: 'center'\r\n\t},\r\n\trawEditor: {\r\n\t\tfontFamily: 'Roboto Mono,Consolas,Courier New,monospace !important'\r\n\t}\r\n});\r\n\r\n\r\nclass ConfigurationPage extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\t// get layout & settings\r\n\t\tlet layout = Settings.getLayout();\r\n\t\tlet settings = Settings.getSettings();\r\n\t\tdelete settings.iobroker;\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\texpertMode: false,\r\n\t\t\ttab: 'devices',\r\n\t\t\terrors: {},\r\n\t\t\t\r\n\t\t\tsettings: settings,\r\n\t\t\tlayout: layout,\r\n\t\t\tdevices: Devices.getDevices({ raw: true, copy: true })\r\n\t\t}\r\n\t\t\r\n\t\tthis.socket = Connection.getConnection;\r\n\t\t\r\n\t\tthis._onDevicesChange.bind(this);\r\n\t\tthis._onSettingsChange.bind(this);\r\n\t\tthis._onLayoutsChange.bind(this);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t *\r\n\t */\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\t\r\n\t\tif (this.state.expertMode) {\r\n\t\t\tlet rawEditor = document.getElementById(this.state.tab);\r\n\t\t\t\r\n\t\t\tif (rawEditor.scrollHeight !== prevState.rawEditorHeight) {\r\n\t\t\t\tthis.setState({ rawEditorHeight: rawEditor.scrollHeight });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/*\r\n\t * \r\n\t */\r\n\t_onDevicesChange = devices => this.setState({ devices: devices });\r\n\t_onSettingsChange = settings => this.setState({ settings: settings });\r\n\t_onLayoutsChange = (layout, settings) => this.setState(prevState => ({ settings: { ...prevState.settings, ...settings || {} }, layout: layout }));\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\tonRawChange = (props, val) => {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tlet res = JSON.parse(val);\r\n\t\t\t\r\n\t\t\tthis.setState(prevStates => {\r\n\t\t\t\tlet nextErrors = { ...prevStates.errors }\r\n\t\t\t\tdelete nextErrors[props.id];\r\n\t\t\t\t\r\n\t\t\t\treturn {\r\n\t\t\t\t\terrors: nextErrors,\r\n\t\t\t\t\t[props.type]: res\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tcatch(err) {\r\n\t\t\tthis.setState(prevStates => ({\r\n\t\t\t\terrors: {\r\n\t\t\t\t\t...prevStates.errors,\r\n\t\t\t\t\t[props.id]: i18n.t('Invalid JSON format')\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\t_handleTabChange = (event, tab) => this.setState({ tab });\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_cancel = () => this.props.navigate('home');\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_save = () => {\r\n\t\tlet result = [\r\n\t\t\tthis.socket.setState(DEFAULTS.NODE_SETTINGS, JSON.stringify(this.state.settings)),\r\n\t\t\tthis.socket.setState(DEFAULTS.NODE_LAYOUT, JSON.stringify(this.state.layout)),\r\n\t\t\tthis.socket.setState(DEFAULTS.NODE_DEVICES, JSON.stringify(this.state.devices))\r\n\t\t];\r\n\t\t\r\n\t\tPromise.all(result)\r\n\t\t\t.then(() => window.location.reload())\r\n\t\t\t.catch(err => console.error(err));\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\treturn (\r\n\r\n<Dialog\r\n\tclasses={{ CustomDialog: classes.pinToTop }}\r\n\tfullWidth={true}\r\n\tmaxWidth={false}\r\n\t\r\n\topen={(this.props.page === 'configuration')}\r\n\tonClose={this._cancel}\r\n\t\r\n\theader={[\r\n\t\t<Typography key=\"header\" variant=\"h6\">\r\n\t\t\t{i18n.t('Configuration')}\r\n\t\t\t<Inputs.SwitchInline\r\n\t\t\t\tkey=\"Input-expertMode\"\r\n\t\t\t\tid=\"expertMode\"\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tlabel={i18n.t('Expert mode')}\r\n\t\t\t\tonChange={(key, val) => this.setState(prevState => ({ expertMode: val, tab: prevState.expertMode ? prevState.tab.substr(0, prevState.tab.length-3) : prevState.tab + 'Raw' }))}\r\n\t\t\t\tval={this.state.expertMode}\r\n\t\t\t\t/>\r\n\t\t</Typography>,\r\n\t\t\r\n\t\t<Tabs\r\n\t\t\tkey=\"tabs\"\r\n\t\t\tvalue={this.state.tab}\r\n\t\t\tindicatorColor=\"primary\"\r\n\t\t\ttextColor=\"primary\"\r\n\t\t\tonChange={this._handleTabChange}\r\n\t\t\t>\r\n\t\t\t\r\n\t\t\t{this.state.expertMode === true && <Tab value=\"devicesRaw\" label={i18n.t('Devices')} />}\r\n\t\t\t{this.state.expertMode === true && <Tab value=\"layoutRaw\" label={i18n.t('Layout')} />}\r\n\t\t\t{this.state.expertMode === true && <Tab value=\"settingsRaw\" label={i18n.t('Settings')} />}\r\n\t\t\t{this.state.expertMode !== true && <Tab value=\"devices\" label={i18n.t('Devices')} />}\r\n\t\t\t{this.state.expertMode !== true && <Tab value=\"layout\" label={i18n.t('Layout')} />}\r\n\t\t\t{this.state.expertMode !== true && <Tab value=\"settings\" label={i18n.t('Settings')} />}\r\n\t\t</Tabs>\r\n\t]}\r\n\tactions={[\r\n\t\t<Button key='action-cancel' autoFocus onClick={this._cancel} color=\"secondary\">\r\n\t\t\t{i18n.t('Cancel')}\r\n\t\t</Button>,\r\n\t\t<Button key='action-save' onClick={this._save} color=\"primary\" variant=\"contained\" disabled={Object.keys(this.state.errors).length > 0}>\r\n\t\t\t{i18n.t('Save')}\r\n\t\t</Button>\r\n\t]}\r\n\t>\r\n\t\r\n\t<div hidden={this.state.tab !== 'devices'}>\r\n\t\t<Paper className={classes.paper}>\r\n\t\t\t{this.state.tab === 'devices' && <DevicesListPage onChange={this._onDevicesChange} />}\r\n\t\t</Paper>\r\n\t</div>\r\n\t{this.state.expertMode === true && \r\n\t<div hidden={this.state.tab !== 'devicesRaw'}>\r\n\t\t<Paper className={classes.paper}>\r\n\t\t\t<Typography className={classes.title} variant=\"h6\">\r\n\t\t\t\t{i18n.t('Raw Editor') + ' ' + i18n.t('Devices')}\r\n\t\t\t</Typography>\r\n\t\t\t<Inputs.Text\r\n\t\t\t\tid=\"devicesRaw\"\r\n\t\t\t\tlabel={['JSON Editor', (this.state.errors['devicesRaw'] !== undefined ? ' (' + this.state.errors['devicesRaw'] + ')' : '')]}\r\n\t\t\t\tInputProps={{ disableUnderline: true, className: classes.rawEditor }}\r\n\t\t\t\tinputProps={{ style: { height: this.state.rawEditorHeight } }}\r\n\t\t\t\tmultiline\r\n\t\t\t\twidth=\"99%\"\r\n\t\t\t\terror={this.state.errors['devicesRaw'] !== undefined}\r\n\t\t\t\tonChange={(props, val) => this.onRawChange({ ...props, type: 'devices' }, val)}\r\n\t\t\t\tval={JSON.stringify(this.state.devices, null, 3)}\r\n\t\t\t\t/>\r\n\t\t\t\r\n\t\t</Paper>\r\n\t</div>}\r\n\t<div hidden={this.state.tab !== 'settings'} style={{ width: '100%' }}>\r\n\t\t<Paper className={classes.title}>\r\n\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\t{i18n.t('Settings')}\r\n\t\t\t</Typography>\r\n\t\t</Paper>\r\n\t\t{this.state.tab === 'settings' && <SettingsPage settings={this.state.settings} onChange={this._onSettingsChange} />}\r\n\t\t\r\n\t</div>\r\n\t{this.state.expertMode === true && \r\n\t<div hidden={this.state.tab !== 'settingsRaw'} style={{ width: '100%' }}>\r\n\t\t<Paper className={classes.paper}>\r\n\t\t\t<Typography className={classes.title} variant=\"h6\">\r\n\t\t\t\t{i18n.t('Raw Editor') + ' ' + i18n.t('Settings')}\r\n\t\t\t</Typography>\r\n\t\t\t<Inputs.Text\r\n\t\t\t\tid=\"settingsRaw\"\r\n\t\t\t\tlabel={['JSON Editor', (this.state.errors['settingsRaw'] !== undefined ? ' (' + this.state.errors['settingsRaw'] + ')' : '')]}\r\n\t\t\t\tInputProps={{ disableUnderline: true, className: classes.rawEditor }}\r\n\t\t\t\tinputProps={{ style: { height: this.state.rawEditorHeight } }}\r\n\t\t\t\tmultiline\r\n\t\t\t\twidth=\"99%\"\r\n\t\t\t\terror={this.state.errors['settingsRaw'] !== undefined}\r\n\t\t\t\tonChange={(props, val) => this.onRawChange({ ...props, type: 'settings' }, val)}\r\n\t\t\t\tval={JSON.stringify(this.state.settings, null, 3)}\r\n\t\t\t\t/>\r\n\t\t\t\r\n\t\t</Paper>\r\n\t</div>}\r\n\t<div hidden={this.state.tab !== 'layout'}>\r\n\t\t<Paper>\r\n\t\t\t<Typography className={classes.title} variant=\"h6\">\r\n\t\t\t\t{i18n.t('Layout')}\r\n\t\t\t</Typography>\r\n\t\t</Paper>\r\n\t\t{this.state.tab === 'layout' && <LayoutsPage settings={this.state.settings} layout={this.state.layout} onChange={this._onLayoutsChange} />}\r\n\t\t\r\n\t</div>\r\n\t{this.state.expertMode === true && \r\n\t<div hidden={this.state.tab !== 'layoutRaw'} style={{ width: '100%' }}>\r\n\t\t<Paper className={classes.paper}>\r\n\t\t\t<Typography className={classes.title} variant=\"h6\">\r\n\t\t\t\t{i18n.t('Raw Editor') + ' ' + i18n.t('Layout')}\r\n\t\t\t</Typography>\r\n\t\t\t<Inputs.Text\r\n\t\t\t\tid=\"layoutRaw\"\r\n\t\t\t\tlabel={['JSON Editor', (this.state.errors['layoutRaw'] !== undefined ? ' (' + this.state.errors['layoutRaw'] + ')' : '')]}\r\n\t\t\t\tInputProps={{ disableUnderline: true, className: classes.rawEditor }}\r\n\t\t\t\tinputProps={{ style: { height: this.state.rawEditorHeight } }}\r\n\t\t\t\tmultiline\r\n\t\t\t\twidth=\"99%\"\r\n\t\t\t\terror={this.state.errors['layoutRaw'] !== undefined}\r\n\t\t\t\tonChange={(props, val) => this.onRawChange({ ...props, type: 'layout' }, val)}\r\n\t\t\t\tval={JSON.stringify(this.state.layout || {}, null, 3)}\r\n\t\t\t\t/>\r\n\t\t\t\r\n\t\t</Paper>\r\n\t</div>}\r\n\t\r\n</Dialog>\r\n\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(ConfigurationPage);\r\n","import React from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\n\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles(theme => ({\r\n\tcloseButton: {\r\n\t\tposition: 'absolute',\r\n\t\tright: theme.spacing(1),\r\n\t\ttop: theme.spacing(1),\r\n\t\tcolor: theme.palette.grey[500],\r\n\t},\r\n\tDialog: {\r\n\t},\r\n\tDialogDense: {\r\n\t\tpadding: theme.spacing(2, 0)\r\n\t},\r\n\tCustomDialog: {\r\n\t},\r\n\tDialogTitle: {\r\n\t},\r\n\tCustomDialogTitle: {\r\n\t},\r\n\tDialogTitleTypography: {\r\n\t\t//padding: theme.spacing(2)\r\n\t},\r\n\tDialogContent: {\r\n\t\tbackgroundColor: '#fafafa'\r\n\t},\r\n\tCustomDialogContent: {\r\n\t},\r\n\tDialogActions: {\r\n\t\tmargin: 0,\r\n\t\tpadding: theme.spacing(1),\r\n\t},\r\n\tCustomDialogActions: {\r\n\t}\r\n}));\r\n\r\n\r\nexport default function CustomDialog(props) {\r\n\tconst { header, onClose, children, actions, dense, disableBackdropClick, disableEscapeKeyDown } = props;\r\n\tconst classes = useStyles(props);\r\n\t\r\n\treturn (\r\n\r\n<Dialog\r\n\tclasses={{ paper: clsx(classes.Dialog, classes.CustomDialog) }}\r\n\tfullWidth={props.fullWidth}\r\n\tmaxWidth={props.maxWidth}\r\n\t\r\n\tdisableBackdropClick={disableBackdropClick ? disableBackdropClick : true}\r\n\tdisableEscapeKeyDown={disableEscapeKeyDown ? disableEscapeKeyDown : true}\r\n\t\r\n\topen={props.open}\r\n\tonClose={props.onClose}\r\n\t>\r\n\t\r\n\t<DialogTitle\r\n\t\tclasses={{ root: clsx(classes.DialogTitle, classes.CustomDialogTitle) }}\r\n\t\tdisableTypography\r\n\t\t>\r\n\t\t\r\n\t\t{typeof header !== 'string' ? header : <Typography className={classes.DialogTitleTypography} variant=\"h6\">\r\n\t\t\t{header}\r\n\t\t</Typography>}\r\n\t\t<IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n\t\t\t<CloseIcon />\r\n\t\t</IconButton>\r\n\t</DialogTitle>\r\n\t\r\n\t<DialogContent id='DialogContent' className={clsx(classes.DialogContent, classes.CustomDialogContent, dense && classes.DialogDense)} dividers>\r\n\t\t{children}\r\n\t</DialogContent>\r\n\t\r\n\t<DialogActions classes={{ root: clsx(classes.DialogActions, classes.CustomDialogActions) }}>\r\n\t\t{actions}\r\n\t</DialogActions>\r\n</Dialog>\r\n\r\n\t);\r\n}\r\n"],"sourceRoot":""}