(this.webpackJsonpjarvis=this.webpackJsonpjarvis||[]).push([[16,18,33,39,45,46,47,48,49,50],{2071:function(e,t,a){"use strict";a.r(t),a.d(t,"CollapsibleSummary",(function(){return j})),a.d(t,"CollapsibleDetails",(function(){return k}));var n=a(32),r=a(1014),i=a(1013),c=a(161),l=a(1015);var o=a(13),s=a(64),d=a(0),u=a.n(d),f=a(5),m=a(673),b=a(68),p=a(2293),v=a(154),g=a(2178),h=a.n(g),y=a(56),O=Object(y.a)((function(e){var t={duration:e.transitions.duration.shortest};return{expanded:{},Collapsible:{position:"relative",transition:e.transitions.create(["margin"],t),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}}},CollapsibleSummary:{display:"flex",minHeight:48,transition:e.transitions.create(["min-height","background-color"],t),padding:e.spacing(0,2),"&$expanded":{minHeight:64}},CollapsibleSummaryContent:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],t),margin:"12px 0","&$expanded":{margin:"20px 0"}},CollapsibleSummaryExpandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",t),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(90deg)"}},CollapsibleDetails:{padding:e.spacing(0,2,2,4)}}})),E=u.a.createContext({}),j=(t.default=u.a.forwardRef((function(e,t){var a,m=e.expanded,b=e.children,g=e.className,h=Object(s.a)(e,["expanded","children","className"]),y=O(),j=Object(d.useState)(void 0!==m&&m),k=Object(o.a)(j,2),x=k[0],D=k[1],C=Object(d.useCallback)((function(e){D(!x)}),[x,D]),S=u.a.Children.toArray(b),w=(a=S,Object(r.a)(a)||Object(i.a)(a)||Object(c.a)(a)||Object(l.a)()),I=w[0],_=w.slice(1),R=Object(d.useMemo)((function(){return{expanded:x,toggle:C}}),[x,C]);return u.a.createElement(v.a,Object.assign({elevation:0,classes:{root:Object(f.a)(y.Collapsible,Object(n.a)({},y.expanded,x),g)},ref:t},h),u.a.createElement(E.Provider,{value:R},I),u.a.createElement(p.a,{in:x,timeout:"auto"},u.a.createElement("div",{"aria-labelledby":I.props.id,id:I.props["aria-controls"],role:"region"},_)))})),u.a.forwardRef((function(e,t){var a=e.children,r=e.className,i=e.expandIcon,c=(e.onBlur,e.onClick),l=(e.onFocusVisible,Object(s.a)(e,["children","className","expandIcon","onBlur","onClick","onFocusVisible"])),o=O(),d=u.a.useContext(E),p=d.expanded,v=d.toggle;return u.a.createElement(m.a,Object.assign({focusRipple:!1,disableRipple:!0,component:"div","aria-expanded":p,className:Object(f.a)(o.CollapsibleSummary,Object(n.a)({},o.expanded,p),r),onClick:function(e){e.stopPropagation(),v&&v(e),c&&c(e)},ref:t},l),u.a.createElement(b.a,{className:Object(f.a)(o.CollapsibleSummaryExpandIcon,Object(n.a)({},o.expanded,p)),component:"div",size:"small",tabIndex:null,role:null,"aria-hidden":!0},i||u.a.createElement(h.a,null)),u.a.createElement("div",{className:Object(f.a)(o.CollapsibleSummaryContent,Object(n.a)({},o.expanded,p))},a))}))),k=u.a.forwardRef((function(e,t){var a=e.className,n=Object(s.a)(e,["className"]),r=O();return u.a.createElement("div",Object.assign({className:Object(f.a)(r.CollapsibleDetails,a),ref:t},n))}))},2072:function(e,t,a){"use strict";a.r(t);var n=a(64),r=a(13),i=a(0),c=a.n(i),l=a(9),o=a(16),s=a(58),d=a(670),u=a(79),f=a(130),m=a(671),b=a(42),p=a(181),v=a(770),g=a(34),h=c.a.memo((function(e){o.default._("WidgetPage","RENDER ComponentConfig","development");var t=e._onClose,a=e._onChange,h=e.id,y=e.config,O=e.attributes,E=Object(i.useState)(!1),j=Object(r.a)(E,2),k=j[0],x=j[1];if(Object(i.useEffect)((function(){x(null!==y)}),[y]),null===h||null===y||void 0===y)return null;var D=Object.keys(y).map((function(t){var r=y[t],i=r="object"===typeof r?r:{label:t,val:void 0!==r.val?r.val:r},o=i._translate,d=i.info,p=Object(n.a)(i,["_translate","info"]);p.label=r.label||t,p.label=o?l.default.t(r.label):r.label,p.val=o?l.default.t(r.val):r.val,p.selection="function"===typeof p.selection?p.selection(e):p.selection;var E=g.default[r.type||"Text"];return c.a.createElement(u.a,{key:"Config-"+t,divider:!0},c.a.createElement(f.a,{disableTypography:!0},c.a.createElement(s.a,{container:!0,spacing:1},c.a.createElement(s.a,{item:!0},c.a.createElement(v.default,{info:d})),c.a.createElement(s.a,{item:!0},c.a.createElement(b.a,null,l.default.t(p.label))))),c.a.createElement(m.a,null,c.a.createElement(E,Object.assign({key:"componentConfig."+h+"."+t,id:"componentConfig."+h+"."+t},p,{label:"",width:180,inputProps:{style:{textAlign:"right"}},onChange:function(e,t){return a(e,t,O)}}))))}));return c.a.createElement(p.default,{header:l.default.t("Component configuration"),actions:c.a.createElement(g.default.Button,{key:"action-save",variant:"text",onClick:function(){x(!1),t()},color:"primary",label:"Apply"}),dense:!0,maxWidth:"xs",fullWidth:!0,open:k},c.a.createElement(d.a,{dense:!0,disablePadding:!0},D))}));t.default=h},2075:function(e,t,a){"use strict";a.r(t),a.d(t,"JsonEditorPopup",(function(){return d}));var n=a(0),r=a.n(n),i=a(9),c=a(181),l=a(34),o=a(2218),s=(a(2219),r.a.forwardRef((function(e,t){var a=e.val,n=e.height,i=e._onChange;return r.a.createElement(o.a,{ref:t,value:a||{},mode:"text",allowedModes:["tree","view","form","text"],htmlElementProps:{style:{height:n||0,display:n?"block":"none"}},onChange:i})}))),d=r.a.memo((function(e){var t=e.open,a=e._onClose;return r.a.createElement(c.default,{header:i.default.t("JSON Editor"),actions:r.a.createElement(l.default.Button,{key:"action-save",variant:"text",onClick:a,color:"primary",label:"Apply"}),dense:!0,maxWidth:"sm",fullWidth:!0,open:t},r.a.createElement(s,e))}));t.default=s},2076:function(e,t,a){"use strict";a.r(t),t.default={"config#Devices#state#label":"Datenpunkt (Anzeige)","config#Devices#state#info":"Datenpunkt dessen State als Wert angezeigt wird","config#Devices#stateStyle#label":"Datenpunkt Stil","config#Devices#stateStyle#info":"Stil des angezeigten Wertes (im JSON Format)","config#Devices#properties#label":"Datenpunkt Eigenschaften","config#Devices#properties#info":"Eigenschaften des Datenpunkts: on, off, min, max sowie level (im JSON Format)","config#Devices#display#label":"Anzeigevariante","config#Devices#display#info":"Texte die den angezeigten Wert ersetzen (im JSON Format)","config#Devices#label#label":"Label","config#Devices#unit#label":"Einheit","config#Devices#unit#info":"Einheit des Datenpunkts, z. B. % oder \xb0","config#Devices#action#label":"Datenpunkt (Trigger)","config#Devices#action#info":"Datenpunkt der zum Schalten getriggert wird","config#Devices#icon#label":"Icon","config#Devices#icon#info":"Material Icon (klick zur Ansicht aller Icons)","config#Devices#iconStyle#label":"Icon Stil","config#Devices#iconStyle#info":"Stil des Icons (im JSON Format)","config#Devices#hide#label":"im Popup verstecken","config#Devices#hide#info":"Datenpunkt nicht in den Ger\xe4te-Details (Popup) zeigen","config#Devices#bodyElement#label":"Body Element","config#Devices#actionElement#label":"Action Element","import#warning":'Damit ein Ger\xe4t vom Importer erkannt wird, m\xfcssen die Datenpunkte des Ger\xe4ts unter einem gemeinsamen Datenpunkt des Typs "{deviceObjectType}" strukturiert sein.',"State Explorer":"Datenpunkt Explorer",State:"Datenpunkt (Anzeige)",Action:"Datenpunkt (Trigger)","(Un)Select all adapters":"alle Adapter (de)selektieren","(Un)Select all devices":"alle Ger\xe4te (de)selektieren","Suppress Popup":"Popup unterdr\xfccken","Do not open the device details in the popup when the device is clicked":"Keine Ger\xe4te-Details (Popup) \xf6ffnen, wenn das Ger\xe4t im Widget angeklickt wird","add default states":"Standard Datenpunkte","No whitespaces allowed in the state":"Keine Leerzeichen im Datenpunkt erlaubt","JSON format":"JSON Format","Devices List":"Ger\xe4teliste","Group by":"Gruppieren nach",Filter:"Filtern","add device":"Ger\xe4t hinzuf\xfcgen","import devices":"Ger\xe4te importieren","Device ID":"Ger\xe4te ID",Name:"Name",Function:"Gewerk",States:"States",Options:"Optionen",adapter:"Adapter","add state":"Datenpunkt hinzuf\xfcgen","new state key":"neuer Datenpunkt Bezeichner","State Key":"Datenpunkt Bezeichner","No input given":"Bitte etwas eingeben","Wrong JSON format":"Falsches JSON Format","Type in a state key / identifier":"State Bezeichnung eingeben","State key already used":"State bereits in Benutzung","Device Configuration":"Ger\xe4tekonfiguration","Delete Device":"Ger\xe4t l\xf6schen",General:"Allgemein",Device:"Ger\xe4t","Displayed Name":"Anzeigename","New Devices":"neue Ger\xe4te","Devices that have been added already":"bereits hinzugef\xfcgte Ger\xe4te","Devices with incorrect configuration (states not found)":"Ger\xe4te mit inkorrekter Konfiguration (Datenpunkte nicht gefunden)","Devices marked as ignored":"ignorierte Ger\xe4te","Devices Import":"Ger\xe4te importieren","Read adapters":"Adapter lesen","Import selected devices":"ausgew\xe4hlte Ger\xe4te importieren",Adapters:"Adapter","Search the adapter structure for all devices or only devices added to enums":"Adapter-Struktur entweder nach allen oder nur nach in Enums vorhandenen Ger\xe4ten durchsuchen","Search adapter structure for all devices":"nach allen Ger\xe4ten durchsuchen","Search only for devices added to enums":"nur nach in Enums hinzugef\xfcgten Ger\xe4ten durchsuchen",ignore:"ignorieren","move to new devices":"zu den neuen Ger\xe4ten verschieben"}},2077:function(e,t,a){"use strict";a.r(t),t.default={"config#Devices#state#label":"State (to display)","config#Devices#state#info":"State which value is shown","config#Devices#stateStyle#label":"State Style","config#Devices#stateStyle#info":"State Style of the displayed values (in JSON Format)","config#Devices#properties#label":"State Properties","config#Devices#properties#info":"State Properties such as min, max, dimmerOn Werte (in JSON Format)","config#Devices#display#label":"Display variant","config#Devices#display#info":"Texts replacing the displayed value (in JSON Format)","config#Devices#label#label":"Label","config#Devices#unit#label":"Unit","config#Devices#action#label":"State (to trigger)","config#Devices#action#info":"State used to trigger an action","config#Devices#icon#label":"Icon","config#Devices#icon#info":"Material Icon (click to view icons)","config#Devices#iconStyle#label":"Icon Style","config#Devices#iconStyle#info":"Icon Style of the icon (in JSON Format)","config#Devices#hide#label":"Hide state in popup","config#Devices#hide#info":"Don't show state in the device details (popup)","config#Devices#bodyElement#label":"Body Element","config#Devices#actionElement#label":"Action Element","import#warning":'For a device to be detected the states have to be grouped using a state of the type "{deviceObjectType}".'}},2083:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var n=a(32),r=a(0),i=a.n(r),c=a(5),l=a(56),o=a(28),s=a(2044),d=a(42),u=a(68),f=a(71),m=a(1008),b=a.n(m),p=Object(l.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(o.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}}));function v(e){var t=p(),a=e.title,r=e.rowCount,l=e.numSelected,o=e.rightActionButton;return i.a.createElement(s.a,{className:Object(c.a)(t.root,Object(n.a)({},t.highlight,l>0))},l>0?i.a.createElement(d.a,{className:t.title,color:"inherit",variant:"subtitle1"},l," selected"):i.a.createElement(d.a,{className:t.title,variant:"h6",id:"tableTitle"},void 0!==a&&a+" ("+r+")"),l>0?i.a.createElement(f.a,{title:"Delete"},i.a.createElement(u.a,{"aria-label":"delete"},i.a.createElement(b.a,null))):o)}},2084:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return d}));var n=a(0),r=a.n(n),i=a(2298),c=a(2294),l=a(2295),o=a(2343),s=a(1006);function d(e){var t=e.headCells,a=e.onSelectAllClick,n=e.selectable,d=e.sortable,u=e.order,f=e.orderBy,m=e.numSelected,b=e.rowCount,p=e.onRequestSort;return r.a.createElement(i.a,null,r.a.createElement(c.a,null,!1!==n&&r.a.createElement(l.a,{padding:"checkbox"},r.a.createElement(s.a,{indeterminate:m>0&&m<b,checked:b>0&&m===b,onChange:a,inputProps:{"aria-label":"select all"}})),t.map((function(e){return r.a.createElement(l.a,{key:e.id,align:e.align||"left",padding:e.disablePadding?"none":"default",sortDirection:d&&f===e.id&&u,style:{width:e.width||"auto"}},d?r.a.createElement(o.a,{active:f===e.id,direction:f===e.id?u:"asc",onClick:(t=e.orderBy||e.id,function(e){p(e,t)})},r.a.createElement("strong",null,e.label)):r.a.createElement("strong",null,e.label));var t}))))}},2085:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return p}));var n=a(8),r=a(0),i=a.n(r),c=a(5),l=a(72),o=a(2323),s=a(2295),d=a(2294),u=a(1006),f=a(56),m=Object(f.a)((function(e){return{noWrap:{whiteSpace:"nowrap"}}}));function b(e,t,a){if(null!==t&&"object"===typeof t){if(a.indexOf(t)>=0)return;a.push(t)}return t}function p(e){var t=e.columns,a=e.sortedRows,r=e.emptyRows,f=e.rowStyles,p=e.selectable,v=e.selected,g=e.onClick,h=m();return i.a.createElement(o.a,null,a.map((function(e,a){var r,o=(r=e.id,-1!==v.indexOf(r)),m="enhanced-table-checkbox-".concat(a),y={};for(var O in f){var E=f[O];e[O]&&Object.keys(E).indexOf(e[O])>-1&&(y=Object(n.a)(Object(n.a)({},y),E[e[O]]))}return i.a.createElement(d.a,{key:"TableRow-"+a,hover:!0,onClick:g?function(t){return g(t,e.id)}:void 0,role:"checkbox","aria-checked":o,tabIndex:-1,selected:o},!1!==p&&i.a.createElement(s.a,{key:"TableCell-"+a+"-Checkbox",style:y,padding:"checkbox"},i.a.createElement(u.a,{checked:o,inputProps:{"aria-labelledby":m}})),t.map((function(t){return i.a.createElement(s.a,{key:"TableCell-"+a+"-"+t.id,classes:{root:Object(c.a)(t.noWrap&&h.noWrap)},style:y,scope:"row",padding:t.disablePadding?"none":"default"},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(void 0===e||null===e)return"";var a=[];switch(t.toLowerCase()){case"date":e=Object(l.a)(e,"yyyy-MM-dd HH:mm:ss");break;default:e="boolean"===typeof(e=Array.isArray(e)||"object"===typeof e?JSON.stringify(e,(function(e,t){return b(0,t,a)})):e)?e.toString():e}return e}(e[t.id],t.type))})))})),r>0&&i.a.createElement(d.a,{style:{height:53*r}},i.a.createElement(s.a,{colSpan:6})))}},2086:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(13),r=a(8),i=a(0),c=a.n(i),l=a(56),o=a(2325),s=a(2324),d=a(2347),u=a(2083),f=a(2084),m=a(2085),b=Object(l.a)((function(e){return{table:{minWidth:750}}}));function p(e,t,a,n){var i,c;if(-1===a.indexOf("."))i=e[a]||"",c=t[a]||"";else{for(var l,o=Object(r.a)({},e),s=Object(r.a)({},t),d=a;d.indexOf(".")>-1;)try{l=d.substr(0,d.indexOf(".")),d=d.substr(d.indexOf(".")+1),o=o[l],s=s[l]}catch(u){console.error(u.message)}i=o[d]||"",c=s[d]||""}return!0!==n&&(i="object"===typeof i?JSON.stringify(i):i.toLowerCase(),c="object"===typeof c?JSON.stringify(c):c.toLowerCase()),c<i?-1:c>i?1:0}function v(e,t,a){return"desc"===e?function(e,n){return p(e,n,t,a)}:function(e,n){return-p(e,n,t,a)}}function g(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}function h(e){var t=b(),a=e.title,r=e.headCells,l=e.size,p=e.CustomTableBody,h=e.rows,y=e.toolbar,O=e.selectable,E=e.pagination,j=e.defaultOrder,k=e.defaultOrderBy,x=e.orderByCase,D=e.defaultSelected,C=e.defaultPage,S=e.defaultRowsPerPage,w=e.toolbarRightActionButton,I=c.a.useState(j||"asc"),_=Object(n.a)(I,2),R=_[0],T=_[1],N=c.a.useState(k||r[0].orderBy||r[0].id),P=Object(n.a)(N,2),L=P[0],B=P[1],A=c.a.useState(D||[]),F=Object(n.a)(A,2),G=F[0],z=F[1],M=c.a.useState(C||0),W=Object(n.a)(M,2),$=W[0],V=W[1],K=c.a.useState(E?S||5:h.length),J=Object(n.a)(K,2),H=J[0],U=J[1];Object(i.useEffect)((function(){return U(E?S||5:h.length)}),[h.length,E,S]);var q=p||m.default;return c.a.createElement(c.a.Fragment,null,!1!==y&&c.a.createElement(u.default,{title:a,rowCount:h.length,numSelected:G.length||0,rightActionButton:w}),c.a.createElement(s.a,null,c.a.createElement(o.a,{className:t.table,"aria-labelledby":"tableTitle","aria-label":"enhanced table",size:l,stickyHeader:!0},c.a.createElement(f.default,Object.assign({classes:t,numSelected:G.length,order:R,orderBy:L,onSelectAllClick:function(e){if(e.target.checked){var t=h.map((function(e){return e.id}));z(t)}else z([])},onRequestSort:function(e,t){T(L===t&&"asc"===R?"desc":"asc"),B(t)},rowCount:h.length},e)),c.a.createElement(q,Object.assign({columns:r,sortedRows:g(h,v(R,L,x)).slice($*H,$*H+H),emptyRows:H-Math.min(H,h.length-$*H),onClick:!1!==O&&function(e,t){var a=G.indexOf(t),n=[];-1===a?n=n.concat(G,t):0===a?n=n.concat(G.slice(1)):a===G.length-1?n=n.concat(G.slice(0,-1)):a>0&&(n=n.concat(G.slice(0,a),G.slice(a+1))),z(n)},selected:G},e)))),E&&c.a.createElement(d.a,{rowsPerPageOptions:[5,10,25],component:"div",count:h.length,rowsPerPage:H,page:$,onChangePage:function(e,t){V(t)},onChangeRowsPerPage:function(e){U(parseInt(e.target.value,10)),V(0)}}))}},2087:function(e,t,a){"use strict";a.r(t),t.default={state:{label:"config#Devices#state#label",info:"config#Devices#state#info",onValidate:function(e){if(e.indexOf(" ")>-1)throw new Error("No whitespaces allowed in the state");return e}},stateStyle:{label:"config#Devices#stateStyle#label",info:"config#Devices#stateStyle#info",json:!0},properties:{label:"config#Devices#properties#label",info:"config#Devices#properties#info",json:!0},display:{label:"config#Devices#display#label",info:"config#Devices#display#info",json:!0},label:{label:"config#Devices#label#label",info:"config#Devices#label#info"},unit:{label:"config#Devices#unit#label",info:"config#Devices#unit#info",json:!0,onValidate:function(e){return-1===e.indexOf(" ")&&-1===e.indexOf('"')&&-1===e.indexOf("}")&&-1===e.indexOf("{")?'"'+e+'"':e}},icon:{label:"config#Devices#icon#label",info:"config#Devices#icon#info",link:"https://materialdesignicons.com/",json:!0,onValidate:function(e){return-1===e.indexOf(" ")&&-1===e.indexOf('"')&&-1===e.indexOf("}")&&-1===e.indexOf("{")?'"'+e+'"':e}},iconStyle:{label:"config#Devices#iconStyle#label",info:"config#Devices#iconStyle#info",json:!0},placeholder_1:{type:"Placeholder"},action:{label:"config#Devices#action#label",info:"config#Devices#action#info",onValidate:function(e){if(e.indexOf(" ")>-1)throw new Error("No whitespaces allowed in the state");return e}},bodyElement:{label:"config#Devices#bodyElement#label",autoComplete:!0,autoHighlight:!0,options:null,renderOption:null},actionElement:{label:"config#Devices#actionElement#label",autoComplete:!0,autoHighlight:!0,options:null,renderOption:null},hide:{label:"config#Devices#hide#label",info:"config#Devices#hide#info",type:"Switch"}}},2088:function(e,t,a){"use strict";a.r(t),a.d(t,"StateExplorerPopup",(function(){return M}));var n=a(64),r=a(8),i=a(13),c=a(55),l=a(0),o=a.n(l),s=a(5),d=a(36),u=a(31),f=a(9),m=a(16),b=a(96),p=a(2055),v=a(142),g=a(154),h=a(2346),y=a(2345),O=a(71),E=a(42),j=a(2221),k=a.n(j),x=a(2222),D=a.n(x),C=a(2223),S=a.n(C),w=a(2220),I=a.n(w),_=a(2224),R=a.n(_),T=a(181),N=a(34),P=a(56),L=Object(P.a)((function(e){return{divider:{flexGrow:1},TreeView:{padding:e.spacing(2),"&:focus > $TreeItemContent $TreeItemLabel, &:hover > $TreeItemContent $TreeItemLabel, &$TreeItemSelected > $TreeItemContent $TreeItemLabel":{backgroundColor:"transparent"}},TreeItem:{color:e.palette.text.secondary,"&:hover > $TreeItemContent":{backgroundColor:e.palette.action.hover}},TreeItemContent:{color:e.palette.text.secondary,paddingRight:e.spacing(1),"$TreeItemExpanded > &":{}},TreeItemError:{backgroundColor:e.palette.error.light,textDecoration:"line-through",cursor:"not-allowed !important",fontWeight:"normal"},TreeItemExpanded:{},TreeItemSelected:{fontWeight:"bold !important"},TreeItemGroup:{fontWeight:"initial","& $TreeItemContent":{paddingLeft:e.spacing(2)}},TreeItemLabel:{fontWeight:"inherit",color:"inherit"},Entry:{display:"flex",alignItems:"center",padding:e.spacing(.5,0)},Group:{},EntryIcon:{marginRight:e.spacing(1)},EntryText:{fontWeight:"inherit",flexGrow:1}}})),B=function(e,t){var a,n={},r=[],i=Object(c.a)(e);try{for(i.s();!(a=i.n()).done;){var l=a.value;n[l.substr(0,l.lastIndexOf("."))]=n[l.substr(0,l.lastIndexOf("."))]||{},n[l.substr(0,l.lastIndexOf("."))][l]=t[l];for(var o=l;o.indexOf(".")>-1;){var s=o;void 0!==n[o=o.substr(0,o.lastIndexOf("."))]&&void 0!==n[o][s]||(n[o]=n[o]||{},n[o][s]={}),o&&-1===o.indexOf(".")&&-1===r.indexOf(o)&&r.push(o)}}}catch(d){i.e(d)}finally{i.f()}return[r,n]},A=o.a.memo((function(e){var t=e.val,a=e._onChange,n=L(),s=Object(l.useState)(d.default.get("objectList")||null),h=Object(i.a)(s,2),O=h[0],E=h[1],j=Object(l.useRef)(t),x=Object(l.useRef)();Object(l.useEffect)((function(){null!==O&&O.root||u.default.connection.getObjects().then((function(e){var t=[],a={};e.forEach((function(e,n){if("fulfilled"===e.status&&e.value&&Array.isArray(e.value.rows)){var r,i=Object(c.a)(e.value.rows);try{for(i.s();!(r=i.n()).done;){var l=r.value;"system"!==l.id.substr(0,6)&&(a[l.id]=l.value,t.push(l.id))}}catch(o){i.e(o)}finally{i.f()}}})),t.sort();var n=B(t,a),r=Object(i.a)(n,2),l=r[0],o=r[1],s={updated:Date.now(),root:l.sort(),list:t,tree:o};d.default.set("objectList",s),E(s)})).catch((function(e){m.default._("StateExplorer",e.message,"error",!0,e.stack)}))}),[O]);return o.a.createElement(g.a,null,o.a.createElement(N.default.Fieldset,null,o.a.createElement(N.default.Text,{id:"search",label:"Search",onChange:function(e,t){clearTimeout(x.current),x.current=setTimeout((function(){var e=d.default.get("objectList"),a=B(e.list.filter((function(e){return e.toLowerCase().indexOf(t.toLowerCase())>-1})),e.tree),n=Object(i.a)(a,2),c=n[0],l=n[1];E((function(e){return Object(r.a)(Object(r.a)({},e),{},{root:c.sort(),tree:l})}))}),750)}}),o.a.createElement("div",{className:n.divider}),o.a.createElement("div",{style:{margin:"auto 0"}},null!==O&&o.a.createElement("span",{style:{margin:"auto 0"}},f.default.t("Last refresh")+": "+b.default.parseDate(O.updated,"dd.MM.yyyy, HH:mm:ss")),o.a.createElement(N.default.Button,{label:"refresh",startIcon:o.a.createElement(I.a,null),onClick:function(){return E(null)}}))),o.a.createElement(v.a,null),null!==O&&O.root?o.a.createElement(y.a,{className:n.TreeView,defaultCollapseIcon:o.a.createElement(k.a,null),defaultExpandIcon:o.a.createElement(D.a,null),onNodeSelect:function(e,t){null===(O.tree[t]||null)&&(t=-1===t.indexOf(" ")?t:"",j.current=t,a(t))}},O.root.map((function(e){return function e(t){var a=[],n=[];O.tree[t]&&Object.keys(O.tree[t]).forEach((function(r){"state"===O.tree[t][r].type?a.push(r):n.push(e(r))})),a.length>0&&(n=n.concat(a.map((function(e){return o.a.createElement(F,{key:e,error:e.indexOf(" ")>-1,nodeId:e,label:o.a.createElement(G,Object.assign({key:e,error:e.indexOf(" ")>-1,id:e.substr(e.lastIndexOf(".")+1)},O.tree[e.substr(0,e.lastIndexOf("."))][e]))})}))));var r=t.substr(t.lastIndexOf(".")+1),i=t.indexOf(".")>-1?O.tree[t.substr(0,t.lastIndexOf("."))][t]:{};return o.a.createElement(F,{key:t,nodeId:t,children:n,label:o.a.createElement(G,Object.assign({key:t,group:!0,id:r},i))})}(e)}))):o.a.createElement(p.a,null))})),F=function(e){var t=e.children,a=e.error,r=Object(n.a)(e,["children","error"]),i=L();return o.a.createElement(h.a,Object.assign({classes:{root:Object(s.a)(a&&i.TreeItemError,i.TreeItem),content:i.TreeItemContent,expanded:i.TreeItemExpanded,selected:i.TreeItemSelected,group:i.TreeItemGroup,label:i.TreeItemLabel}},r),t||null)},G=function(e){var t=e.id,a=e.error,n=e.type,r=e.group,i=e.common,c=L(),l=i&&i.name?i.name:"",d=r?S.a:R.a;return o.a.createElement("div",{className:Object(s.a)(a&&c.TreeItemError,c.Entry,r&&c.Group)},o.a.createElement(d,{color:"inherit",className:c.EntryIcon}),o.a.createElement(z,{width:"40%",caption:!0,label:t}),l.length>60?o.a.createElement(O.a,{title:l,arrow:!0},o.a.createElement("div",{style:{width:"40%"}},o.a.createElement(z,{label:l.substr(0,60)+"..."}))):o.a.createElement(z,{width:"40%",label:l}),o.a.createElement(z,{width:"10%",label:n}),o.a.createElement(z,{width:"10%",label:i&&i.role}))},z=function(e){var t=e.label,a=e.width,n=e.caption,r=L();return o.a.createElement("div",{style:{width:a||"100%"}},o.a.createElement(E.a,{variant:n?"caption":"body2",className:r.EntryText},t&&t[f.default.getLanguage()]||t||""))},M=o.a.memo((function(e){var t=e.open,a=e._onClose,n=e._onChange,r=Object(l.useRef)(e.val);return o.a.createElement(T.default,{header:f.default.t("State Explorer"),actions:[o.a.createElement(N.default.Button,{key:"action-cancel",variant:"text",onClick:a,color:"secondary",label:"Cancel"}),o.a.createElement(N.default.Button,{key:"action-save",variant:"text",onClick:function(){return n(r.current)},color:"primary",label:"Apply"})],dense:!0,maxWidth:"lg",fullWidth:!0,open:t,onClose:a},o.a.createElement(A,Object.assign({},e,{_onChange:function(e){return r.current=e}})))}));t.default=A},2096:function(e,t,a){"use strict";a.r(t);var n=a(32),r=a(8),i=a(13),c=a(0),l=a.n(c),o=a(5),s=a(2174),d=a(2087),u=a(9),f=a(16),m=a(43),b=a(27),p=a(58),v=a(670),g=a(79),h=a(672),y=a(130),O=a(42),E=a(68),j=a(2183),k=a.n(j),x=a(2176),D=a.n(x),C=a(1008),S=a.n(C),w=a(2072),I=a(2075),_=a(2088),R=a(162),T=a(2071),N=a(181),P=a(33),L=a(34),B=a(56),A=Object(B.a)((function(e){return{fullWidth:{width:"100%"},iconContainer:{flexDirection:"column",alignItems:"center"},alignRight:{display:"flex",justifyContent:"flex-end","& > :not(:first-child)":{marginLeft:8}},ModifyIcon:{verticalAlign:"bottom"},heading:{margin:"auto auto auto 0"},ListItem:{padding:0},drag:{cursor:"grab !important",userSelect:"none","&:hover":{backgroundColor:e.palette.action.hover}},isDragging:{backgroundColor:e.palette.action.selected}}})),F=a(1637),G=a(73)(),z=l.a.memo((function(e){var t=A(),a=Object(c.useState)(G(e.device)),o=Object(i.a)(a,2),s=o[0],d=o[1],b=Object(c.useState)({}),v=Object(i.a)(b,2),g=v[0],h=v[1],y=Object(c.useRef)({}),O=Object(c.useCallback)((function(e,t){h((function(t){var a=Object(r.a)({},t);return e.error&&e.error!==t[e.id]?(a[e.id]=e.error,a):!e.error&&t[e.id]?(delete a[e.id],a):t})),y.current[e.id]=t}),[]);if(Object(c.useEffect)((function(){e.device.name||h((function(e){return Object(r.a)(Object(r.a)({},e),{},{"device->name":!0})}))}),[e.device.name]),null===s)return null;var E=function(e){var t=e.replace(/ /g,"");d((function(e){return Object(r.a)(Object(r.a)({},e),{},{states:Object(r.a)(Object(n.a)({},t,{}),e.states||{})})}))},j=function(e){if(void 0!==m.default[e]){var t=Object.keys(s.states||{});Object.keys(m.default[e]).reverse().forEach((function(a){!0!==m.default[e][a].substitute&&-1===t.indexOf(a)&&"_"!==a.substr(0,1)&&E(a)}))}};return f.default._("DevicesPages","RENDER DevicesPage","development"),l.a.createElement(N.default,{id:"DeviceConfiguration",header:u.default.t("Device Configuration")+" ("+u.default.t("Device ID")+": "+s.id+")",actions:[l.a.createElement(p.a,{key:"actions",container:!0},l.a.createElement(p.a,{item:!0,xs:6},s.name&&l.a.createElement(L.default.Button,{key:"action->delete",variant:"text",onClick:function(){return e.onDelete&&e.onDelete(s.id)},color:"secondary",startIcon:l.a.createElement(S.a,null),label:"Delete Device"})),l.a.createElement(p.a,{item:!0,xs:6,className:t.alignRight},l.a.createElement(L.default.Button,{key:"action->cancel",className:"cancel",variant:"text",onClick:function(){return e.onClose()},color:"secondary",label:"Cancel"}),l.a.createElement(L.default.Button,{key:"action->save",className:"apply",variant:"text",onClick:function(){return function(){var t=Object(r.a)({},s);for(var a in t.options=t.options||{},t.attributes=t.attributes||{},y.current){var c=y.current[a],l=a.split("->"),o=Object(i.a)(l,4),d=o[0],u=o[1],f=o[2],m=o[3];"states"===d?"object"===typeof t[d][u]&&f.toLowerCase().indexOf("config")>-1?(t[d][u][f]=t[d][u][f]||{},t[d][u][f][m]=c):"object"===typeof t[d][u]?t[d][u][f]=c:t[d][u]=Object(n.a)({state:t[d][u]},f,c):"options"===d||"attributes"===d?t[d][u]=c:t[u]=c}t.attributes._updated=Date.now(),e.onSave(t)}()},color:"primary",disabled:Object.keys(g).length>0,label:"Apply"})))],dense:!0,maxWidth:"lg",fullWidth:!0,open:!0,onClose:function(){return e.onClose()}},l.a.createElement(L.default.Fieldset,{label:"General"},l.a.createElement(L.default.FieldsetItem,{columns:3},l.a.createElement(L.default.Text,{key:"device->name",id:"device->name",width:200,autoFocus:!0,required:!0,label:"Device",val:s.name,onChange:O})),l.a.createElement(L.default.FieldsetItem,{columns:3},l.a.createElement(L.default.Text,{key:"device->label",id:"device->label",width:200,label:"Label",val:s.label||"",onChange:O})),l.a.createElement(L.default.FieldsetItem,{columns:3},l.a.createElement(L.default.Select,{key:"device->function",id:"device->function",width:200,label:"Function",val:s.function||"other",selection:Object.keys(m.default).map((function(e){var t,a="_defaults"!==e?e:"other";return t={},Object(n.a)(t,a,u.default.t(a)),Object(n.a)(t,"icon",m.icons[e]||null),Object(n.a)(t,"_key",a),Object(n.a)(t,"_translated",!0),Object(n.a)(t,"_sort",u.default.t(a)),t})),sortOptionsByKey:!0,onChange:function(e,t){0===Object.keys(s.states).length&&j(t),O(e,t),d((function(e){return Object(r.a)(Object(r.a)({},e),{},{function:t})}))}})),l.a.createElement(L.default.FieldsetItem,{columns:3},l.a.createElement(L.default.Text,{key:"device->icon",id:"device->icon",width:200,label:"Icon",val:s.icon||"",onChange:O})),l.a.createElement(L.default.FieldsetItem,{columns:3},l.a.createElement(L.default.Switch,{key:"device->suppressPopup",id:"device->suppressPopup",width:200,label:"Suppress Popup",info:"Do not open the device details in the popup when the device is clicked",val:void 0!==s.suppressPopup&&s.suppressPopup,onChange:O}))),l.a.createElement(L.default.Fieldset,{label:"States"},l.a.createElement(W,{_onChange:O,_addState:E,_addDefaultStates:j,_renameState:function(e,t){if(t=t.replace(/ /g,""),void 0!==s.states[t])return!1;y.current["states->"+t+"->_renamed"]=e;var a={};for(var n in y.current){var c=n.split("->"),l=Object(i.a)(c,3),o=l[0],u=l[1],f=l[2];"states"===o&&u===e&&(a[f]=y.current[n],y.current[o+"->"+t+"->"+f]=y.current[n],delete y.current[n])}d((function(n){var i=Object(r.a)(Object(r.a)({},n),{},{states:{}}),c=Object.keys(n.states),l=c.indexOf(e);c.splice(l,1,t);for(var o=0,s=c;o<s.length;o++){var d=s[o];i.states[d]=Object(r.a)(Object(r.a)({},n.states[d===t?e:d]),a)}return i}))},_moveState:function(e){e.source&&e.destination&&e.source.index!==e.destination.index&&d((function(t){var a=Object(r.a)(Object(r.a)({},t),{},{states:{}}),n=Object.keys(t.states);return n.splice(e.destination.index,0,n.splice(e.source.index,1)[0]),n.forEach((function(e){a.states[e]=t.states[e]})),a}))},_deleteState:function(e){d((function(t){var a=Object(r.a)({},t);return delete a.states[e],a}))},errors:g,device:s})))}));t.default=z;var M=l.a.memo((function(e){f.default._("DevicesPages","RENDER AddDeviceState","development");var t=e.device,a=Object(c.useRef)(),n=Object(c.useState)(""),r=Object(i.a)(n,2),o=r[0],s=r[1],d=function(){var n=a.current.value||"";n?Object.keys(t.states||{}).indexOf(n)>-1?s(u.default.t("State key already used")):(s(""),e._setNewStateKey(n),e._addState(n)):s(u.default.t("Type in a state key / identifier"))};return l.a.createElement(g.a,{key:"StatesListItemLabel->add",dense:!0,divider:!0,className:"DeviceStateAdd"},l.a.createElement(h.a,null,l.a.createElement(E.a,{size:"small",disabled:!0},l.a.createElement(k.a,null))),l.a.createElement(y.a,{disableTypography:!0,style:{display:"flex"}},l.a.createElement(L.default.Text,{id:"states->add",ref:a,shrink:!0,label:"new state key",val:e.newStateKey,onEnter:d}),l.a.createElement("div",{style:{display:"flex",margin:"auto 0"}},l.a.createElement(L.default.Button,{className:"DeviceStateAddButton",label:"add state",onClick:d,width:275}),l.a.createElement(L.default.Button,{label:"add default states",onClick:function(){return e._addDefaultStates(t.function)},width:275})),l.a.createElement("span",{style:{color:"#900"}},o)))})),W=l.a.memo((function(e){f.default._("DevicesPages","RENDER DeviceStates","development");var t=e.device,a=e._moveState,n=A(),i=Object(c.useRef)(""),o=Object.keys(t.states||{}).map((function(a,n){var c=t.states[a];return c="string"===typeof c?{state:c}:c,l.a.createElement($,Object.assign({},e,{key:"DeviceState->"+a,index:n,state:Object(r.a)(Object(r.a)({},c),{},{key:a}),expanded:a===i.current}))}));return l.a.createElement(v.a,{classes:{root:n.fullWidth},dense:!0},l.a.createElement(M,Object.assign({newStateKey:i.current,_setNewStateKey:function(e){return i.current=e}},e)),l.a.createElement(s.a,{onDragEnd:a},l.a.createElement(s.c,{key:"DeviceStates",droppableId:"states"},(function(e,t){return l.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),o,e.placeholder)}))))})),$=function(e){var t=A();return l.a.createElement(s.b,{key:e.state.key,draggableId:"state->"+e.state.key,index:e.index},(function(a,n){return l.a.createElement("div",Object.assign({className:Object(o.a)(t.drag,n.isDragging&&t.isDragging),ref:a.innerRef},a.draggableProps,a.dragHandleProps),l.a.createElement(V,e))}))},V=l.a.memo((function(e){f.default._("DevicesPages","RENDER DeviceState","development");var t=e.state,a=e.expanded,n=e._renameState,r=e._deleteState,i=A(),c=Object.keys(d.default).map((function(a){return l.a.createElement(K,Object.assign({key:"DeviceStateField->"+t.key+"->"+a},e,{field:a}))}));return l.a.createElement(g.a,{key:"StatesListItem->"+t.key,classes:{root:Object(o.a)(i.ListItem,"DeviceState")},dense:!0},l.a.createElement(y.a,{disableTypography:!0},l.a.createElement(T.default,{key:"DeviceState->"+t.key,expanded:a,className:"DeviceState DeviceState->"+t.key},l.a.createElement(T.CollapsibleSummary,null,l.a.createElement(O.a,{classes:{root:i.heading},display:"inline"},t.key),l.a.createElement(E.a,{size:"small",onClick:function(){var e=prompt(u.default.t("Rename State Key"),t.key);e&&e!==t.key&&n(t.key,e)}},l.a.createElement(D.a,null)),l.a.createElement(E.a,{size:"small",onClick:function(e){e.stopPropagation(),r(t.key)}},l.a.createElement(S.a,null)),l.a.createElement(P.default,{style:{fontSize:"1.5em",margin:"auto 8px"},icon:"mdi:drag"})),l.a.createElement(T.CollapsibleDetails,null,l.a.createElement(L.default.Fieldset,{noPadding:!0},c)))))})),K=l.a.memo((function(e){var t=e.device,a=e.field,n=d.default[a],r=F(m.default._defaults,m.default[t.function]||{});return!0===n.json?l.a.createElement(J,Object.assign({},e,{fieldProps:n,deviceDefaults:r})):void 0!==n.options?l.a.createElement(U,Object.assign({},e,{fieldProps:n,deviceDefaults:r})):"state"===a||"action"===a?l.a.createElement(H,Object.assign({},e,{fieldProps:n,deviceDefaults:r})):l.a.createElement(q,Object.assign({},e,{fieldProps:n,deviceDefaults:r}))})),J=l.a.memo((function(e){var t=e.state,a=e.field,n=e._onChange,r=Object(c.useRef)(t[a]&&t[a].node?t[a].node:t[a]||""),o=function(e){return r.current=e},s=Object(c.useState)(!1),d=Object(i.a)(s,2),u=d[0],f=d[1],m={action:function(){return f(!0)}};return l.a.createElement(l.a.Fragment,{key:"StatesListItemField->"+t.key+"->"+a},l.a.createElement(I.JsonEditorPopup,{open:u,_onClose:function(){},val:r.current,height:500,_onChange:function(e){n({id:"states->"+t.key+"->"+a},e),o(e),f(!1)}}),l.a.createElement(Q,Object.assign({},e,{additionalProps:m,val:r.current,setVal:o})))})),H=l.a.memo((function(e){var t=e.state,a=e.field,n=e._onChange,r=Object(c.useState)(t[a]&&t[a].node?t[a].node:t[a]||""),o=Object(i.a)(r,2),s=o[0],d=o[1],u=Object(c.useState)(!1),f=Object(i.a)(u,2),m=f[0],b=f[1],p={action:function(){return b(!0)}};return l.a.createElement(l.a.Fragment,{key:"StatesListItemField->"+t.key+"->"+a},l.a.createElement(_.StateExplorerPopup,{open:m,_onClose:function(){return b(!1)},val:s,_onChange:function(e){n({id:"states->"+t.key+"->"+a},e),d(e),b(!1)}}),l.a.createElement(Q,Object.assign({},e,{additionalProps:p,val:s,setVal:function(e){return d(e)}})))})),U=l.a.memo((function(e){var t=e.device,a=e.deviceDefaults,n=e.state,o=e.field,s=e.fieldProps,d=e._onChange,u={screenshot:function(e,a){return l.a.createElement(R.Screenshot,{func:t.function,option:e,selected:a.selected})},bodyElement:Object(R.getComponents)(t.function,"body"),actionElement:Object(R.getComponents)(t.function,"action")},f=Object(c.useState)(n[o]&&void 0!==n[o].node||void 0!==n[o]?n[o]&&n[o].node||n[o]||"":o.indexOf("Element")>-1&&a[n.key.toLowerCase()]&&a[n.key.toLowerCase()][o]||o.indexOf("Element")>-1&&a._any&&a._any[o]||""),b=Object(i.a)(f,2),p=b[0],v=b[1],g=Object(c.useState)(null),h=Object(i.a)(g,2),y=h[0],O=h[1],E=Object(c.useRef)({});Object(c.useEffect)((function(){if(p&&void 0===E.current[p]){var t=F(m.componentsOptions._defaults[p]||{},m.componentsOptions[e.device.function]&&m.componentsOptions[e.device.function][p]||{}),a=e.state[p+"Config"]||{};Object.keys(a).forEach((function(e){t[e]="object"!==typeof t[e]?{val:t[e]}:t[e],t[e].val=a[e]})),E.current[p]=t}}),[p,e.device,e.state]);var j={};return void 0!==s.options&&(j.options="function"===typeof s.options?s.options(e.device):u[o]),void 0!==s.renderOption&&(j.renderOption="function"===typeof s.renderOption?function(t,a){return s.renderOption(t,a,e.device)}:u.screenshot),j.action=(m.componentsOptions._defaults&&m.componentsOptions._defaults[p]||m.componentsOptions[t.function]&&m.componentsOptions[t.function][p])&&function(){return O({id:o+"Config",config:E.current[p]})},l.a.createElement(l.a.Fragment,{key:"StatesListItemField->"+n.key+"->"+o},l.a.createElement(w.default,{_onClose:function(){return O(null)},_onChange:function(e,t){var a=e.id.substr(e.id.lastIndexOf(".")+1);E.current[p][a].val=t,d(Object(r.a)(Object(r.a)({},e),{},{id:"states->"+n.key+"->"+p+"Config->"+a}),t)},id:y&&y.id||null,config:y&&y.config||{},device:t}),l.a.createElement(Q,Object.assign({},e,{additionalProps:j,val:p,setVal:function(e){return v(e)}})))})),q=l.a.memo((function(e){var t=e.state,a=e.field,n=Object(c.useState)(t[a]&&t[a].node?t[a].node:t[a]||""),r=Object(i.a)(n,2),o=r[0],s=r[1];return l.a.createElement(l.a.Fragment,{key:"StatesListItemField->"+t.key+"->"+a},l.a.createElement(Q,Object.assign({},e,{val:o,setVal:function(e){return s(e)}})))})),Q=l.a.memo((function(e){var t=e.deviceDefaults,a=e.state,n=e.field,r=e.fieldProps,i=e.additionalProps,c=e.setVal,o=e._onChange,s=L.default[r.type||"Text"];return l.a.createElement(L.default.FieldsetItem,{className:"field->"+n,columns:4},l.a.createElement(s,Object.assign({},r,i,{id:"states->"+a.key+"->"+n,shrink:!0,label:r.label||Object(b.default)(n),placeholder:t[a.key.toLowerCase()]&&t[a.key.toLowerCase()][n.replace("Element","")]||r.val||"",width:370,val:e.val,onChange:function(e,t){c(t),"function"===typeof r.onChange?r.onChange(e,t,o):o(e,t)}})))}))},2097:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return L}));var n=a(32),r=a(8),i=a(13),c=a(0),l=a.n(c),o=a(999),s=a(16),d=a(9),u=a(70),f=a(29),m=a(58),b=a(42),p=a(2237),v=a(2235),g=a(2236),h=a(2066),y=a(118),O=a(670),E=a(79),j=a(672),k=a(130),x=a(671),D=a(71),C=a(1010),S=a.n(C),w=a(677),I=a.n(w),_=a(2071),R=a(181),T=a(34),N=a(56),P=Object(N.a)((function(e){return{fullWidth:{width:"100%"},heading:{paddingRight:e.spacing()},transparent:{backgroundColor:"transparent"},ListItem:{display:"flex"},gap:{margin:"0 auto"}}}));function L(e){var t=Object(c.useState)(null),a=Object(i.a)(t,2),m=a[0],b=a[1],p=Object(c.useState)({}),v=Object(i.a)(p,2),g=v[0],h=v[1],O=Object(c.useRef)(!1),E=Object(c.useRef)({filter:"all",adapters:Object.keys(f.default)||[]}),j=Object(c.useRef)({}),k=Object(c.useRef)({_new:{hash:"",name:d.default.t("New Devices"),expanded:!0,devices:[]},_added:{hash:"",name:d.default.t("Devices that have been added already"),devices:[]},_incorrect:{hash:"",name:d.default.t("Devices with incorrect configuration (states not found)"),devices:[]},_ignored:{hash:"",name:d.default.t("Devices marked as ignored"),devices:[]}}),x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=k.current._new.devices.findIndex((function(t){return t.id===e.id})),i=k.current._ignored.devices.findIndex((function(t){return t.id===e.id}));e.attributes&&!0===e.attributes.ignore&&a>-1?(k.current._new.devices.splice(a,1),k.current._ignored.devices.push(e),k.current._ignored.hash=Object(o.a)(),k.current._new.hash=Object(o.a)()):e.attributes&&!1===e.attributes.ignore&&i>-1&&(k.current._ignored.devices.splice(i,1),k.current._new.devices.push(e),k.current._ignored.hash=Object(o.a)(),k.current._new.hash=Object(o.a)()),h((function(a){e.attributes=e.attributes||{};var i=Object.keys(a);if(!0===t||null===t&&(-1===i.indexOf(e.id)||!0===e.attributes.ignore||!1===e.attributes.ignore))return e.attributes.ignore=!1===e.attributes.ignore?null:e.attributes.ignore,e.attributes._created=Date.now(),Object(r.a)(Object(r.a)({},a),{},Object(n.a)({},e.id,e));var c=Object(r.a)({},a);return delete c[e.id],c}))},D=function(t){if(!1!==O.current)return!1;j.current={},k.current._new.devices=[],k.current._added.devices=[],k.current._incorrect.devices=[],k.current._ignored.devices=[];var a=e.devices,n={};t.forEach((function(e,t){var r=e.value||e.reason.device;r.attributes=r.attributes||{};var i="_new";"fulfilled"===e.status&&e.value&&e.value.states&&Object.keys(e.value.states).length>0?(void 0!==a[r.id]?(i="_added",a[r.id].attributes&&!0===a[r.id].attributes.ignore&&(i="_ignored")):n[r.id]=r,r.attributes.manufacturer&&r.attributes.manufacturer.namespace&&(j.current[r.attributes.manufacturer.namespace]=j.current[r.attributes.manufacturer.namespace]||[],j.current[r.attributes.manufacturer.namespace].push(r.id))):(i="_incorrect",r.states=null,r.attributes.note=r.attributes.note||e.reason&&e.reason.error&&e.reason.error.message||d.default.t("No correct defined states found. The device may be unknown. Please help the developer to add support for this device and report to Github.")),k.current[i].devices.push(r)})),h(n),b("done")};return l.a.createElement(R.default,{header:d.default.t("Devices Import"),actions:l.a.createElement(l.a.Fragment,null,l.a.createElement(T.default.Button,{width:"auto",id:"action-cancel",onClick:function(){O.current=!0,e.onClose&&e.onClose()},label:"Cancel",variant:"text",color:"secondary"}),l.a.createElement(T.default.Button,{width:"auto",id:"action-read",onClick:function(){b("loading"),"all"===E.current.filter?u.default.importDevices(E.current.adapters).then(D).catch((function(e){s.default._("ImportDevicesPage","IMPORT_DEVICES: "+e.message,"error")})):u.default.importEnums("functions",E.current.adapters).then(D).catch((function(e){s.default._("ImportDevicesPage","IMPORT_ENUMS: "+e.message,"error")}))},label:"Read adapters",variant:"text",disabled:"loading"===m,loading:"loading"===m}),"done"===m&&l.a.createElement(T.default.Button,{width:"auto",id:"action-import",onClick:function(){return e.onImport&&e.onImport(g)},label:d.default.t("Import selected devices")+" ("+Object.values(g).filter((function(e){return!e.attributes||!0!==e.attributes.ignore})).length+")",disabled:0===Object.keys(g).length,variant:"text"})),dense:!0,maxWidth:"md",fullWidth:!0,open:!0,onClose:e.onClose},l.a.createElement(T.default.Fieldset,{label:"Adapters"},l.a.createElement(T.default.FieldsetItem,null,l.a.createElement(M,{loading:m,foundDevicesByManufacturer:j,search:E,_setSearch:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Array.isArray(E.current[e])?"remove"===a||null===a&&E.current[e].indexOf(t)>-1?E.current[e]=E.current[e].filter((function(e){return e!==t})):E.current[e].push(t):E.current[e]=t}}))),null!==m&&l.a.createElement(T.default.Fieldset,{label:"Devices"},l.a.createElement(T.default.FieldsetItem,null,"loading"===m&&l.a.createElement(y.a,null),"done"===m&&Object.keys(k.current).map((function(e){return l.a.createElement(B,Object.assign({key:"Category-"+e},Object(r.a)({id:e},k.current[e]),{_markDeviceToImport:x}))})))))}var B=l.a.memo((function(e){var t=P(),a=e.id,n=e.name,r=e.expanded,i=e.devices;return l.a.createElement(p.a,{classes:{root:t.fullWidth},key:a,defaultExpanded:!0===r},l.a.createElement(v.a,{expandIcon:l.a.createElement(S.a,null)},l.a.createElement(b.a,{className:t.heading},n),l.a.createElement(h.a,{color:"primary",size:"small",label:i.length})),l.a.createElement(g.a,null,l.a.createElement(A,e)))}),(function(e,t){return e.hash===t.hash})),A=function(e){var t=P(),a=Object(c.useState)("_new"===e.id),n=Object(i.a)(a,2),r=n[0],o=n[1],s=e.devices.map((function(t){return l.a.createElement(F,{key:"Category-"+e.id+"-Device-"+t.id,allSelected:r,category:e,device:t,_markDeviceToImport:e._markDeviceToImport})}));return l.a.createElement(O.a,{classes:{root:t.fullWidth},dense:!0},"_incorrect"!==e.id&&"_ignored"!==e.id&&l.a.createElement(E.a,{dense:!0,button:!0,divider:!0,onClick:function(){o((function(e){return!1===e}))}},l.a.createElement(j.a,null,l.a.createElement(T.default.Checkbox,{checked:r,tabIndex:-1,disableRipple:!0})),l.a.createElement(k.a,{primary:l.a.createElement("strong",null,d.default.t("(Un)Select all devices"))})),s)},F=l.a.memo((function(e){var t=P(),a=e.category,n=e.device,o=e._markDeviceToImport,s=Object(c.useState)(!!("_new"===a.id||n.attributes&&void 0!==n.attributes.ignore)),d=Object(i.a)(s,2),u=d[0],f=d[1];Object(c.useEffect)((function(){f(e.allSelected),e._markDeviceToImport(e.device,e.allSelected)}),[e]);var m=function(){f((function(e){return!0!==e})),o&&o(n)};return l.a.createElement(E.a,{key:n.id,button:"_incorrect"!==a.id&&"_ignored"!==a.id,dense:!0,divider:!0,onClick:function(){return"_incorrect"!==a.id&&"_ignored"!==a.id&&m()}},l.a.createElement(j.a,null,l.a.createElement(T.default.Checkbox,{id:n.id,checked:u,disabled:"_incorrect"===a.id||"_ignored"===a.id,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":n.id}})),l.a.createElement(k.a,{classes:{root:t.ListItem},disableTypography:!0},l.a.createElement(G,{device:n})),l.a.createElement(x.a,null,"_new"===a.id&&l.a.createElement(T.default.Button,{width:"auto",variant:"text",label:"ignore",onClick:function(e){e.stopPropagation(),n.attributes=Object(r.a)(Object(r.a)({},n.attributes),{},{ignore:!0}),m()}}),"_ignored"===a.id&&l.a.createElement(T.default.Button,{width:"auto",variant:"text",label:"move to new devices",onClick:function(e){e.stopPropagation(),n.attributes=Object(r.a)(Object(r.a)({},n.attributes),{},{ignore:!1}),m()}})))}),(function(e,t){return e.device.attributes.ignore===t.device.attributes.ignore&&e.allSelected===t.allSelected})),G=l.a.memo((function(e){var t=e.device,a=P(),n=t.states?Object.keys(t.states).map((function(e){return l.a.createElement(z,{key:"DeviceState-"+t.id+"-"+e,state:Object(r.a)(Object(r.a)({},t.states[e]),{},{key:e})})})):l.a.createElement(b.a,{display:"block"},t.attributes.note);return l.a.createElement(_.default,{classes:{root:a.transparent},key:"DeviceStates-"+t.id},l.a.createElement(_.CollapsibleSummary,null,l.a.createElement(b.a,{className:a.heading},t.name),t.attributes&&t.attributes.manufacturer&&l.a.createElement(h.a,{color:"secondary",size:"small",label:t.attributes.manufacturer.name})),l.a.createElement(_.CollapsibleDetails,null,l.a.createElement(b.a,{style:{margin:"0 0 8px 0"}},d.default.t("Function"),": ",d.default.t(t.function)," ",l.a.createElement("code",null,t.function)),n))})),z=l.a.memo((function(e){var t=e.state;return l.a.createElement(m.a,{container:!0,spacing:2},l.a.createElement(m.a,{item:!0,xs:12},l.a.createElement(b.a,{display:"block"},l.a.createElement("strong",null,t.key)),l.a.createElement(b.a,{component:"span",variant:"subtitle1"},d.default.t("State"),": "),l.a.createElement("code",null,t.state||"-"),l.a.createElement("br",null),l.a.createElement(b.a,{component:"span",variant:"subtitle1"},d.default.t("Action"),": "),l.a.createElement("code",null,t.action||"-")))})),M=l.a.memo((function(e){var t=e.loading,a=e.foundDevicesByManufacturer,n=e.search,o=e._setSearch,s=P(),u=Object(c.useState)(!0),m=Object(i.a)(u,2),p=m[0],v=m[1],g=0,y=Object.keys(f.default).map((function(t){var i=Object(r.a)(Object(r.a)({},f.default[t]),{},{namespace:t,devices:a.current[t]||[]});return g+=i.devices&&Array.isArray(i.devices)?i.devices.length:0,l.a.createElement(W,Object.assign({},e,{key:"AdapterItem-"+t,adapter:i,selected:n.current.adapters.indexOf(i.namespace)>-1}))}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(T.default.RadioGroup,{onChange:function(e,t){return o("filter",t)},label:"Search the adapter structure for all devices or only devices added to enums",inputs:[{label:"Search adapter structure for all devices",value:"all"},{label:"Search only for devices added to enums",value:"enums"}],required:!0,val:n.current.filter}),l.a.createElement(_.default,{key:"AdapterList-"+t,expanded:"done"!==t},l.a.createElement(_.CollapsibleSummary,null,l.a.createElement(b.a,{style:{margin:"auto 0"}},d.default.t("Adapter List")),l.a.createElement("div",{className:s.gap}),g>0&&l.a.createElement(h.a,{color:"secondary",label:d.default.t("Devices")+": "+g})),l.a.createElement(_.CollapsibleDetails,null,l.a.createElement(O.a,{classes:{root:s.fullWidth},dense:!0},l.a.createElement(E.a,{dense:!0,button:!0,divider:!0,onClick:function(e){n.current.adapters=p?[]:Object.keys(f.default)||[],v((function(e){return!1===e}))}},l.a.createElement(j.a,null,l.a.createElement(T.default.Checkbox,{checked:p,tabIndex:-1,disableRipple:!0})),l.a.createElement(k.a,{primary:l.a.createElement("strong",null,d.default.t("(Un)Select all adapters"))})),y))))})),W=function(e){var t=e.adapter,a=e.selected,n=e._setSearch,r=t.default,o=Object(c.useState)(a),s=Object(i.a)(o,2),u=s[0],f=s[1];Object(c.useEffect)((function(){f(a)}),[a]);return l.a.createElement(E.a,{key:t.namespace,dense:!0,button:!0,divider:!0,onClick:function(){f((function(e){return!0!==e})),n("adapters",t.namespace)}},l.a.createElement(j.a,null,l.a.createElement(T.default.Checkbox,{id:t.namespace,checked:u,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":r}})),l.a.createElement(k.a,{disableTypography:!0},l.a.createElement(b.a,{display:"inline"},r+" "+d.default.t("adapter")),l.a.createElement("span",{style:{marginLeft:2,verticalAlign:"bottom"}},l.a.createElement(D.a,{title:d.default.t("import#warning").replace("{deviceObjectType}",t.deviceObjectType||"device").replace("{devicePattern}",t.devicePattern)},l.a.createElement(I.a,{color:"primary"})))),l.a.createElement(x.a,null,t.devices&&Array.isArray(t.devices)&&t.devices.length>0&&l.a.createElement(h.a,{color:"primary",size:"small",label:d.default.t("Devices")+": "+t.devices.length})))}},2104:function(e,t,a){"use strict";a.r(t);var n=a(55),r=a(30),i=a(32),c=a(8),l=a(13),o=a(0),s=a.n(o),d=a(5),u=a(105),f=a(9),m=a(16),b=a(142),p=a(68),v=a(670),g=a(79),h=a(130),y=a(154),O=a(2323),E=a(2294),j=a(2295),k=a(42),x=a(1012),D=a.n(x),C=a(2176),S=a.n(C),w=a(2195),I=a.n(w),_=a(2196),R=a.n(_),T=a(2071),N=a(2086),P=a(34),L=a(27),B=a(2096),A=a(2097),F=a(56),G=Object(F.a)((function(e){return{deleteButton:{marginTop:"25px"},hr:{margin:"10px 2px"},heading:{marginRight:e.spacing()},CustomTextInput:{width:150},CustomDialogTitle:{padding:0,marginRight:"50px"},TableCell:{verticalAlign:"top",padding:"5px 0"},divider:{margin:"auto"},paper:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),marginBottom:e.spacing(1),minHeight:"64px",display:"flex",alignItems:"center",margin:"0 auto",position:"fixed",zIndex:999,right:0,left:0},newlyCreatedDevice:{backgroundColor:"rgba(99, 233, 30, 0.08) !important"},ListItem:{padding:0},DeviceList:{paddingTop:"72px"}}}));f.default.setTranslations((function(e){return a(2194)("./"+e)}));var z=s.a.memo((function(e){m.default._("DevicesListPage","RENDER DevicesListPage","development");var t=G(),a=function(e,t){var a={};for(var n in t){var r=t[n];if("manufacturer"===e){var i=r.attributes&&r.attributes.manufacturer?r.attributes.manufacturer.name:"("+f.default.t("no manufacturer")+")";a[i]=a[i]||[],a[i].push(r)}else{var c=f.default.t(r.function);a[c]=a[c]||[],a[c].push(r)}}return Object(L.sortObject)(a,!1)},p=Object(o.useState)(null),O=Object(l.a)(p,2),E=O[0],j=O[1],x=Object(o.useState)(null),C=Object(l.a)(x,2),S=C[0],w=C[1],_=Object(o.useRef)(e.devices),R=Object(o.useRef)(e.settings.configGroupDevices||"function"),T=Object(o.useRef)(),N=Object(o.useRef)(),F=Object(o.useRef)(),z=Object(o.useState)(a(R.current,e.devices)),W=Object(l.a)(z,2),$=W[0],V=W[1],K=Object(o.useState)("100%"),J=Object(l.a)(K,2),H=J[0],U=J[1];Object(o.useEffect)((function(){_.current=e.devices,V(a(e.settings.configGroupDevices||"function",e.devices))}),[e.devices,e.settings]),Object(o.useEffect)((function(){e._onDevicesChange&&e._onDevicesChange(_.current)}),[$,e]),Object(o.useEffect)((function(){T.current&&(document.getElementById("DialogContent").scrollTop=document.getElementById("device-"+T.current)&&document.getElementById("device-"+T.current).offsetTop||0)}),[$]);var q=function(e){_.current=e,Y(N.current,e),j(null),w(null)},Q=function(e){var t="_"===e.id.substr(-6).substr(0,1)?e.id.substr(0,e.id.lastIndexOf("_"))+"_"+Object(u.a)().substr(0,5):e.id+"_"+Object(u.a)().substr(0,5);_.current[t]=Object(c.a)(Object(c.a)({},e),{},{name:e.name+" ("+f.default.t("duplicate")+")",id:t,hash:Date.now()}),q(_.current)},X=function(t){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=Object(r.a)(e.layout),l=0,o=Object.keys(c);l<o.length;l++){var s,d=o[l],u=c[d],f=Object(n.a)(u.tabs);try{for(f.s();!(s=f.n()).done;){var m=s.value;for(var b in m.columns=void 0!==m._fullscreen?[[m._fullscreen]]:m.columns,m.columns){var p,v=m.columns[b],g=Object(n.a)(v);try{for(g.s();!(p=g.n()).done;){var h=p.value;h=h||{devices:[]},null===a?h.devices=h.devices.filter((function(e){return e.deviceId!==t})):null!==a&&(h.devices=h.devices.map((function(e){if(e.deviceId===t){if(Array.isArray(e.secondaryStatesKeys)&&e.secondaryStatesKeys.length>0){var n=e.secondaryStatesKeys.indexOf(a);""!==i?e.secondaryStatesKeys.splice(n,1,i):e.secondaryStatesKeys.splice(n,1)}e.primaryStateKey=e.primaryStateKey!==a?e.primaryStateKey:i,e.bodyStateKey=e.bodyStateKey!==a?e.bodyStateKey:i}return e})))}}catch(y){g.e(y)}finally{g.f()}}}}catch(y){f.e(y)}finally{f.f()}}e._onLayoutsChange(c)},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;N.current=e,e=e.toLowerCase(),clearTimeout(F.current),F.current=setTimeout((function(){var n=e.match(RegExp(/-(id|name|function|stateId|stateLabel|state|action|manufacturer):[^\\-]*/g)),r=[],i={};n&&n.forEach((function(e){var t=e.substr(1).split(":"),a=Object(l.a)(t,2),n=a[0],c=a[1];r.push(n.trim()),i[n.trim()]=c.trim().toLowerCase()}));var c={};Object.values(t).forEach((function(t){if(((!n||r.indexOf("id")>-1)&&t.id.toLowerCase().indexOf(i.id||e)>-1||(!n||r.indexOf("name")>-1)&&t.name.toLowerCase().indexOf(i.name||e)>-1||(!n||r.indexOf("function")>-1)&&t.function.toLowerCase().indexOf(i.function||e)>-1||(!n||r.indexOf("function")>-1)&&f.default.t(t.function).toLowerCase().indexOf(i.function||e)>-1||(!n||r.indexOf("manufacturer")>-1)&&t.attributes&&t.attributes.manufacturer&&t.attributes.manufacturer.name.toLowerCase().indexOf(i.manufacturer||e)>-1)&&(c[t.id]=t),void 0===c[t.id])for(var a in t.states=t.states||{},t.states){var l=t.states[a];l.label=l.label||"",((!n||r.indexOf("stateId")>-1)&&a.toLowerCase().indexOf(i.stateId||e)>-1||(!n||r.indexOf("stateLabel")>-1)&&l.label.toLowerCase().indexOf(i.stateLabel||e)>-1||(!n||r.indexOf("state")>-1)&&l.state&&"object"!==typeof l.state&&l.state.toLowerCase().indexOf(i.state||e)>-1||(!n||r.indexOf("action")>-1)&&l.action&&"object"!==typeof l.action&&l.action.toLowerCase().indexOf(i.action||e)>-1||(!n||r.indexOf("state")>-1)&&l.state&&"object"===typeof l.state&&l.state.node.toLowerCase().indexOf(i.state||e)>-1||(!n||r.indexOf("action")>-1)&&l.action&&"object"===typeof l.action&&l.action.node.toLowerCase().indexOf(i.action||e)>-1)&&(c[t.id]=t)}})),V(a(R.current,c))}),750)},Z=[];for(var ee in $){var te=ee.toLowerCase().replace(/ /g,"");Z.push(s.a.createElement(g.a,{dense:!0,classes:{root:t.ListItem},key:"group-"+te},s.a.createElement(h.a,{disableTypography:!0},s.a.createElement(M,{id:te,label:ee,devices:$[ee],_selectDevice:function(e){return j(e.id)},_copyDevice:Q}))))}var ae=Object(o.useCallback)((function(e){if(null!==e){var t=e.parentNode.offsetWidth-20;U(t)}}),[]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(y.a,{ref:ae,className:Object(d.a)(t.paper,"DeviceListFilter"),style:{width:H}},s.a.createElement(k.a,{classes:{root:t.heading},display:"inline",variant:"h6"},f.default.t("Devices List")+" ("+Object.keys(_.current).length+")"),s.a.createElement(P.default.Select,{key:"groupBy",label:"Group by",width:150,onChange:function(t,n){R.current=n,V(a(n,_.current)),e._onLayoutsChange(null,{configGroupDevices:n})},val:R.current,selection:[{function:"Function"},{manufacturer:"Manufacturer"}]}),s.a.createElement(P.default.Text,{key:"filterBy",id:"filterBy",width:400,label:"Filter",info:"DevicesListPage#filterBy#info",link:"https://forum.iobroker.net/post/542452",onChange:function(e,t){return Y(t,_.current)},val:N.current}),s.a.createElement(b.a,{classes:{root:t.divider},orientation:"vertical"}),s.a.createElement(P.default.Button,{key:"device-add",className:"deviceAdd",onClick:function(){return j("#new")},startIcon:s.a.createElement(D.a,null),disabled:null!==E||null!==S,label:"add device"}),s.a.createElement(P.default.Button,{key:"devices-import",className:"deviceImport",onClick:function(){return w(!0)},startIcon:s.a.createElement(I.a,null),disabled:null!==E||null!==S,label:"import devices"})),null!=E&&s.a.createElement(B.default,{device:"#new"===E?{id:Object(u.a)(),function:"other",states:{},options:{},attributes:{_created:Date.now()}}:_.current[E],onSave:function(e){if(T.current=e.id,_.current[e.id]){var t=Object.keys(_.current[e.id].states||{});for(var a in e.states){var n=e.states[a];n._renamed&&X(e.id,n._renamed,a)}t.forEach((function(t){void 0===e.states[t]&&X(e.id,t)}))}q(Object(c.a)(Object(c.a)({},_.current),{},Object(i.a)({},e.id,Object(c.a)(Object(c.a)({},e),{},{hash:Date.now()}))))},onDelete:function(e){X(e),delete _.current[e],q(_.current)},onClose:function(){return j(null)}}),null!==S&&s.a.createElement(A.default,{devices:_.current,onImport:function(e){return q(Object(c.a)(Object(c.a)({},_.current),e))},onClose:function(){return w(null)}}),s.a.createElement(v.a,{className:"DeviceList",classes:{root:t.DeviceList},dense:!0},Z))}),(function(e,t){return!0!==t.selected}));t.default=z;var M=function(e){var t=e.id,a=e.label,n=e.devices;return s.a.createElement(T.default,{key:"DeviceStates-"+t+"-"+n.length,className:"Group"},s.a.createElement(T.CollapsibleSummary,null,a+" ("+n.length+")"),s.a.createElement(T.CollapsibleDetails,null,s.a.createElement(W,e)))},W=function(e){m.default._("DevicesListPage","RENDER DeviceTable","development");var t=e.devices;return s.a.createElement(N.default,{toolbar:!1,headCells:[{id:"edit",width:"3%",disablePadding:!0,label:""},{id:"copy",width:"2%",disablePadding:!0,label:""},{id:"name",width:"15%",label:f.default.t("Name")},{id:"manufacturer",width:"15%",label:f.default.t("Manufacturer")},{id:"function",width:"10%",label:f.default.t("Function")},{id:"states",width:"55%",disablePadding:!1,label:f.default.t("States")}],rows:Object.values(t),defaultOrderBy:"name",selectable:!1,sortable:!0,stickyHeader:!0,CustomTableBody:function(t){return s.a.createElement($,Object.assign({},e,t))}})},$=function(e){m.default._("DevicesListPage","RENDER DeviceList","development");var t=G(),a=e.sortedRows,n=e._selectDevice,r=e._copyDevice;return s.a.createElement(O.a,null,a.map((function(e,a){return e.attributes&&!0===e.attributes.ignore?null:s.a.createElement(E.a,{key:"TableRow-"+a,id:"device-"+e.id,hover:!0,tabIndex:-1,selected:e.attributes&&e.attributes._created>Date.now()-864e5,classes:{selected:t.newlyCreatedDevice,root:"Device"}},s.a.createElement(j.a,{padding:"checkbox",scope:"row",align:"center"},s.a.createElement(p.a,{onClick:function(){return n(e)}},s.a.createElement(S.a,null))),s.a.createElement(j.a,{padding:"checkbox",align:"center"},s.a.createElement(p.a,{onClick:function(){return r(e)}},s.a.createElement(R.a,null))),s.a.createElement(j.a,null,e.name+(e.label?" ("+e.label+")":"")),s.a.createElement(j.a,null,e.attributes&&e.attributes.manufacturer&&e.attributes.manufacturer.name||""),s.a.createElement(j.a,null,f.default.t(e.function)," (",s.a.createElement("code",null,e.function),")"),s.a.createElement(j.a,null,Object.keys(e.states||{}).join(", ")))})))}},2173:function(e,t,a){"use strict";var n=a(0),r=n.createContext({});t.a=r},2176:function(e,t,a){"use strict";var n=a(48),r=a(49);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(0)),c=(0,n(a(50)).default)(i.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=c},2178:function(e,t,a){"use strict";var n=a(48),r=a(49);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(0)),c=(0,n(a(50)).default)(i.createElement("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");t.default=c},2183:function(e,t,a){"use strict";var n=a(48),r=a(49);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(0)),c=(0,n(a(50)).default)(i.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=c},2194:function(e,t,a){var n={"./de":2076,"./de.js":2076,"./en":2077,"./en.js":2077};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=2194},2195:function(e,t,a){"use strict";var n=a(48),r=a(49);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(0)),c=(0,n(a(50)).default)(i.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}),"CloudDownload");t.default=c},2196:function(e,t,a){"use strict";var n=a(48),r=a(49);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(0)),c=(0,n(a(50)).default)(i.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}),"FileCopy");t.default=c},2235:function(e,t,a){"use strict";var n=a(3),r=a(7),i=a(0),c=(a(6),a(5)),l=a(673),o=a(68),s=a(11),d=a(2173),u=i.forwardRef((function(e,t){var a=e.children,s=e.classes,u=e.className,f=e.expandIcon,m=e.IconButtonProps,b=e.onBlur,p=e.onClick,v=e.onFocusVisible,g=Object(r.a)(e,["children","classes","className","expandIcon","IconButtonProps","onBlur","onClick","onFocusVisible"]),h=i.useState(!1),y=h[0],O=h[1],E=i.useContext(d.a),j=E.disabled,k=void 0!==j&&j,x=E.expanded,D=E.toggle;return i.createElement(l.a,Object(n.a)({focusRipple:!1,disableRipple:!0,disabled:k,component:"div","aria-expanded":x,className:Object(c.a)(s.root,u,k&&s.disabled,x&&s.expanded,y&&s.focused),onFocusVisible:function(e){O(!0),v&&v(e)},onBlur:function(e){O(!1),b&&b(e)},onClick:function(e){D&&D(e),p&&p(e)},ref:t},g),i.createElement("div",{className:Object(c.a)(s.content,x&&s.expanded)},a),f&&i.createElement(o.a,Object(n.a)({className:Object(c.a)(s.expandIcon,x&&s.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},m),f))}));t.a=Object(s.a)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:48,transition:e.transitions.create(["min-height","background-color"],t),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],t),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",t),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}}),{name:"MuiAccordionSummary"})(u)},2236:function(e,t,a){"use strict";var n=a(3),r=a(7),i=a(0),c=(a(6),a(5)),l=a(11),o=i.forwardRef((function(e,t){var a=e.classes,l=e.className,o=Object(r.a)(e,["classes","className"]);return i.createElement("div",Object(n.a)({className:Object(c.a)(a.root,l),ref:t},o))}));t.a=Object(l.a)((function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}}),{name:"MuiAccordionDetails"})(o)},2237:function(e,t,a){"use strict";var n=a(3),r=a(1016),i=a(1018),c=a(676),l=a(1017);var o=a(53),s=a(7),d=a(0),u=(a(184),a(6),a(5)),f=a(2293),m=a(154),b=a(11),p=a(2173),v=a(75),g=d.forwardRef((function(e,t){var a,b=e.children,g=e.classes,h=e.className,y=e.defaultExpanded,O=void 0!==y&&y,E=e.disabled,j=void 0!==E&&E,k=e.expanded,x=e.onChange,D=e.square,C=void 0!==D&&D,S=e.TransitionComponent,w=void 0===S?f.a:S,I=e.TransitionProps,_=Object(s.a)(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),R=Object(v.a)({controlled:k,default:O,name:"Accordion",state:"expanded"}),T=Object(o.a)(R,2),N=T[0],P=T[1],L=d.useCallback((function(e){P(!N),x&&x(e,!N)}),[N,x,P]),B=d.Children.toArray(b),A=(a=B,Object(r.a)(a)||Object(i.a)(a)||Object(c.a)(a)||Object(l.a)()),F=A[0],G=A.slice(1),z=d.useMemo((function(){return{expanded:N,disabled:j,toggle:L}}),[N,j,L]);return d.createElement(m.a,Object(n.a)({className:Object(u.a)(g.root,h,N&&g.expanded,j&&g.disabled,!C&&g.rounded),ref:t,square:C},_),d.createElement(p.a.Provider,{value:z},F),d.createElement(w,Object(n.a)({in:N,timeout:"auto"},I),d.createElement("div",{"aria-labelledby":F.props.id,id:F.props["aria-controls"],role:"region"},G)))}));t.a=Object(b.a)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],t),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}}),{name:"MuiAccordion"})(g)}}]);
//# sourceMappingURL=16.56ae98fb.chunk.js.map