(this.webpackJsonpjarvis=this.webpackJsonpjarvis||[]).push([[4],{2060:function(e,t,n){"use strict";n.r(t),t.default={"config#Devices#hiddenStates#info":"Liste mit States, die von jarvis zwar geladen, aber nicht angezeigt werden","config#Devices#ignoredStates#info":"Liste mit States, die von jarvis ignoriert (und damit nicht geladen) werden","config#Devices#state#label":"Datenpunkt (Anzeige)","config#Devices#state#info":"Datenpunkt dessen State als Wert angezeigt wird","config#Devices#stateStyle#label":"Datenpunkt Stil","config#Devices#stateStyle#info":"Stil des angezeigten Wertes (im JSON Format)","config#Devices#display#label":"Anzeigevariante","config#Devices#display#info":"Texte die den angezeigten Wert ersetzen (im JSON Format)","config#Devices#label#label":"Label","config#Devices#unit#label":"Einheit","config#Devices#unit#info":"Einheit des Datenpunkts, z. B. % oder \xb0","config#Devices#action#label":"Datenpunkt (Trigger)","config#Devices#action#info":"Datenpunkt der zum Schalten getriggert wird","config#Devices#icon#label":"Icon","config#Devices#icon#info":"Material Icon (klick zur Ansicht aller Icons)","config#Devices#iconStyle#label":"Icon Stil","config#Devices#iconStyle#info":"Stil des Icons (im JSON Format)","No whitespaces allowed in the state":"Keine Leerzeichen im Datenpunkt erlaubt","JSON format":"JSON Format","Devices List":"Ger\xe4teliste","add device":"Ger\xe4t hinzuf\xfcgen","import devices":"Ger\xe4te importieren","Device ID":"Ger\xe4te ID",Name:"Name",Function:"Gewerk",States:"States",Options:"Optionen",adapter:"Adapter","add state":"Datenpunkt hinzuf\xfcgen","new state key":"Datenpunkt Bezeichner","No input given":"Bitte etwas eingeben","Wrong JSON format":"Falsches JSON Format","Type in a state key / identifier":"State Bezeichnung eingeben","State key already used":"State bereits in Benutzung","Device Configuration":"Ger\xe4tekonfiguration","Delete Device":"Ger\xe4t l\xf6schen",General:"Allgemein",Device:"Ger\xe4t","Displayed Name":"Anzeigename","New Devices":"neue Ger\xe4te","Devices that have been added already":"bereits hinzugef\xfcgte Ger\xe4te","Devices with incorrect configuration (states not found)":"Ger\xe4te mit inkorrekter Konfiguration (Datenpunkte nicht gefunden)","Devices marked as ignored":"ignorierte Ger\xe4te","Devices Import":"Ger\xe4te importieren","Read adapters":"Adapter lesen","Import selected devices":"ausgew\xe4hlte Ger\xe4te importieren",Adapters:"Adapter","Search the adapter structure for all devices or only devices added to enums":"Adapter-Struktur entweder nach allen oder nur nach in Enums vorhandenen Ger\xe4ten durchsuchen","Search adapter structure for all devices":"nach allen Ger\xe4ten durchsuchen","Search only for devices added to enums":"nur nach in Enums hinzugef\xfcgten Ger\xe4ten durchsuchen",ignore:"ignorieren","move to new devices":"zu den neuen Ger\xe4ten verschieben"}},2061:function(e,t,n){"use strict";n.r(t),t.default={"config#Devices#hiddenStates#info":"List of states which will be retrieved but shall be hidden","config#Devices#ignoredStates#info":"List of states which shall be ignored (and will not be retrieved)","config#Devices#state#label":"State (to display)","config#Devices#state#info":"State which value is shown","config#Devices#stateStyle#label":"State Style","config#Devices#stateStyle#info":"State Style of the displayed values (in JSON Format)","config#Devices#display#label":"Display variant","config#Devices#display#info":"Texts replacing the displayed value (in JSON Format)","config#Devices#label#label":"Label","config#Devices#unit#label":"Unit","config#Devices#action#label":"State (to trigger)","config#Devices#action#info":"State used to trigger an action","config#Devices#icon#label":"Icon","config#Devices#icon#info":"Material Icon (click to view icons)","config#Devices#iconStyle#label":"Icon Style","config#Devices#iconStyle#info":"Icon Style of the icon (in JSON Format)"}},2062:function(e,t,n){"use strict";n.r(t),t.default={"config#Layout#tabsHideLabels#label":"Tab Labels nicht anzeigen (nur Icons)","config#Layout#tabsHideLabels#info":"Zeigt nur die Icons im Tab und nicht die Labels","config#Layout#tabIcon#label":"Tab Icon","config#Layout#tabTitle#label":"Tab Titel","config#Layout#tabFullscreen#label":"Tab als Vollbild","config#Layout#tabFullscreen#info":"Vollbild kann nur bei einem Tab mit nur einer Spalte und nur einem eingestellten Widget aktiviert werden","config#Layout#widgetModule#label":"Modul zur Anzeige der Ger\xe4te","config#Layout#widgetFullscreen#label":"Inhalte als Vollbild","config#Layout#widgetFullscreen#info":"Die Inhalte nehmen die komplette gr\xf6\xdfe des Widgets ein (Titel und Icon wird ausgeblendet)","config#Layout#widgetTitle#label":"Titel der Widget-Box","config#Layout#widgetIcon#label":"Icon der Widget-Box","config#Layout#widgetIcon#info":"Material Icon (klick zur Ansicht aller Icons)","config#Layout#widgetIconStyle#label":"Icon style der Widget-Box","Component configuration":"Komponenten Konfiguration","Module Configuration":"Modul Konfiguration","No configuration available for this module":"Keine Konfiguration f\xfcr dieses Modul vorhanden","Assigned Devices":"zugeordnete Ger\xe4te","add device":"Ger\xe4t hinzuf\xfcgen","add group":"Gruppe hinzuf\xfcgen","add divider":"Trennstreifen","add tab":"Tab hinzuf\xfcgen","add column":"Spalte hinzuf\xfcgen","move column":"Spalte schieben","delete column":"Spalte l\xf6schen","add widget":"Widget hinzuf\xfcgen","Widget configuration":"Widget Konfiguration","Delete Widget":"Widget l\xf6schen","Widget-Box":"Widget-Box",Module:"Modul",Devices:"Ger\xe4te","Primary State Key":"prim\xe4rer Datenpunkt","Secondary State Key":"sekund\xe4rer Datenpunkt",or:"oder",none:"keine",divider:"Trennstreifen","No component selected":"keine Komponente ausgew\xe4hlt","No option selected":"keine Komponente ausgew\xe4hlt","Device needs one of the following states":"Das Ger\xe4t ben\xf6tigt einen der folgenden Datenpunkte"}},2063:function(e,t,n){"use strict";n.r(t),t.default={"config#Layout#tabsHideLabels#label":"Hide tab labels (only show icons)","config#Layout#tabsHideLabels#info":"Show only icons within a tab, not the label","config#Layout#tabIcon#label":"Tab Icon","config#Layout#tabTitle#label":"Tab Title","config#Layout#tabFullscreen#label":"Tab Fullscreen","config#Layout#tabFullscreen#info":"Fullscreen can only be enabled on a tab setup with only a single column and only a single widget","config#Layout#widgetModule#label":"Modul to display the devices","config#Layout#widgetFullscreen#label":"Widget fullscreen","config#Layout#widgetFullscreen#info":"The content will fill the whole size of the widget (title and icon will be hidden)","config#Layout#widgetTitle#label":"Title of the widget-box","config#Layout#widgetIcon#label":"Icon of the widget-box","config#Layout#widgetIcon#info":"Material Icon (click to view all icons)","config#Layout#widgetIconStyle#label":"Icon style of the widget-box"}},2064:function(e,t,n){"use strict";n.r(t),t.default={"config#Settings#pageSettings#label":"Seiteneinstellungen","config#Settings#pageSettings#settings#language#label":"Spracheinstellung von jarvis","config#Settings#pageSettings#settings#pageFavicon#label":"Favicon im Browser","config#Settings#pageSettings#settings#pageFavicon#info":"base64 Wert der Grafik","config#Settings#pageSettings#settings#pageTitle#label":"Titel im Browser","config#Settings#themeSettings#label":"Theme Einstellungen","config#Settings#themeSettings#settings#themeDarkMode#label":"Dark Mode","config#Settings#themeSettings#settings#themeColorPrimary#label":"Prim\xe4re Farbe des Themes","config#Settings#themeSettings#settings#themeColorPrimary#info":"Der Farbwert kann ein Wert aus der Farbpalette in der Form `HUE|SHADE` (z. B. `blue|700`) sein. Alternativ kann ein Hex oder RGB angegeben werden.","config#Settings#themeSettings#settings#themeColorSecondary#label":"Sekund\xe4re Farbe des Themes","config#Settings#themeSettings#settings#themeColorSecondary#info":"Der Farbwert kann ein Wert aus der Farbpalette in der Form `HUE|SHADE` (z. B. `pink|500`) sein. Alternativ kann ein Hex oder RGB angegeben werden.","config#Settings#themeSettings#settings#defaultBoxIcon#label":"Standard Widget-Box Icon","config#Settings#themeSettings#settings#hideTopBarIconTitle#label":"Icon und Titel der TopBar ausblenden","config#Settings#themeSettings#settings#columnsOnSmallScreenSizes#label":"Spalten auf kleinem Bildschirm","config#Settings#themeSettings#settings#columnsOnSmallScreenSizes#info":"Anzahl der Spalten auf Bildschirmen mit einer Breite zwischen 600-960px.","config#Settings#themeSettings#settings#columnsOnMediumScreenSizes#label":"Spalten auf mittleren Bildschirm","config#Settings#themeSettings#settings#columnsOnMediumScreenSizes#info":"Anzahl der Spalten auf Bildschirmen mit einer Breite zwischen 960-1280px.","config#Settings#themeSettings#settings#columnsOnLargeScreenSizes#label":"Spalten auf gro\xdfem Bildschirm","config#Settings#themeSettings#settings#columnsOnLargeScreenSizes#info":"Anzahl der Spalten auf Bildschirmen mit einer Breite zwischen 1280px-1920px.","config#Settings#themeSettings#settings#columnsOnExtraLargeScreenSizes#label":"Spalten auf sehr gro\xdfem Bildschirm","config#Settings#themeSettings#settings#columnsOnExtraLargeScreenSizes#info":"Anzahl der Spalten auf Bildschirmen mit einer Breite \xfcber 1920px."}},2065:function(e,t,n){"use strict";n.r(t),t.default={"config#Settings#pageSettings#label":"Page Settings","config#Settings#pageSettings#settings#language#label":"Language settings for jarvis","config#Settings#pageSettings#settings#pageFavicon#label":"Browser favicon","config#Settings#pageSettings#settings#pageFavicon#info":"base64 value of the image","config#Settings#pageSettings#settings#pageTitle#label":"Browser title","config#Settings#themeSettings#label":"Theme Settings","config#Settings#themeSettings#settings#themeDarkMode#label":"Dark Mode","config#Settings#themeSettings#settings#themeColorPrimary#label":"Primary theme color","config#Settings#themeSettings#settings#themeColorPrimary#info":"","config#Settings#themeSettings#settings#themeColorSecondary#label":"Secondary theme color","config#Settings#themeSettings#settings#themeColorSecondary#info":"","config#Settings#themeSettings#settings#defaultBoxIcon#label":"Default widget-box icon","config#Settings#themeSettings#settings#hideTopBarIconTitle#label":"Hide Icon and Title in TopBar","config#Settings#themeSettings#settings#columnsOnSmallScreenSizes#label":"Columns on a small screen","config#Settings#themeSettings#settings#columnsOnSmallScreenSizes#info":"Amount of columns on screens with a width between 600-960px.","config#Settings#themeSettings#settings#columnsOnMediumScreenSizes#label":"Columns on a medium screen","config#Settings#themeSettings#settings#columnsOnMediumScreenSizes#info":"Amount of columns on screens with a width between 960-1280px.","config#Settings#themeSettings#settings#columnsOnLargeScreenSizes#label":"Columns on a large screen","config#Settings#themeSettings#settings#columnsOnLargeScreenSizes#info":"Amount of columns on screens with a width between 1280px-1920px.","config#Settings#themeSettings#settings#columnsOnExtraLargeScreenSizes#label":"Columns on an extra-large screen","config#Settings#themeSettings#settings#columnsOnExtraLargeScreenSizes#info":"Amount of columns on screens with a width above 1920px."}},2066:function(e,t,n){"use strict";n.r(t),t.default={"Invalid JSON format":"Falsches JSON Format",Configuration:"Konfiguration","Expert mode":"Expertenmodus",Devices:"Ger\xe4te",Settings:"Einstellungen",Layout:"Layout","JSON Editor":"JSON Editor"}},2067:function(e,t,n){"use strict";n.r(t),t.default={}},2076:function(e,t,n){"use strict";n.r(t),t.default={"Support the development of jarvis":"Unterst\xfctze die Weiterentwicklung von jarvis","Overview of my adapters":"\xdcbersicht aller meiner Adapter","donation#TextIntro":"Ich hoffe, euch gef\xe4llt jarvis und der Adapter bereichert euer Smarthome.","donation#TextFeatures":"Sofern euch Funktionen fehlen, ihr euch Features w\xfcnscht oder auf Bugs gesto\xdfen seid, dann [scheut bitte nicht einen Issue auf Github zu erstellen](https://github.com/Zefau/ioBroker.jarvis/issues). Nur, wenn ich davon erfahre, kann ich es umsetzen.","donation#TextBugs":"Sofern ihr Probleme oder Fragestellungen habt, schaut [gerne ins Wiki](https://github.com/Zefau/ioBroker.jarvis/wiki) oder [meldet euch im Forum](https://forum.iobroker.net/topic/30668/jarvis-just-another-remarkable-vis/1).","donation#TextFeedback":"Die Entwicklung des Adapters macht mir wirklich Spa\xdf. Vor allem, wenn ich sehe, wie positiv die Resonanz ist.","donation#TextSupport":"Ich w\xfcrde mich sehr freuen, wenn ihr die weitere Entwicklung mit einem Bierchen oder einer Ma\xdf unterst\xfctzt. ;-)","donation#TextGreetings":"Danke und viele Gr\xfc\xdfe, Zefau"}},2077:function(e,t,n){"use strict";n.r(t),t.default={"donation#TextIntro":"I hope you enjoy jarvis and it enriches your smarthome.","donation#TextFeatures":"If you are missing a certain functionality or you found a bug, please [do not hesitate to create an issue on Github](https://github.com/Zefau/ioBroker.jarvis/issues).","donation#TextBugs":"If you are facing problems or having questions, [please see the Wiki](https://github.com/Zefau/ioBroker.jarvis/wiki) or [ask in the forum](https://forum.iobroker.net/topic/30668/jarvis-just-another-remarkable-vis/1).","donation#TextFeedback":"I'm enjoying the development of the adapter, especially when the feedback is so positive.","donation#TextSupport":"I would appreciate if you support the development of the adapter with a beer. ;-)","donation#TextGreetings":"Cheers and kind regards, Zefau"}},2078:function(e,t,n){"use strict";n.r(t),t.default={Time:"Zeit",Module:"Modul",Criticality:"Kritikalit\xe4t",Message:"Nachricht","Stack Trace":"Stack Trace"}},2079:function(e,t,n){"use strict";n.r(t),t.default={}},2080:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var a=n(19),i=n(11),r=n(0),o=n.n(r),l=n(64),c=n(2195),s=n(2194),u=n(2202),d=n(33),m=n(5),g=n(23),f=n(2031),b=n(48),v=n(129),p=n(65),h=n(2049),y=n.n(h),E=Object(l.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(g.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}}));function O(e){var t=E(),n=e.title,a=e.rowCount,i=e.numSelected,r=e.rightActionButton;return o.a.createElement(f.a,{className:Object(m.a)(t.root,Object(d.a)({},t.highlight,i>0))},i>0?o.a.createElement(b.a,{className:t.title,color:"inherit",variant:"subtitle1"},i," selected"):o.a.createElement(b.a,{className:t.title,variant:"h6",id:"tableTitle"},void 0!==n&&n+" ("+a+")"),i>0?o.a.createElement(p.a,{title:"Delete"},o.a.createElement(v.a,{"aria-label":"delete"},o.a.createElement(y.a,null))):r)}var S=n(2190),j=n(2191),w=n(2192),k=n(2203),x=n(854);function C(e){var t=e.headCells,n=e.onSelectAllClick,a=e.selectable,i=e.sortable,r=e.order,l=e.orderBy,c=e.numSelected,s=e.rowCount,u=e.onRequestSort;return o.a.createElement(S.a,null,o.a.createElement(j.a,null,!1!==a&&o.a.createElement(w.a,{padding:"checkbox"},o.a.createElement(x.a,{indeterminate:c>0&&c<s,checked:s>0&&c===s,onChange:n,inputProps:{"aria-label":"select all"}})),t.map((function(e){return o.a.createElement(w.a,{key:e.id,align:e.align||"left",padding:e.disablePadding?"none":"default",sortDirection:i&&l===e.id&&r,style:{width:e.width||"auto"}},i?o.a.createElement(k.a,{active:l===e.id,direction:l===e.id?r:"asc",onClick:(t=e.orderBy||e.id,function(e){u(e,t)})},o.a.createElement("strong",null,e.label)):o.a.createElement("strong",null,e.label));var t}))))}var D=n(92),_=n(2193),I=Object(l.a)((function(e){return{noWrap:{whiteSpace:"nowrap"}}}));function T(e,t,n){if(null!==t&&"object"===typeof t){if(n.indexOf(t)>=0)return;n.push(t)}return t}function L(e){var t=e.columns,n=e.sortedRows,a=e.emptyRows,r=e.rowStyles,l=e.selectable,c=e.selected,s=e.onClick,u=I();return o.a.createElement(_.a,null,n.map((function(e,n){var a,d=(a=e.id,-1!==c.indexOf(a)),g="enhanced-table-checkbox-".concat(n),f={};for(var b in r){var v=r[b];e[b]&&Object.keys(v).indexOf(e[b])>-1&&(f=Object(i.a)(Object(i.a)({},f),v[e[b]]))}return o.a.createElement(j.a,{key:"TableRow-"+n,hover:!0,onClick:s?function(t){return s(t,e.id)}:void 0,role:"checkbox","aria-checked":d,tabIndex:-1,selected:d},!1!==l&&o.a.createElement(w.a,{key:"TableCell-"+n+"-Checkbox",style:f,padding:"checkbox"},o.a.createElement(x.a,{checked:d,inputProps:{"aria-labelledby":g}})),t.map((function(t){return o.a.createElement(w.a,{key:"TableCell-"+n+"-"+t.id,classes:{root:Object(m.a)(t.noWrap&&u.noWrap)},style:f,scope:"row",padding:t.disablePadding?"none":"default"},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(void 0===e||null===e)return"";var n=[];switch(t.toLowerCase()){case"date":e=Object(D.a)(e,"yyyy-MM-dd HH:mm:ss");break;default:e="boolean"===typeof(e=Array.isArray(e)||"object"===typeof e?JSON.stringify(e,(function(e,t){return T(0,t,n)})):e)?e.toString():e}return e}(e[t.id],t.type))})))})),a>0&&o.a.createElement(j.a,{style:{height:53*a}},o.a.createElement(w.a,{colSpan:6})))}var F=Object(l.a)((function(e){return{table:{minWidth:750}}}));function R(e,t,n,a){var r,o;if(-1===n.indexOf("."))r=e[n]||"",o=t[n]||"";else{for(var l,c=Object(i.a)({},e),s=Object(i.a)({},t),u=n;u.indexOf(".")>-1;)try{l=u.substr(0,u.indexOf(".")),u=u.substr(u.indexOf(".")+1),c=c[l],s=s[l]}catch(d){console.error(d.message)}r=c[u]||"",o=s[u]||""}return!0!==a&&(r="object"===typeof r?JSON.stringify(r):r.toLowerCase(),o="object"===typeof o?JSON.stringify(o):o.toLowerCase()),o<r?-1:o>r?1:0}function N(e,t,n){return"desc"===e?function(e,a){return R(e,a,t,n)}:function(e,a){return-R(e,a,t,n)}}function B(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}function z(e){var t=F(),n=e.title,i=e.headCells,l=e.size,d=e.CustomTableBody,m=e.rows,g=e.toolbar,f=e.selectable,b=e.pagination,v=e.defaultOrder,p=e.defaultOrderBy,h=e.orderByCase,y=e.defaultSelected,E=e.defaultPage,S=e.defaultRowsPerPage,j=e.toolbarRightActionButton,w=o.a.useState(v||"asc"),k=Object(a.a)(w,2),x=k[0],D=k[1],_=o.a.useState(p||i[0].orderBy||i[0].id),I=Object(a.a)(_,2),T=I[0],R=I[1],z=o.a.useState(y||[]),P=Object(a.a)(z,2),A=P[0],W=P[1],M=o.a.useState(E||0),G=Object(a.a)(M,2),H=G[0],K=G[1],J=o.a.useState(b?S||5:m.length),U=Object(a.a)(J,2),q=U[0],V=U[1];Object(r.useEffect)((function(){return V(b?S||5:m.length)}),[m.length,b,S]);var Z=d||L;return o.a.createElement(o.a.Fragment,null,!1!==g&&o.a.createElement(O,{title:n,rowCount:m.length,numSelected:A.length||0,rightActionButton:j}),o.a.createElement(s.a,null,o.a.createElement(c.a,{className:t.table,"aria-labelledby":"tableTitle","aria-label":"enhanced table",size:l,stickyHeader:!0},o.a.createElement(C,Object.assign({classes:t,numSelected:A.length,order:x,orderBy:T,onSelectAllClick:function(e){if(e.target.checked){var t=m.map((function(e){return e.id}));W(t)}else W([])},onRequestSort:function(e,t){D(T===t&&"asc"===x?"desc":"asc"),R(t)},rowCount:m.length},e)),o.a.createElement(Z,Object.assign({columns:i,sortedRows:B(m,N(x,T,h)).slice(H*q,H*q+q),emptyRows:q-Math.min(q,m.length-H*q),onClick:!1!==f&&function(e,t){var n=A.indexOf(t),a=[];-1===n?a=a.concat(A,t):0===n?a=a.concat(A.slice(1)):n===A.length-1?a=a.concat(A.slice(0,-1)):n>0&&(a=a.concat(A.slice(0,n),A.slice(n+1))),W(a)},selected:A},e)))),b&&o.a.createElement(u.a,{rowsPerPageOptions:[5,10,25],component:"div",count:m.length,rowsPerPage:q,page:H,onChangePage:function(e,t){K(t)},onChangeRowsPerPage:function(e){V(parseInt(e.target.value,10)),K(0)}}))}},2105:function(e,t,n){var a={"./de":2060,"./de.js":2060,"./en":2061,"./en.js":2061};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=2105},2111:function(e,t,n){var a={"./de":2062,"./de.js":2062,"./en":2063,"./en.js":2063};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=2111},2116:function(e,t,n){var a={"./de":2064,"./de.js":2064,"./en":2065,"./en.js":2065};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=2116},2117:function(e,t,n){var a={"./de":2066,"./de.js":2066,"./en":2067,"./en.js":2067};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=2117},2173:function(e,t,n){var a={"./de":2076,"./de.js":2076,"./en":2077,"./en.js":2077};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=2173},2174:function(e,t,n){e.exports=n.p+"static/media/zefau.e3988b38.jpg"},2175:function(e,t,n){e.exports=n.p+"static/media/paypal.f985e03c.webp"},2176:function(e,t,n){"use strict";n.r(t);var a=n(34),i=n(35),r=n(51),o=n(50),l=n(0),c=n.n(l),s=n(107),u=n(154),d=n(7),m=n(14),g=n(857),f=n(2080),b=n(10),v=[{id:"time",disablePadding:!1,type:"Date",label:d.a.t("Time"),noWrap:!0},{id:"module",disablePadding:!1,label:d.a.t("Module"),noWrap:!0},{id:"criticality",disablePadding:!1,label:d.a.t("Criticality"),noWrap:!0},{id:"message",disablePadding:!1,label:d.a.t("Message")},{id:"stack",disablePadding:!1,type:"Object",label:d.a.t("Stack Trace")}],p={criticality:{debug:{color:"rgba(0, 0, 0, 0.4)",backgroundColor:"rgba(0, 0, 0, 0.1)"},info:{color:"rgb(13, 60, 97)",backgroundColor:"rgb(232, 244, 253)"},warn:{color:"rgb(102, 60, 0)",backgroundColor:"rgb(255, 244, 229)"},error:{color:"rgb(97, 26, 21)",backgroundColor:"rgb(253, 236, 234)"},success:{color:"rgb(30, 70, 32)",backgroundColor:"rgb(237, 247, 237)"}}};d.a.setTranslations((function(e){return n(2177)("./"+e)}));var h=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props.classes,n=m.a.getLog();return c.a.createElement(g.a,{classes:{CustomDialog:t.pinToTop},fullWidth:!0,maxWidth:"xl",open:"logs"===this.props.page,onClose:function(){return e.props.navigate("home")},header:"Logs",actions:c.a.createElement(s.a,{autoFocus:!0,onClick:function(){return e.props.navigate("home")},color:"primary"},d.a.t("Close"))},c.a.createElement(u.a,{className:t.paper},c.a.createElement(f.a,{headCells:v,rows:n,rowStyles:p,selectable:!1,sortable:!0,toolbar:!1,stickyHeader:!0})))}}]),n}(c.a.Component);t.default=Object(b.a)((function(e){return{pinToTop:{position:"absolute",top:0,left:0}}}))(h)},2177:function(e,t,n){var a={"./de":2078,"./de.js":2078,"./en":2079,"./en.js":2079};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=2177},2178:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ct}));var a=n(33),i=n(11),r=n(30),o=n(19),l=n(0),c=n.n(l),s=n(154),u=n(2039),d=n(2030),m=n(48),g=n(74),f=n(32),b=n(36),v=n(7),p=n(14),h=n(29),y=n(857),E=n(44),O=n(42),S=n(972),j=n(701),w=n(129),k=n(2193),x=n(2191),C=n(2192),D=n(65),_=n(865),I=n.n(_),T=n(2107),L=n.n(T),F=n(2106),R=n.n(F),N=n(2080),B={hiddenStates:{info:"config#Devices#hiddenStates#info"},ignoredStates:{info:"config#Devices#ignoredStates#info"}},z={state:{label:"config#Devices#state#label",info:"config#Devices#state#info",onValidate:function(e){if(e.indexOf(" ")>-1)throw new Error("No whitespaces allowed in the state");return e}},stateStyle:{label:"config#Devices#stateStyle#label",info:"config#Devices#stateStyle#info",json:!0},display:{label:"config#Devices#display#label",info:"config#Devices#display#info",json:!0},label:{label:"config#Devices#label#label",info:"config#Devices#label#info"},unit:{label:"config#Devices#unit#label",info:"config#Devices#unit#info",json:!0,onValidate:function(e){return-1===e.indexOf(" ")&&-1===e.indexOf('"')&&-1===e.indexOf("}")&&-1===e.indexOf("{")?'"'+e+'"':e}},action:{label:"config#Devices#action#label",info:"config#Devices#action#info",onValidate:function(e){if(e.indexOf(" ")>-1)throw new Error("No whitespaces allowed in the state");return e}},icon:{label:"config#Devices#icon#label",info:"config#Devices#icon#info",link:"https://materialdesignicons.com/",json:!0,onValidate:function(e){return-1===e.indexOf(" ")&&-1===e.indexOf('"')&&-1===e.indexOf("}")&&-1===e.indexOf("{")?'"'+e+'"':e}},iconStyle:{label:"config#Devices#iconStyle#label",info:"config#Devices#iconStyle#info",json:!0}},P=n(41),A=n(52),W=n(851),M=n(83),G=n(1513),H=n(156),K=n(587),J=n(2104),U=n.n(J),q=n(2052),V=n.n(q),Z=n(2053),Y=n.n(Z),Q=n(2049),X=n.n(Q),$=n(64),ee=Object($.a)((function(e){return{fullWidth:{width:"100%"},iconContainer:{flexDirection:"column",alignItems:"center"},alignRight:{display:"flex",justifyContent:"flex-end","& > :not(:first-child)":{marginLeft:8}}}})),te=c.a.memo((function(e){var t=ee(),n=Object(l.useState)(e.device),r=Object(o.a)(n,2),s=r[0],u=r[1],d=Object(l.useState)({}),m=Object(o.a)(d,2),g=m[0],f=m[1],b=Object(l.useRef)({}),h=Object(l.useCallback)((function(e,t){e.error&&e.error!==g[e.id]?f((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(a.a)({},e.id,e.error))})):!e.error&&g[e.id]&&f((function(t){var n=Object(i.a)({},t||{});return delete n[e.id],n})),b.current[e.id]=t}),[g]);if(Object(l.useEffect)((function(){h({error:!s.name,id:"device-name"},s.name||"")}),[h,s.name]),null===s)return null;var S=function(e){if(e)if(Object.keys(s.states||{}).indexOf(e)>-1)f((function(e){return Object(i.a)(Object(i.a)({},e),{},{newStateKey:v.a.t("State key already used")})}));else{var t=e.replace(/ /g,"");u((function(e){return Object(i.a)(Object(i.a)({},e),{},{states:Object(i.a)(Object(a.a)({},t,{}),e.states||{})})}))}else f((function(e){return Object(i.a)(Object(i.a)({},e),{},{newStateKey:v.a.t("Type in a state key / identifier")})}))},j=Object.keys(s.states||{});return p.a._("DevicesPages","RENDER DevicesPage","development"),c.a.createElement(y.a,{header:v.a.t("Device Configuration")+" ("+v.a.t("Device ID")+": "+s.id+")",actions:[c.a.createElement(A.a,{key:"actions",container:!0},c.a.createElement(A.a,{item:!0,xs:6},s.name&&c.a.createElement(E.a.Button,{key:"action-delete",variant:"text",onClick:function(){return e.onDelete&&e.onDelete(s.id)},color:"secondary",startIcon:c.a.createElement(X.a,null),label:"Delete Device"})),c.a.createElement(A.a,{item:!0,xs:6,className:t.alignRight},c.a.createElement(E.a.Button,{key:"action-cancel",variant:"text",onClick:function(){return e.onClose()},color:"secondary",label:"Cancel"}),c.a.createElement(E.a.Button,{key:"action-save",variant:"text",onClick:function(){return function(){var t=Object(i.a)({},s);for(var n in t.options=t.options||{},t.attributes=t.attributes||{},b.current){var r=b.current[n],l=n.split("-"),c=Object(o.a)(l,3),u=c[0],d=c[1],m=c[2];"states"===u?"object"===typeof t[u][d]?t[u][d][m]=r:t[u][d]=Object(a.a)({state:t[u][d]},m,r):"options"===u||"attributes"===u?t[u][d]=r:t[d]=r}t.attributes._updated=Date.now(),e.onSave&&e.onSave(t)}()},color:"primary",disabled:Object.keys(g).length>0,label:"Apply"})))],dense:!0,maxWidth:"md",fullWidth:!0,open:!0,onClose:function(){return e.onClose()}},c.a.createElement(E.a.Fieldset,{label:"General"},c.a.createElement(E.a.FieldsetItem,{columns:4},c.a.createElement(E.a.Text,{key:"device-name",id:"device-name",autoFocus:!0,required:!0,label:"Device",val:s.name,onChange:h})),c.a.createElement(E.a.FieldsetItem,{columns:4},c.a.createElement(E.a.Select,{key:"device-function",id:"device-function",label:"Function",val:s.function||"other",selection:Object.keys(P.default).map((function(e){var t,n="_defaults"!==e?e:"other";return t={},Object(a.a)(t,n,v.a.t(n)),Object(a.a)(t,"icon",P.default[e]._any&&P.default[e]._any.icon||null),Object(a.a)(t,"_key",n),Object(a.a)(t,"_translated",!0),Object(a.a)(t,"_sort",v.a.t(n)),t})),sortOptionsByKey:!0,onChange:function(e,t){void 0!==P.default[t]&&Object.keys(P.default[t]).forEach((function(e){-1===j.indexOf(e)&&"_"!==e.substr(0,1)&&S(e)})),h(e,t)}})),c.a.createElement(E.a.FieldsetItem,{columns:4},c.a.createElement(E.a.Text,{key:"device-icon",id:"device-icon",label:"Icon",val:s.icon||"",onChange:h}))),c.a.createElement(E.a.Fieldset,{label:"States"},c.a.createElement(re,{_onChange:h,_addState:S,_moveState:function(e,t){u((function(n){return Object(i.a)(Object(i.a)({},n),{},{states:Object(O.e)(Object(i.a)({},n.states),t,e)})}))},_deleteState:function(e){u((function(t){var n=Object(i.a)({},t);return delete n.states[e],n}))},errors:g,states:s.states})),c.a.createElement(E.a.Fieldset,{label:"Options"},c.a.createElement(ne,{_onChange:h,options:s.options})))})),ne=c.a.memo((function(e){p.a._("DevicesPages","RENDER DeviceOptions","development");var t=e.options,n=ee(),a=Object.keys(B).sort().map((function(n){return c.a.createElement(ae,Object.assign({key:"DeviceOption-"+n,config:Object(i.a)(Object(i.a)({},B[n]),{},{parameter:n}),value:t[n]||""},e))}));return c.a.createElement(W.a,{classes:{root:n.fullWidth},dense:!0},a)})),ae=c.a.memo((function(e){p.a._("DevicesPages","RENDER DeviceOption","development");var t=e.config,n=e.value,a=e._onChange,i=n;Array.isArray(i)?i=i.join(","):"object"===typeof i&&(i=JSON.stringify(i));var r=E.a[t.type||"Text"];return c.a.createElement(M.a,{key:"StatesListItemLabel-"+t.parameter,divider:!0},c.a.createElement(H.a,{primary:t.parameter,secondary:v.a.t(t.label||"")}),c.a.createElement(K.a,null,c.a.createElement(r,Object.assign({key:"options-"+t.parameter,id:"options-"+t.parameter,val:i,onChange:a},t))))})),ie=c.a.memo((function(e){p.a._("DevicesPages","RENDER AddDeviceState","development");var t=e.errors,n=e._addState,a=Object(l.useState)(""),i=Object(o.a)(a,2),r=i[0],s=i[1];return c.a.createElement(M.a,{key:"StatesListItemLabel-add",dense:!0,divider:!0},c.a.createElement(G.a,null,c.a.createElement(w.a,{size:"small",disabled:!0},c.a.createElement(U.a,null))),c.a.createElement(H.a,{disableTypography:!0},c.a.createElement(E.a.Text,{id:"states-add",onChange:function(e,t){return s(t)},shrink:!0,label:"new state key",val:r}),c.a.createElement(E.a.Button,{label:"add state",onClick:function(){return n(r)}}),c.a.createElement("span",{style:{color:"#900"}},t.newStateKey)))})),re=c.a.memo((function(e){p.a._("DevicesPages","RENDER DeviceStates","development");var t=e.states,n=ee(),a=Object.keys(t||{}).map((function(n){var a=t[n];return a="string"===typeof a?{state:a}:a,c.a.createElement(oe,Object.assign({key:"DeviceState-"+n,state:Object(i.a)(Object(i.a)({},a),{},{key:n})},e))}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(W.a,{classes:{root:n.fullWidth},dense:!0},c.a.createElement(ie,e),a))})),oe=c.a.memo((function(e){p.a._("DevicesPages","RENDER DeviceState","development");var t=e.state,n=e._onChange,a=e._moveState,i=e._deleteState,r=ee(),o=Object.keys(z).map((function(e){var a=z[e],i=E.a[a.type||"Text"];return c.a.createElement(E.a.FieldsetItem,{columns:4,key:"states-"+t.key+"-"+e},c.a.createElement(i,Object.assign({},a,{id:"states-"+t.key+"-"+e,shrink:!0,label:a.label||Object(O.b)(e),val:t[e]&&"string"!==typeof t[e]?t[e].node||JSON.stringify(t[e]):t[e]||"",onChange:function(e,t){return"function"===typeof a.onChange?a.onChange(e,t,n):n(e,t)}})))}));return c.a.createElement(M.a,{key:"StatesListItemLabel-"+t.key,dense:!0,divider:!0},t.key&&c.a.createElement(G.a,{classes:{root:r.iconContainer}},c.a.createElement(w.a,{size:"small",onClick:function(){return a("up",t.key)}},c.a.createElement(V.a,null)),c.a.createElement(w.a,{size:"small",onClick:function(){return a("down",t.key)}},c.a.createElement(Y.a,null)),c.a.createElement(w.a,{size:"small",onClick:function(){return i(t.key)},style:{marginTop:40}},c.a.createElement(X.a,null))),c.a.createElement(H.a,{disableTypography:!0},c.a.createElement("div",{style:{paddingBottom:8}},c.a.createElement("strong",null,t.key)),c.a.createElement(E.a.Fieldset,{noPadding:!0},o)))})),le=n(2196),ce=n(583),se=n(2201),ue=n(2197),de=n(2198),me=n(1989),ge=n(155),fe=n(864),be=n.n(fe),ve=Object($.a)((function(e){return{fullWidth:{width:"100%"},heading:{paddingRight:e.spacing()},ListItem:{display:"flex"}}}));function pe(e){var t=ve(),n=Object(l.useState)(null),r=Object(o.a)(n,2),s=r[0],u=r[1],d=Object(l.useState)({}),m=Object(o.a)(d,2),g=m[0],f=m[1],h=Object(l.useRef)(!1),O=Object(l.useRef)({filter:"all",adapters:Object.keys(ce.a)||[]}),S=Object(l.useRef)({}),j=Object(l.useRef)({_new:{hash:"",name:v.a.t("New Devices"),expanded:!0,devices:[]},_added:{hash:"",name:v.a.t("Devices that have been added already"),devices:[]},_incorrect:{hash:"",name:v.a.t("Devices with incorrect configuration (states not found)"),devices:[]},_ignored:{hash:"",name:v.a.t("Devices marked as ignored"),devices:[]}}),w=function(e){var t=j.current._new.devices.findIndex((function(t){return t.id===e.id})),n=j.current._ignored.devices.findIndex((function(t){return t.id===e.id}));e.attributes&&!0===e.attributes.ignore&&t>-1?(j.current._new.devices.splice(t,1),j.current._ignored.devices.push(e),j.current._ignored.hash=Object(le.a)(),j.current._new.hash=Object(le.a)()):e.attributes&&!1===e.attributes.ignore&&n>-1&&(j.current._ignored.devices.splice(n,1),j.current._new.devices.push(e),j.current._ignored.hash=Object(le.a)(),j.current._new.hash=Object(le.a)()),f((function(t){if(e.attributes=e.attributes||{},-1===Object.keys(t).indexOf(e.id)||!0===e.attributes.ignore||!1===e.attributes.ignore)return e.attributes.ignore=!1===e.attributes.ignore?null:e.attributes.ignore,e.attributes._created=Date.now(),Object(i.a)(Object(i.a)({},t),{},Object(a.a)({},e.id,e));var n=Object(i.a)({},t);return delete n[e.id],n}))},k=function(e,t){Array.isArray(O.current[e])?O.current[e].indexOf(t)>-1?O.current[e]=O.current[e].filter((function(e){return e!==t})):O.current[e].push(t):O.current[e]=t},x=function(e){if(!1!==h.current)return!1;S.current={},j.current._new.devices=[],j.current._added.devices=[],j.current._incorrect.devices=[],j.current._ignored.devices=[];var t=b.a.getDevices({raw:!0}),n={};e.forEach((function(e,a){var i=e.value||e.reason.device,r="_new";"fulfilled"===e.status?void 0!==t[i.id]?(r="_added",t[i.id].attributes&&!0===t[i.id].attributes.ignore&&(r="_ignored")):n[i.id]=i:(r="_incorrect",i.attributes.note=e.reason.error.message),j.current[r].devices.push(i),S.current[i.attributes.manufacturer.namespace]=S.current[i.attributes.manufacturer.namespace]||[],S.current[i.attributes.manufacturer.namespace].push(i.id)})),f(n),u("done")},C=Object.keys(ce.a).map((function(e){var t=Object(i.a)(Object(i.a)({},ce.a[e]),{},{namespace:e,devices:S.current[e]||[]});return c.a.createElement(Ee,{key:"AdapterItem-"+e,adapter:t,tick:O.current.adapters.indexOf(t)>-1,_setSearch:k})}));return c.a.createElement(y.a,{header:v.a.t("Devices Import"),actions:c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a.Button,{width:"auto",id:"action-cancel",onClick:function(){h.current=!0,e.onClose&&e.onClose()},label:"Cancel",variant:"text",color:"secondary"}),c.a.createElement(E.a.Button,{width:"auto",id:"action-read",onClick:function(){u("loading"),"all"===O.current.filter?b.a.importDevices(O.current.adapters).then(x).catch((function(e){p.a._("ImportDevicesPage","IMPORT_DEVICES: "+e.message,"error")})):b.a.importEnums("functions",O.current.adapters).then(x).catch((function(e){p.a._("ImportDevicesPage","IMPORT_ENUMS: "+e.message,"error")}))},label:"Read adapters",variant:"text",disabled:"loading"===s,loading:"loading"===s}),"done"===s&&c.a.createElement(E.a.Button,{width:"auto",id:"action-import",onClick:function(){return e.onImport&&e.onImport(g)},label:v.a.t("Import selected devices")+" ("+Object.values(g).filter((function(e){return!e.attributes||!0!==e.attributes.ignore})).length+")",disabled:0===Object.keys(g).length,variant:"text"})),dense:!0,maxWidth:"md",fullWidth:!0,open:!0,onClose:function(){return e.onClose()}},c.a.createElement(E.a.Fieldset,{label:"Adapters"},c.a.createElement(E.a.FieldsetItem,null,c.a.createElement(E.a.RadioGroup,{onChange:function(e,t){return k("filter",t)},label:"Search the adapter structure for all devices or only devices added to enums",inputs:[{label:"Search adapter structure for all devices",value:"all"},{label:"Search only for devices added to enums",value:"enums"}],required:!0,val:O.current.filter}),c.a.createElement(W.a,{classes:{root:t.fullWidth},dense:!0},C))),null!==s&&c.a.createElement(E.a.Fieldset,{label:"Devices"},c.a.createElement(E.a.FieldsetItem,null,"loading"===s&&c.a.createElement(ge.a,null),"done"===s&&Object.keys(j.current).map((function(e){return c.a.createElement(ye,Object.assign({key:"Category-"+e},Object(i.a)({id:e},j.current[e]),{_markDeviceToImport:w}))})))))}var he=c.a.memo((function(e){var t=ve(),n=e.category,a=e.device,r=e._markDeviceToImport,s=Object(l.useState)(!!("_new"===n.id||a.attributes&&void 0!==a.attributes.ignore)),u=Object(o.a)(s,2),d=u[0],g=u[1],f=function(){g((function(e){return!0!==e})),r&&r(a)};return c.a.createElement(M.a,{key:a.id,dense:!0,button:"_incorrect"!==n.id&&"_ignored"!==n.id,divider:!0,onClick:function(){return"_incorrect"!==n.id&&"_ignored"!==n.id&&f()}},c.a.createElement(G.a,null,c.a.createElement(E.a.Checkbox,{id:a.id,checked:d,disabled:"_incorrect"===n.id||"_ignored"===n.id,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a.id}})),c.a.createElement(H.a,{classes:{root:t.ListItem},disableTypography:!0},c.a.createElement(m.a,{className:t.heading},a.name),a.attributes&&a.attributes.manufacturer&&c.a.createElement(me.a,{color:"secondary",size:"small",label:a.attributes.manufacturer.name})),c.a.createElement(K.a,null,"_new"===n.id&&c.a.createElement(E.a.Button,{width:"auto",variant:"text",label:"ignore",onClick:function(e){e.stopPropagation(),a.attributes=Object(i.a)(Object(i.a)({},a.attributes),{},{ignore:!0}),f()}}),"_ignored"===n.id&&c.a.createElement(E.a.Button,{width:"auto",variant:"text",label:"move to new devices",onClick:function(e){e.stopPropagation(),a.attributes=Object(i.a)(Object(i.a)({},a.attributes),{},{ignore:!1}),f()}})))}),(function(e,t){return e.device.attributes.ignore===t.device.attributes.ignore})),ye=c.a.memo((function(e){var t=ve(),n=e.id,a=e.name,i=e.expanded,r=e.devices,o=e._markDeviceToImport,l=r.map((function(t){return c.a.createElement(he,{key:"Category-"+n+"-Device-"+t.id,category:e,device:t,_markDeviceToImport:o})}));return c.a.createElement(se.a,{classes:{root:t.fullWidth},key:n,defaultExpanded:!0===i},c.a.createElement(ue.a,{expandIcon:c.a.createElement(be.a,null)},c.a.createElement(m.a,{className:t.heading},a),c.a.createElement(me.a,{color:"primary",size:"small",label:r.length})),c.a.createElement(de.a,null,c.a.createElement(W.a,{classes:{root:t.fullWidth},dense:!0},l)))}),(function(e,t){return e.hash===t.hash})),Ee=c.a.memo((function(e){var t=e.adapter,n=e.tick,a=e._setSearch,i=t.default,r=Object(l.useState)(n||!0),s=Object(o.a)(r,2),u=s[0],d=s[1];return c.a.createElement(M.a,{key:t.namespace,dense:!0,button:!0,divider:!0,onClick:function(){return e=t.namespace,d((function(e){return!0!==e})),void(a&&a("adapters",e));var e}},c.a.createElement(G.a,null,c.a.createElement(E.a.Checkbox,{id:t.namespace,checked:u,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":i}})),c.a.createElement(H.a,{primary:i+" "+v.a.t("adapter")}),c.a.createElement(K.a,null,t.devices&&Array.isArray(t.devices)&&t.devices.length>0&&c.a.createElement(me.a,{color:"primary",size:"small",label:t.devices.length})))})),Oe=Object($.a)((function(e){return{deleteButton:{marginTop:"25px"},hr:{margin:"10px 2px"},CustomTextInput:{width:150},CustomDialogTitle:{padding:0,marginRight:"50px"},TableCell:{verticalAlign:"top",padding:"5px 0"},title:{flex:"1 1 100%"},paper:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),marginBottom:e.spacing(1),minHeight:"64px",display:"flex",position:"relative",alignItems:"center"},newlyCreatedDevice:{backgroundColor:"rgba(99, 233, 30, 0.08) !important"}}}));v.a.setTranslations((function(e){return n(2105)("./"+e)}));var Se=c.a.memo((function(e){p.a._("DevicesListPage","RENDER DevicesListPage","development");var t=Oe(),n=Object(l.useState)(null),u=Object(o.a)(n,2),d=u[0],g=u[1],f=Object(l.useState)(null),b=Object(o.a)(f,2),h=b[0],y=b[1],O=Object(l.useState)(e.devices),w=Object(o.a)(O,2),k=w[0],x=w[1],C=Object(l.useState)(null),D=Object(o.a)(C,2),_=D[0],T=D[1],L=Object(l.useRef)(Date.now());Object(l.useEffect)((function(){L.current=Date.now(),x(e.devices)}),[e.devices]),Object(l.useEffect)((function(){_&&(document.getElementById("DialogContent").scrollTop=document.getElementById("device-"+_.id)&&document.getElementById("device-"+_.id).offsetTop||0)}),[_]);var F=function(t){x(t),e._onDevicesChange&&e._onDevicesChange(t),L.current=Date.now(),g(null),y(null)},N=function(t){for(var n=Object(r.a)(e.layout),a=0,i=Object.keys(n);a<i.length;a++){var o,l=n[i[a]],c=Object(S.a)(l.tabs);try{for(c.s();!(o=c.n()).done;){var s=o.value;for(var u in s.columns=void 0!==s._fullscreen?[[s._fullscreen]]:s.columns,s.columns){var d,m=s.columns[u],g=Object(S.a)(m);try{for(g.s();!(d=g.n()).done;){var f=d.value;f.devices=f.devices.filter((function(e){return e.deviceId!==t}))}}catch(b){g.e(b)}finally{g.f()}}}}catch(b){c.e(b)}finally{c.f()}}e._onLayoutsChange(n)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{className:t.paper},c.a.createElement(m.a,{className:t.title,variant:"h6"},v.a.t("Devices List")+" ("+Object.keys(k).length+")"),c.a.createElement(E.a.Button,{key:"device-add",width:300,onClick:function(){return g("#new")},startIcon:c.a.createElement(I.a,null),disabled:null!==d||null!==h,label:"add device"}),c.a.createElement(E.a.Button,{key:"devices-import",width:300,onClick:function(){return y(!0)},startIcon:c.a.createElement(R.a,null),disabled:null!==d||null!==h,label:"import devices"})),c.a.createElement(s.a,null,c.a.createElement(je,{_selectDevice:function(e){return g(e.id)},hash:L.current,devices:k}),null!=d&&c.a.createElement(te,{device:"#new"===d?{id:Object(j.a)(),function:"other",states:{},options:{},attributes:{_created:Date.now()}}:k[d],onSave:function(e){T(e),F(Object(i.a)(Object(i.a)({},k),{},Object(a.a)({},e.id,e)))},onDelete:function(e){var t=Object(i.a)({},k);delete t[e],N(e),F(t)},onClose:function(){return g(null)}}),null!==h&&c.a.createElement(pe,{onImport:function(e){return F(Object(i.a)(Object(i.a)({},k),e))},onClose:function(){return y(null)}})))}),(function(e,t){return!0!==t.selected})),je=c.a.memo((function(e){p.a._("DevicesListPage","RENDER DeviceTable","development");var t=e.devices;return c.a.createElement(N.a,{toolbar:!1,headCells:[{id:"edit",width:"5%",disablePadding:!0,label:""},{id:"name",width:"15%",label:v.a.t("Name")},{id:"function",width:"10%",label:v.a.t("Function")},{id:"states",width:"50%",disablePadding:!1,label:v.a.t("States")},{id:"options",width:"20%",disablePadding:!1,label:v.a.t("Options")}],rows:Object.values(t),defaultOrderBy:"name",selectable:!1,sortable:!0,stickyHeader:!0,CustomTableBody:function(t){return c.a.createElement(we,Object.assign({},e,t))}})}),(function(e,t){return e.hash===t.hash})),we=function(e){p.a._("DevicesListPage","RENDER DeviceList","development");var t=Oe(),n=e.sortedRows,a=e._selectDevice;return c.a.createElement(k.a,null,n.map((function(e,n){var i=Object.keys(e.options||{}).filter((function(t){return!1===(""===e.options[t]||Array.isArray(e.options[t])&&0===e.options[t].length||"object"===typeof e.options[t]&&0===Object.keys(e.options[t]).length)})).sort().join(", ");return e.attributes&&!0===e.attributes.ignore?null:c.a.createElement(x.a,{key:"TableRow-"+n,id:"device-"+e.id,hover:!0,tabIndex:-1,selected:e.attributes&&e.attributes._created>Date.now()-864e5,classes:{selected:t.newlyCreatedDevice}},c.a.createElement(C.a,{padding:"checkbox",scope:"row",align:"center"},c.a.createElement(w.a,{onClick:function(){return a(e)}},c.a.createElement(L.a,null))),c.a.createElement(C.a,null,e.options&&e.options.label||e.name),c.a.createElement(C.a,null,e.function),c.a.createElement(C.a,null,Object.keys(e.states||{}).join(", ")),c.a.createElement(C.a,null,i.length>35?c.a.createElement(D.a,{title:i},c.a.createElement("span",null,i.substr(0,32)+"...")):i))})))},ke=n(116),xe={tabsHideLabels:{label:"config#Layout#tabsHideLabels#label",info:"config#Layout#tabsHideLabels#info",type:"Switch",val:!1},tabIcon:{label:"config#Layout#tabIcon#label",type:"Text"},tabTitle:{label:"config#Layout#tabTitle#label",type:"Text"},tabFullscreen:{label:"config#Layout#tabFullscreen#label",info:"config#Layout#tabFullscreen#info",type:"Switch",val:!1},widgetModule:{required:!0,label:"config#Layout#widgetModule#label",type:"Text",options:ke.ModuleList},widgetFullscreen:{label:"config#Layout#widgetFullscreen#label",info:"config#Layout#widgetFullscreen#info",type:"Switch"},widgetTitle:{required:!0,label:"config#Layout#widgetTitle#label",type:"Text"},widgetIcon:{label:"config#Layout#widgetIcon#label",type:"Text",placeholder:"home",info:"config#Layout#widgetIcon#info",link:"https://materialdesignicons.com/"},widgetIconStyle:{label:"config#Layout#widgetIconStyle#label",type:"Text",json:!0,placeholder:'{ "color": "#fff", "fontSize": "24px" }'}},Ce=n(2112),De=n.n(Ce),_e=n(2113),Ie=n.n(_e),Te=n(2114),Le=n.n(Te),Fe=n(2115),Re=n.n(Fe),Ne=n(2199),Be=n(2108),ze=n.n(Be),Pe=n(2110),Ae=n.n(Pe),We=n(2109),Me=n.n(We);function Ge(e){var t=e.width,n=e.height;return c.a.createElement("div",{style:{display:"inline-flex",width:t+"px",height:(n||1)+"px"}})}var He=Object($.a)((function(e){return{iconContainer:{display:"flex",flexDirection:"column",alignItems:"center"},iconCentered:{verticalAlign:"middle",marginRight:e.spacing(2)},noPadding:{padding:0},alignRight:{display:"flex",justifyContent:"flex-end","& > :not(:first-child)":{marginLeft:8}},height:{lineHeight:"45px"},title:{lineHeight:"25px"},Badge:{right:"unset",transform:"none"}}})),Ke=c.a.memo((function(e){var t=He(),n=Object(l.useState)({}),s=Object(o.a)(n,2),u=s[0],d=s[1],m=Object(l.useRef)(Object(i.a)({moduleConfig:{}},e.widget));if(null===e.widget)return null;var g=Object(l.useCallback)((function(e,t,n){e.error&&e.error!==u[e.id]?d((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(a.a)({},e.id,e.error))})):!e.error&&u[e.id]&&d((function(t){var n=Object(i.a)({},t);return delete n[e.id],n})),void 0!==n?e.id.indexOf("componentConfig.")>-1?(m.current.devices[n].componentConfig=m.current.devices[n].componentConfig||{},m.current.devices[n].componentConfig[e.id.replace("componentConfig.","")]=t):m.current.devices[n][e.id]=t:e.id.indexOf("moduleConfig.")>-1?m.current.moduleConfig[e.id.replace("moduleConfig.","")]=t:m.current[e.id]=t}),[u]),f=Object(l.useCallback)((function(e,t){g({error:!t,id:e},t||"")}),[g]);return Object(l.useEffect)((function(){return f("title",e.widget.title)}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(y.a,{header:v.a.t("Widget configuration"),actions:c.a.createElement(A.a,{container:!0},c.a.createElement(A.a,{item:!0,xs:6},void 0!==e.widget.index&&c.a.createElement(E.a.Button,{key:"action-delete",variant:"text",onClick:function(){return e.onDelete(e.widget.index)},color:"secondary",startIcon:c.a.createElement(X.a,null),label:"Delete Widget"}),"\xa0"),c.a.createElement(A.a,{item:!0,xs:6,className:t.alignRight},c.a.createElement(E.a.Button,{key:"action-cancel",variant:"text",onClick:function(){return e.onClose()},color:"secondary",label:"Cancel"}),c.a.createElement(E.a.Button,{key:"action-save",variant:"text",onClick:function(t){var n={};if([].concat([{parameter:"title",required:!0},{parameter:"module",required:!0}],Object(r.a)(ke.ModuleConfigurations[e.widget.module]||[])).forEach((function(e){!0!==e.required||m.current[e.parameter]||m.current.moduleConfig[e.parameter]||(n[e.parameter]=!0)})),Object.values(n).indexOf(!0)>-1)return d((function(e){return Object(i.a)(Object(i.a)({},e),n)})),!1;e.onSave(m.current)},color:"primary",disabled:Object.keys(u).length>0,label:"Apply"}))),dense:!0,maxWidth:"lg",fullWidth:!0,open:!0,onClose:function(){return e.onClose()}},c.a.createElement(Je,Object.assign({},e,{_onChange:g,_validate:f,editor:m.current,errors:u})),c.a.createElement(Ue,Object.assign({},e,{_onChange:g,editor:m.current,errors:u}))))})),Je=c.a.memo((function(e){p.a._("WidgetPage","RENDER SectionWidget","development");var t=e._onChange,n=e._validate,a=e.editor,i=e.widget,r=Object(l.useState)(void 0!==e.widget.fullscreen&&i.fullscreen),s=Object(o.a)(r,2),u=s[0],d=s[1];return c.a.createElement(E.a.Fieldset,{label:"Widget-Box"},c.a.createElement(E.a.FieldsetItem,{columns:12},c.a.createElement(E.a.Switch,Object.assign({key:"fullscreen",id:"fullscreen"},xe.widgetFullscreen,{onChange:function(e,i){t(e,i);var r="("+v.a.t("fullscreen")+")";a.title||!0!==i?a.title===r&&!1===i&&n("title",""):t({id:"title"},r),d(i)},val:u}))),!0!==u&&c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a.FieldsetItem,{columns:4},c.a.createElement(E.a.Text,Object.assign({key:"title",id:"title"},xe.widgetTitle,{autoFocus:!0,onChange:t,val:a.title||""}))),c.a.createElement(E.a.FieldsetItem,{columns:4},c.a.createElement(E.a.Text,Object.assign({key:"icon",id:"icon"},xe.widgetIcon,{onChange:t,val:a.icon||""}))),c.a.createElement(E.a.FieldsetItem,{columns:4},c.a.createElement(E.a.Text,Object.assign({key:"iconStyle",id:"iconStyle"},xe.widgetIconStyle,{onChange:t,val:a.iconStyle?JSON.stringify(a.iconStyle):""})))))})),Ue=c.a.memo((function(e){p.a._("WidgetPage","RENDER SectionModule","development");var t=e._onChange,n=Object(l.useState)(e.widget.module||g.a.get("DEFAULT_MODULE")),a=Object(o.a)(n,2),i=a[0],r=a[1];return c.a.createElement(E.a.Fieldset,{label:"Module"},c.a.createElement(E.a.FieldsetItem,null,c.a.createElement(E.a.Text,Object.assign({key:"module",id:"module"},xe.widgetModule,{autoComplete:!0,autoHighlight:!0,val:i,onChange:function(e,n){t(e,n),r(n)}}))),c.a.createElement(qe,Object.assign({},e,{moduleConfigurations:i&&ke.ModuleConfigurations[i]||[]})),c.a.createElement(Ve,Object.assign({},e,{moduleSettings:i&&ke.ModuleSettings[i]||{}})))})),qe=c.a.memo((function(e){p.a._("WidgetPage","RENDER ModuleConfig","development");var t=e._onChange,n=e.moduleConfigurations,a=e.errors,i=e.editor,r=n.map((function(e){a["moduleConfig."+e.parameter]||!0!==e.required||i.moduleConfig[e.parameter]||e.val||t({error:!0,id:"moduleConfig."+e.parameter},i.moduleConfig[e.parameter]||e.val||"");var n=E.a[e.type||"Text"];return c.a.createElement(E.a.FieldsetItem,{columns:4,key:"FieldsetItem-"+e.parameter},c.a.createElement(n,Object.assign({},e,{key:"moduleConfig-"+e.parameter,id:"moduleConfig."+e.parameter,label:e.label||e.parameter,info:e.description,onChange:t,val:void 0!==i.moduleConfig[e.parameter]?i.moduleConfig[e.parameter]:e.val})))}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a.FieldsetItem,{noPadding:!0},c.a.createElement(E.a.FieldsetLegend,{label:"Module Configuration",variant:"h4",divider:!1})),n.length>0?r:c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a.FieldsetItem,{noPadding:!0},c.a.createElement(m.a,null,v.a.t("No configuration available for this module"),"."))))})),Ve=c.a.memo((function(e){p.a._("WidgetPage","RENDER SectionDevices","development");var t=He(),n=e._onChange,a=e.moduleSettings,s=Object(l.useState)(e.widget.devices||[]),u=Object(o.a)(s,2),d=u[0],m=u[1],g=Object(l.useState)(""),f=Object(o.a)(g,2),b=f[0],h=f[1];if(Object(l.useEffect)((function(){n({id:"devices"},d)}),[n,d]),!a.devices)return null;var y=function(e,t){var n={type:e};"device"===e?n.deviceId=t.id:"group"===e&&(n.name=t),h(""),m((function(e){return[].concat(Object(r.a)(e),[n])}))},S=function(e,t,a){return n(t,a,e)},j=function(e,t){m((function(n){return Object(O.d)(Object(r.a)(n),t,e)}))},w=function(e){m((function(t){var n=Object(r.a)(t);return n.splice(e,1),n}))},k=Object(O.g)(Object.values(e.devices),"function"),x=d.map((function(e){return e.deviceId})),C=d.map((function(t,n){return c.a.createElement(Ze,Object.assign({},e,{key:t.type+"- "+(t.deviceId||t.name)+"-"+n,_addItem:y,_editItem:S,_moveItem:j,_deleteItem:w,device:e.devices[t.deviceId]||null,options:Object(i.a)(Object(i.a)({},t),{},{index:n}),devices:d}))}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a.FieldsetItem,{noPadding:!0},c.a.createElement(E.a.FieldsetLegend,{label:"Assigned Devices",variant:"h4",divider:!1})),c.a.createElement(E.a.Fieldset,{noPadding:!0},c.a.createElement(E.a.Fieldset,{noPadding:!0,style:{position:"sticky",backgroundColor:"#fafafa",top:-16,zIndex:1}},c.a.createElement(E.a.FieldsetItem,{columns:3},c.a.createElement(E.a.Text,{width:"90%",key:"addDevice",id:"addDevice",label:"Add device",error:""!==b,errorMessage:b,autoComplete:!0,autoHighlight:!0,disableCloseOnSelect:!0,clearOnSelect:!0,clearOnBlur:!0,options:k,getOptionLabel:function(e){return v.a.t(e.function)+" "+e.name+(e.attributes&&e.attributes.manufacturer?" ("+e.attributes.manufacturer.name+")":"")},renderOption:function(e,n){var a=x.indexOf(e.id)>-1?x.filter((function(t){return t===e.id})).length:0;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ne.a,{badgeContent:a,classes:{badge:t.Badge},color:"primary"},c.a.createElement("span",{style:{fontSize:"0.8rem",paddingLeft:"24px"}},a>0?c.a.createElement("strong",null,e.name):e.name)))},onChange:function(e,t){if(t){var n=Object.keys(t.states||{});a.devicesStates&&a.devicesStates.requiredStates&&Array.isArray(a.devicesStates.requiredStates)&&a.devicesStates.requiredStates.some((function(e){return-1===n.indexOf(e)}))?h(v.a.t("Device needs one of the following states")+": "+a.devicesStates.requiredStates.join(", ")):y("device",t)}},groupBy:function(e){return v.a.t(e.function)},closeIcon:null,popupIcon:null})),Array.isArray(a.devices)&&a.devices.indexOf("group")>-1&&c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a.FieldsetItem,{columns:1,centered:!0},c.a.createElement("em",null,v.a.t("or"))),c.a.createElement(E.a.FieldsetItem,{columns:3},c.a.createElement(E.a.Text,{width:"90%",key:"addGroup",id:"addGroup",label:"Add group",onEnter:function(e,t){return t&&y("group",t)},clearOnEnter:!0,clearOnBlur:!0}))),Array.isArray(a.devices)&&a.devices.indexOf("divider")>-1&&c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a.FieldsetItem,{columns:1,centered:!0},c.a.createElement("em",null,v.a.t("or"))),c.a.createElement(E.a.FieldsetItem,{columns:3},c.a.createElement(E.a.Button,{key:"addDivider",id:"addDivider",label:"Add divider",onClick:function(){return y("divider")}})))),c.a.createElement(E.a.FieldsetItem,null,c.a.createElement(W.a,{classes:{root:t.fullWidth},dense:!0,disablePadding:!0},C))))})),Ze=c.a.memo((function(e){p.a._("WidgetPage","RENDER Device","development");var t=He(),n=e._editItem,i=e._moveItem,s=e._deleteItem,u=e.devices,d=e.device,m=e.options,g=e.moduleSettings,f=Object(l.useState)(null),b=Object(o.a)(f,2),h=b[0],y=b[1],O=m.deviceId,S=c.a.createElement(ze.a,{classes:{root:t.iconCentered}}),j=null;if("device"===m.type&&null!==d){if(O=c.a.createElement("span",{className:t.title},d.name+" ("+v.a.t(d.function)+", #"+d.id+")"),!g.DeviceActionsConfiguration){var k=Object.keys(d.states||{}).map((function(e){return Object(a.a)({},e,d.states[e].label||e)}));j=(!g.devicesStates||g.devicesStates&&!1!==g.devicesStates.selectable)&&c.a.createElement(A.a,{container:!0,spacing:1},c.a.createElement(A.a,{item:!0,xs:6},(!g.devicesStates||!g.devicesStates.selectable||g.devicesStates.selectable&&g.devicesStates.selectable.indexOf("primaryStateKey")>-1)&&c.a.createElement(E.a.Select,{id:"primaryStateKey",width:150,label:"Primary State Key",selection:k,val:void 0!==m.primaryStateKey?m.primaryStateKey:d.primaryStateKey,onChange:function(e,t){return n(m.index,e,t)},disabled:g.devicesStates&&g.devicesStates.disabled&&g.devicesStates.disabled.indexOf("primaryStateKey")>-1})),c.a.createElement(A.a,{item:!0,xs:6},!g.devicesStates||!g.devicesStates.selectable||g.devicesStates.selectable&&g.devicesStates.selectable.indexOf("secondaryStateKey")>-1?c.a.createElement(E.a.Select,{id:"secondaryStateKey",width:150,label:"Secondary State Key",selection:[{"":v.a.t("none")}].concat(Object(r.a)(k)),val:void 0!==m.secondaryStateKey?m.secondaryStateKey:d.secondaryStateKey,onChange:function(e,t){return n(m.index,e,t)},disabled:g.devicesStates&&g.devicesStates.disabled&&g.devicesStates.disabled.indexOf("secondaryStateKey")>-1}):c.a.createElement(Ge,{width:150})),g.devicesStates&&!0===g.devicesStates.lastUpdateOption&&c.a.createElement(A.a,{item:!0,xs:12},c.a.createElement(E.a.Switch,{id:"lastUpdate",label:"Display Last Update",val:void 0===m.lastUpdate||m.lastUpdate,onChange:function(e,t){return n(m.index,e,t)}})))}}else"group"===m.type?(S=c.a.createElement(Me.a,{classes:{root:t.iconCentered}}),O=c.a.createElement("span",{className:t.title},m.name)):"divider"===m.type&&(S=c.a.createElement(Ae.a,{classes:{root:t.iconCentered}}),O=c.a.createElement("em",{className:t.title},"("+v.a.t("divider")+")"));var x={device:d||{},options:u[m.index]||m,onChange:function(e,t){return n(m.index,e,t)},onConfig:function(e,t){return y(t)},elements:{Icon:S,Device:O,Actions:j}};return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ye,{_onChange:function(e,t){return n(m.index,e,t)},config:h}),c.a.createElement(M.a,{key:"Device-"+(m.deviceId||m.type)+"-"+m.index,divider:!0,classes:{container:t.height}},c.a.createElement(A.a,{container:!0,item:!0,xs:1},c.a.createElement("div",{className:t.iconContainer},c.a.createElement(w.a,{size:"small",onClick:function(){return i("up",m.index)}},c.a.createElement(V.a,null)),c.a.createElement(w.a,{size:"small",onClick:function(){return i("down",m.index)}},c.a.createElement(Y.a,null))),c.a.createElement(w.a,{size:"small",onClick:function(){return s(m.index)},style:{height:"30px",margin:"auto 0 auto 8px"}},c.a.createElement(X.a,null))),c.a.createElement(A.a,{item:!0,xs:6},g.DeviceBodyConfiguration?c.a.createElement(g.DeviceBodyConfiguration,x):c.a.createElement(c.a.Fragment,null,S," ",O)),c.a.createElement(A.a,{item:!0,xs:5},g.DeviceActionsConfiguration?c.a.createElement(g.DeviceActionsConfiguration,x):j)))})),Ye=c.a.memo((function(e){p.a._("WidgetPage","RENDER ComponentConfig","development");var t=e._onChange,n=e.config,a=Object(l.useState)(!1),i=Object(o.a)(a,2),r=i[0],s=i[1];if(Object(l.useEffect)((function(){s(null!==n)}),[n]),null===n)return null;var u=Object.keys(n).map((function(e){var a=n[e];return c.a.createElement(M.a,{key:"Config-"+e,divider:!0},c.a.createElement(H.a,{primary:a.label||e}),c.a.createElement(K.a,null,c.a.createElement(E.a.Text,{key:"componentConfig."+e,id:"componentConfig."+e,width:100,inputProps:{style:{textAlign:"right"}},onChange:function(e,n){return t(e,n)},val:a.value||a})))}));return c.a.createElement(y.a,{header:v.a.t("Component configuration"),actions:c.a.createElement(E.a.Button,{key:"action-save",variant:"text",onClick:function(){return s(!1)},color:"primary",label:"Apply"}),dense:!0,maxWidth:"xs",fullWidth:!0,open:r,onClose:function(){return s(!1)}},c.a.createElement(W.a,{dense:!0,disablePadding:!0},u))})),Qe=Object($.a)((function(e){return{deleteButton:{marginTop:"20px"},tabs:{marginBottom:"10px"},tab:{padding:e.spacing(3,2)},iconContainer:{flexDirection:"column",alignItems:"center"},columnContainer:{marginTop:e.spacing(2)},column:{width:250,margin:e.spacing(1,1),borderRight:"1px solid rgba(0, 0, 0, 0.12)",borderLeft:"1px solid rgba(0, 0, 0, 0.12)"},DialogActions:{justifyContent:"initial"},alignRight:{display:"flex",justifyContent:"flex-end","& > :not(:first-child)":{marginLeft:8}}}}));v.a.setTranslations((function(e){return n(2111)("./"+e)}));var Xe=c.a.memo((function(e){p.a._("LayoutsPage","RENDER LayoutsPage","development");var t=Object(l.useRef)(Array.isArray(e.layout)&&e.layout.length>0&&e.layout||[{title:"",tabs:[]}]),n=function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n(t.current),a&&a(),console.log(t.current),e._onLayoutsChange(t.current)},a=t.current.map((function(a,r){return a?(a.id=a.title.toLowerCase().replace(/ /g,"")+r,c.a.createElement($e,Object.assign({},e,{key:"Drawer-"+a.id,_setLayout:n,layout:t.current,drawer:Object(i.a)(Object(i.a)({},a),{},{index:r,id:a.id})}))):null}));return c.a.createElement(s.a,null,a)}),(function(e,t){return!0!==t.selected})),$e=c.a.memo((function(e){p.a._("LayoutsPage","RENDER Drawer "+e.drawer.id,"development");var t=Qe(),n=e._setLayout,s=Object(l.useState)(e.drawer||{}),u=Object(o.a)(s,2),d=u[0],m=u[1],g=Object(l.useRef)(!0);Object(l.useEffect)((function(){!1===g.current&&n((function(e){var t=Object(r.a)(e||[]);return t[d.index]=d,t})),g.current=!1;var e=document.getElementById("Drawer-"+d.id+"-Tab-"+v.a.t("add tab").toLowerCase().replace(/ /g,"")+(d.tabs.length-1));e&&(document.getElementById("DialogContent").scrollTop=e.offsetTop)}),[n,d]);var f=function(e){m((function(t){var n=Object(i.a)({},t);return n.tabs.splice(e,1),n}))},b=function(e,t){return function(n){n.stopPropagation(),m((function(n){var a=Object(i.a)({},n);return a.tabs=Object(O.d)(Object(r.a)(a.tabs||[]),t,e),a}))}},h=d.tabs.map((function(t,n){return t?(t.id=Object(j.a)(),c.a.createElement(et,Object.assign({},e,{key:"Tab-"+t.id,tab:Object(i.a)(Object(i.a)({},t),{},{index:n,id:t.title.toLowerCase().replace(/ /g,"")+n}),_moveTab:b,_deleteTab:f}))):null}));return c.a.createElement(W.a,{className:t.tabs,key:"Drawer-"+d.id,id:"Drawer-"+d.id},c.a.createElement(M.a,{divider:!0,classes:{root:t.tab}},c.a.createElement(G.a,{classes:{root:t.iconContainer}},c.a.createElement(De.a,null)),c.a.createElement(H.a,{disableTypography:!0,primary:[c.a.createElement(E.a.Button,{key:"Input-addTabs",id:"Input-addTabs",label:"add tab",onClick:function(){m((function(e){var t=Object(i.a)({},e);return t.tabs.push({title:v.a.t("add tab"),icon:"home",columns:[[]]}),t}))}}),c.a.createElement(E.a.Switch,Object.assign({key:"Input-tabsHideLabels",id:"tabsHideLabels"},xe.tabsHideLabels,{onChange:function(t,n){var i=t.id;return e.onChange(null,Object(a.a)({},i,n))},val:e.settings.tabsHideLabels}))]})),h)})),et=c.a.memo((function(e){p.a._("LayoutsPage","RENDER Tab "+e.tab.id,"development");var t=Qe(),n=e._setLayout,s=e.drawer,u=Object(l.useState)(e.tab||{}),d=Object(o.a)(u,2),m=d[0],g=d[1],f=Object(l.useRef)(!0);Object(l.useEffect)((function(){!1===f.current&&n((function(e){var t=Object(r.a)(e||[]);return t[s.index].tabs[m.index]=m,t})),f.current=!1}),[n,s.index,m]);var b=function(e,t){return function(e,t){var n=e.id;"icon"!==(n=n.substr(0,n.indexOf("-")))&&"title"!==n||m[n]===t?"fullscreen"===n&&g((function(e){var t=Object(i.a)({},e);return void 0!==t._fullscreen?(t.columns=[[t._fullscreen]],delete t._fullscreen):(t._fullscreen=t.columns&&t.columns[0]&&t.columns[0][0]||null,delete t.columns),t})):g((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(a.a)({},n,t))}))}},v=function(e){g((function(t){var n=Object(i.a)({},t||{});return n.columns.splice(e,1),n}))},h=function(e,t){g((function(n){var a=Object(i.a)({},n||{});return a.columns=Object(O.d)(Object(r.a)(a.columns||[]),t,e),a}))},y=1,S=m.columns&&m.columns[1]&&m.columns[1].length||0,k=[];if(void 0!==m._fullscreen){var x={id:Object(j.a)(),index:"fullscreen",widgets:m._fullscreen?[m._fullscreen]:[]};k.push(c.a.createElement(tt,Object.assign({},e,{key:"Column-"+x.id,column:x,tab:m})))}else y=m.columns.length,k=m.columns.map((function(t,n){var a={id:Object(j.a)(),index:n,widgets:t};return c.a.createElement(tt,Object.assign({},e,{key:"Column-"+a.id,_moveColumn:h,_deleteColumn:v,column:a,tab:m}))}));return c.a.createElement(M.a,{id:"Drawer-"+s.id+"-Tab-"+m.id,divider:m.index!==e.layout[s.index].tabs.length-1,classes:{root:t.tab}},c.a.createElement(G.a,{classes:{root:t.iconContainer}},c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,{size:"small",onClick:e._moveTab("up",m.index)},c.a.createElement(V.a,null)),c.a.createElement(w.a,{size:"small",onClick:e._moveTab("down",m.index)},c.a.createElement(Y.a,null)),c.a.createElement(w.a,{size:"small",onClick:function(){return e._deleteTab(m.index)},classes:{root:t.deleteButton}},c.a.createElement(X.a,null)))),c.a.createElement(H.a,{disableTypography:!0,primary:[c.a.createElement(E.a.Text,Object.assign({key:"Input-tabIcon-"+m.id,id:"icon-"+m.index},xe.tabIcon,{onBlur:b(s.index,m.index),val:m.icon||"",icon:m.icon?m.icon.replace("mdi-",""):""})),c.a.createElement(E.a.Text,Object.assign({key:"Input-tabTitle-"+m.id,id:"title-"+m.index},xe.tabTitle,{onBlur:b(s.index,m.index),val:m.title||""})),c.a.createElement(E.a.Button,{key:"Input-tabAddColumn-"+m.id,id:"tabAddColumn-"+m.index,label:"add column",disabled:void 0!==m._fullscreen,onClick:function(){g((function(e){var t=Object(i.a)({},e||{});return t.columns.push([]),t}))}}),c.a.createElement(E.a.Switch,Object.assign({key:"Input-tabFullscreen-"+m.id,id:"fullscreen-"+m.index},xe.tabFullscreen,{disabled:y>1||S>1,onChange:b(s.index,m.index),val:void 0!==m._fullscreen})),c.a.createElement(A.a,{key:"Tab-"+m.id+"-ColumnContainer",classes:{root:t.columnContainer},container:!0},k)]}))})),tt=c.a.memo((function(e){p.a._("LayoutsPage","RENDER Column "+e.column.index,"development");var t=Qe(),n=e._setLayout,a=e.drawer,s=e.tab,u=Object(l.useState)(e.column),d=Object(o.a)(u,2),m=d[0],f=d[1],b=Object(l.useState)(null),h=Object(o.a)(b,2),y=h[0],E=h[1],S=Object(l.useRef)(!0);Object(l.useEffect)((function(){!1===S.current&&n((function(e){var t=Object(r.a)(e||[]);return"fullscreen"===m.index?(t[a.index].tabs[s.index]._fullscreen=m.widgets[0],delete t[a.index].tabs[s.index].columns):t[a.index].tabs[s.index].columns[m.index]=m.widgets,t})),S.current=!1}),[n,a.index,s.index,m]);var k,x=function(e){return E(e)},C=function(e,t){return function(n){n.stopPropagation(),f((function(n){var a=Object(i.a)({},n||{});return a.widgets=Object(O.d)(Object(r.a)(a.widgets||[]),t,e),a}))}};return k=m.widgets.map((function(t,n){return null!==t?(t.id=Object(j.a)(),t.index=n,t.module=t.module||g.a.get("DEFAULT_MODULE"),c.a.createElement(nt,Object.assign({},e,{key:"Widget-"+t.id,widget:t,_moveWidget:C,_openWidget:x}))):null})),c.a.createElement(c.a.Fragment,null,null!==y&&c.a.createElement(Ke,{devices:e.devices,widget:y,onSave:function(e){var t=e.index;delete e.index,E(null),f((function(n){var a=Object(i.a)({},n||{});return"fullscreen"===m.index?a.widgets[0]=e:t>=0?a.widgets[t]=e:a.widgets.push(e),a}))},onDelete:function(e){E(null),f((function(t){var n=Object(i.a)({},t||{});return n.widgets.splice(e,1),n}))},onClose:function(){return E(null)}}),c.a.createElement(A.a,{className:t.column,item:!0},c.a.createElement(W.a,null,void 0===s._fullscreen&&c.a.createElement(c.a.Fragment,null,c.a.createElement(M.a,{divider:!0,dense:!0},c.a.createElement(G.a,{classes:{root:t.iconContainer}},c.a.createElement(w.a,{size:"small",onClick:function(){return e._moveColumn("up",m.index)}},c.a.createElement(Ie.a,null))),c.a.createElement(H.a,{primary:v.a.t("move column")}),c.a.createElement(K.a,null,c.a.createElement(w.a,{size:"small",onClick:function(){return e._moveColumn("down",m.index)}},c.a.createElement(Le.a,null)))),c.a.createElement(M.a,{onClick:function(){return e._deleteColumn(m.index)},button:!0,divider:!0,dense:!0},c.a.createElement(G.a,{classes:{root:t.iconContainer}},c.a.createElement(w.a,{size:"small"},c.a.createElement(X.a,null))),c.a.createElement(H.a,{primary:v.a.t("delete column")}))),(void 0===s._fullscreen||void 0!==s._fullscreen&&m.widgets.length<1)&&c.a.createElement(M.a,{onClick:function(){return x({module:g.a.get("DEFAULT_MODULE")})},button:!0,divider:!0,dense:!0},c.a.createElement(G.a,{classes:{root:t.iconContainer}},c.a.createElement(w.a,{size:"small"},c.a.createElement(I.a,null))),c.a.createElement(H.a,{primary:v.a.t("add widget")})),k)))})),nt=c.a.memo((function(e){p.a._("LayoutsPage","RENDER Widget "+e.widget.index,"development");var t=Qe(),n=e.widget;return c.a.createElement(M.a,{onClick:function(){return e._openWidget(n)},button:!0,divider:!0},e.tab._fullscreen?c.a.createElement(G.a,{classes:{root:t.iconContainer}},c.a.createElement(Re.a,null)):c.a.createElement(G.a,{classes:{root:t.iconContainer}},c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,{size:"small",onClick:e._moveWidget("up",n.index)},c.a.createElement(V.a,null)),c.a.createElement(w.a,{size:"small",onClick:e._moveWidget("down",n.index)},c.a.createElement(Y.a,null)))),c.a.createElement(H.a,{primary:c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{display:"block"},n.title),c.a.createElement(m.a,{variant:"subtitle2"},"(",n.module,")"))}))}),(function(e,t){return e.widget.index===t.widget.index&&e.widget.title===t.widget.title&&e.widget.module===t.widget.module})),at=n(1521),it=Object($.a)((function(e){return{heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}}));v.a.setTranslations((function(e){return n(2116)("./"+e)}));var rt=c.a.memo((function(e){return p.a._("SettingsPage","RENDER SettingsPage","development"),Object.keys(at.default).map((function(t){return c.a.createElement(ot,Object.assign({key:"Panel-"+t,panel:Object(i.a)({key:t},at.default[t])},e))}))}),(function(e,t){return!0!==t.selected})),ot=c.a.memo((function(e){p.a._("SettingsPage","RENDER Panel","development");var t=e.panel,n=e._onSettingsChange,a=it(),i=h.a.getSettings(),r=Object(l.useState)(!1),s=Object(o.a)(r,2),u=s[0],d=s[1],g=function(e,t){h.a.setSetting(e.id,t),n&&n(h.a.getSettings())},f=Object.keys(t.settings).map((function(n){var a=t.settings[n],r=E.a[a.type||"Text"];return c.a.createElement(A.a,{item:!0,key:"Input-"+t.key+"-"+n},c.a.createElement(r,Object.assign({},a,{id:n,onChange:g,val:void 0!==e.settings[n]?e.settings[n]:void 0!==i[n]?i[n]:a.val})))}));return c.a.createElement(se.a,{key:"Accordion-"+t.key,expanded:u,onChange:function(e,t){return d(t)}},c.a.createElement(ue.a,{expandIcon:c.a.createElement(be.a,null),id:"panel-header-"+t.key},c.a.createElement(m.a,{className:a.heading},v.a.t(t.label)),t.description&&c.a.createElement(m.a,{className:a.secondaryHeading},v.a.t(t.description))),c.a.createElement(de.a,null,c.a.createElement(A.a,{container:!0,spacing:2},f)))})),lt=Object($.a)((function(e){return{paper:{marginBottom:"10px"},pinToTop:{position:"absolute",top:0,left:0},title:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),marginBottom:e.spacing(1),minHeight:"64px",display:"flex",position:"relative",alignItems:"center"},rawEditor:{fontFamily:"Roboto Mono,Consolas,Courier New,monospace !important"}}}));v.a.setTranslations((function(e){return n(2117)("./"+e)}));var ct=c.a.memo((function(e){p.a._("ConfigurationPage","RENDER ConfigurationPage","development");var t=Object(l.useRef)(b.a.getDevices({raw:!0,copy:!0})),n=Object(l.useRef)(h.a.getSettings(["iobroker"])),O=Object(l.useRef)(h.a.getLayout()),S=Object(l.useState)({}),j=Object(o.a)(S,2),w=j[0],k=j[1],x=Object(l.useState)(!1),C=Object(o.a)(x,2),D=C[0],_=C[1],I=Object(l.useState)("devices"),T=Object(o.a)(I,2),L=T[0],F=T[1],R=Object(l.useState)(!1),N=Object(o.a)(R,2),B=N[0],z=N[1],P=function(e){return t.current=e},A=function(e){return n.current=e},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};O.current=[].concat(Object(r.a)(O.current),Object(r.a)(e)),n.current=Object(i.a)(Object(i.a)({},n.current),t)},M=function(e,t){try{k((function(t){var n=Object(i.a)({},t);return delete n[e.id],n})),t=JSON.parse(t),"devices"===e.type?P(t):"layout"===e.type?W(t):"settings"===e.type&&A(t)}catch(n){k((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(a.a)({},e.id,v.a.t("Invalid JSON format")))}))}},G=function(){return e.navigate("home")},H=lt();return c.a.createElement(y.a,{classes:{CustomDialog:H.pinToTop},fullWidth:!0,maxWidth:!1,open:"configuration"===e.page,onClose:G,header:[c.a.createElement(m.a,{key:"header",variant:"h6"},v.a.t("Configuration"),c.a.createElement(E.a.SwitchInline,{key:"Input-expertMode",id:"expertMode",size:"small",label:"Expert mode",onChange:function(e,t){_(t),F((function(e){return t?e+"Raw":e.substr(0,e.length-3)}))},val:D})),c.a.createElement(u.a,{key:"tabs",value:L,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return F(t)}},!0===D&&c.a.createElement(d.a,{value:"devicesRaw",label:v.a.t("Devices")}),!0===D&&c.a.createElement(d.a,{value:"layoutRaw",label:v.a.t("Layout")}),!0===D&&c.a.createElement(d.a,{value:"settingsRaw",label:v.a.t("Settings")}),!0!==D&&c.a.createElement(d.a,{value:"devices",label:v.a.t("Devices")}),!0!==D&&c.a.createElement(d.a,{value:"layout",label:v.a.t("Layout")}),!0!==D&&c.a.createElement(d.a,{value:"settings",label:v.a.t("Settings")}))],actions:[c.a.createElement(E.a.Button,{key:"action-cancel",variant:"text",onClick:G,color:"secondary",label:"Cancel"}),c.a.createElement(E.a.Button,{key:"action-save",width:"auto",variant:"contained",onClick:function(){z(!0);var e=f.a.getConnection,a=[e.setState(g.a.get("NODE_SETTINGS"),JSON.stringify(n.current)),e.setState(g.a.get("NODE_LAYOUT"),JSON.stringify(O.current)),e.setState(g.a.get("NODE_DEVICES"),JSON.stringify(t.current))];Promise.all(a).then((function(){return window.location.reload()})).catch((function(e){return console.error(e)}))},color:"primary",startIcon:null,disabled:!0===B||Object.keys(w).length>0,label:"Save"})]},c.a.createElement("div",{hidden:"devices"!==L,style:{width:"100%"}},"devices"===L&&c.a.createElement(Se,{selected:"devices"===L,_onLayoutsChange:W,_onDevicesChange:P,layout:O,devices:t.current})),c.a.createElement(st,{expertMode:D,tab:L,errors:w,type:"devices",onRawChange:M,val:t.current}),c.a.createElement("div",{hidden:"layout"!==L,style:{width:"100%"}},c.a.createElement(s.a,null,c.a.createElement(m.a,{className:H.title,variant:"h6"},v.a.t("Layout"))),"layout"===L&&c.a.createElement(Xe,{selected:"layout"===L,_onLayoutsChange:W,layout:O.current,devices:t.current,settings:n.current})),c.a.createElement(st,{expertMode:D,tab:L,errors:w,type:"layout",onRawChange:M,val:O.current}),c.a.createElement("div",{hidden:"settings"!==L,style:{width:"100%"}},c.a.createElement(s.a,{className:H.title},c.a.createElement(m.a,{variant:"h6"},v.a.t("Settings"))),"settings"===L&&c.a.createElement(rt,{selected:"settings"===L,_onSettingsChange:A,settings:n.current})),c.a.createElement(st,{expertMode:D,tab:L,errors:w,type:"settings",onRawChange:M,val:n.current}))})),st=c.a.memo((function(e){var t=lt(),n=e.expertMode,a=e.tab,r=e.errors,u=e.type,d=e.onRawChange,g=e.val,f=Object(l.useState)(200),b=Object(o.a)(f,2),p=b[0],h=b[1];return Object(l.useEffect)((function(){var e=document.getElementById(a)||{scrollHeight:200};h(e.scrollHeight)}),[a]),!0!==n?null:c.a.createElement("div",{hidden:a!==u+"Raw",style:{width:"100%"}},c.a.createElement(s.a,{className:t.paper},c.a.createElement(m.a,{className:t.title,variant:"h6"},v.a.t("JSON Editor")+" "+v.a.t(Object(O.b)(u))),c.a.createElement(E.a.Text,{inputId:u+"Raw",label:["JSON Editor",void 0!==r[u+"Raw"]?" ("+r[u+"Raw"]+")":""],InputProps:{disableUnderline:!0,className:t.rawEditor},inputProps:{style:{height:p}},multiline:!0,width:"99%",error:void 0!==r[u+"Raw"],onChange:function(e,t){return d(Object(i.a)(Object(i.a)({},e),{},{type:u}),t)},val:JSON.stringify(g||{},null,3)})))}))},2179:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var a=n(0),i=n.n(a),r=n(7),o=n(857),l=n(107),c=n(154),s=n(52),u=n(2200),d=n(48),m=n(64),g=Object(m.a)((function(e){return{Paper:{padding:e.spacing(2)},Avatar:{borderRadius:"50%",border:"3px solid #eee"}}})),f=n(2118)();function b(e){var t=g(),a=n(2174),m=n(2175),b=["donation#TextFeatures","donation#TextBugs","donation#TextFeedback","donation#TextSupport","donation#TextGreetings"].map((function(e){return i.a.createElement("div",{dangerouslySetInnerHTML:{__html:f.render(r.a.t(e))}})}));return i.a.createElement(o.a,{fullWidth:!0,maxWidth:"md",open:"donation"===e.page,onClose:function(){return e.navigate("home")},disableBackdropClick:!1,disableEscapeKeyDown:!1,header:r.a.t("Support the development of jarvis"),actions:i.a.createElement(l.a,{onClick:function(){return e.navigate("home")},color:"primary"},r.a.t("Close"))},i.a.createElement(c.a,{classes:{root:t.Paper}},i.a.createElement(s.a,{container:!0},i.a.createElement(s.a,{container:!0,item:!0,xs:3,justify:"center"},i.a.createElement("img",{alt:"Zefau",src:a,className:t.Avatar,width:"126",height:"126"})),i.a.createElement(s.a,{item:!0,xs:9},i.a.createElement(d.a,null,i.a.createElement(u.a,{target:"_blank",href:"https://forum.iobroker.net/user/zefau"},"@Zefau (Profil)")," | ",i.a.createElement(u.a,{target:"_blank",href:"https://zefau.github.io/iobroker/"},r.a.t("Overview of my adapters")),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,r.a.t("donation#TextIntro")),i.a.createElement("br",null),b),i.a.createElement(u.a,{target:"_blank",href:"https://paypal.me/chvoelkel"},i.a.createElement("img",{alt:"Paypal",src:m}))))))}r.a.setTranslations((function(e){return n(2173)("./"+e)}))},2189:function(e,t,n){"use strict";n.r(t),t.default={configuration:n(2178).default,donation:n(2179).default,logs:n(2176).default}}}]);
//# sourceMappingURL=4.fb7e5360.chunk.js.map