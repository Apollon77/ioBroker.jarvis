(this.webpackJsonpjarvis=this.webpackJsonpjarvis||[]).push([[4],{2060:function(e,t,n){"use strict";n.r(t),t.default={"config#Devices#hiddenStates#info":"Liste mit States, die von jarvis zwar geladen, aber nicht angezeigt werden","config#Devices#ignoredStates#info":"Liste mit States, die von jarvis ignoriert (und damit nicht geladen) werden","config#Devices#state#label":"Datenpunkt (Anzeige)","config#Devices#state#info":"Datenpunkt dessen State als Wert angezeigt wird","config#Devices#stateStyle#label":"Datenpunkt Stil","config#Devices#stateStyle#info":"Stil des angezeigten Wertes (im JSON Format)","config#Devices#display#label":"Anzeigevariante","config#Devices#display#info":"Texte die den angezeigten Wert ersetzen (im JSON Format)","config#Devices#label#label":"Label","config#Devices#unit#label":"Einheit","config#Devices#unit#info":"Einheit des Datenpunkts, z. B. % oder \xb0","config#Devices#action#label":"Datenpunkt (Trigger)","config#Devices#action#info":"Datenpunkt der zum Schalten getriggert wird","config#Devices#icon#label":"Icon","config#Devices#icon#info":"Material Icon (klick zur Ansicht aller Icons)","config#Devices#iconStyle#label":"Icon Stil","config#Devices#iconStyle#info":"Stil des Icons (im JSON Format)","No whitespaces allowed in the state":"Keine Leerzeichen im Datenpunkt erlaubt","JSON format":"JSON Format","Devices List":"Ger\xe4teliste","add device":"Ger\xe4t hinzuf\xfcgen","import devices":"Ger\xe4te importieren","Device ID":"Ger\xe4te ID",Name:"Name",Function:"Gewerk",States:"States",Options:"Optionen",adapter:"Adapter","add state":"Datenpunkt hinzuf\xfcgen","new state key":"Datenpunkt Bezeichner","No input given":"Bitte etwas eingeben","Wrong JSON format":"Falsches JSON Format","Type in a state key / identifier":"State Bezeichnung eingeben","State key already used":"State bereits in Benutzung","Device Configuration":"Ger\xe4tekonfiguration","Delete Device":"Ger\xe4t l\xf6schen",General:"Allgemein",Device:"Ger\xe4t","Displayed Name":"Anzeigename","New Devices":"neue Ger\xe4te","Devices that have been added already":"bereits hinzugef\xfcgte Ger\xe4te","Devices with incorrect configuration (states not found)":"Ger\xe4te mit inkorrekter Konfiguration (Datenpunkte nicht gefunden)","Devices marked as ignored":"ignorierte Ger\xe4te","Devices Import":"Ger\xe4te importieren","Read adapters":"Adapter lesen","Import selected devices":"ausgew\xe4hlte Ger\xe4te importieren",Adapters:"Adapter","Search the adapter structure for all devices or only devices added to enums":"Adapter-Struktur entweder nach allen oder nur nach in Enums vorhandenen Ger\xe4ten durchsuchen","Search adapter structure for all devices":"nach allen Ger\xe4ten durchsuchen","Search only for devices added to enums":"nur nach in Enums hinzugef\xfcgten Ger\xe4ten durchsuchen",ignore:"ignorieren","move to new devices":"zu den neuen Ger\xe4ten verschieben"}},2061:function(e,t,n){"use strict";n.r(t),t.default={"config#Devices#hiddenStates#info":"List of states which will be retrieved but shall be hidden","config#Devices#ignoredStates#info":"List of states which shall be ignored (and will not be retrieved)","config#Devices#state#label":"State (to display)","config#Devices#state#info":"State which value is shown","config#Devices#stateStyle#label":"State Style","config#Devices#stateStyle#info":"State Style of the displayed values (in JSON Format)","config#Devices#display#label":"Display variant","config#Devices#display#info":"Texts replacing the displayed value (in JSON Format)","config#Devices#label#label":"Label","config#Devices#unit#label":"Unit","config#Devices#action#label":"State (to trigger)","config#Devices#action#info":"State used to trigger an action","config#Devices#icon#label":"Icon","config#Devices#icon#info":"Material Icon (click to view icons)","config#Devices#iconStyle#label":"Icon Style","config#Devices#iconStyle#info":"Icon Style of the icon (in JSON Format)"}},2062:function(e,t,n){"use strict";n.r(t),t.default={"config#Layout#tabsHideLabels#label":"Tab Labels nicht anzeigen (nur Icons)","config#Layout#tabsHideLabels#info":"Zeigt nur die Icons im Tab und nicht die Labels","config#Layout#tabIcon#label":"Tab Icon","config#Layout#tabTitle#label":"Tab Titel","config#Layout#tabFullscreen#label":"Tab als Vollbild","config#Layout#tabFullscreen#info":"Vollbild kann nur bei einem Tab mit nur einer Spalte und nur einem eingestellten Widget aktiviert werden","config#Layout#widgetModule#label":"Modul zur Anzeige der Ger\xe4te","config#Layout#widgetFullscreen#label":"Inhalte als Vollbild","config#Layout#widgetFullscreen#info":"Die Inhalte nehmen die komplette gr\xf6\xdfe des Widgets ein (Titel und Icon wird ausgeblendet)","config#Layout#widgetTitle#label":"Titel der Widget-Box","config#Layout#widgetIcon#label":"Icon der Widget-Box","config#Layout#widgetIcon#info":"Material Icon (klick zur Ansicht aller Icons)","config#Layout#widgetIconStyle#label":"Icon style der Widget-Box","Component configuration":"Komponenten Konfiguration","Module Configuration":"Modul Konfiguration","No configuration available for this module":"Keine Konfiguration f\xfcr dieses Modul vorhanden","Assigned Devices":"zugeordnete Ger\xe4te","add device":"Ger\xe4t hinzuf\xfcgen","add group":"Gruppe hinzuf\xfcgen","add divider":"Trennstreifen","add tab":"Tab hinzuf\xfcgen","add column":"Spalte hinzuf\xfcgen","move column":"Spalte schieben","delete column":"Spalte l\xf6schen","add widget":"Widget hinzuf\xfcgen","Widget configuration":"Widget Konfiguration","Delete Widget":"Widget l\xf6schen","Widget-Box":"Widget-Box",Module:"Modul",Devices:"Ger\xe4te","Primary State Key":"prim\xe4rer Datenpunkt","Secondary State Key":"sekund\xe4rer Datenpunkt",or:"oder",none:"keine",divider:"Trennstreifen","No component selected":"keine Komponente ausgew\xe4hlt","No option selected":"keine Komponente ausgew\xe4hlt","Device needs one of the following states":"Das Ger\xe4t ben\xf6tigt einen der folgenden Datenpunkte"}},2063:function(e,t,n){"use strict";n.r(t),t.default={"config#Layout#tabsHideLabels#label":"Hide tab labels (only show icons)","config#Layout#tabsHideLabels#info":"Show only icons within a tab, not the label","config#Layout#tabIcon#label":"Tab Icon","config#Layout#tabTitle#label":"Tab Title","config#Layout#tabFullscreen#label":"Tab Fullscreen","config#Layout#tabFullscreen#info":"Fullscreen can only be enabled on a tab setup with only a single column and only a single widget","config#Layout#widgetModule#label":"Modul to display the devices","config#Layout#widgetFullscreen#label":"Widget fullscreen","config#Layout#widgetFullscreen#info":"The content will fill the whole size of the widget (title and icon will be hidden)","config#Layout#widgetTitle#label":"Title of the widget-box","config#Layout#widgetIcon#label":"Icon of the widget-box","config#Layout#widgetIcon#info":"Material Icon (click to view all icons)","config#Layout#widgetIconStyle#label":"Icon style of the widget-box"}},2064:function(e,t,n){"use strict";n.r(t),t.default={"config#Settings#pageSettings#label":"Seiteneinstellungen","config#Settings#pageSettings#settings#language#label":"Spracheinstellung von jarvis","config#Settings#pageSettings#settings#pageFavicon#label":"Favicon im Browser","config#Settings#pageSettings#settings#pageFavicon#info":"base64 Wert der Grafik","config#Settings#pageSettings#settings#pageTitle#label":"Titel im Browser","config#Settings#themeSettings#label":"Theme Einstellungen","config#Settings#themeSettings#settings#themeDarkMode#label":"Dark Mode","config#Settings#themeSettings#settings#themeColorPrimary#label":"Prim\xe4re Farbe des Themes","config#Settings#themeSettings#settings#themeColorPrimary#info":"Der Farbwert kann ein Wert aus der Farbpalette in der Form `HUE|SHADE` (z. B. `blue|700`) sein. Alternativ kann ein Hex oder RGB angegeben werden.","config#Settings#themeSettings#settings#themeColorSecondary#label":"Sekund\xe4re Farbe des Themes","config#Settings#themeSettings#settings#themeColorSecondary#info":"Der Farbwert kann ein Wert aus der Farbpalette in der Form `HUE|SHADE` (z. B. `pink|500`) sein. Alternativ kann ein Hex oder RGB angegeben werden.","config#Settings#themeSettings#settings#defaultBoxIcon#label":"Standard Widget-Box Icon","config#Settings#themeSettings#settings#hideTopBarIconTitle#label":"Icon und Titel der TopBar ausblenden","config#Settings#themeSettings#settings#columnsOnSmallScreenSizes#label":"Spalten auf kleinem Bildschirm","config#Settings#themeSettings#settings#columnsOnSmallScreenSizes#info":"Anzahl der Spalten auf Bildschirmen mit einer Breite zwischen 600-960px.","config#Settings#themeSettings#settings#columnsOnMediumScreenSizes#label":"Spalten auf mittleren Bildschirm","config#Settings#themeSettings#settings#columnsOnMediumScreenSizes#info":"Anzahl der Spalten auf Bildschirmen mit einer Breite zwischen 960-1280px.","config#Settings#themeSettings#settings#columnsOnLargeScreenSizes#label":"Spalten auf gro\xdfem Bildschirm","config#Settings#themeSettings#settings#columnsOnLargeScreenSizes#info":"Anzahl der Spalten auf Bildschirmen mit einer Breite zwischen 1280px-1920px.","config#Settings#themeSettings#settings#columnsOnExtraLargeScreenSizes#label":"Spalten auf sehr gro\xdfem Bildschirm","config#Settings#themeSettings#settings#columnsOnExtraLargeScreenSizes#info":"Anzahl der Spalten auf Bildschirmen mit einer Breite \xfcber 1920px."}},2065:function(e,t,n){"use strict";n.r(t),t.default={"config#Settings#pageSettings#label":"Page Settings","config#Settings#pageSettings#settings#language#label":"Language settings for jarvis","config#Settings#pageSettings#settings#pageFavicon#label":"Browser favicon","config#Settings#pageSettings#settings#pageFavicon#info":"base64 value of the image","config#Settings#pageSettings#settings#pageTitle#label":"Browser title","config#Settings#themeSettings#label":"Theme Settings","config#Settings#themeSettings#settings#themeDarkMode#label":"Dark Mode","config#Settings#themeSettings#settings#themeColorPrimary#label":"Primary theme color","config#Settings#themeSettings#settings#themeColorPrimary#info":"","config#Settings#themeSettings#settings#themeColorSecondary#label":"Secondary theme color","config#Settings#themeSettings#settings#themeColorSecondary#info":"","config#Settings#themeSettings#settings#defaultBoxIcon#label":"Default widget-box icon","config#Settings#themeSettings#settings#hideTopBarIconTitle#label":"Hide Icon and Title in TopBar","config#Settings#themeSettings#settings#columnsOnSmallScreenSizes#label":"Columns on a small screen","config#Settings#themeSettings#settings#columnsOnSmallScreenSizes#info":"Amount of columns on screens with a width between 600-960px.","config#Settings#themeSettings#settings#columnsOnMediumScreenSizes#label":"Columns on a medium screen","config#Settings#themeSettings#settings#columnsOnMediumScreenSizes#info":"Amount of columns on screens with a width between 960-1280px.","config#Settings#themeSettings#settings#columnsOnLargeScreenSizes#label":"Columns on a large screen","config#Settings#themeSettings#settings#columnsOnLargeScreenSizes#info":"Amount of columns on screens with a width between 1280px-1920px.","config#Settings#themeSettings#settings#columnsOnExtraLargeScreenSizes#label":"Columns on an extra-large screen","config#Settings#themeSettings#settings#columnsOnExtraLargeScreenSizes#info":"Amount of columns on screens with a width above 1920px."}},2066:function(e,t,n){"use strict";n.r(t),t.default={"Invalid JSON format":"Falsches JSON Format",Configuration:"Konfiguration","Expert mode":"Expertenmodus",Devices:"Ger\xe4te",Settings:"Einstellungen",Layout:"Layout","JSON Editor":"JSON Editor"}},2067:function(e,t,n){"use strict";n.r(t),t.default={}},2076:function(e,t,n){"use strict";n.r(t),t.default={"Support the development of jarvis":"Unterst\xfctze die Weiterentwicklung von jarvis","Overview of my adapters":"\xdcbersicht aller meiner Adapter","donation#TextIntro":"Ich hoffe, euch gef\xe4llt jarvis und der Adapter bereichert euer Smarthome.","donation#TextFeatures":"Sofern euch Funktionen fehlen, ihr euch Features w\xfcnscht oder auf Bugs gesto\xdfen seid, dann [scheut bitte nicht einen Issue auf Github zu erstellen](https://github.com/Zefau/ioBroker.jarvis/issues). Nur, wenn ich davon erfahre, kann ich es umsetzen.","donation#TextBugs":"Sofern ihr Probleme oder Fragestellungen habt, schaut [gerne ins Wiki](https://github.com/Zefau/ioBroker.jarvis/wiki) oder [meldet euch im Forum](https://forum.iobroker.net/topic/30668/jarvis-just-another-remarkable-vis/1).","donation#TextFeedback":"Die Entwicklung des Adapters macht mir wirklich Spa\xdf. Vor allem, wenn ich sehe, wie positiv die Resonanz ist.","donation#TextSupport":"Ich w\xfcrde mich sehr freuen, wenn ihr die weitere Entwicklung mit einem Bierchen oder einer Ma\xdf unterst\xfctzt. ;-)","donation#TextGreetings":"Danke und viele Gr\xfc\xdfe, Zefau"}},2077:function(e,t,n){"use strict";n.r(t),t.default={"donation#TextIntro":"I hope you enjoy jarvis and it enriches your smarthome.","donation#TextFeatures":"If you are missing a certain functionality or you found a bug, please [do not hesitate to create an issue on Github](https://github.com/Zefau/ioBroker.jarvis/issues).","donation#TextBugs":"If you are facing problems or having questions, [please see the Wiki](https://github.com/Zefau/ioBroker.jarvis/wiki) or [ask in the forum](https://forum.iobroker.net/topic/30668/jarvis-just-another-remarkable-vis/1).","donation#TextFeedback":"I'm enjoying the development of the adapter, especially when the feedback is so positive.","donation#TextSupport":"I would appreciate if you support the development of the adapter with a beer. ;-)","donation#TextGreetings":"Cheers and kind regards, Zefau"}},2078:function(e,t,n){"use strict";n.r(t),t.default={Time:"Zeit",Module:"Modul",Criticality:"Kritikalit\xe4t",Message:"Nachricht","Stack Trace":"Stack Trace"}},2079:function(e,t,n){"use strict";n.r(t),t.default={}},2080:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var a=n(19),i=n(11),r=n(0),o=n.n(r),l=n(64),c=n(2195),s=n(2194),u=n(2202),d=n(33),m=n(5),g=n(23),f=n(2031),b=n(48),v=n(129),p=n(65),h=n(2049),y=n.n(h),E=Object(l.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(g.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}}));function O(e){var t=E(),n=e.title,a=e.rowCount,i=e.numSelected,r=e.rightActionButton;return o.a.createElement(f.a,{className:Object(m.a)(t.root,Object(d.a)({},t.highlight,i>0))},i>0?o.a.createElement(b.a,{className:t.title,color:"inherit",variant:"subtitle1"},i," selected"):o.a.createElement(b.a,{className:t.title,variant:"h6",id:"tableTitle"},void 0!==n&&n+" ("+a+")"),i>0?o.a.createElement(p.a,{title:"Delete"},o.a.createElement(v.a,{"aria-label":"delete"},o.a.createElement(y.a,null))):r)}var S=n(2190),j=n(2191),w=n(2192),k=n(2203),x=n(854);function C(e){var t=e.headCells,n=e.onSelectAllClick,a=e.selectable,i=e.sortable,r=e.order,l=e.orderBy,c=e.numSelected,s=e.rowCount,u=e.onRequestSort;return o.a.createElement(S.a,null,o.a.createElement(j.a,null,!1!==a&&o.a.createElement(w.a,{padding:"checkbox"},o.a.createElement(x.a,{indeterminate:c>0&&c<s,checked:s>0&&c===s,onChange:n,inputProps:{"aria-label":"select all"}})),t.map((function(e){return o.a.createElement(w.a,{key:e.id,align:e.align||"left",padding:e.disablePadding?"none":"default",sortDirection:i&&l===e.id&&r,style:{width:e.width||"auto"}},i?o.a.createElement(k.a,{active:l===e.id,direction:l===e.id?r:"asc",onClick:(t=e.orderBy||e.id,function(e){u(e,t)})},o.a.createElement("strong",null,e.label)):o.a.createElement("strong",null,e.label));var t}))))}var D=n(92),_=n(2193),I=Object(l.a)((function(e){return{noWrap:{whiteSpace:"nowrap"}}}));function T(e,t,n){if(null!==t&&"object"===typeof t){if(n.indexOf(t)>=0)return;n.push(t)}return t}function L(e){var t=e.columns,n=e.sortedRows,a=e.emptyRows,r=e.rowStyles,l=e.selectable,c=e.selected,s=e.onClick,u=I();return o.a.createElement(_.a,null,n.map((function(e,n){var a,d=(a=e.id,-1!==c.indexOf(a)),g="enhanced-table-checkbox-".concat(n),f={};for(var b in r){var v=r[b];e[b]&&Object.keys(v).indexOf(e[b])>-1&&(f=Object(i.a)(Object(i.a)({},f),v[e[b]]))}return o.a.createElement(j.a,{key:"TableRow-"+n,hover:!0,onClick:s?function(t){return s(t,e.id)}:void 0,role:"checkbox","aria-checked":d,tabIndex:-1,selected:d},!1!==l&&o.a.createElement(w.a,{key:"TableCell-"+n+"-Checkbox",style:f,padding:"checkbox"},o.a.createElement(x.a,{checked:d,inputProps:{"aria-labelledby":g}})),t.map((function(t){return o.a.createElement(w.a,{key:"TableCell-"+n+"-"+t.id,classes:{root:Object(m.a)(t.noWrap&&u.noWrap)},style:f,scope:"row",padding:t.disablePadding?"none":"default"},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(void 0===e||null===e)return"";var n=[];switch(t.toLowerCase()){case"date":e=Object(D.a)(e,"yyyy-MM-dd HH:mm:ss");break;default:e="boolean"===typeof(e=Array.isArray(e)||"object"===typeof e?JSON.stringify(e,(function(e,t){return T(0,t,n)})):e)?e.toString():e}return e}(e[t.id],t.type))})))})),a>0&&o.a.createElement(j.a,{style:{height:53*a}},o.a.createElement(w.a,{colSpan:6})))}var F=Object(l.a)((function(e){return{table:{minWidth:750}}}));function N(e,t,n,a){var r,o;if(-1===n.indexOf("."))r=e[n]||"",o=t[n]||"";else{for(var l,c=Object(i.a)({},e),s=Object(i.a)({},t),u=n;u.indexOf(".")>-1;)try{l=u.substr(0,u.indexOf(".")),u=u.substr(u.indexOf(".")+1),c=c[l],s=s[l]}catch(d){console.error(d.message)}r=c[u]||"",o=s[u]||""}return!0!==a&&(r="object"===typeof r?JSON.stringify(r):r.toLowerCase(),o="object"===typeof o?JSON.stringify(o):o.toLowerCase()),o<r?-1:o>r?1:0}function R(e,t,n){return"desc"===e?function(e,a){return N(e,a,t,n)}:function(e,a){return-N(e,a,t,n)}}function B(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}function z(e){var t=F(),n=e.title,i=e.headCells,l=e.size,d=e.CustomTableBody,m=e.rows,g=e.toolbar,f=e.selectable,b=e.pagination,v=e.defaultOrder,p=e.defaultOrderBy,h=e.orderByCase,y=e.defaultSelected,E=e.defaultPage,S=e.defaultRowsPerPage,j=e.toolbarRightActionButton,w=o.a.useState(v||"asc"),k=Object(a.a)(w,2),x=k[0],D=k[1],_=o.a.useState(p||i[0].orderBy||i[0].id),I=Object(a.a)(_,2),T=I[0],N=I[1],z=o.a.useState(y||[]),P=Object(a.a)(z,2),A=P[0],W=P[1],M=o.a.useState(E||0),G=Object(a.a)(M,2),H=G[0],K=G[1],J=o.a.useState(b?S||5:m.length),U=Object(a.a)(J,2),q=U[0],V=U[1];Object(r.useEffect)((function(){return V(b?S||5:m.length)}),[m.length,b,S]);var Z=d||L;return o.a.createElement(o.a.Fragment,null,!1!==g&&o.a.createElement(O,{title:n,rowCount:m.length,numSelected:A.length||0,rightActionButton:j}),o.a.createElement(s.a,null,o.a.createElement(c.a,{className:t.table,"aria-labelledby":"tableTitle","aria-label":"enhanced table",size:l,stickyHeader:!0},o.a.createElement(C,Object.assign({classes:t,numSelected:A.length,order:x,orderBy:T,onSelectAllClick:function(e){if(e.target.checked){var t=m.map((function(e){return e.id}));W(t)}else W([])},onRequestSort:function(e,t){D(T===t&&"asc"===x?"desc":"asc"),N(t)},rowCount:m.length},e)),o.a.createElement(Z,Object.assign({columns:i,sortedRows:B(m,R(x,T,h)).slice(H*q,H*q+q),emptyRows:q-Math.min(q,m.length-H*q),onClick:!1!==f&&function(e,t){var n=A.indexOf(t),a=[];-1===n?a=a.concat(A,t):0===n?a=a.concat(A.slice(1)):n===A.length-1?a=a.concat(A.slice(0,-1)):n>0&&(a=a.concat(A.slice(0,n),A.slice(n+1))),W(a)},selected:A},e)))),b&&o.a.createElement(u.a,{rowsPerPageOptions:[5,10,25],component:"div",count:m.length,rowsPerPage:q,page:H,onChangePage:function(e,t){K(t)},onChangeRowsPerPage:function(e){V(parseInt(e.target.value,10)),K(0)}}))}},2105:function(e,t,n){var a={"./de":2060,"./de.js":2060,"./en":2061,"./en.js":2061};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=2105},2111:function(e,t,n){var a={"./de":2062,"./de.js":2062,"./en":2063,"./en.js":2063};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=2111},2116:function(e,t,n){var a={"./de":2064,"./de.js":2064,"./en":2065,"./en.js":2065};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=2116},2117:function(e,t,n){var a={"./de":2066,"./de.js":2066,"./en":2067,"./en.js":2067};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=2117},2173:function(e,t,n){var a={"./de":2076,"./de.js":2076,"./en":2077,"./en.js":2077};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=2173},2174:function(e,t,n){e.exports=n.p+"static/media/zefau.e3988b38.jpg"},2175:function(e,t,n){e.exports=n.p+"static/media/paypal.f985e03c.webp"},2176:function(e,t,n){"use strict";n.r(t);var a=n(34),i=n(35),r=n(51),o=n(50),l=n(0),c=n.n(l),s=n(107),u=n(154),d=n(7),m=n(14),g=n(857),f=n(2080),b=n(10),v=[{id:"time",disablePadding:!1,type:"Date",label:d.a.t("Time"),noWrap:!0},{id:"module",disablePadding:!1,label:d.a.t("Module"),noWrap:!0},{id:"criticality",disablePadding:!1,label:d.a.t("Criticality"),noWrap:!0},{id:"message",disablePadding:!1,label:d.a.t("Message")},{id:"stack",disablePadding:!1,type:"Object",label:d.a.t("Stack Trace")}],p={criticality:{debug:{color:"rgba(0, 0, 0, 0.4)",backgroundColor:"rgba(0, 0, 0, 0.1)"},info:{color:"rgb(13, 60, 97)",backgroundColor:"rgb(232, 244, 253)"},warn:{color:"rgb(102, 60, 0)",backgroundColor:"rgb(255, 244, 229)"},error:{color:"rgb(97, 26, 21)",backgroundColor:"rgb(253, 236, 234)"},success:{color:"rgb(30, 70, 32)",backgroundColor:"rgb(237, 247, 237)"}}};d.a.setTranslations((function(e){return n(2177)("./"+e)}));var h=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props.classes,n=m.a.getLog();return c.a.createElement(g.a,{classes:{CustomDialog:t.pinToTop},fullWidth:!0,maxWidth:"xl",open:"logs"===this.props.page,onClose:function(){return e.props.navigate("home")},header:"Logs",actions:c.a.createElement(s.a,{autoFocus:!0,onClick:function(){return e.props.navigate("home")},color:"primary"},d.a.t("Close"))},c.a.createElement(u.a,{className:t.paper},c.a.createElement(f.a,{headCells:v,rows:n,rowStyles:p,selectable:!1,sortable:!0,toolbar:!1,stickyHeader:!0})))}}]),n}(c.a.Component);t.default=Object(b.a)((function(e){return{pinToTop:{position:"absolute",top:0,left:0}}}))(h)},2177:function(e,t,n){var a={"./de":2078,"./de.js":2078,"./en":2079,"./en.js":2079};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=2177},2178:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return st}));var a=n(33),i=n(11),r=n(19),o=n(0),l=n.n(o),c=n(154),s=n(2039),u=n(2030),d=n(48),m=n(74),g=n(32),f=n(36),b=n(7),v=n(14),p=n(29),h=n(857),y=n(44),E=n(42),O=n(972),S=n(30),j=n(701),w=n(129),k=n(2193),x=n(2191),C=n(2192),D=n(65),_=n(865),I=n.n(_),T=n(2107),L=n.n(T),F=n(2106),N=n.n(F),R=n(2080),B={hiddenStates:{info:"config#Devices#hiddenStates#info"},ignoredStates:{info:"config#Devices#ignoredStates#info"}},z={state:{label:"config#Devices#state#label",info:"config#Devices#state#info",onValidate:function(e){if(e.indexOf(" ")>-1)throw new Error("No whitespaces allowed in the state");return e}},stateStyle:{label:"config#Devices#stateStyle#label",info:"config#Devices#stateStyle#info",json:!0},display:{label:"config#Devices#display#label",info:"config#Devices#display#info",json:!0},label:{label:"config#Devices#label#label",info:"config#Devices#label#info"},unit:{label:"config#Devices#unit#label",info:"config#Devices#unit#info",json:!0,onValidate:function(e){return-1===e.indexOf(" ")&&-1===e.indexOf('"')&&-1===e.indexOf("}")&&-1===e.indexOf("{")?'"'+e+'"':e}},action:{label:"config#Devices#action#label",info:"config#Devices#action#info",onValidate:function(e){if(e.indexOf(" ")>-1)throw new Error("No whitespaces allowed in the state");return e}},icon:{label:"config#Devices#icon#label",info:"config#Devices#icon#info",link:"https://materialdesignicons.com/",json:!0,onValidate:function(e){return-1===e.indexOf(" ")&&-1===e.indexOf('"')&&-1===e.indexOf("}")&&-1===e.indexOf("{")?'"'+e+'"':e}},iconStyle:{label:"config#Devices#iconStyle#label",info:"config#Devices#iconStyle#info",json:!0}},P=n(41),A=n(52),W=n(851),M=n(83),G=n(1513),H=n(156),K=n(587),J=n(2104),U=n.n(J),q=n(2052),V=n.n(q),Z=n(2053),Y=n.n(Z),Q=n(2049),X=n.n(Q),$=n(64),ee=Object($.a)((function(e){return{fullWidth:{width:"100%"},iconContainer:{flexDirection:"column",alignItems:"center"},alignRight:{display:"flex",justifyContent:"flex-end","& > :not(:first-child)":{marginLeft:8}}}})),te=l.a.memo((function(e){var t=ee(),n=Object(o.useState)(e.device),c=Object(r.a)(n,2),s=c[0],u=c[1],d=Object(o.useState)({}),m=Object(r.a)(d,2),g=m[0],f=m[1],p=Object(o.useRef)({}),O=Object(o.useCallback)((function(e,t){e.error&&e.error!==g[e.id]?f((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(a.a)({},e.id,e.error))})):!e.error&&g[e.id]&&f((function(t){var n=Object(i.a)({},t||{});return delete n[e.id],n})),p.current[e.id]=t}),[g]);if(Object(o.useEffect)((function(){e.device.name||f((function(e){return Object(i.a)(Object(i.a)({},e),{},{"device-name":!0})}))}),[e.device.name]),null===s)return null;var S=function(e){if(e)if(Object.keys(s.states||{}).indexOf(e)>-1)f((function(e){return Object(i.a)(Object(i.a)({},e),{},{newStateKey:b.a.t("State key already used")})}));else{var t=e.replace(/ /g,"");u((function(e){return Object(i.a)(Object(i.a)({},e),{},{states:Object(i.a)(Object(a.a)({},t,{}),e.states||{})})}))}else f((function(e){return Object(i.a)(Object(i.a)({},e),{},{newStateKey:b.a.t("Type in a state key / identifier")})}))},j=Object.keys(s.states||{});return v.a._("DevicesPages","RENDER DevicesPage","development"),console.log(g),l.a.createElement(h.a,{header:b.a.t("Device Configuration")+" ("+b.a.t("Device ID")+": "+s.id+")",actions:[l.a.createElement(A.a,{key:"actions",container:!0},l.a.createElement(A.a,{item:!0,xs:6},s.name&&l.a.createElement(y.a.Button,{key:"action-delete",variant:"text",onClick:function(){return e.onDelete&&e.onDelete(s.id)},color:"secondary",startIcon:l.a.createElement(X.a,null),label:"Delete Device"})),l.a.createElement(A.a,{item:!0,xs:6,className:t.alignRight},l.a.createElement(y.a.Button,{key:"action-cancel",variant:"text",onClick:function(){return e.onClose()},color:"secondary",label:"Cancel"}),l.a.createElement(y.a.Button,{key:"action-save",variant:"text",onClick:function(){return function(){var t=Object(i.a)({},s);for(var n in t.options=t.options||{},t.attributes=t.attributes||{},p.current){var o=p.current[n],l=n.split("-"),c=Object(r.a)(l,3),u=c[0],d=c[1],m=c[2];"states"===u?"object"===typeof t[u][d]?t[u][d][m]=o:t[u][d]=Object(a.a)({state:t[u][d]},m,o):"options"===u||"attributes"===u?t[u][d]=o:t[d]=o}t.attributes._updated=Date.now(),e.onSave(t)}()},color:"primary",disabled:Object.keys(g).length>0,label:"Apply"})))],dense:!0,maxWidth:"md",fullWidth:!0,open:!0,onClose:function(){return e.onClose()}},l.a.createElement(y.a.Fieldset,{label:"General"},l.a.createElement(y.a.FieldsetItem,{columns:4},l.a.createElement(y.a.Text,{key:"device-name",id:"device-name",autoFocus:!0,required:!0,label:"Device",val:s.name,onChange:O})),l.a.createElement(y.a.FieldsetItem,{columns:4},l.a.createElement(y.a.Select,{key:"device-function",id:"device-function",label:"Function",val:s.function||"other",selection:Object.keys(P.default).map((function(e){var t,n="_defaults"!==e?e:"other";return t={},Object(a.a)(t,n,b.a.t(n)),Object(a.a)(t,"icon",P.default[e]._any&&P.default[e]._any.icon||null),Object(a.a)(t,"_key",n),Object(a.a)(t,"_translated",!0),Object(a.a)(t,"_sort",b.a.t(n)),t})),sortOptionsByKey:!0,onChange:function(e,t){void 0!==P.default[t]&&Object.keys(P.default[t]).forEach((function(e){-1===j.indexOf(e)&&"_"!==e.substr(0,1)&&S(e)})),O(e,t)}})),l.a.createElement(y.a.FieldsetItem,{columns:4},l.a.createElement(y.a.Text,{key:"device-icon",id:"device-icon",label:"Icon",val:s.icon||"",onChange:O}))),l.a.createElement(y.a.Fieldset,{label:"States"},l.a.createElement(re,{_onChange:O,_addState:S,_moveState:function(e,t){u((function(n){return Object(i.a)(Object(i.a)({},n),{},{states:Object(E.e)(Object(i.a)({},n.states),t,e)})}))},_deleteState:function(e){u((function(t){var n=Object(i.a)({},t);return delete n.states[e],n}))},errors:g,states:s.states})),l.a.createElement(y.a.Fieldset,{label:"Options"},l.a.createElement(ne,{_onChange:O,options:s.options})))})),ne=l.a.memo((function(e){v.a._("DevicesPages","RENDER DeviceOptions","development");var t=e.options,n=ee(),a=Object.keys(B).sort().map((function(n){return l.a.createElement(ae,Object.assign({key:"DeviceOption-"+n,config:Object(i.a)(Object(i.a)({},B[n]),{},{parameter:n}),value:t[n]||""},e))}));return l.a.createElement(W.a,{classes:{root:n.fullWidth},dense:!0},a)})),ae=l.a.memo((function(e){v.a._("DevicesPages","RENDER DeviceOption","development");var t=e.config,n=e.value,a=e._onChange,i=n;Array.isArray(i)?i=i.join(","):"object"===typeof i&&(i=JSON.stringify(i));var r=y.a[t.type||"Text"];return l.a.createElement(M.a,{key:"StatesListItemLabel-"+t.parameter,divider:!0},l.a.createElement(H.a,{primary:t.parameter,secondary:b.a.t(t.label||"")}),l.a.createElement(K.a,null,l.a.createElement(r,Object.assign({key:"options-"+t.parameter,id:"options-"+t.parameter,val:i,onChange:a},t))))})),ie=l.a.memo((function(e){v.a._("DevicesPages","RENDER AddDeviceState","development");var t=e.errors,n=e._addState,a=Object(o.useState)(""),i=Object(r.a)(a,2),c=i[0],s=i[1];return l.a.createElement(M.a,{key:"StatesListItemLabel-add",dense:!0,divider:!0},l.a.createElement(G.a,null,l.a.createElement(w.a,{size:"small",disabled:!0},l.a.createElement(U.a,null))),l.a.createElement(H.a,{disableTypography:!0},l.a.createElement(y.a.Text,{id:"states-add",onChange:function(e,t){return s(t)},shrink:!0,label:"new state key",val:c}),l.a.createElement(y.a.Button,{label:"add state",onClick:function(){return n(c)}}),l.a.createElement("span",{style:{color:"#900"}},t.newStateKey)))})),re=l.a.memo((function(e){v.a._("DevicesPages","RENDER DeviceStates","development");var t=e.states,n=ee(),a=Object.keys(t||{}).map((function(n){var a=t[n];return a="string"===typeof a?{state:a}:a,l.a.createElement(oe,Object.assign({key:"DeviceState-"+n,state:Object(i.a)(Object(i.a)({},a),{},{key:n})},e))}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(W.a,{classes:{root:n.fullWidth},dense:!0},l.a.createElement(ie,e),a))})),oe=l.a.memo((function(e){v.a._("DevicesPages","RENDER DeviceState","development");var t=e.state,n=e._onChange,a=e._moveState,i=e._deleteState,r=ee(),o=Object.keys(z).map((function(e){var a=z[e],i=y.a[a.type||"Text"];return l.a.createElement(y.a.FieldsetItem,{columns:4,key:"states-"+t.key+"-"+e},l.a.createElement(i,Object.assign({},a,{id:"states-"+t.key+"-"+e,shrink:!0,label:a.label||Object(E.b)(e),val:t[e]&&"string"!==typeof t[e]?t[e].node||JSON.stringify(t[e]):t[e]||"",onChange:function(e,t){return"function"===typeof a.onChange?a.onChange(e,t,n):n(e,t)}})))}));return l.a.createElement(M.a,{key:"StatesListItemLabel-"+t.key,dense:!0,divider:!0},t.key&&l.a.createElement(G.a,{classes:{root:r.iconContainer}},l.a.createElement(w.a,{size:"small",onClick:function(){return a("up",t.key)}},l.a.createElement(V.a,null)),l.a.createElement(w.a,{size:"small",onClick:function(){return a("down",t.key)}},l.a.createElement(Y.a,null)),l.a.createElement(w.a,{size:"small",onClick:function(){return i(t.key)},style:{marginTop:40}},l.a.createElement(X.a,null))),l.a.createElement(H.a,{disableTypography:!0},l.a.createElement("div",{style:{paddingBottom:8}},l.a.createElement("strong",null,t.key)),l.a.createElement(y.a.Fieldset,{noPadding:!0},o)))})),le=n(2196),ce=n(583),se=n(2201),ue=n(2197),de=n(2198),me=n(1989),ge=n(155),fe=n(864),be=n.n(fe),ve=Object($.a)((function(e){return{fullWidth:{width:"100%"},heading:{paddingRight:e.spacing()},ListItem:{display:"flex"}}}));function pe(e){var t=ve(),n=Object(o.useState)(null),c=Object(r.a)(n,2),s=c[0],u=c[1],d=Object(o.useState)({}),m=Object(r.a)(d,2),g=m[0],p=m[1],E=Object(o.useRef)(!1),O=Object(o.useRef)({filter:"all",adapters:Object.keys(ce.a)||[]}),S=Object(o.useRef)({}),j=Object(o.useRef)({_new:{hash:"",name:b.a.t("New Devices"),expanded:!0,devices:[]},_added:{hash:"",name:b.a.t("Devices that have been added already"),devices:[]},_incorrect:{hash:"",name:b.a.t("Devices with incorrect configuration (states not found)"),devices:[]},_ignored:{hash:"",name:b.a.t("Devices marked as ignored"),devices:[]}}),w=function(e){var t=j.current._new.devices.findIndex((function(t){return t.id===e.id})),n=j.current._ignored.devices.findIndex((function(t){return t.id===e.id}));e.attributes&&!0===e.attributes.ignore&&t>-1?(j.current._new.devices.splice(t,1),j.current._ignored.devices.push(e),j.current._ignored.hash=Object(le.a)(),j.current._new.hash=Object(le.a)()):e.attributes&&!1===e.attributes.ignore&&n>-1&&(j.current._ignored.devices.splice(n,1),j.current._new.devices.push(e),j.current._ignored.hash=Object(le.a)(),j.current._new.hash=Object(le.a)()),p((function(t){if(e.attributes=e.attributes||{},-1===Object.keys(t).indexOf(e.id)||!0===e.attributes.ignore||!1===e.attributes.ignore)return e.attributes.ignore=!1===e.attributes.ignore?null:e.attributes.ignore,e.attributes._created=Date.now(),Object(i.a)(Object(i.a)({},t),{},Object(a.a)({},e.id,e));var n=Object(i.a)({},t);return delete n[e.id],n}))},k=function(e,t){Array.isArray(O.current[e])?O.current[e].indexOf(t)>-1?O.current[e]=O.current[e].filter((function(e){return e!==t})):O.current[e].push(t):O.current[e]=t},x=function(e){if(!1!==E.current)return!1;S.current={},j.current._new.devices=[],j.current._added.devices=[],j.current._incorrect.devices=[],j.current._ignored.devices=[];var t=f.a.getDevices({raw:!0}),n={};e.forEach((function(e,a){var i=e.value||e.reason.device,r="_new";"fulfilled"===e.status?void 0!==t[i.id]?(r="_added",t[i.id].attributes&&!0===t[i.id].attributes.ignore&&(r="_ignored")):n[i.id]=i:(r="_incorrect",i.attributes.note=e.reason.error.message),j.current[r].devices.push(i),S.current[i.attributes.manufacturer.namespace]=S.current[i.attributes.manufacturer.namespace]||[],S.current[i.attributes.manufacturer.namespace].push(i.id)})),p(n),u("done")},C=Object.keys(ce.a).map((function(e){var t=Object(i.a)(Object(i.a)({},ce.a[e]),{},{namespace:e,devices:S.current[e]||[]});return l.a.createElement(Ee,{key:"AdapterItem-"+e,adapter:t,tick:O.current.adapters.indexOf(t)>-1,_setSearch:k})}));return l.a.createElement(h.a,{header:b.a.t("Devices Import"),actions:l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a.Button,{width:"auto",id:"action-cancel",onClick:function(){E.current=!0,e.onClose&&e.onClose()},label:"Cancel",variant:"text",color:"secondary"}),l.a.createElement(y.a.Button,{width:"auto",id:"action-read",onClick:function(){u("loading"),"all"===O.current.filter?f.a.importDevices(O.current.adapters).then(x).catch((function(e){v.a._("ImportDevicesPage","IMPORT_DEVICES: "+e.message,"error")})):f.a.importEnums("functions",O.current.adapters).then(x).catch((function(e){v.a._("ImportDevicesPage","IMPORT_ENUMS: "+e.message,"error")}))},label:"Read adapters",variant:"text",disabled:"loading"===s,loading:"loading"===s}),"done"===s&&l.a.createElement(y.a.Button,{width:"auto",id:"action-import",onClick:function(){return e.onImport&&e.onImport(g)},label:b.a.t("Import selected devices")+" ("+Object.values(g).filter((function(e){return!e.attributes||!0!==e.attributes.ignore})).length+")",disabled:0===Object.keys(g).length,variant:"text"})),dense:!0,maxWidth:"md",fullWidth:!0,open:!0,onClose:function(){return e.onClose()}},l.a.createElement(y.a.Fieldset,{label:"Adapters"},l.a.createElement(y.a.FieldsetItem,null,l.a.createElement(y.a.RadioGroup,{onChange:function(e,t){return k("filter",t)},label:"Search the adapter structure for all devices or only devices added to enums",inputs:[{label:"Search adapter structure for all devices",value:"all"},{label:"Search only for devices added to enums",value:"enums"}],required:!0,val:O.current.filter}),l.a.createElement(W.a,{classes:{root:t.fullWidth},dense:!0},C))),null!==s&&l.a.createElement(y.a.Fieldset,{label:"Devices"},l.a.createElement(y.a.FieldsetItem,null,"loading"===s&&l.a.createElement(ge.a,null),"done"===s&&Object.keys(j.current).map((function(e){return l.a.createElement(ye,Object.assign({key:"Category-"+e},Object(i.a)({id:e},j.current[e]),{_markDeviceToImport:w}))})))))}var he=l.a.memo((function(e){var t=ve(),n=e.category,a=e.device,c=e._markDeviceToImport,s=Object(o.useState)(!!("_new"===n.id||a.attributes&&void 0!==a.attributes.ignore)),u=Object(r.a)(s,2),m=u[0],g=u[1],f=function(){g((function(e){return!0!==e})),c&&c(a)};return l.a.createElement(M.a,{key:a.id,dense:!0,button:"_incorrect"!==n.id&&"_ignored"!==n.id,divider:!0,onClick:function(){return"_incorrect"!==n.id&&"_ignored"!==n.id&&f()}},l.a.createElement(G.a,null,l.a.createElement(y.a.Checkbox,{id:a.id,checked:m,disabled:"_incorrect"===n.id||"_ignored"===n.id,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a.id}})),l.a.createElement(H.a,{classes:{root:t.ListItem},disableTypography:!0},l.a.createElement(d.a,{className:t.heading},a.name),a.attributes&&a.attributes.manufacturer&&l.a.createElement(me.a,{color:"secondary",size:"small",label:a.attributes.manufacturer.name})),l.a.createElement(K.a,null,"_new"===n.id&&l.a.createElement(y.a.Button,{width:"auto",variant:"text",label:"ignore",onClick:function(e){e.stopPropagation(),a.attributes=Object(i.a)(Object(i.a)({},a.attributes),{},{ignore:!0}),f()}}),"_ignored"===n.id&&l.a.createElement(y.a.Button,{width:"auto",variant:"text",label:"move to new devices",onClick:function(e){e.stopPropagation(),a.attributes=Object(i.a)(Object(i.a)({},a.attributes),{},{ignore:!1}),f()}})))}),(function(e,t){return e.device.attributes.ignore===t.device.attributes.ignore})),ye=l.a.memo((function(e){var t=ve(),n=e.id,a=e.name,i=e.expanded,r=e.devices,o=e._markDeviceToImport,c=r.map((function(t){return l.a.createElement(he,{key:"Category-"+n+"-Device-"+t.id,category:e,device:t,_markDeviceToImport:o})}));return l.a.createElement(se.a,{classes:{root:t.fullWidth},key:n,defaultExpanded:!0===i},l.a.createElement(ue.a,{expandIcon:l.a.createElement(be.a,null)},l.a.createElement(d.a,{className:t.heading},a),l.a.createElement(me.a,{color:"primary",size:"small",label:r.length})),l.a.createElement(de.a,null,l.a.createElement(W.a,{classes:{root:t.fullWidth},dense:!0},c)))}),(function(e,t){return e.hash===t.hash})),Ee=l.a.memo((function(e){var t=e.adapter,n=e.tick,a=e._setSearch,i=t.default,c=Object(o.useState)(n||!0),s=Object(r.a)(c,2),u=s[0],d=s[1];return l.a.createElement(M.a,{key:t.namespace,dense:!0,button:!0,divider:!0,onClick:function(){return e=t.namespace,d((function(e){return!0!==e})),void(a&&a("adapters",e));var e}},l.a.createElement(G.a,null,l.a.createElement(y.a.Checkbox,{id:t.namespace,checked:u,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":i}})),l.a.createElement(H.a,{primary:i+" "+b.a.t("adapter")}),l.a.createElement(K.a,null,t.devices&&Array.isArray(t.devices)&&t.devices.length>0&&l.a.createElement(me.a,{color:"primary",size:"small",label:t.devices.length})))})),Oe=Object($.a)((function(e){return{deleteButton:{marginTop:"25px"},hr:{margin:"10px 2px"},CustomTextInput:{width:150},CustomDialogTitle:{padding:0,marginRight:"50px"},TableCell:{verticalAlign:"top",padding:"5px 0"},title:{flex:"1 1 100%"},paper:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),marginBottom:e.spacing(1),minHeight:"64px",display:"flex",position:"relative",alignItems:"center"},newlyCreatedDevice:{backgroundColor:"rgba(99, 233, 30, 0.08) !important"}}}));b.a.setTranslations((function(e){return n(2105)("./"+e)}));var Se=l.a.memo((function(e){v.a._("DevicesListPage","RENDER DevicesListPage","development");var t=Oe(),n=Object(o.useState)(null),s=Object(r.a)(n,2),u=s[0],m=s[1],g=Object(o.useState)(null),f=Object(r.a)(g,2),p=f[0],h=f[1],E=Object(o.useState)(e.devices),w=Object(r.a)(E,2),k=w[0],x=w[1],C=Object(o.useState)(null),D=Object(r.a)(C,2),_=D[0],T=D[1],L=Object(o.useRef)(Date.now());Object(o.useEffect)((function(){L.current=Date.now(),x(e.devices)}),[e.devices]),Object(o.useEffect)((function(){_&&(document.getElementById("DialogContent").scrollTop=document.getElementById("device-"+_.id)&&document.getElementById("device-"+_.id).offsetTop||0)}),[_]);var F=function(t){x(t),e._onDevicesChange&&e._onDevicesChange(t),L.current=Date.now(),m(null),h(null)},R=function(t){for(var n=Object(S.a)(e.layout),a=0,i=Object.keys(n);a<i.length;a++){var r,o=n[i[a]],l=Object(O.a)(o.tabs);try{for(l.s();!(r=l.n()).done;){var c=r.value;for(var s in c.columns=void 0!==c._fullscreen?[[c._fullscreen]]:c.columns,c.columns){var u,d=c.columns[s],m=Object(O.a)(d);try{for(m.s();!(u=m.n()).done;){var g=u.value;g.devices=g.devices.filter((function(e){return e.deviceId!==t}))}}catch(f){m.e(f)}finally{m.f()}}}}catch(f){l.e(f)}finally{l.f()}}e._onLayoutsChange(n)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{className:t.paper},l.a.createElement(d.a,{className:t.title,variant:"h6"},b.a.t("Devices List")+" ("+Object.keys(k).length+")"),l.a.createElement(y.a.Button,{key:"device-add",width:300,onClick:function(){return m("#new")},startIcon:l.a.createElement(I.a,null),disabled:null!==u||null!==p,label:"add device"}),l.a.createElement(y.a.Button,{key:"devices-import",width:300,onClick:function(){return h(!0)},startIcon:l.a.createElement(N.a,null),disabled:null!==u||null!==p,label:"import devices"})),l.a.createElement(c.a,null,l.a.createElement(je,{_selectDevice:function(e){return m(e.id)},hash:L.current,devices:k}),null!=u&&l.a.createElement(te,{device:"#new"===u?{id:Object(j.a)(),function:"other",states:{},options:{},attributes:{_created:Date.now()}}:k[u],onSave:function(e){T(e),F(Object(i.a)(Object(i.a)({},k),{},Object(a.a)({},e.id,e)))},onDelete:function(e){var t=Object(i.a)({},k);delete t[e],R(e),F(t)},onClose:function(){return m(null)}}),null!==p&&l.a.createElement(pe,{onImport:function(e){return F(Object(i.a)(Object(i.a)({},k),e))},onClose:function(){return h(null)}})))}),(function(e,t){return!0!==t.selected})),je=l.a.memo((function(e){v.a._("DevicesListPage","RENDER DeviceTable","development");var t=e.devices;return l.a.createElement(R.a,{toolbar:!1,headCells:[{id:"edit",width:"5%",disablePadding:!0,label:""},{id:"name",width:"15%",label:b.a.t("Name")},{id:"function",width:"10%",label:b.a.t("Function")},{id:"states",width:"50%",disablePadding:!1,label:b.a.t("States")},{id:"options",width:"20%",disablePadding:!1,label:b.a.t("Options")}],rows:Object.values(t),defaultOrderBy:"name",selectable:!1,sortable:!0,stickyHeader:!0,CustomTableBody:function(t){return l.a.createElement(we,Object.assign({},e,t))}})}),(function(e,t){return e.hash===t.hash})),we=function(e){v.a._("DevicesListPage","RENDER DeviceList","development");var t=Oe(),n=e.sortedRows,a=e._selectDevice;return l.a.createElement(k.a,null,n.map((function(e,n){var i=Object.keys(e.options||{}).filter((function(t){return!1===(""===e.options[t]||Array.isArray(e.options[t])&&0===e.options[t].length||"object"===typeof e.options[t]&&0===Object.keys(e.options[t]).length)})).sort().join(", ");return e.attributes&&!0===e.attributes.ignore?null:l.a.createElement(x.a,{key:"TableRow-"+n,id:"device-"+e.id,hover:!0,tabIndex:-1,selected:e.attributes&&e.attributes._created>Date.now()-864e5,classes:{selected:t.newlyCreatedDevice}},l.a.createElement(C.a,{padding:"checkbox",scope:"row",align:"center"},l.a.createElement(w.a,{onClick:function(){return a(e)}},l.a.createElement(L.a,null))),l.a.createElement(C.a,null,e.options&&e.options.label||e.name),l.a.createElement(C.a,null,e.function),l.a.createElement(C.a,null,Object.keys(e.states||{}).join(", ")),l.a.createElement(C.a,null,i.length>35?l.a.createElement(D.a,{title:i},l.a.createElement("span",null,i.substr(0,32)+"...")):i))})))},ke=n(116),xe={tabsHideLabels:{label:"config#Layout#tabsHideLabels#label",info:"config#Layout#tabsHideLabels#info",type:"Switch",val:!1},tabIcon:{label:"config#Layout#tabIcon#label",type:"Text"},tabTitle:{label:"config#Layout#tabTitle#label",type:"Text"},tabFullscreen:{label:"config#Layout#tabFullscreen#label",info:"config#Layout#tabFullscreen#info",type:"Switch",val:!1},widgetModule:{required:!0,label:"config#Layout#widgetModule#label",type:"Text",options:ke.ModuleList},widgetFullscreen:{label:"config#Layout#widgetFullscreen#label",info:"config#Layout#widgetFullscreen#info",type:"Switch"},widgetTitle:{required:!0,label:"config#Layout#widgetTitle#label",type:"Text"},widgetIcon:{label:"config#Layout#widgetIcon#label",type:"Text",placeholder:"home",info:"config#Layout#widgetIcon#info",link:"https://materialdesignicons.com/"},widgetIconStyle:{label:"config#Layout#widgetIconStyle#label",type:"Text",json:!0,placeholder:'{ "color": "#fff", "fontSize": "24px" }'}},Ce=n(2112),De=n.n(Ce),_e=n(2113),Ie=n.n(_e),Te=n(2114),Le=n.n(Te),Fe=n(2115),Ne=n.n(Fe),Re=n(2199),Be=n(2108),ze=n.n(Be),Pe=n(2110),Ae=n.n(Pe),We=n(2109),Me=n.n(We);function Ge(e){var t=e.width,n=e.height;return l.a.createElement("div",{style:{display:"inline-flex",width:t+"px",height:(n||1)+"px"}})}var He=Object($.a)((function(e){return{iconContainer:{display:"flex",flexDirection:"column",alignItems:"center"},iconCentered:{verticalAlign:"middle",marginRight:e.spacing(2)},noPadding:{padding:0},alignRight:{display:"flex",justifyContent:"flex-end","& > :not(:first-child)":{marginLeft:8}},height:{lineHeight:"45px"},title:{lineHeight:"25px"},Badge:{right:"unset",transform:"none"},sticky:{position:"sticky",backgroundColor:e.palette.background.default,top:-16,zIndex:1}}})),Ke=n(114)(),Je=l.a.memo((function(e){var t=He(),n=Object(o.useState)({}),c=Object(r.a)(n,2),s=c[0],u=c[1],d=Object(o.useRef)(Object(i.a)({moduleConfig:{}},Ke(e.widget)));if(console.log(Object(i.a)({},d.current),Object(i.a)({},Ke(e.widget))),null===e.widget)return null;var m=function(){d.current=null,e.onClose()},g=Object(o.useCallback)((function(e,t,n){e.error&&e.error!==s[e.id]?u((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(a.a)({},e.id,e.error))})):!e.error&&s[e.id]&&u((function(t){var n=Object(i.a)({},t);return delete n[e.id],n})),void 0!==n?e.id.indexOf("componentConfig.")>-1?(d.current.devices[n].componentConfig=d.current.devices[n].componentConfig||{},d.current.devices[n].componentConfig[e.id.replace("componentConfig.","")]=t):d.current.devices[n][e.id]=t:e.id.indexOf("moduleConfig.")>-1?d.current.moduleConfig[e.id.replace("moduleConfig.","")]=t:d.current[e.id]=t}),[s]),f=Object(o.useCallback)((function(e,t){g({error:!t,id:e},t||"")}),[g]);return Object(o.useEffect)((function(){return f("title",e.widget.title)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{header:b.a.t("Widget configuration"),actions:l.a.createElement(A.a,{container:!0},l.a.createElement(A.a,{item:!0,xs:6},void 0!==e.widget.index&&l.a.createElement(y.a.Button,{key:"action-delete",variant:"text",onClick:function(){return e.onDelete(e.widget.index)},color:"secondary",startIcon:l.a.createElement(X.a,null),label:"Delete Widget"}),"\xa0"),l.a.createElement(A.a,{item:!0,xs:6,className:t.alignRight},l.a.createElement(y.a.Button,{key:"action-cancel",variant:"text",onClick:m,color:"secondary",label:"Cancel"}),l.a.createElement(y.a.Button,{key:"action-save",variant:"text",onClick:function(t){var n={};if([].concat([{parameter:"title",required:!0},{parameter:"module",required:!0}],Object(S.a)(ke.ModuleConfigurations[e.widget.module]||[])).forEach((function(e){!0!==e.required||d.current[e.parameter]||d.current.moduleConfig[e.parameter]||(n[e.parameter]=!0)})),Object.values(n).indexOf(!0)>-1)return u((function(e){return Object(i.a)(Object(i.a)({},e),n)})),!1;e.onSave(d.current)},color:"primary",disabled:Object.keys(s).length>0,label:"Apply"}))),dense:!0,maxWidth:"lg",fullWidth:!0,open:!0,onClose:m},l.a.createElement(Ue,Object.assign({},e,{_onChange:g,_validate:f,editor:d.current,errors:s})),l.a.createElement(qe,Object.assign({},e,{_onChange:g,editor:d.current,errors:s}))))})),Ue=l.a.memo((function(e){v.a._("WidgetPage","RENDER SectionWidget","development");var t=e._onChange,n=e._validate,a=e.editor,i=e.widget,c=Object(o.useState)(void 0!==e.widget.fullscreen&&i.fullscreen),s=Object(r.a)(c,2),u=s[0],d=s[1];return l.a.createElement(y.a.Fieldset,{label:"Widget-Box"},l.a.createElement(y.a.FieldsetItem,{columns:12},l.a.createElement(y.a.Switch,Object.assign({key:"fullscreen",id:"fullscreen"},xe.widgetFullscreen,{onChange:function(e,i){t(e,i);var r="("+b.a.t("fullscreen")+")";a.title||!0!==i?a.title===r&&!1===i&&n("title",""):t({id:"title"},r),d(i)},val:u}))),!0!==u&&l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a.FieldsetItem,{columns:4},l.a.createElement(y.a.Text,Object.assign({key:"title",id:"title"},xe.widgetTitle,{autoFocus:!0,onChange:t,val:a.title||""}))),l.a.createElement(y.a.FieldsetItem,{columns:4},l.a.createElement(y.a.Text,Object.assign({key:"icon",id:"icon"},xe.widgetIcon,{onChange:t,val:a.icon||""}))),l.a.createElement(y.a.FieldsetItem,{columns:4},l.a.createElement(y.a.Text,Object.assign({key:"iconStyle",id:"iconStyle"},xe.widgetIconStyle,{onChange:t,val:a.iconStyle?JSON.stringify(a.iconStyle):""})))))})),qe=l.a.memo((function(e){v.a._("WidgetPage","RENDER SectionModule","development");var t=e._onChange,n=Object(o.useState)(e.widget.module||m.a.get("DEFAULT_MODULE")),a=Object(r.a)(n,2),i=a[0],c=a[1];return l.a.createElement(y.a.Fieldset,{label:"Module"},l.a.createElement(y.a.FieldsetItem,null,l.a.createElement(y.a.Text,Object.assign({key:"module",id:"module"},xe.widgetModule,{autoComplete:!0,autoHighlight:!0,val:i,onChange:function(e,n){t(e,n),c(n)}}))),l.a.createElement(Ve,Object.assign({},e,{moduleConfigurations:i&&ke.ModuleConfigurations[i]||[]})),l.a.createElement(Ze,Object.assign({},e,{moduleSettings:i&&ke.ModuleSettings[i]||{}})))})),Ve=l.a.memo((function(e){v.a._("WidgetPage","RENDER ModuleConfig","development");var t=e._onChange,n=e.moduleConfigurations,a=e.errors,i=e.editor,r=n.map((function(e){a["moduleConfig."+e.parameter]||!0!==e.required||i.moduleConfig[e.parameter]||e.val||t({error:!0,id:"moduleConfig."+e.parameter},i.moduleConfig[e.parameter]||e.val||"");var n=y.a[e.type||"Text"];return l.a.createElement(y.a.FieldsetItem,{columns:4,key:"FieldsetItem-"+e.parameter},l.a.createElement(n,Object.assign({},e,{key:"moduleConfig-"+e.parameter,id:"moduleConfig."+e.parameter,label:e.label||e.parameter,info:e.description,onChange:t,val:void 0!==i.moduleConfig[e.parameter]?i.moduleConfig[e.parameter]:e.val})))}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a.FieldsetItem,{noPadding:!0},l.a.createElement(y.a.FieldsetLegend,{label:"Module Configuration",variant:"h4",divider:!1})),n.length>0?r:l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a.FieldsetItem,{noPadding:!0},l.a.createElement(d.a,null,b.a.t("No configuration available for this module"),"."))))})),Ze=l.a.memo((function(e){v.a._("WidgetPage","RENDER SectionDevices","development");var t=He(),n=e._onChange,a=e.moduleSettings,c=Object(o.useState)(e.widget.devices||[]),s=Object(r.a)(c,2),u=s[0],d=s[1],m=Object(o.useState)(""),g=Object(r.a)(m,2),f=g[0],p=g[1];if(Object(o.useEffect)((function(){n({id:"devices"},u)}),[n,u]),!a.devices)return null;var h=function(e,t){var n={type:e};"device"===e?n.deviceId=t.id:"group"===e&&(n.name=t),p(""),d((function(e){return[].concat(Object(S.a)(e),[n])}))},O=function(e,t,a){return n(t,a,e)},j=function(e,t){d((function(n){return Object(E.d)(Object(S.a)(n),t,e)}))},w=function(e){d((function(t){var n=Object(S.a)(t);return n.splice(e,1),n}))},k=Object(E.g)(Object.values(e.devices),"function"),x=u.map((function(e){return e.deviceId})),C=u.map((function(t,n){return l.a.createElement(Ye,Object.assign({},e,{key:t.type+"- "+(t.deviceId||t.name)+"-"+n,_addItem:h,_editItem:O,_moveItem:j,_deleteItem:w,device:e.devices[t.deviceId]||null,options:Object(i.a)(Object(i.a)({},t),{},{index:n}),devices:u}))}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a.FieldsetItem,{noPadding:!0},l.a.createElement(y.a.FieldsetLegend,{label:"Assigned Devices",variant:"h4",divider:!1})),l.a.createElement(y.a.Fieldset,{noPadding:!0},l.a.createElement(y.a.Fieldset,{noPadding:!0,className:t.sticky},l.a.createElement(y.a.FieldsetItem,{columns:3},l.a.createElement(y.a.Text,{width:"90%",key:"addDevice",id:"addDevice",label:"Add device",error:""!==f,errorMessage:f,autoComplete:!0,autoHighlight:!0,disableCloseOnSelect:!0,clearOnSelect:!0,clearOnBlur:!0,options:k,getOptionLabel:function(e){return b.a.t(e.function)+" "+e.name+(e.attributes&&e.attributes.manufacturer?" ("+e.attributes.manufacturer.name+")":"")},renderOption:function(e,n){var a=x.indexOf(e.id)>-1?x.filter((function(t){return t===e.id})).length:0;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Re.a,{badgeContent:a,classes:{badge:t.Badge},color:"primary"},l.a.createElement("span",{style:{fontSize:"0.8rem",paddingLeft:"24px"}},a>0?l.a.createElement("strong",null,e.name):e.name)))},onChange:function(e,t){if(t){var n=Object.keys(t.states||{});a.devicesStates&&a.devicesStates.requiredStates&&Array.isArray(a.devicesStates.requiredStates)&&a.devicesStates.requiredStates.some((function(e){return-1===n.indexOf(e)}))?p(b.a.t("Device needs one of the following states")+": "+a.devicesStates.requiredStates.join(", ")):h("device",t)}},groupBy:function(e){return b.a.t(e.function)},closeIcon:null,popupIcon:null})),Array.isArray(a.devices)&&a.devices.indexOf("group")>-1&&l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a.FieldsetItem,{columns:1,centered:!0},l.a.createElement("em",null,b.a.t("or"))),l.a.createElement(y.a.FieldsetItem,{columns:3},l.a.createElement(y.a.Text,{width:"90%",key:"addGroup",id:"addGroup",label:"Add group",onEnter:function(e,t){return t&&h("group",t)},clearOnEnter:!0,clearOnBlur:!0}))),Array.isArray(a.devices)&&a.devices.indexOf("divider")>-1&&l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a.FieldsetItem,{columns:1,centered:!0},l.a.createElement("em",null,b.a.t("or"))),l.a.createElement(y.a.FieldsetItem,{columns:3},l.a.createElement(y.a.Button,{key:"addDivider",id:"addDivider",label:"Add divider",onClick:function(){return h("divider")}})))),l.a.createElement(y.a.FieldsetItem,null,l.a.createElement(W.a,{classes:{root:t.fullWidth},dense:!0,disablePadding:!0},C))))})),Ye=l.a.memo((function(e){v.a._("WidgetPage","RENDER Device","development");var t=He(),n=e._editItem,i=e._moveItem,c=e._deleteItem,s=e.devices,u=e.device,d=e.options,m=e.moduleSettings,g=Object(o.useState)(null),f=Object(r.a)(g,2),p=f[0],h=f[1],E=d.deviceId,O=l.a.createElement(ze.a,{classes:{root:t.iconCentered}}),j=null;if("device"===d.type&&null!==u){if(E=l.a.createElement("span",{className:t.title},u.name+" ("+b.a.t(u.function)+", #"+u.id+")"),!m.DeviceActionsConfiguration){var k=Object.keys(u.states||{}).map((function(e){return Object(a.a)({},e,u.states[e].label||e)}));j=(!m.devicesStates||m.devicesStates&&!1!==m.devicesStates.selectable)&&l.a.createElement(A.a,{container:!0,spacing:1},l.a.createElement(A.a,{item:!0,xs:6},(!m.devicesStates||!m.devicesStates.selectable||m.devicesStates.selectable&&m.devicesStates.selectable.indexOf("primaryStateKey")>-1)&&l.a.createElement(y.a.Select,{id:"primaryStateKey",width:150,label:"Primary State Key",selection:k,val:void 0!==d.primaryStateKey?d.primaryStateKey:u.primaryStateKey,onChange:function(e,t){return n(d.index,e,t)},disabled:m.devicesStates&&m.devicesStates.disabled&&m.devicesStates.disabled.indexOf("primaryStateKey")>-1})),l.a.createElement(A.a,{item:!0,xs:6},!m.devicesStates||!m.devicesStates.selectable||m.devicesStates.selectable&&m.devicesStates.selectable.indexOf("secondaryStateKey")>-1?l.a.createElement(y.a.Select,{id:"secondaryStateKey",width:150,label:"Secondary State Key",selection:[{"":b.a.t("none")}].concat(Object(S.a)(k)),val:void 0!==d.secondaryStateKey?d.secondaryStateKey:u.secondaryStateKey,onChange:function(e,t){return n(d.index,e,t)},disabled:m.devicesStates&&m.devicesStates.disabled&&m.devicesStates.disabled.indexOf("secondaryStateKey")>-1}):l.a.createElement(Ge,{width:150})),m.devicesStates&&!0===m.devicesStates.lastUpdateOption&&l.a.createElement(A.a,{item:!0,xs:12},l.a.createElement(y.a.Switch,{id:"lastUpdate",label:"Display Last Update",val:void 0===d.lastUpdate||d.lastUpdate,onChange:function(e,t){return n(d.index,e,t)}})))}}else"group"===d.type?(O=l.a.createElement(Me.a,{classes:{root:t.iconCentered}}),E=l.a.createElement("span",{className:t.title},d.name)):"divider"===d.type&&(O=l.a.createElement(Ae.a,{classes:{root:t.iconCentered}}),E=l.a.createElement("em",{className:t.title},"("+b.a.t("divider")+")"));var x={device:u||{},options:s[d.index]||d,onChange:function(e,t){return n(d.index,e,t)},onConfig:function(e,t){return h(t)},elements:{Icon:O,Device:E,Actions:j}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Qe,{_onChange:function(e,t){return n(d.index,e,t)},config:p}),l.a.createElement(M.a,{key:"Device-"+(d.deviceId||d.type)+"-"+d.index,divider:!0,classes:{container:t.height}},l.a.createElement(A.a,{container:!0,item:!0,xs:1},l.a.createElement("div",{className:t.iconContainer},l.a.createElement(w.a,{size:"small",onClick:function(){return i("up",d.index)}},l.a.createElement(V.a,null)),l.a.createElement(w.a,{size:"small",onClick:function(){return i("down",d.index)}},l.a.createElement(Y.a,null))),l.a.createElement(w.a,{size:"small",onClick:function(){return c(d.index)},style:{height:"30px",margin:"auto 0 auto 8px"}},l.a.createElement(X.a,null))),l.a.createElement(A.a,{item:!0,xs:6},m.DeviceBodyConfiguration?l.a.createElement(m.DeviceBodyConfiguration,x):l.a.createElement(l.a.Fragment,null,O," ",E)),l.a.createElement(A.a,{item:!0,xs:5},m.DeviceActionsConfiguration?l.a.createElement(m.DeviceActionsConfiguration,x):j)))})),Qe=l.a.memo((function(e){v.a._("WidgetPage","RENDER ComponentConfig","development");var t=e._onChange,n=e.config,a=Object(o.useState)(!1),i=Object(r.a)(a,2),c=i[0],s=i[1];if(Object(o.useEffect)((function(){s(null!==n)}),[n]),null===n)return null;var u=Object.keys(n).map((function(e){var a=n[e];return l.a.createElement(M.a,{key:"Config-"+e,divider:!0},l.a.createElement(H.a,{primary:a.label||e}),l.a.createElement(K.a,null,l.a.createElement(y.a.Text,{key:"componentConfig."+e,id:"componentConfig."+e,width:100,inputProps:{style:{textAlign:"right"}},onChange:function(e,n){return t(e,n)},val:a.value||a})))}));return l.a.createElement(h.a,{header:b.a.t("Component configuration"),actions:l.a.createElement(y.a.Button,{key:"action-save",variant:"text",onClick:function(){return s(!1)},color:"primary",label:"Apply"}),dense:!0,maxWidth:"xs",fullWidth:!0,open:c,onClose:function(){return s(!1)}},l.a.createElement(W.a,{dense:!0,disablePadding:!0},u))})),Xe=Object($.a)((function(e){return{deleteButton:{marginTop:"20px"},tabs:{marginBottom:"10px"},tab:{padding:e.spacing(3,2)},iconContainer:{flexDirection:"column",alignItems:"center"},columnContainer:{marginTop:e.spacing(2)},column:{width:250,margin:e.spacing(1,1),borderRight:"1px solid rgba(0, 0, 0, 0.12)",borderLeft:"1px solid rgba(0, 0, 0, 0.12)"},DialogActions:{justifyContent:"initial"},alignRight:{display:"flex",justifyContent:"flex-end","& > :not(:first-child)":{marginLeft:8}}}}));b.a.setTranslations((function(e){return n(2111)("./"+e)}));var $e=l.a.memo((function(e){v.a._("LayoutsPage","RENDER LayoutsPage","development");var t=Object(o.useRef)(Array.isArray(e.layout)&&e.layout.length>0&&e.layout||[{title:"",tabs:[]}]),n=function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n(t.current),a&&a(),console.log(t.current),e._onLayoutsChange(t.current)},a=t.current.map((function(a,r){return a?(a.id=a.title.toLowerCase().replace(/ /g,"")+r,l.a.createElement(et,Object.assign({},e,{key:"Drawer-"+a.id,_setLayout:n,layout:t.current,drawer:Object(i.a)(Object(i.a)({},a),{},{index:r,id:a.id})}))):null}));return l.a.createElement(c.a,null,a)}),(function(e,t){return!0!==t.selected})),et=l.a.memo((function(e){v.a._("LayoutsPage","RENDER Drawer "+e.drawer.id,"development");var t=Xe(),n=e._setLayout,c=Object(o.useState)(e.drawer||{}),s=Object(r.a)(c,2),u=s[0],d=s[1],m=Object(o.useRef)(!0);Object(o.useEffect)((function(){!1===m.current&&n((function(e){var t=Object(S.a)(e||[]);return t[u.index]=u,t})),m.current=!1;var e=document.getElementById("Drawer-"+u.id+"-Tab-"+b.a.t("add tab").toLowerCase().replace(/ /g,"")+(u.tabs.length-1));e&&(document.getElementById("DialogContent").scrollTop=e.offsetTop)}),[n,u]);var g=function(e){d((function(t){var n=Object(i.a)({},t);return n.tabs.splice(e,1),n}))},f=function(e,t){return function(n){n.stopPropagation(),d((function(n){var a=Object(i.a)({},n);return a.tabs=Object(E.d)(Object(S.a)(a.tabs||[]),t,e),a}))}},p=u.tabs.map((function(t,n){return t?(t.id=Object(j.a)(),l.a.createElement(tt,Object.assign({},e,{key:"Tab-"+t.id,tab:Object(i.a)(Object(i.a)({},t),{},{index:n,id:t.title.toLowerCase().replace(/ /g,"")+n}),_moveTab:f,_deleteTab:g}))):null}));return l.a.createElement(W.a,{className:t.tabs,key:"Drawer-"+u.id,id:"Drawer-"+u.id},l.a.createElement(M.a,{divider:!0,classes:{root:t.tab}},l.a.createElement(G.a,{classes:{root:t.iconContainer}},l.a.createElement(De.a,null)),l.a.createElement(H.a,{disableTypography:!0,primary:[l.a.createElement(y.a.Button,{key:"Input-addTabs",id:"Input-addTabs",label:"add tab",onClick:function(){d((function(e){var t=Object(i.a)({},e);return t.tabs.push({title:b.a.t("add tab"),icon:"home",columns:[[]]}),t}))}}),l.a.createElement(y.a.Switch,Object.assign({key:"Input-tabsHideLabels",id:"tabsHideLabels"},xe.tabsHideLabels,{onChange:function(t,n){var i=t.id;return e.onChange(null,Object(a.a)({},i,n))},val:e.settings.tabsHideLabels}))]})),p)})),tt=l.a.memo((function(e){v.a._("LayoutsPage","RENDER Tab "+e.tab.id,"development");var t=Xe(),n=e._setLayout,c=e.drawer,s=Object(o.useState)(e.tab||{}),u=Object(r.a)(s,2),d=u[0],m=u[1],g=Object(o.useRef)(!0);Object(o.useEffect)((function(){!1===g.current&&n((function(e){var t=Object(S.a)(e||[]);return t[c.index].tabs[d.index]=d,t})),g.current=!1}),[n,c.index,d]);var f=function(e,t){return function(e,t){var n=e.id;"icon"!==(n=n.substr(0,n.indexOf("-")))&&"title"!==n||d[n]===t?"fullscreen"===n&&m((function(e){var t=Object(i.a)({},e);return void 0!==t._fullscreen?(t.columns=[[t._fullscreen]],delete t._fullscreen):(t._fullscreen=t.columns&&t.columns[0]&&t.columns[0][0]||null,delete t.columns),t})):m((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(a.a)({},n,t))}))}},b=function(e){m((function(t){var n=Object(i.a)({},t||{});return n.columns.splice(e,1),n}))},p=function(e,t){m((function(n){var a=Object(i.a)({},n||{});return a.columns=Object(E.d)(Object(S.a)(a.columns||[]),t,e),a}))},h=1,O=d.columns&&d.columns[1]&&d.columns[1].length||0,k=[];if(void 0!==d._fullscreen){var x={id:Object(j.a)(),index:"fullscreen",widgets:d._fullscreen?[d._fullscreen]:[]};k.push(l.a.createElement(nt,Object.assign({},e,{key:"Column-"+x.id,column:x,tab:d})))}else h=d.columns.length,k=d.columns.map((function(t,n){var a={id:Object(j.a)(),index:n,widgets:t};return l.a.createElement(nt,Object.assign({},e,{key:"Column-"+a.id,_moveColumn:p,_deleteColumn:b,column:a,tab:d}))}));return l.a.createElement(M.a,{id:"Drawer-"+c.id+"-Tab-"+d.id,divider:d.index!==e.layout[c.index].tabs.length-1,classes:{root:t.tab}},l.a.createElement(G.a,{classes:{root:t.iconContainer}},l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a,{size:"small",onClick:e._moveTab("up",d.index)},l.a.createElement(V.a,null)),l.a.createElement(w.a,{size:"small",onClick:e._moveTab("down",d.index)},l.a.createElement(Y.a,null)),l.a.createElement(w.a,{size:"small",onClick:function(){return e._deleteTab(d.index)},classes:{root:t.deleteButton}},l.a.createElement(X.a,null)))),l.a.createElement(H.a,{disableTypography:!0,primary:[l.a.createElement(y.a.Text,Object.assign({key:"Input-tabIcon-"+d.id,id:"icon-"+d.index},xe.tabIcon,{onBlur:f(c.index,d.index),val:d.icon||"",icon:d.icon?d.icon.replace("mdi-",""):""})),l.a.createElement(y.a.Text,Object.assign({key:"Input-tabTitle-"+d.id,id:"title-"+d.index},xe.tabTitle,{onBlur:f(c.index,d.index),val:d.title||""})),l.a.createElement(y.a.Button,{key:"Input-tabAddColumn-"+d.id,id:"tabAddColumn-"+d.index,label:"add column",disabled:void 0!==d._fullscreen,onClick:function(){m((function(e){var t=Object(i.a)({},e||{});return t.columns.push([]),t}))}}),l.a.createElement(y.a.Switch,Object.assign({key:"Input-tabFullscreen-"+d.id,id:"fullscreen-"+d.index},xe.tabFullscreen,{disabled:h>1||O>1,onChange:f(c.index,d.index),val:void 0!==d._fullscreen})),l.a.createElement(A.a,{key:"Tab-"+d.id+"-ColumnContainer",classes:{root:t.columnContainer},container:!0},k)]}))})),nt=l.a.memo((function(e){v.a._("LayoutsPage","RENDER Column "+e.column.index,"development");var t=Xe(),n=e._setLayout,a=e.drawer,c=e.tab,s=Object(o.useState)(e.column),u=Object(r.a)(s,2),d=u[0],g=u[1],f=Object(o.useState)(null),p=Object(r.a)(f,2),h=p[0],y=p[1],O=Object(o.useRef)(!0);Object(o.useEffect)((function(){!1===O.current&&n((function(e){var t=Object(S.a)(e||[]);return"fullscreen"===d.index?(t[a.index].tabs[c.index]._fullscreen=d.widgets[0],delete t[a.index].tabs[c.index].columns):t[a.index].tabs[c.index].columns[d.index]=d.widgets,t})),O.current=!1}),[n,a.index,c.index,d]);var k,x=function(e){return y(e)},C=function(e,t){return function(n){n.stopPropagation(),g((function(n){var a=Object(i.a)({},n||{});return a.widgets=Object(E.d)(Object(S.a)(a.widgets||[]),t,e),a}))}};return k=d.widgets.map((function(t,n){return null!==t?(t.id=Object(j.a)(),t.index=n,t.module=t.module||m.a.get("DEFAULT_MODULE"),l.a.createElement(at,Object.assign({},e,{key:"Widget-"+t.id,widget:t,_moveWidget:C,_openWidget:x}))):null})),l.a.createElement(l.a.Fragment,null,null!==h&&l.a.createElement(Je,{devices:e.devices,widget:h,onSave:function(e){var t=e.index;delete e.index,y(null),g((function(n){var a=Object(i.a)({},n||{});return"fullscreen"===d.index?a.widgets[0]=e:t>=0?a.widgets[t]=e:a.widgets.push(e),a}))},onDelete:function(e){y(null),g((function(t){var n=Object(i.a)({},t||{});return n.widgets.splice(e,1),n}))},onClose:function(){return y(null)}}),l.a.createElement(A.a,{className:t.column,item:!0},l.a.createElement(W.a,null,void 0===c._fullscreen&&l.a.createElement(l.a.Fragment,null,l.a.createElement(M.a,{divider:!0,dense:!0},l.a.createElement(G.a,{classes:{root:t.iconContainer}},l.a.createElement(w.a,{size:"small",onClick:function(){return e._moveColumn("up",d.index)}},l.a.createElement(Ie.a,null))),l.a.createElement(H.a,{primary:b.a.t("move column")}),l.a.createElement(K.a,null,l.a.createElement(w.a,{size:"small",onClick:function(){return e._moveColumn("down",d.index)}},l.a.createElement(Le.a,null)))),l.a.createElement(M.a,{onClick:function(){return e._deleteColumn(d.index)},button:!0,divider:!0,dense:!0},l.a.createElement(G.a,{classes:{root:t.iconContainer}},l.a.createElement(w.a,{size:"small"},l.a.createElement(X.a,null))),l.a.createElement(H.a,{primary:b.a.t("delete column")}))),(void 0===c._fullscreen||void 0!==c._fullscreen&&d.widgets.length<1)&&l.a.createElement(M.a,{onClick:function(){return x({module:m.a.get("DEFAULT_MODULE")})},button:!0,divider:!0,dense:!0},l.a.createElement(G.a,{classes:{root:t.iconContainer}},l.a.createElement(w.a,{size:"small"},l.a.createElement(I.a,null))),l.a.createElement(H.a,{primary:b.a.t("add widget")})),k)))})),at=l.a.memo((function(e){v.a._("LayoutsPage","RENDER Widget "+e.widget.index,"development");var t=Xe(),n=e.widget;return l.a.createElement(M.a,{onClick:function(){return e._openWidget(n)},button:!0,divider:!0},e.tab._fullscreen?l.a.createElement(G.a,{classes:{root:t.iconContainer}},l.a.createElement(Ne.a,null)):l.a.createElement(G.a,{classes:{root:t.iconContainer}},l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a,{size:"small",onClick:e._moveWidget("up",n.index)},l.a.createElement(V.a,null)),l.a.createElement(w.a,{size:"small",onClick:e._moveWidget("down",n.index)},l.a.createElement(Y.a,null)))),l.a.createElement(H.a,{primary:l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{display:"block"},n.title),l.a.createElement(d.a,{variant:"subtitle2"},"(",n.module,")"))}))}),(function(e,t){return e.widget.index===t.widget.index&&e.widget.title===t.widget.title&&e.widget.module===t.widget.module})),it=n(1521),rt=Object($.a)((function(e){return{heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}}));b.a.setTranslations((function(e){return n(2116)("./"+e)}));var ot=l.a.memo((function(e){return v.a._("SettingsPage","RENDER SettingsPage","development"),Object.keys(it.default).map((function(t){return l.a.createElement(lt,Object.assign({key:"Panel-"+t,panel:Object(i.a)({key:t},it.default[t])},e))}))}),(function(e,t){return!0!==t.selected})),lt=l.a.memo((function(e){v.a._("SettingsPage","RENDER Panel","development");var t=e.panel,n=e._onSettingsChange,a=rt(),i=p.a.getSettings(),c=Object(o.useState)(!1),s=Object(r.a)(c,2),u=s[0],m=s[1],g=function(e,t){p.a.setSetting(e.id,t),n&&n(p.a.getSettings())},f=Object.keys(t.settings).map((function(n){var a=t.settings[n],r=y.a[a.type||"Text"];return l.a.createElement(A.a,{item:!0,key:"Input-"+t.key+"-"+n},l.a.createElement(r,Object.assign({},a,{id:n,onChange:g,val:void 0!==e.settings[n]?e.settings[n]:void 0!==i[n]?i[n]:a.val})))}));return l.a.createElement(se.a,{key:"Accordion-"+t.key,expanded:u,onChange:function(e,t){return m(t)}},l.a.createElement(ue.a,{expandIcon:l.a.createElement(be.a,null),id:"panel-header-"+t.key},l.a.createElement(d.a,{className:a.heading},b.a.t(t.label)),t.description&&l.a.createElement(d.a,{className:a.secondaryHeading},b.a.t(t.description))),l.a.createElement(de.a,null,l.a.createElement(A.a,{container:!0,spacing:2},f)))})),ct=Object($.a)((function(e){return{paper:{marginBottom:"10px"},pinToTop:{position:"absolute",top:0,left:0},title:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),marginBottom:e.spacing(1),minHeight:"64px",display:"flex",position:"relative",alignItems:"center"},rawEditor:{fontFamily:"Roboto Mono,Consolas,Courier New,monospace !important"}}}));b.a.setTranslations((function(e){return n(2117)("./"+e)}));var st=l.a.memo((function(e){v.a._("ConfigurationPage","RENDER ConfigurationPage","development");var t=Object(o.useRef)(f.a.getDevices({raw:!0,copy:!0})),n=Object(o.useRef)(p.a.getSettings(["iobroker"])),E=Object(o.useRef)(p.a.getLayout()),O=Object(o.useState)({}),S=Object(r.a)(O,2),j=S[0],w=S[1],k=Object(o.useState)(!1),x=Object(r.a)(k,2),C=x[0],D=x[1],_=Object(o.useState)("devices"),I=Object(r.a)(_,2),T=I[0],L=I[1],F=Object(o.useState)(!1),N=Object(r.a)(F,2),R=N[0],B=N[1],z=function(e){return t.current=e},P=function(e){return n.current=e},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&(E.current=e),n.current=Object(i.a)(Object(i.a)({},n.current),t)},W=function(e,t){try{w((function(t){var n=Object(i.a)({},t);return delete n[e.id],n})),t=JSON.parse(t),"devices"===e.type?z(t):"layout"===e.type?A(t):"settings"===e.type&&P(t)}catch(n){w((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(a.a)({},e.id,b.a.t("Invalid JSON format")))}))}},M=function(){return e.navigate("home")},G=ct();return l.a.createElement(h.a,{classes:{CustomDialog:G.pinToTop},fullWidth:!0,maxWidth:!1,open:"configuration"===e.page,onClose:M,header:[l.a.createElement(d.a,{key:"header",variant:"h6"},b.a.t("Configuration"),l.a.createElement(y.a.SwitchInline,{key:"Input-expertMode",id:"expertMode",size:"small",label:"Expert mode",onChange:function(e,t){D(t),L((function(e){return t?e+"Raw":e.substr(0,e.length-3)}))},val:C})),l.a.createElement(s.a,{key:"tabs",value:T,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return L(t)}},!0===C&&l.a.createElement(u.a,{value:"devicesRaw",label:b.a.t("Devices")}),!0===C&&l.a.createElement(u.a,{value:"layoutRaw",label:b.a.t("Layout")}),!0===C&&l.a.createElement(u.a,{value:"settingsRaw",label:b.a.t("Settings")}),!0!==C&&l.a.createElement(u.a,{value:"devices",label:b.a.t("Devices")}),!0!==C&&l.a.createElement(u.a,{value:"layout",label:b.a.t("Layout")}),!0!==C&&l.a.createElement(u.a,{value:"settings",label:b.a.t("Settings")}))],actions:[l.a.createElement(y.a.Button,{key:"action-cancel",variant:"text",onClick:M,color:"secondary",label:"Cancel"}),l.a.createElement(y.a.Button,{key:"action-save",width:"auto",variant:"contained",onClick:function(){B(!0);var e=g.a.getConnection,a=[e.setState(m.a.get("NODE_SETTINGS"),JSON.stringify(n.current)),e.setState(m.a.get("NODE_LAYOUT"),JSON.stringify(E.current)),e.setState(m.a.get("NODE_DEVICES"),JSON.stringify(t.current))];Promise.all(a).then((function(){return window.location.reload()})).catch((function(e){return console.error(e)}))},color:"primary",startIcon:null,disabled:!0===R||Object.keys(j).length>0,label:"Save"})]},l.a.createElement("div",{hidden:"devices"!==T,style:{width:"100%"}},"devices"===T&&l.a.createElement(Se,{selected:"devices"===T,_onLayoutsChange:A,_onDevicesChange:z,layout:E,devices:t.current})),l.a.createElement(ut,{expertMode:C,tab:T,errors:j,type:"devices",onRawChange:W,val:t.current}),l.a.createElement("div",{hidden:"layout"!==T,style:{width:"100%"}},l.a.createElement(c.a,null,l.a.createElement(d.a,{className:G.title,variant:"h6"},b.a.t("Layout"))),"layout"===T&&l.a.createElement($e,{selected:"layout"===T,_onLayoutsChange:A,layout:E.current,devices:t.current,settings:n.current})),l.a.createElement(ut,{expertMode:C,tab:T,errors:j,type:"layout",onRawChange:W,val:E.current}),l.a.createElement("div",{hidden:"settings"!==T,style:{width:"100%"}},l.a.createElement(c.a,{className:G.title},l.a.createElement(d.a,{variant:"h6"},b.a.t("Settings"))),"settings"===T&&l.a.createElement(ot,{selected:"settings"===T,_onSettingsChange:P,settings:n.current})),l.a.createElement(ut,{expertMode:C,tab:T,errors:j,type:"settings",onRawChange:W,val:n.current}))})),ut=l.a.memo((function(e){var t=ct(),n=e.expertMode,a=e.tab,s=e.errors,u=e.type,m=e.onRawChange,g=e.val,f=Object(o.useState)(200),v=Object(r.a)(f,2),p=v[0],h=v[1];return Object(o.useEffect)((function(){var e=document.getElementById(a)||{scrollHeight:200};h(e.scrollHeight)}),[a]),!0!==n?null:l.a.createElement("div",{hidden:a!==u+"Raw",style:{width:"100%"}},l.a.createElement(c.a,{className:t.paper},l.a.createElement(d.a,{className:t.title,variant:"h6"},b.a.t("JSON Editor")+" "+b.a.t(Object(E.b)(u))),l.a.createElement(y.a.Text,{inputId:u+"Raw",label:["JSON Editor",void 0!==s[u+"Raw"]?" ("+s[u+"Raw"]+")":""],InputProps:{disableUnderline:!0,className:t.rawEditor},inputProps:{style:{height:p}},multiline:!0,width:"99%",error:void 0!==s[u+"Raw"],onChange:function(e,t){return m(Object(i.a)(Object(i.a)({},e),{},{type:u}),t)},val:JSON.stringify(g||{},null,3)})))}))},2179:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var a=n(0),i=n.n(a),r=n(7),o=n(857),l=n(107),c=n(154),s=n(52),u=n(2200),d=n(48),m=n(64),g=Object(m.a)((function(e){return{Paper:{padding:e.spacing(2)},Avatar:{borderRadius:"50%",border:"3px solid #eee"}}})),f=n(2118)();function b(e){var t=g(),a=n(2174),m=n(2175),b=["donation#TextFeatures","donation#TextBugs","donation#TextFeedback","donation#TextSupport","donation#TextGreetings"].map((function(e){return i.a.createElement("div",{dangerouslySetInnerHTML:{__html:f.render(r.a.t(e))}})}));return i.a.createElement(o.a,{fullWidth:!0,maxWidth:"md",open:"donation"===e.page,onClose:function(){return e.navigate("home")},disableBackdropClick:!1,disableEscapeKeyDown:!1,header:r.a.t("Support the development of jarvis"),actions:i.a.createElement(l.a,{onClick:function(){return e.navigate("home")},color:"primary"},r.a.t("Close"))},i.a.createElement(c.a,{classes:{root:t.Paper}},i.a.createElement(s.a,{container:!0},i.a.createElement(s.a,{container:!0,item:!0,xs:3,justify:"center"},i.a.createElement("img",{alt:"Zefau",src:a,className:t.Avatar,width:"126",height:"126"})),i.a.createElement(s.a,{item:!0,xs:9},i.a.createElement(d.a,null,i.a.createElement(u.a,{target:"_blank",href:"https://forum.iobroker.net/user/zefau"},"@Zefau (Profil)")," | ",i.a.createElement(u.a,{target:"_blank",href:"https://zefau.github.io/iobroker/"},r.a.t("Overview of my adapters")),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,r.a.t("donation#TextIntro")),i.a.createElement("br",null),b),i.a.createElement(u.a,{target:"_blank",href:"https://paypal.me/chvoelkel"},i.a.createElement("img",{alt:"Paypal",src:m}))))))}r.a.setTranslations((function(e){return n(2173)("./"+e)}))},2189:function(e,t,n){"use strict";n.r(t),t.default={configuration:n(2178).default,donation:n(2179).default,logs:n(2176).default}}}]);
//# sourceMappingURL=4.a646742e.chunk.js.map