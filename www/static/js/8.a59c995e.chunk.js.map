{"version":3,"sources":["pages/Joyride/i18n/de.js","pages/Joyride/i18n/en.js","pages/Joyride/i18n sync /^/.*$","config/joyride.js","components/Joyride.js","pages/Joyride/Joyride.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","_clone","require","INTRODUCTION_STEPS","target","placement","title","content","secondaryButton","secondaryAction","props","setRun","document","getElementById","click","primaryButton","primaryAction","devices","deviceList","Devices","importDevices","config","get","concat","then","result","forEach","res","status","device","value","function","push","layout","layoutTemplate","weather","Cache","tabs","columns","moduleConfig","affiliate_id","localidad","tplWidget","func","widget","uuid","i18n","t","icon","states","d","power","level","column","socket","Connection","getConnection","promises","setState","JSON","stringify","Settings","getSettings","Promise","all","window","location","reload","catch","err","console","error","Log","_","message","LinearProgress","buttons","DASHBOARD_STEPS","disableBeacon","spotlightClicks","useStyles","makeStyles","theme","button","marginLeft","spacing","grow","flexGrow","margin","lineHeight","closeButton","top","color","right","position","closeButtonOnArrow","CardTitle","display","padding","flex","CardContent","minWidth","borderTop","palette","divider","borderBottom","CardActions","alignItems","justifyContent","md","children","classes","className","JarvisJoyride","useState","run","continuous","disableOverlayClose","scrollOffset","steps","tooltipComponent","componentProps","index","step","isLastStep","backProps","skipProps","closeProps","primaryProps","tooltipProps","buttonProps","onClick","log","dangerouslySetInnerHTML","__html","render","Card","open","Typography","variant","style","IconButton","root","clsx","indexOf","dividers","Button","TooltipComponent","setTranslations","language"],"mappings":"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","file":"static/js/8.a59c995e.chunk.js","sourcesContent":["export default {\r\n\t\"#introduction.title\": \"Willkommen zu jarvis\",\r\n\t\"#introduction.content\": \"jarvis ist eine Material Design Visualisierung, die auf [Material UI](https://material-ui.com/) basiert. jarvis gibt eine Struktur und Module vor, die zur Visualisierung genutzt werden, aber sehr flexibel konfiguriert werden können.\\n\\r\" +\r\n\t\t\"jarvis ist [*responsive*](https://de.wikipedia.org/wiki/Responsive_Webdesign) und passt sich der Größe des Screens an.\\n\\r\" +\r\n\t\t\"Das Layout ist flexibel konfigurierbar. Es können optional (beliebig viele) Tabs verwendet werden. Jeder Tab kann entweder `fullscreen` sein oder beliebig viele `columns` haben, die die einzelnen `modules` in flexibler Reihenfolge beinhalten.\\n\\r\" +\r\n\t\t\"Jedes Modul hat spezielle Konfigurationsmöglichkeiten ([siehe Wiki je Modul](https://github.com/Zefau/ioBroker.jarvis/wiki/de-Modules#liste-der-module)).\",\r\n\t\r\n\t\"#settings.title\": \"Die erste jarvis erstellen\",\r\n\t\"#settings.content\": \"Direkt nach der Installation sieht dein jarvis natürlich noch sehr leer aus. Über das Zahnrad kannst du deine jarvis erstellen.\\n\\nWenn du möchtest, kann eine erste Visualisierung automatisch auf Basis deiner Geräte generiert werden? Diese kann im Nachgang natürlich frei bearbeitet werden.\",\r\n\t\"#settings.buttons.manually\": \"manuell erstellen\",\r\n\t\"#settings.buttons.automatically\": \"automatisch generieren\",\r\n\t\r\n\t\"#jarvis.title\": \"Suche Geräte und erstelle jarvis...\"\r\n}","export default {\r\n\t\"#introduction.title\": \"Welcome to jarvis\",\r\n\t\"#introduction.content\": \"\",\r\n\t\r\n}","var map = {\n\t\"./de\": 2070,\n\t\"./de.js\": 2070,\n\t\"./en\": 2071,\n\t\"./en.js\": 2071\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 2180;","import React from 'react'\r\nimport { v4 as uuid } from 'uuid'\r\n\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\n\r\nimport config from './config'\r\nimport layoutTemplate from './template.layout.json'\r\n\r\nimport Cache from '../controller/Cache'\r\nimport Connection from '../controller/Connection'\r\nimport Devices from '../controller/Devices'\r\nimport i18n from '../controller/i18n'\r\nimport Log from '../controller/Log'\r\nimport Settings from '../controller/Settings'\r\n\r\n\r\nconst _clone = require('rfdc')();\r\n\r\n/*\r\n * INTRODUCTION_STEPS\r\n */\r\nexport const INTRODUCTION_STEPS = [\r\n\t{\r\n\t\ttarget: 'body',\r\n\t\tplacement: 'center',\r\n\t\ttitle: '#introduction.title',\r\n\t\tcontent: '#introduction.content'\r\n\t},\r\n\t{\r\n\t\ttarget: '#SettingsButton',\r\n\t\ttitle: '#settings.title',\r\n\t\tcontent: '#settings.content',\r\n\t\tsecondaryButton: '#settings.buttons.manually',\r\n\t\tsecondaryAction: props => {\r\n\t\t\tprops.setRun(false);\r\n\t\t\tdocument.getElementById('SettingsButton').click();\r\n\t\t},\r\n\t\tprimaryButton: '#settings.buttons.automatically',\r\n\t\tprimaryAction: props => {\r\n\t\t\tlet devices = {}\r\n\t\t\tlet deviceList = {}\r\n\t\t\t\r\n\t\t\tDevices.importDevices(config.get('DEFAULT_ADAPTERIMPORT').concat(['daswetter']))\r\n\t\t\t\t.then(result => {\r\n\t\t\t\t\tresult.forEach(res => {\r\n\t\t\t\t\t\tif (res.status === 'fulfilled') {\r\n\t\t\t\t\t\t\tlet device = res.value;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tdevices[device.function] = devices[device.function] || [];\r\n\t\t\t\t\t\t\tdevices[device.function].push(device);\r\n\t\t\t\t\t\t\tdeviceList[device.id] = device;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t// get layout from template\r\n\t\t\t\t\tlet layout = _clone(layoutTemplate);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// change config of Weather module\r\n\t\t\t\t\tconst weather = Cache.get('daswetter');\r\n\t\t\t\t\tlayout[0].tabs[0].columns[0][1].moduleConfig = {\r\n\t\t\t\t\t\t\"apikey\": weather.affiliate_id,\r\n\t\t\t\t\t\t\"localid\": weather.localidad\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// define widget template\r\n\t\t\t\t\tconst tplWidget = {\r\n\t\t\t\t\t\t\"moduleConfig\": {},\r\n\t\t\t\t\t\t\"devices\": [],\r\n\t\t\t\t\t\t\"module\": \"StateList\",\r\n\t\t\t\t\t\t\"title\": \"\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// define functions which devices shall be adapted\r\n\t\t\t\t\tconst widgetFunctions = [\r\n\t\t\t\t\t\t{ 'function': 'light', 'icon': 'mdi-lightbulb-on', 'column': 1 },\r\n\t\t\t\t\t\t{ 'function': 'blind', 'icon': 'mdi-window-shutter-open', 'column': 2 },\r\n\t\t\t\t\t\t{ 'function': 'heating', 'icon': 'mdi-radiator', 'column': 2 },\r\n\t\t\t\t\t\t{ 'function': 'window', 'icon': 'mdi-window-closed-variant', 'column': 2 }\r\n\t\t\t\t\t];\r\n\t\t\t\t\t\r\n\t\t\t\t\t// add devices\r\n\t\t\t\t\twidgetFunctions.forEach(func => {\r\n\t\t\t\t\t\tlet widget = _clone(tplWidget);\r\n\t\t\t\t\t\twidget.id = uuid();\r\n\t\t\t\t\t\twidget.title = i18n.t(func.function);\r\n\t\t\t\t\t\twidget.icon = func.icon;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdevices[func.function] = devices[func.function] || [];\r\n\t\t\t\t\t\tfor (let device of devices[func.function]) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (!device.states) {\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet d = {\r\n\t\t\t\t\t\t\t\t\"type\": \"device\",\r\n\t\t\t\t\t\t\t\t\"deviceId\": device.id\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (device.function === 'light') {\r\n\t\t\t\t\t\t\t\td = {\r\n\t\t\t\t\t\t\t\t\t...d,\r\n\t\t\t\t\t\t\t\t\t\"actionType\": \"action\",\r\n\t\t\t\t\t\t\t\t\t\"actionElement\": \"SwitchAction\", \r\n\t\t\t\t\t\t\t\t\t\"primaryStateKey\": device.states && device.states.power ? 'power' : (device.states && device.states.level ? 'level' : '')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (device.function === 'blind') {\r\n\t\t\t\t\t\t\t\td = {\r\n\t\t\t\t\t\t\t\t\t...d,\r\n\t\t\t\t\t\t\t\t\t\"actionType\": \"action\",\r\n\t\t\t\t\t\t\t\t\t\"actionElement\": \"BlindLevelAction\", \r\n\t\t\t\t\t\t\t\t\t\"primaryStateKey\": \"level\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (device.function === 'heating') {\r\n\t\t\t\t\t\t\t\td = {\r\n\t\t\t\t\t\t\t\t\t...d,\r\n\t\t\t\t\t\t\t\t\t\"primaryStateKey\": \"temperature\",\r\n\t\t\t\t\t\t\t\t\t\"secondaryStatesKeys\": [\r\n\t\t\t\t\t\t\t\t\t\t\"setTemperature\",\r\n\t\t\t\t\t\t\t\t\t\t\"humidity\"\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (device.function === 'window') {\r\n\t\t\t\t\t\t\t\td = {\r\n\t\t\t\t\t\t\t\t\t...d,\r\n\t\t\t\t\t\t\t\t\t\"primaryStateKey\": \"open\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\twidget.devices.push(d);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlayout[0].tabs[0].columns[func.column].push(widget);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t// save\r\n\t\t\t\t\tconst socket = Connection.getConnection;\r\n\t\t\t\t\tconst promises = [\r\n\t\t\t\t\t\tsocket.setState(config.get('NODE_LAYOUT'), JSON.stringify(layout)),\r\n\t\t\t\t\t\tsocket.setState(config.get('NODE_DEVICES'), JSON.stringify(deviceList)),\r\n\t\t\t\t\t\tsocket.setState(config.get('NODE_SETTINGS'), JSON.stringify({ ...Settings.getSettings(), 'joyrideIntroduction': true }))\r\n\t\t\t\t\t];\r\n\t\t\t\t\t\r\n\t\t\t\t\tPromise.all(promises)\r\n\t\t\t\t\t\t.then(() => window.location.reload())\r\n\t\t\t\t\t\t.catch(err => console.error(err));\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\tLog._('Joyride', 'IMPORT_DEVICES: ' + err.message, 'error');\r\n\t\t\t\t});\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\ttarget: 'body',\r\n\t\tplacement: 'center',\r\n\t\ttitle: '#jarvis.title',\r\n\t\tcontent: <LinearProgress />,\r\n\t\tbuttons: false\r\n\t}\r\n];\r\n\r\n\r\n/*\r\n * DASHBOARD_STEPS\r\n */\r\nexport const DASHBOARD_STEPS = [\r\n\t{\r\n\t\tdisableBeacon: true,\r\n\t\tplacement: 'auto',\r\n\t\t\r\n\t\ttarget: '.Module-StateList:nth-child(1)',\r\n\t\ttitle: '#Widget.title',\r\n\t\tcontent: '#Widget.content'\r\n\t},\r\n\t{\r\n\t\tdisableBeacon: true,\r\n\t\tplacement: 'auto',\r\n\t\t\r\n\t\ttarget: '.Module-StateList:nth-child(1) .CardHeader',\r\n\t\ttitle: '#WidgetHeader.title',\r\n\t\tcontent: '#WidgetHeader.content'\r\n\t},\r\n\t{\r\n\t\tdisableBeacon: true,\r\n\t\tplacement: 'auto',\r\n\t\tspotlightClicks: true,\r\n\t\tbuttons: false,\r\n\t\t\r\n\t\ttarget: '.Module-StateList:nth-child(1) .CardContent .MuiListItem-container',\r\n\t\ttitle: '#WidgetContent.title',\r\n\t\tcontent: '#WidgetContent.content'\r\n\t},\r\n\t{\r\n\t\tdisableBeacon: true,\r\n\t\tplacement: 'auto',\r\n\t\tspotlightClicks: true,\r\n\t\t\r\n\t\ttarget: '.Module-StateList:nth-child(1)',\r\n\t\ttitle: '#widget.title',\r\n\t\tcontent: '#widget.content'\r\n\t},\r\n];","import React from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport i18n from '../controller/i18n'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport Card from '@material-ui/core/Card'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport CloseIcon from '@material-ui/icons/Close'\r\n\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles((theme) => ({\r\n\tbutton: {\r\n\t\tmarginLeft: theme.spacing()\r\n\t},\r\n\tgrow: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tcontent: {\r\n\t\t'& p': {\r\n\t\t\tmargin: '0 0 18px',\r\n\t\t\tlineHeight: '1.42857143',\r\n\t\t}\r\n\t},\r\n\tcloseButton: {\r\n\t\ttop: theme.spacing(1),\r\n\t\tcolor: '#9e9e9e',\r\n\t\tright: '8px',\r\n\t\tposition: 'absolute'\r\n\t},\r\n\tcloseButtonOnArrow: {\r\n\t\ttop: theme.spacing(3),\r\n\t},\r\n\tCardTitle: {\r\n\t\tdisplay: 'flex',\r\n\t\tmargin: 0,\r\n\t\tpadding: '16px 24px',\r\n\t\tflex: '0 0 auto',\r\n\t},\r\n\tCardContent: {\r\n\t\tminWidth: 350,\r\n\t\tpadding: '16px 24px',\r\n\t\tborderTop: `1px solid ${theme.palette.divider}`,\r\n\t\tborderBottom: `1px solid ${theme.palette.divider}`,\r\n\t},\r\n\tCardActions: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tpadding: 8,\r\n\t\tjustifyContent: 'flex-end',\r\n\t\tflex: '0 0 auto',\r\n\t}\r\n}));\r\n\r\n\r\nconst Markdown = require('markdown-it'),\r\n\t  md = new Markdown();\r\n\r\nconst CardTitle = props => {\r\n\tconst { children } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\treturn (\r\n\t\t<div className={classes.CardTitle}>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst CardContent = props => {\r\n\tconst { children } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\treturn (\r\n\t\t<div className={classes.CardContent}>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst CardActions = props => {\r\n\tconst { children } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\treturn (\r\n\t\t<div className={classes.CardActions}>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default function Joyride(props) {\r\n\tconst { continuous, index, step, isLastStep, backProps, skipProps, closeProps, primaryProps, tooltipProps } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\tconst buttonProps = {\r\n\t\t...primaryProps,\r\n\t\t'onClick': e => {\r\n\t\t\tstep.primaryAction && step.primaryAction(props);\r\n\t\t\tprimaryProps.onClick(e);\r\n\t\t}\r\n\t}\r\n\tconsole.log(props);\r\n\tconst content = typeof step.content === 'string' ? <div className={classes.content} dangerouslySetInnerHTML={{__html: md.render(i18n.t(step.content))}} /> : <div className={classes.content}>{step.content}</div>\r\n\treturn (\r\n\t\t<Card {...tooltipProps} open={true}>\r\n\t\t\t<CardTitle>\r\n\t\t\t\t<Typography variant=\"h6\" style={{ margin: 'auto 0' }}>{i18n.t(step.title)}</Typography>\r\n\t\t\t\t\r\n\t\t\t\t<div className={classes.grow} />\r\n\t\t\t\t<IconButton classes={{ root: clsx(classes.closeButton, (step.target.indexOf('.') > -1 || step.target.indexOf('#') > -1) && classes.closeButtonOnArrow) }} {...skipProps}>\r\n\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</CardTitle>\r\n\t\t\t<CardContent dividers>\r\n\t\t\t\t{content}\r\n\t\t\t</CardContent>\r\n\t\t\t{step.buttons !== false && <CardActions>\r\n\t\t\t\t{index > 0 && (<>\r\n\t\t\t\t<Button className={classes.button} color=\"secondary\" {...backProps}>\r\n\t\t\t\t\t{i18n.t('back')}\r\n\t\t\t\t</Button>\r\n\t\t\t\t<div className={classes.grow} />\r\n\t\t\t\t</>)}\r\n\t\t\t\t\r\n\t\t\t\t{!step.primaryButton && continuous && (\r\n\t\t\t\t<Button className={classes.button} color=\"primary\" variant=\"contained\" {...primaryProps}>\r\n\t\t\t\t\t{i18n.t(isLastStep ? 'close' : 'next')}\r\n\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t\r\n\t\t\t\t{!step.primaryButton && !continuous && (\r\n\t\t\t\t<Button className={classes.button} {...closeProps}>\r\n\t\t\t\t\t{i18n.t('close')}\r\n\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t\r\n\t\t\t\t{step.secondaryButton && (\r\n\t\t\t\t<Button className={classes.button} color=\"primary\" variant=\"text\" onClick={step.secondaryAction && (() => step.secondaryAction(props))}>\r\n\t\t\t\t\t{i18n.t(step.secondaryButton)}\r\n\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{step.primaryButton && (\r\n\t\t\t\t<Button className={classes.button} color=\"primary\" variant=\"contained\" {...buttonProps}>\r\n\t\t\t\t\t{i18n.t(step.primaryButton)}\r\n\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t</CardActions>}\r\n\t\t</Card>\r\n\t);\r\n}","import React, { useState } from 'react'\r\nimport Joyride from 'react-joyride'\r\n\r\nimport i18n from '../../controller/i18n'\r\nimport Settings from '../../controller/Settings'\r\n\r\nimport { INTRODUCTION_STEPS, DASHBOARD_STEPS } from '../../config/joyride'\r\nimport TooltipComponent from '../../components/Joyride'\r\n\r\n\r\ni18n.setTranslations(language => require('./i18n/' + language));\r\n\r\nexport default function JarvisJoyride(props) {\r\n\tconst [run,setRun] = useState(props.run || false);\r\n\t\r\n\treturn (\r\n\t\t<Joyride\r\n\t\t\tcontinuous={true}\r\n\t\t\tdisableOverlayClose={true}\r\n\t\t\trun={run}\r\n\t\t\tscrollOffset={60}\r\n\t\t\tsteps={Settings.get('joyrideIntroduction') === true ? DASHBOARD_STEPS : INTRODUCTION_STEPS}\r\n\t\t\ttooltipComponent={componentProps => TooltipComponent({ ...componentProps, 'setRun': setRun })}\r\n\t\t\t/>\r\n\t);\r\n}\r\n"],"sourceRoot":""}