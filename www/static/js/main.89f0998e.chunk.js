(this.webpackJsonpjarvis=this.webpackJsonpjarvis||[]).push([[0],{101:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(0),r=a.n(n),i=a(17),o=a(644),s=a(650),c=a(646),l=a(647),u=a(148),d=a(125),p=a.n(d),g=a(46),m=a(80),f=Object(m.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},Dialog:{},DialogDense:{padding:e.spacing(2,0)},CustomDialog:{},DialogTitle:{},CustomDialogTitle:{},DialogTitleTypography:{},DialogContent:{backgroundColor:"#fafafa"},CustomDialogContent:{},DialogActions:{margin:0,padding:e.spacing(1)},CustomDialogActions:{}}}));function h(e){var t=e.header,a=e.onClose,n=e.children,d=e.actions,m=e.dense,h=e.disableBackdropClick,b=e.disableEscapeKeyDown,v=f(e);return r.a.createElement(o.a,{classes:{paper:Object(i.a)(v.Dialog,v.CustomDialog)},fullWidth:e.fullWidth,maxWidth:e.maxWidth,disableBackdropClick:h||!0,disableEscapeKeyDown:b||!0,open:e.open,onClose:e.onClose},r.a.createElement(s.a,{classes:{root:Object(i.a)(v.DialogTitle,v.CustomDialogTitle)},disableTypography:!0},"string"!==typeof t?t:r.a.createElement(g.a,{className:v.DialogTitleTypography,variant:"h6"},t),r.a.createElement(u.a,{"aria-label":"close",className:v.closeButton,onClick:a},r.a.createElement(p.a,null))),r.a.createElement(c.a,{id:"DialogContent",className:Object(i.a)(v.DialogContent,v.CustomDialogContent,m&&v.DialogDense),dividers:!0},n),r.a.createElement(l.a,{classes:{root:Object(i.a)(v.DialogActions,v.CustomDialogActions)}},d))}},103:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(0),r=a.n(n),i=a(17),o=a(3),s=a(115),c=a(92),l=a(113),u=a.n(l),d=a(80),p=Object(d.a)((function(e){return{Field:{display:"inline-flex",marginLeft:e.spacing(1),marginRight:e.spacing(1),padding:"0 !important"},CustomField:{}}}));function g(e){var t=e.children,a=e.id,n=e.info,l=e.link,d=e.width,g=p(e),m=l?r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:l},r.a.createElement(u.a,{color:"primary"}))):r.a.createElement(u.a,{color:"primary"});return r.a.createElement(s.a,{key:"grid-"+a,className:Object(i.a)(g.Field,g.CustomField),style:{width:d||250},container:!0,item:!0},n&&r.a.createElement(s.a,{item:!0,style:{width:30}},r.a.createElement(c.a,{title:o.a.t(n)},m)),r.a.createElement(s.a,{item:!0,style:{width:n?220:"100%"}},t))}},110:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h})),a.d(t,"TextInput",(function(){return b})),a.d(t,"TextAutoComplete",(function(){return v}));var n=a(5),r=a(16),i=a(56),o=a(0),s=a.n(o),c=a(3),l=a(651),u=a(660),d=a(643),p=a(374),g=a(103),m=a(80),f=Object(m.a)((function(e){return{}}));function h(e){return e.options?v(e):b(e)}function b(e){var t=e.onChange,a=e.id,l=e.required,u=e.label,m=e.type,h=e.children,b=e.select,v=e.shrink,y=e.disabled,O=e.size,k=e.placeholder,j=e.errorMessage,S=e.autoFocus,E=e.multiline,C=e.val,w=e.onEnter,x=e.disableUnderline,T=e.icon,D=e.InputProps,I=Object(i.a)(e,["onChange","id","required","label","type","children","select","shrink","disabled","size","placeholder","errorMessage","autoFocus","multiline","val","onEnter","disableUnderline","icon","InputProps"]),L=f(),N=Object(o.useState)(C||""),_=Object(r.a)(N,2),A=_[0],M=_[1],F=Object(o.useState)(e.error?e.error:l&&!C),R=Object(r.a)(F,2),P=R[0],B=R[1];Object(o.useEffect)((function(){return B(e.error)}),[e.error]);var z=a||"input-"+u.toLowerCase().replace(/ /g,"");return(s.a.createElement(g.a,e,s.a.createElement(p.a,Object.assign({classes:{root:L.TextField},id:z,type:m||"text",required:l,select:b,multiline:E,rows:4,size:O,disabled:y,fullWidth:!0,placeholder:k||"",autoFocus:S||!1,onKeyPress:function(e){"Enter"!==e.key||E||(e.preventDefault(),w&&w())},error:P,helperText:j?c.a.t(j):l&&P&&c.a.t("No input given"),label:Array.isArray(u)?u.map((function(e){return c.a.t(e)})).join(""):c.a.t(u),value:A,onChange:function(a){B(l&&!a.target.value),M(a.target.value),t&&t(e,a.target.value)},InputProps:Object(n.a)({disableUnderline:x,startAdornment:T&&s.a.createElement(d.a,{position:"start"},s.a.createElement("span",{className:"mdi mdi-"+T}))},D||{}),InputLabelProps:{shrink:v||!0}},I),h||null)))}function v(e){var t=f(),a=e.error,n=e.required,d=e.autoFocus,m=e.placeholder,h=e.label,b=e.showMaxResults,v=e.onChange,y=e.val,O=Object(i.a)(e,["error","required","autoFocus","placeholder","label","showMaxResults","onChange","val"]),k=Object(o.useState)(y||[]),j=Object(r.a)(k,2),S=j[0],E=j[1],C=b&&b>0?Object(l.a)({limit:b}):void 0,w=e.options&&e.options[0]&&e.options[0].id;return s.a.createElement(g.a,e,s.a.createElement(u.a,Object.assign({classes:{root:t.Input,option:t.AutoCompleteOption},popupIcon:null,value:S,onChange:function(t,a){a=a.map((function(e){return"string"===typeof e&&w?{id:e.toLowerCase().replace(/ /g,""),name:e}:e})),E(a),v&&v(e,a)},getOptionSelected:function(e,t){return!(!e||!t)&&(w?e.id===t.id:e===t)},filterOptions:C,renderInput:function(e){return s.a.createElement(p.a,Object.assign({},e,{error:a,required:n,autoFocus:d||!1,label:c.a.t(h)||c.a.t(m)}))}},O)))}},121:function(e,t,a){"use strict";a.r(t),a.d(t,"ModuleDescription",(function(){return D})),a.d(t,"ModuleScreenshots",(function(){return I})),a.d(t,"ModuleConfig",(function(){return L}));var n=a(56),r=a(18),i=a(19),o=a(25),s=a(24),c=a(13),l=a(0),u=a.n(l),d=a(3),p=a(641),g=a(146),m=a(370),f=a(256),h=a(5),b=a(17),v=a(723),y=a(7),O=function(e){return{defaultListDivider:{margin:"0 0 5px 0"},defaultListIcon:function(t){return Object(h.a)(Object(h.a)({},e.components.icon),t.styles)},horizontalListItem:{display:"inline-block",textAlign:"center",paddingRight:"16px",width:"140px",marginTop:"10px"},horizontalListItemIcon:{minWidth:"auto"},horizontalListItemAction:{textAlign:"center",top:0,right:0,position:"static",transform:"none"},verticalListItemAction:{textAlign:"right"}}},k=Object(y.a)(O)((function(e){var t=e.customClassNames,a=e.children,n=e.classes,r=Array.isArray(t)?t:[t];return r=r.map((function(e){return n[e]?n[e]:e})),u.a.createElement("span",{className:Object(b.a)(r)},a)})),j=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).stateChange=function(e,t){e!==n.props.device.primaryStateKey&&e!==n.props.device.secondaryStateKey||n.setState(Object(c.a)({},e,t))},n.state={ListItemTextWidth:"100%"},n.state[n.props.device.primaryStateKey]=n.props.device.getDeviceState()||{},n.props.device.secondaryStateKey&&(n.state[n.props.device.secondaryStateKey]=n.props.device.getDeviceState(n.props.device.secondaryStateKey)||{}),n.ListItemText=u.a.createRef(),n.ListItemSecondaryAction=u.a.createRef(),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.ListItemTextWidth=Math.floor(this.ListItemText.current.offsetWidth),this.resizeComponent(),this.props.device.listen(this.stateChange)}},{key:"componentWillUnmount",value:function(){this.props.device.unlisten(this.stateChange)}},{key:"componentDidUpdate",value:function(){this.resizeComponent()}},{key:"resizeComponent",value:function(){var e=Math.floor(1.08*this.ListItemSecondaryAction.current.offsetWidth);this.state.ListItemSecondaryActionWidth!==e&&this.setState({ListItemSecondaryActionWidth:e,ListItemTextWidth:this.ListItemTextWidth-e+"px"})}},{key:"openDialog",value:function(){this.props.openDialog(this.props.device)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.horizontal,n=e.device,r=e.component,i=e.action,o=this.state[n.primaryStateKey],s=n.get("options"),c=n.getIcon(n.primaryStateKey,o.val)||n.getIcon(n.primaryStateKey,o.value),l=r&&n.getComponent(),d=n.getAction(n.primaryStateKey,!1===n.options.primaryAction),p=i&&this.state[n.secondaryStateKey]?n.getAction(n.secondaryStateKey):null;return u.a.createElement(u.a.Fragment,null,s.divider&&"after"!==s.divider&&u.a.createElement(g.a,{divider:!0,className:t.defaultListDivider}),u.a.createElement(g.a,{className:Object(b.a)(this.props.openDialog&&t.finger,a&&t.horizontalListItem),button:null!==this.props.openDialog,onClick:this.props.openDialog&&this.openDialog.bind(this)},u.a.createElement(v.a,{className:Object(b.a)(a&&t.horizontalListItemIcon)},null===c?u.a.createElement(u.a.Fragment,null):u.a.createElement(k,{customClassNames:["defaultListIcon","mdi mdi-"+c],styles:n.getStyle("icon",n.primaryStateKey,o.val)})),u.a.createElement(f.a,{ref:this.ListItemText,disableTypography:!1!==l,primary:l||n.getOption("label"),secondary:null!==s.subtitle&&(s.subtitle||o&&o.timeChanged)||null,style:{flex:"initial",width:this.state.ListItemTextWidth}}),u.a.createElement(m.a,{ref:this.ListItemSecondaryAction,className:a?t.horizontalListItemAction:t.verticalListItemAction},p?[d,u.a.createElement("br",{key:"br_"+n.id}),p]:d)),s.divider&&"after"===s.divider&&u.a.createElement(g.a,{divider:!0,style:{margin:"5px 0"}}))}}]),a}(u.a.Component),S=Object(y.a)(O)(j),E=a(133),C=a(648),w=function(e){return{defaultListSectionDivider:{margin:"5px 0 0 0"},defaultListSectionDividerItem:{margin:"6px 0 7px 0",padding:"0 16px !important"},defaultListSectionText:Object(c.a)({margin:0},e.breakpoints.down("md"),{margin:"0 0 0 10px"}),horizontalList:{display:"flex",flexDirection:"row",flexWrap:"wrap"}}},x=Object(y.a)(w)((function(e){var t=e.classes,a=e.getDevicesBySubgroup,n=e.subgroup,r=e.title,i=e.subgroupActions,o=function(e){a(n).forEach((function(t){var a=e;"level"===t.primaryStateKey&&(a=a?t.getOption("defaultValue")||100:0),t.setDeviceState(null,a)}))};return u.a.createElement(u.a.Fragment,null,u.a.createElement(g.a,{divider:!0,className:t.defaultListSectionDivider}),u.a.createElement(g.a,{className:t.defaultListSectionDividerItem},u.a.createElement(f.a,{className:t.defaultListSectionText,primary:r}),u.a.createElement(m.a,null,null===i||!1===i?null:u.a.createElement(C.a,{color:"primary",size:"small"},u.a.createElement(E.a,{onClick:function(){return o(!0)}},d.a.t("on")),u.a.createElement(E.a,{onClick:function(){return o(!1)}},d.a.t("off"))))))})),T=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"getDevicesBySubgroup",value:function(e){var t=[];return this.props.devices.forEach((function(a){e===a.getOption("subgroup")&&t.push(a)})),t}},{key:"render",value:function(){var e,t=this,a=this.props,r=a.classes,i=a.horizontal,o=a.devices,s=a.settings,c=a.component,l=a.action,d=Object(n.a)(a,["classes","horizontal","devices","settings","component","action"]);return u.a.createElement(p.a,{dense:!0,className:i&&r.horizontalList},o.map((function(a,n){var r=null!==e&&null!==a.options.subgroup&&a.options.subgroup!==e&&u.a.createElement(x,{key:"ListDivider-"+a.get("id"),getDevicesBySubgroup:t.getDevicesBySubgroup.bind(t),subgroup:a.getOption("subgroup"),title:a.options.subgroup,subgroupActions:s.subgroupActions||a.options.subgroupActions}),o=u.a.createElement(S,Object.assign({},d,{key:"StateListItem-"+a.get("id"),horizontal:i,device:a,component:c||!1,action:l||!0}));return e=a.getOption("subgroup"),[r,o]})))}}]),a}(u.a.Component),D=(t.default=Object(y.a)(w)(T),"Zeigt eine Liste von States an."),I=["StateList1.png","StateList2.png","StateList3.png","StateList4.png"],L=[{parameter:"subgroupActions",label:{en:"Show on/off actions for sugroups",de:"Buttons an/aus f\xfcr Untergruppen einblenden"},type:"Switch",val:!0}]},131:function(e,t,a){"use strict";var n=a(16),r=a(105),i=a(3);t.a={timeToSeconds:function(e){if(e.toString().indexOf(":")>-1){var t=(e=e.toString()).split(":").length-1>1?e.split(":"):("0:"+e).split(":"),a=Object(n.a)(t,3),r=a[0],i=a[1],o=a[2];e=3600*parseInt(r)+60*parseInt(i)+parseInt(o)}return parseInt(e)},timeToHoursMinutesSeconds:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.toString().indexOf(":")>-1)return e;if(e=parseInt(e),t=t||e>3600,Number.isNaN(e))return t?"00:00:00":"00:00";var a="0"+Math.floor(e/3600),n="0"+Math.floor(e/60),r="0"+e%60;return t?[a.substr(-2),n.substr(-2),r.substr(-2)].join(":"):[n.substr(-2),r.substr(-2)].join(":")},secondsToDateTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd. MMM yyyy, HH:mm";return Object(r.a)(new Date(1e3*e),t,{locale:i.b[i.a.getLanguage()]})}}},14:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(34),r=a(18),i=a(19),o=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"_",value:function(t,a){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};((a=Array.isArray(a)?a:[a]).forEach((function(a){e.log.push({time:new Date,module:t,criticality:i,message:a,stack:s})})),o)&&(a[0]=t+" # "+a[0],(r=console)[i].apply(r,Object(n.a)(a)))}},{key:"getLog",value:function(){return e.log}}]),e}();o.log=[]},198:function(e,t,a){"use strict";a.d(t,"a",(function(){return R}));var n=a(16),r=a(5),i=a(0),o=a.n(i),s=a(80),c=a(729),l=a(728),u=a(749),d=a(13),p=a(17),g=a(12),m=a(721),f=a(46),h=a(148),b=a(92),v=a(91),y=a.n(v),O=Object(s.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(g.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}}));function k(e){var t=O(),a=e.title,n=e.rowCount,r=e.numSelected,i=e.rightActionButton;return o.a.createElement(m.a,{className:Object(p.a)(t.root,Object(d.a)({},t.highlight,r>0))},r>0?o.a.createElement(f.a,{className:t.title,color:"inherit",variant:"subtitle1"},r," selected"):o.a.createElement(f.a,{className:t.title,variant:"h6",id:"tableTitle"},void 0!==a&&a+" ("+n+")"),r>0?o.a.createElement(b.a,{title:"Delete"},o.a.createElement(h.a,{"aria-label":"delete"},o.a.createElement(y.a,null))):i)}var j=a(724),S=a(725),E=a(726),C=a(751),w=a(743);function x(e){var t=e.headCells,a=e.onSelectAllClick,n=e.selectable,r=e.sortable,i=e.order,s=e.orderBy,c=e.numSelected,l=e.rowCount,u=e.onRequestSort;return o.a.createElement(j.a,null,o.a.createElement(S.a,null,!1!==n&&o.a.createElement(E.a,{padding:"checkbox"},o.a.createElement(w.a,{indeterminate:c>0&&c<l,checked:l>0&&c===l,onChange:a,inputProps:{"aria-label":"select all"}})),t.map((function(e){return o.a.createElement(E.a,{key:e.id,align:e.align||"left",padding:e.disablePadding?"none":"default",sortDirection:r&&s===e.id&&i,style:{width:e.width||"auto"}},r?o.a.createElement(C.a,{active:s===e.id,direction:s===e.id?i:"asc",onClick:(t=e.orderBy||e.id,function(e){u(e,t)})},o.a.createElement("strong",null,e.label)):o.a.createElement("strong",null,e.label));var t}))))}var T=a(105),D=a(727),I=Object(s.a)((function(e){return{noWrap:{whiteSpace:"nowrap"}}}));function L(e,t,a){if(null!==t&&"object"===typeof t){if(a.indexOf(t)>=0)return;a.push(t)}return t}function N(e){var t=e.columns,a=e.sortedRows,n=e.emptyRows,i=e.rowStyles,s=e.selectable,c=e.selected,l=e.onClick,u=I();return o.a.createElement(D.a,null,a.map((function(e,a){var n,d=(n=e.id,-1!==c.indexOf(n)),g="enhanced-table-checkbox-".concat(a),m={};for(var f in i){var h=i[f];e[f]&&Object.keys(h).indexOf(e[f])>-1&&(m=Object(r.a)(Object(r.a)({},m),h[e[f]]))}return(o.a.createElement(S.a,{key:"TableRow-"+a,hover:!0,onClick:l?function(t){return l(t,e.id)}:void 0,role:"checkbox","aria-checked":d,tabIndex:-1,selected:d},!1!==s&&o.a.createElement(E.a,{key:"TableCell-"+a+"-Checkbox",style:m,padding:"checkbox"},o.a.createElement(w.a,{checked:d,inputProps:{"aria-labelledby":g}})),t.map((function(t){return o.a.createElement(E.a,{key:"TableCell-"+a+"-"+t.id,classes:{root:Object(p.a)(t.noWrap&&u.noWrap)},style:m,scope:"row",padding:t.disablePadding?"none":"default"},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(void 0===e||null===e)return"";var a=[];switch(t.toLowerCase()){case"date":e=Object(T.a)(e,"yyyy-MM-dd HH:mm:ss");break;default:e="boolean"===typeof(e=Array.isArray(e)||"object"===typeof e?JSON.stringify(e,(function(e,t){return L(0,t,a)})):e)?e.toString():e}return e}(e[t.id],t.type))}))))})),n>0&&o.a.createElement(S.a,{style:{height:53*n}},o.a.createElement(E.a,{colSpan:6})))}var _=Object(s.a)((function(e){return{table:{minWidth:750}}}));function A(e,t,a,n){var i,o;if(-1===a.indexOf("."))i=e[a]||"",o=t[a]||"";else{for(var s,c=Object(r.a)({},e),l=Object(r.a)({},t),u=a;u.indexOf(".")>-1;)try{s=u.substr(0,u.indexOf(".")),u=u.substr(u.indexOf(".")+1),c=c[s],l=l[s]}catch(d){console.error(d.message)}i=c[u]||"",o=l[u]||""}return!0!==n&&(i="object"===typeof i?JSON.stringify(i):i.toLowerCase(),o="object"===typeof o?JSON.stringify(o):o.toLowerCase()),o<i?-1:o>i?1:0}function M(e,t,a){return"desc"===e?function(e,n){return A(e,n,t,a)}:function(e,n){return-A(e,n,t,a)}}function F(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}function R(e){var t=_(),a=e.title,r=e.headCells,s=e.size,d=e.CustomTableBody,p=e.rows,g=e.toolbar,m=e.selectable,f=e.pagination,h=e.defaultOrder,b=e.defaultOrderBy,v=e.orderByCase,y=e.defaultSelected,O=e.defaultPage,j=e.defaultRowsPerPage,S=e.toolbarRightActionButton,E=o.a.useState(h||"asc"),C=Object(n.a)(E,2),w=C[0],T=C[1],D=o.a.useState(b||r[0].orderBy||r[0].id),I=Object(n.a)(D,2),L=I[0],A=I[1],R=o.a.useState(y||[]),P=Object(n.a)(R,2),B=P[0],z=P[1],H=o.a.useState(O||0),U=Object(n.a)(H,2),K=U[0],G=U[1],W=o.a.useState(f?j||5:p.length),V=Object(n.a)(W,2),J=V[0],q=V[1];Object(i.useEffect)((function(){return q(f?j||5:p.length)}),[p.length,f,j]);var Z=d||N;return o.a.createElement(o.a.Fragment,null,!1!==g&&o.a.createElement(k,{title:a,rowCount:p.length,numSelected:B.length||0,rightActionButton:S}),o.a.createElement(l.a,null,o.a.createElement(c.a,{className:t.table,"aria-labelledby":"tableTitle","aria-label":"enhanced table",size:s,stickyHeader:!0},o.a.createElement(x,Object.assign({classes:t,numSelected:B.length,order:w,orderBy:L,onSelectAllClick:function(e){if(e.target.checked){var t=p.map((function(e){return e.id}));z(t)}else z([])},onRequestSort:function(e,t){T(L===t&&"asc"===w?"desc":"asc"),A(t)},rowCount:p.length},e)),o.a.createElement(Z,Object.assign({columns:r,sortedRows:F(p,M(w,L,v)).slice(K*J,K*J+J),emptyRows:J-Math.min(J,p.length-K*J),onClick:!1!==m&&function(e,t){var a=B.indexOf(t),n=[];-1===a?n=n.concat(B,t):0===a?n=n.concat(B.slice(1)):a===B.length-1?n=n.concat(B.slice(0,-1)):a>0&&(n=n.concat(B.slice(0,a),B.slice(a+1))),z(n)},selected:B},e)))),f&&o.a.createElement(u.a,{rowsPerPageOptions:[5,10,25],component:"div",count:p.length,rowsPerPage:J,page:K,onChangePage:function(e,t){G(t)},onChangeRowsPerPage:function(e){q(parseInt(e.target.value,10)),G(0)}}))}},213:function(e,t,a){"use strict";a.r(t),a.d(t,"ModuleSettings",(function(){return T})),a.d(t,"ModuleDescription",(function(){return D})),a.d(t,"ModuleScreenshots",(function(){return I})),a.d(t,"ModuleConfig",(function(){return L}));var n=a(34),r=a(5),i=a(13),o=a(18),s=a(19),c=a(25),l=a(24),u=a(0),d=a.n(u),p=a(17),g=a(105),m=a(67),f=a(3),h=a(147),b=a(92),v=a(259),y=a(641),O=a(369),k=a(146),j=a(256),S=a(370),E=a(342),C=a.n(E),w=a(7),x=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={adapterInformation:[],adapterAliveStatus:{},newUpdates:!1,updatesJson:"",lastUpdateCheck:""},n.socket=m.a.getConnection,n.list=n.props.settings.list?Array.isArray(n.props.settings.list)?n.props.settings.list:n.props.settings.list.split(","):null,n.blacklist=n.props.settings.blacklist?Array.isArray(n.props.settings.blacklist)?n.props.settings.blacklist:n.props.settings.blacklist.split(","):null,n.updateStates=["admin.0.info.newUpdates","admin.0.info.lastUpdateCheck","admin.0.info.updatesJson"],n.adapterStates=[],n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;!1!==this.props.settings.updates&&this.socket.getStates(this.updateStates,(function(t,a){e.setState({newUpdates:a["admin.0.info.newUpdates"].val,lastUpdateCheck:a["admin.0.info.lastUpdateCheck"].val,updatesJson:a["admin.0.info.updatesJson"].val}),e.socket.subscribeStates(e.updateStates,(function(t,a){t=t.substr(t.lastIndexOf(".")+1),e.state[t]!==a.val&&e.setState(Object(i.a)({},t,a.val))}))})),this.socket.getAdapterInstances((function(t,a){if(a&&a.rows){var n=[];a.rows.forEach((function(t,a){(!e.list||e.list&&e.list.indexOf(t.value.common.name)>-1)&&(!e.blacklist||e.blacklist&&-1===e.blacklist.indexOf(t.value.common.name))&&(n.push(t),e.adapterStates=e.adapterStates.concat([t.id+".alive",t.id+".connected",t.id.replace("system.adapter.","")+".info.connection"]))})),e.setState({adapterInformation:n.sort((function(e,t){return e.id>t.id?1:t.id>e.id?-1:0}))}),e.socket.getStates(e.adapterStates,(function(t,a){e.setState({adapterAliveStatus:a}),e.socket.subscribeStates(e.adapterStates,(function(t,a){!a||e.state.adapterAliveStatus[t]&&a.val===e.state.adapterAliveStatus[t].val||e.setState((function(e){return{adapterAliveStatus:Object(r.a)(Object(r.a)({},e.adapterAliveStatus),{},Object(i.a)({},t,a))}}))}))}))}}))}},{key:"componentWillUnmount",value:function(){this.socket.unsubscribeStates([].concat(Object(n.a)(this.updateStates),Object(n.a)(this.adapterStates)))}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.updatesJson&&JSON.parse(this.state.updatesJson)||{},n=Object.keys(a).length,r=d.a.createElement(k.a,{key:"loading",className:t.loading},d.a.createElement(h.a,{size:20}));return this.state.adapterInformation.length>0&&(r=this.state.adapterInformation.map((function(n){n.update=a[n.value.common.name]||!1;var r=n.value.common.enabled,i=e.state.adapterAliveStatus[n.id+".alive"]&&e.state.adapterAliveStatus[n.id+".alive"].val||!1,o=e.state.adapterAliveStatus[n.id+".connected"]&&e.state.adapterAliveStatus[n.id+".connected"].val||!1,s=!e.state.adapterAliveStatus[n.id.replace("system.adapter.","")+".info.connection"]||e.state.adapterAliveStatus[n.id.replace("system.adapter.","")+".info.connection"].val,c=f.a.t("Adapter")+" "+(r?i&&o&&s?f.a.t("alive"):f.a.t("not alive"):f.a.t("disabled"));return d.a.createElement(k.a,{key:"adapter-"+n.id},d.a.createElement(O.a,null,d.a.createElement(v.a,{alt:n.value.common.name,src:n.value.common.extIcon,className:t.small})),d.a.createElement(j.a,{primary:n.value.common.title,secondary:["v"+n.value.common.version,n.update&&n.value.common.version!==n.update.availableVersion&&d.a.createElement("span",{key:"updates-"+n.id},", ",d.a.createElement("span",{className:t.UpdateAvailable},f.a.t("Update available")+" v"+n.update.availableVersion)),n.value.common.runAsCompactMode&&", "+f.a.t("Compact Mode")+" "+f.a.t("on")+" ("+f.a.t("Group")+" "+n.value.common.compactGroup+")"]}),d.a.createElement(S.a,{className:Object(p.a)(t.StatusIndicator,r?i&&o&&s?t.alive:t.notAlive:t.disabled)},d.a.createElement(b.a,{title:c},d.a.createElement("span",{className:r?i&&o&&s?"mdi mdi-check-circle":"mdi mdi-alert":"mdi mdi-close"}))))}))),d.a.createElement(y.a,{dense:!0},!1===this.state.newUpdates?this.state.lastUpdateCheck&&d.a.createElement(k.a,{key:"updates",classes:{root:t.noUpdates}},d.a.createElement(j.a,{primary:f.a.t("last update")+": "+Object(g.a)(new Date(this.state.lastUpdateCheck),"dd.MM.yyyy HH:mm:ss",{locale:f.b[f.a.getLanguage()]})})):d.a.createElement(k.a,{key:"updates",classes:{container:t.UpdatesListItem}},d.a.createElement(O.a,null,d.a.createElement(C.a,null)),d.a.createElement(j.a,{primary:f.a.t("Updates available")+"!"}),d.a.createElement(S.a,{className:Object(p.a)(t.StatusIndicator,t.UpdatesIndicator)},n)),r)}}]),a}(d.a.Component);t.default=Object(w.a)((function(e){return{noUpdates:{fontStyle:"italic",textAlign:"right",color:"rgba(0, 0, 0, 0.54)"},UpdateAvailable:{color:"#CCAA00"},UpdatesListItem:{backgroundColor:"#ffd700",color:"#fff",margin:e.spacing(0,-2),paddingLeft:e.spacing(2)},UpdatesIndicator:{right:e.spacing(3.75),backgroundColor:"#CCAA00",borderRadius:"50%",width:e.spacing(3),height:e.spacing(3),color:"#fff",textAlign:"center",fontSize:"1rem !important"},StatusIndicator:{fontSize:"1.4rem"},loading:{textAlign:"center",marginTop:"5px"},small:{width:e.spacing(3),height:e.spacing(3)},alive:{color:"#86d686"},notAlive:{color:"#f7e43b"},disabled:{color:"#bababa"}}}))(x);var T={noDevicesAllowed:!0,title:f.a.t("Adapter Status"),icon:"traffic-light"},D="Zeigt alle installierten Adapter mit ihren Instanzen und dem jeweiligen Status (active & alive, active & not connected, inactive) an.",I=["AdapterStatus1.png"],L=[{parameter:"updates",label:"Adapter Updates",description:{en:"Enable to show adapters updates",de:"Aktivieren, um Adapter Updates anzuzeigen"},type:"Switch",val:!0},{parameter:"list",label:{en:"List of Adapter's",de:"Liste angezeigter Adapter"},description:{en:"List of adapters to show (empty shows all adapters)",de:"Liste der Adapter, die angezeigt werden (leere Liste zeigt alle Adapter)"},values:{en:"Adapter names separated by comma",de:"Namen der Adapter mit Komma separiert"}},{parameter:"blacklist",label:{en:"List of Adapter's to hide",de:"Liste nicht angezeigter Adapter"},description:{en:"Shows all adapters except the ones listed here",de:"Zeigt alle Adapter, au\xdfer die hier angegebenen"},values:{en:"Adapter names separated by comma",de:"Namen der Adapter mit Komma separiert"}}]},218:function(e,t,a){"use strict";a.r(t),a.d(t,"ModuleSettings",(function(){return W})),a.d(t,"ModuleDescription",(function(){return V})),a.d(t,"ModuleScreenshots",(function(){return J})),a.d(t,"ModuleConfig",(function(){return q}));var n=a(34),r=a(5),i=a(18),o=a(19),s=a(57),c=a(25),l=a(24),u=a(0),d=a.n(u),p=a(17),g=a(343),m=(a(514),a(515),a(365)),f=a(14),h=a(3),b=a(131),v=a(147),y=a(133),O=a(648),k=a(658),j=a(92),S=a(93),E=a(257),C=a(40),w=a(653),x=a(260),T=a(656),D=a(114),I=a(148),L=a(347),N=a.n(L),_=a(348),A=a.n(_),M=a(345),F=a.n(M),R=a(346),P=a.n(R),B=a(350),z=a.n(B),H=a(349),U=a.n(H),K=a(7),G=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).historyChange=function(e){return function(t,a,i,o){n.addChartGraph(o,a,Object(r.a)(Object(r.a)({},e),{},{axis:n.getAxis(e.start,e.end)})),n.setState({loading:!1})}},n.stateChange=function(e){return function(t,a,i,o){return n.updateChartGraph(o,a,Object(r.a)(Object(r.a)({},e),{},{axis:n.getAxis(e.end,new Date)}))}},n.chartFilter=n.props.settings.chartFilter||{},n.chartConfig=n.props.settings.chartConfig||{},n.chartConfig.yAxes=n.chartConfig.yAxes||[],n.chartConfig.yAxes.unshift({id:"left",type:"linear",position:"left",ticks:{callback:function(e){return(n.chartConfig.yLeftAxisUnitBefore||"")+Number.parseFloat(e).toFixed(1)+(n.chartConfig.yLeftAxisUnitAfter||"")}}}),n.state={loading:!0,errors:[],datePicker:!1,selectedTimeRangeValue:n.chartFilter&&n.chartFilter.selectedTimeRangeValue||1,selectedTimeRangeUnit:n.chartFilter&&n.chartFilter.selectedTimeRangeUnit||"days",selectedDateTime:n.chartFilter&&n.chartFilter.selectedDateTime&&new Date(n.chartFilter.selectedDateTime)||new Date,dateNow:!n.chartFilter||!n.chartFilter.selectedDateTime,chartLabels:[],chartData:{labels:[],datasets:[]},chartPan:!0,chartZoom:!0},n.timer=null,n.timeRangeRef=d.a.createRef(),n.chartRef=d.a.createRef(),n.chartUpdates={},n.chartOptions={maintainAspectRatio:!1,spanGaps:!0,legend:{onClick:n.legendClickHandler.bind(Object(s.a)(n))},tooltips:{callbacks:{label:function(e,t){return t.datasets[e.datasetIndex].label+": "+e.value+t.datasets[e.datasetIndex].unit}}},scales:{yAxes:n.chartConfig.yAxes},plugins:{colorschemes:{scheme:"brewer.SetOne9"},zoom:{pan:{enabled:!0,mode:"xy"},zoom:{enabled:!0,mode:"xy"}}}},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=Object(r.a)(Object(r.a)({},this.getTimeRange()),{},{axis:this.getAxis()});this.props.devices.forEach((function(a){a.label=a.name+" ("+h.a.t(a.primaryStateKey)+")",a.requestDeviceStateHistory(a.options.history||null,!0,{start:t.start,end:t.end,step:t.step,aggregate:"average",ignoreNull:!0}).catch((function(e){return f.a._("Modules (Chart)",e.message,"error",!0,e.stack)})),a.listen("historyChange",(function(t){return e.historyChange})),null!==e.props.settings.liveUpdates&&!1!==e.props.settings.liveUpdates&&e.state.dateNow&&a.listen((function(t){return e.stateChange}))}))}},{key:"componentWillUnmount",value:function(){var e=this;this.props.devices.forEach((function(t){t.unlisten(e.stateChange)}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;!this.state.selectedTimeRangeValue||t.selectedDateTime===this.state.selectedDateTime&&t.selectedTimeRangeValue===this.state.selectedTimeRangeValue&&t.selectedTimeRangeUnit===this.state.selectedTimeRangeUnit||(this.setState({loading:!0,errors:[]}),clearTimeout(this.timer),this.timer=setTimeout((function(){var e=a.getTimeRange();a.props.devices.forEach((function(t){t.requestDeviceStateHistory(t.options.history||null,!0,{start:e.start,end:e.end,step:e.step,aggregate:"average",ignoreNull:!0}).catch((function(e){return f.a._("Modules (Chart)",e.message,"error",!0,e.stack)}))}))}),500))}},{key:"getTimeRange",value:function(){var e=this.state.selectedDateTime.getTime(),t=this.state.selectedTimeRangeValue,a=1,n="dd. MMM yyyy, HH:mm";switch(this.state.selectedTimeRangeUnit){default:break;case"seconds":n="dd. MMM yyyy, HH:mm:ss";break;case"minutes":n="dd. MMM yyyy, HH:mm:ss",t*=60;break;case"hours":n="dd. MMM yyyy, HH:mm",t=60*t*60,a*=60;break;case"days":n="dd. MMM yyyy, HH:mm",t=60*t*60*24,a=60*a*60;break;case"months":n="dd. MMM yyyy",t=60*t*60*24*31,a=60*a*60*24;break;case"years":n="dd. MMM yyyy",t=60*t*60*24*365,a=60*a*60*24*31}return{axisTimeFormat:n,start:e-1e3*t,end:e,timeRange:1e3*t,step:1e3*a}}},{key:"getAxis",value:function(e,t){for(var a=this.getTimeRange(),n=a.step,r=a.axisTimeFormat,i={},o=e;o<=t;o+=n)i[o]=b.a.secondsToDateTime(o/1e3,r);return i}},{key:"groupChartData",value:function(e,t){var a,r=[],i=Object.keys(t);return i.forEach((function(t,o){for(var s in a=i[o-1>0?o-1:0],e){var c=e[s];if(c.val=parseFloat(c.val),c.ts&&null!==c.val&&!(a>c.ts))if(a<c.ts&&c.ts<=t)r[o]=r[o]?[].concat(Object(n.a)(r[o]),[c.val]):[c.val];else if(c.ts>t)break}r[o]&&(1===r[o].length?r[o]=r[o][0]:r[o]=r[o].reduce((function(e,t){return e+t}),0)/r[o].length)})),r}},{key:"updateChartGraph",value:function(e,t,a){var r=this.state.chartLabels.findIndex((function(t){return t===e.label}));if(-1===r)return!1;this.chartUpdates[r]=this.chartUpdates[r]||[],this.chartUpdates[r].push({ts:t.ts,val:t.val});var i=this.groupChartData(this.chartUpdates[r],a.axis);this.chartRef.current.chartInstance.data.labels=[].concat(Object(n.a)(this.state.chartData.labels),Object(n.a)(Object.values(a.axis))),this.chartRef.current.chartInstance.data.datasets[r].data=[].concat(Object(n.a)(this.state.chartData.datasets[r].data),Object(n.a)(i)),this.chartRef.current.chartInstance.update()}},{key:"addChartGraph",value:function(e,t,a){if(!t||!t.length){var i=h.a.t("No history data given for %s").replace("%s",e.label)+"!";return this.setState((function(e){return{errors:[].concat(Object(n.a)(e.errors),[i])}})),!1}var o=this.groupChartData(t,a.axis),s=this.state.chartLabels.findIndex((function(t){return t===e.label}));if(s>-1)this.chartRef.current.chartInstance.data.labels=Object.values(a.axis),this.chartRef.current.chartInstance.data.datasets[s].data=o,this.chartRef.current.chartInstance.update();else{this.setState((function(t){return{chartLabels:[].concat(Object(n.a)(t.chartLabels),[e.label])}}));var c=Object(r.a)(Object(r.a)({label:e.label,unit:e.states[e.primaryStateKey].state.value.unit||"",fill:!1},e.options.graphConfig||{}),{},{data:o});this.setState((function(e){return{axisTimeFormat:a.axisTimeFormat,chartData:{labels:Object.values(a.axis),datasets:[].concat(Object(n.a)(e.chartData.datasets),[c])}}}))}}},{key:"legendClickHandler",value:function(e,t){var a=t.datasetIndex,n=this.chartRef.current.chartInstance,r=n.getDatasetMeta(a);r.hidden=null===r.hidden?!n.data.datasets[a].hidden:null,n.update(),n.resetZoom()}},{key:"disablePan",value:function(){var e=this.chartRef.current.chartInstance.options.plugins.zoom.pan.enabled;this.chartRef.current.chartInstance.options.plugins.zoom.pan.enabled=!1===e,this.setState({chartPan:!1===e})}},{key:"disableZoom",value:function(){var e=this.chartRef.current.chartInstance.options.plugins.zoom.zoom.enabled;this.chartRef.current.chartInstance.options.plugins.zoom.zoom.enabled=!1===e,this.setState({chartZoom:!1===e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.settings;return d.a.createElement("div",null,d.a.createElement("div",{className:a.options},d.a.createElement(S.a,{className:a.datePicker},d.a.createElement(j.a,{title:h.a.t("Period shown in Chart")},d.a.createElement(F.a,{className:a.icon})),d.a.createElement(x.a,{inputRef:this.timeRangeRef,className:a.input,value:this.state.selectedTimeRangeValue,onChange:function(t){return e.setState({selectedTimeRangeValue:t.target.value})}}),d.a.createElement(T.a,{value:this.state.selectedTimeRangeUnit,onChange:function(t){return e.setState({selectedTimeRangeUnit:t.target.value})},displayEmpty:!0,disableUnderline:!0,className:a.select},d.a.createElement(D.a,{value:"seconds"},h.a.t("Seconds")),d.a.createElement(D.a,{value:"minutes"},h.a.t("Minutes")),d.a.createElement(D.a,{value:"hours"},h.a.t("Hours")),d.a.createElement(D.a,{value:"days"},h.a.t("Days")),d.a.createElement(D.a,{value:"months"},h.a.t("Months")),d.a.createElement(D.a,{value:"years"},h.a.t("Years")))),d.a.createElement(S.a,{className:a.datePicker},d.a.createElement(j.a,{title:h.a.t("End date")},d.a.createElement(P.a,{className:a.icon})),d.a.createElement(C.a,{locale:h.b[h.a.getLanguage()],utils:m.a},d.a.createElement(w.a,{className:a.input,value:this.state.selectedDateTime,onChange:function(t){return e.setState({selectedDateTime:t,dateNow:!1})},open:this.state.datePicker,onOpen:function(){return e.setState({datePicker:!0})},onClose:function(){return e.setState({datePicker:!1})},variant:"inline",ampm:!1,format:"dd.MM.yyyy HH:mm",InputProps:{disableUnderline:!0}})),d.a.createElement(j.a,{title:h.a.t("Select end date")},d.a.createElement(I.a,{color:"primary",className:a.iconButton,onClick:function(){return e.setState({datePicker:!0})}},d.a.createElement(N.a,null))),d.a.createElement(E.a,{className:a.dividerVertical,orientation:"vertical"}),d.a.createElement(j.a,{title:h.a.t("Select today as end date")},d.a.createElement(I.a,{className:a.iconButton,onClick:function(){return e.setState({selectedDateTime:new Date,dateNow:!0})}},d.a.createElement(A.a,null)))),d.a.createElement(j.a,{title:h.a.t("Live updates are "+(null!==this.props.settings.liveUpdates&&!1!==this.props.settings.liveUpdates&&this.state.dateNow?"on":"off")),placement:"top",style:{display:"flex"}},d.a.createElement("span",null,d.a.createElement(y.a,{disabled:!0,className:Object(p.a)(a.datePicker,null!==this.props.settings.liveUpdates&&!1!==this.props.settings.liveUpdates&&this.state.dateNow?a.button:a.buttonDisabled)},d.a.createElement(U.a,null))))),d.a.createElement(E.a,{className:a.divider}),d.a.createElement("div",{className:a.toolbar},d.a.createElement("div",{className:a.errorMessage},this.state.errors.length>0&&d.a.createElement(k.a,{severity:"error"},this.state.errors.map((function(e,t){return[e,d.a.createElement("br",{key:"br-error-"+t})]})))),d.a.createElement(O.a,{className:a.toolbarButtons,color:"primary"},d.a.createElement(y.a,{disableElevation:!0,variant:"contained",onClick:function(){return e.chartRef.current.chartInstance.resetZoom()}},d.a.createElement(j.a,{title:h.a.t("Reset Zoom")},d.a.createElement(z.a,null))))),d.a.createElement("div",{className:"chart-container",style:{position:"relative",height:n.chartHeight||"500px"}},this.state.loading&&d.a.createElement("div",{className:a.loading},d.a.createElement(v.a,null)),d.a.createElement(g.a,{ref:this.chartRef,data:this.state.chartData,options:this.chartOptions})))}}]),a}(d.a.Component);t.default=Object(K.a)((function(e){return{loading:{position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.3)",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},errorMessage:{marginBottom:5,marginRight:15,width:"100%"},toolbar:{display:"flex"},toolbarButtons:{display:"initial",whiteSpace:"nowrap"},options:{display:"flex",justifyContent:"center"},datePicker:{padding:"2px 4px",display:"flex",alignItems:"center",margin:2},input:{marginLeft:e.spacing(1),flex:1},select:{width:100},icon:{margin:10},iconButton:{padding:10},divider:{margin:"15px 0"},dividerVertical:{height:28,margin:4},button:{backgroundColor:e.palette.primary.main,color:"#fff !important",margin:"4px"},buttonDisabled:{backgroundColor:"#eee",margin:"4px"}}}))(G);var W={title:h.a.t("Adapter Status"),icon:"traffic-light"},V="Stellt historische Werte (z.B. aus ioBroker.history) grafisch als Chart mittels Chart.js dar.",J=["Chart1.png"],q=[]},233:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return p})),a.d(t,"ModuleSettings",(function(){return g})),a.d(t,"ModuleDescription",(function(){return m})),a.d(t,"ModuleScreenshots",(function(){return f})),a.d(t,"ModuleConfig",(function(){return h}));var n=a(5),r=a(16),i=a(0),o=a.n(i),s=a(105),c=a(251),l=a(28),u=a(3),d=a(147);function p(e){var t=e.settings,a=Object(i.useRef)(),p=Object(i.useState)(Object(s.a)(new Date,t.format,{locale:u.b[u.a.getLanguage()]})),g=Object(r.a)(p,2),m=g[0],f=g[1],h=Object(i.useState)(""),b=Object(r.a)(h,2),v=b[0],y=b[1],O=Object(i.useState)(""),k=Object(r.a)(O,2),j=k[0],S=k[1],E=Object(i.useState)(""),C=Object(r.a)(E,2),w=C[0],x=C[1];return t.style=Object(n.a)({fontSize:"1.5rem",textAlign:"center"},t.style),t.format=t.format||"dd.MM.yyyy HH:mm:ss",t.refresh=t.format.indexOf("s")>-1?1e3:t.format.indexOf("i")>-1?6e4:36e5,Object(i.useEffect)((function(){clearTimeout(a.current),a.current=setTimeout((function(){return f(Object(s.a)(new Date,t.format,{locale:u.b[u.a.getLanguage()]}))}),t.refresh),l.a.getSetting("iobroker").latitude&&l.a.getSetting("iobroker").longitude&&(S(Object(c.getSunrise)(l.a.getSetting("iobroker").latitude,l.a.getSetting("iobroker").longitude)),x(Object(c.getSunset)(l.a.getSetting("iobroker").latitude,l.a.getSetting("iobroker").longitude))),l.a.getSetting("iobroker").city&&y(l.a.getSetting("iobroker").city)}),[t]),o.a.createElement("div",{style:t.style},u.a.t("%DateTime").replace(/%DateTime/,m),!1!==t.sun&&o.a.createElement("div",{style:{margin:"5px 0",fontSize:"1.2rem"}},o.a.createElement("span",{className:"mdi mdi-city-variant-outline"})," ",v||o.a.createElement(d.a,{size:"1.2rem"}),o.a.createElement("span",{style:{margin:"0 10px"}}),o.a.createElement("span",{className:"mdi mdi-weather-sunset-up"})," ",j?Object(s.a)(j,"HH:mm"):o.a.createElement(d.a,{size:"1.2rem"}),o.a.createElement("span",{style:{margin:"0 10px"}}),o.a.createElement("span",{className:"mdi mdi-weather-sunset-down"})," ",w?Object(s.a)(w,"HH:mm"):o.a.createElement(d.a,{size:"1.2rem"})))}var g={noDevicesAllowed:!0,title:u.a.t("Time"),icon:"clock-outline"},m="Das Modul dient der Anzeige des aktuellen Datums und Zeit.",f=["DateTime1.png"],h=[{parameter:"style",label:{en:"Style of the text",de:"Style des Textes"},description:{en:"CSS statements in javascript notation",de:"CSS-Anweisungen in Javascript Syntax"},val:'{ fontSize: "1.5rem", textAlign: "center" }'},{parameter:"format",label:{en:"Date/Time format",de:"Format des Datums / Uhrzeit"},description:{en:"For possible format values, see date-fns documentation",de:"F\xfcr m\xf6gliche Werte, siehe date-fns Dokumentation"},link:"https://date-fns.org/v2.9.0/docs/format",val:"dd.MM.yyyy HH:mm:ss"},{parameter:"sun",label:{en:"Show times of sunrise and -set",de:"Zeigt Zeiten f\xfcr Sonnenauf- und -untergang"},type:"Switch",val:!0}]},234:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E})),a.d(t,"ModuleDescription",(function(){return w})),a.d(t,"ModuleScreenshots",(function(){return x})),a.d(t,"ModuleConfig",(function(){return T}));var n=a(13),r=a(5),i=a(16),o=a(0),s=a.n(o),c=a(17),l=a(44),u=a.n(l),d=a(659),p=a(662),g=a(649),m=a(661),f=a(14),h=a(28),b=a(3),v=a(655),y=a(46),O=a(92),k=a(259),j=a(80),S=Object(j.a)((function(e){return{map:{width:"100%",height:"100%"},mapOverview:{color:"#666",position:"absolute",left:0,bottom:0,width:"100%",height:"60px",zIndex:999,display:"flex",alignItems:"center","& > *":{margin:e.spacing(1),cursor:"pointer"}},mapIconContainer:{},mapIconParent:{backgroundColor:"#fff",boxShadow:"0 0 0 8px rgba(255, 255, 255, 0.3)",borderRadius:"50%",width:"100%",height:"100%"},mapIcon:{fontSize:"2rem",color:e.palette.primary.main,transform:"translate3d(4px, -4px,0)",display:"block","&:after":{content:'""',display:"block",padding:"50% 0%"}},mapTooltip:{}}}));function E(e){var t=e.settings,a=e.devices,l=S(),u=Object(o.useState)(t.defaultZoom),g=Object(i.a)(u,1)[0],m=Object(o.useState)(t.defaultPosition?Array.isArray(t.defaultPosition)?t.defaultPosition:t.defaultPosition.split(","):[h.a.getSetting("iobroker").latitude,h.a.getSetting("iobroker").longitude]),j=Object(i.a)(m,1)[0],E=Object(o.useState)({}),w=Object(i.a)(E,2),x=w[0],T=w[1],D=Object(o.useRef)(),I=Object(o.useCallback)((function(){D.current=this}),[]),L=Object(o.useCallback)((function(e){return D.current.flyTo(e.split(","))}),[]),N=function(e,t,a){"position"===e&&T((function(e){return e[a.id]&&e[a.id].position===t.val?e:(a.options.position=t.val,Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},a.id,a)))}))};Object(o.useEffect)((function(){return a.forEach((function(e){e.requestDeviceState("position").catch((function(t){f.a._("Modules (Map)",t.message,"error",!0,t.stack),T((function(t){return t[e.id]?t:Object(r.a)(Object(r.a)({},t),{},Object(n.a)({},e.id,null))}))})),e.listen(N)})),function(){return a.forEach((function(e){return e.unlisten(N)}))}}),[a]);var _=[],A=[];if(a.length>0&&a.length===Object.keys(x).length){var M=function(e){var a=x[e];if(null!==a){var n=s.a.createElement(C,{key:"marker-"+a.id,position:a.options.position||"",device:a,settings:t.component});_.push(n);var r=null;if(a.attributes.avatar)r=s.a.createElement(k.a,{key:"overview-"+a.id,alt:a.name,src:a.attributes.avatar,onClick:function(){return L(a.options.position)}});else{var i=a.getDeviceState(),o=a.getIcon(null,i&&void 0!==i.val?i.val:null),l=a.getStyle("icon",null,i&&void 0!==i.val?i.val:null);console.log(i&&void 0!==i.val?i.val:null),console.log(l),r=s.a.createElement(k.a,{style:l,key:"overview-"+a.id,alt:a.name,onClick:function(){return L(a.options.position)}},s.a.createElement("span",{className:Object(c.a)("mdi mdi-"+o)}))}A.push(s.a.createElement(O.a,{key:"tooltip-"+a.id,title:a.name,"aria-label":a.name,arrow:!0},r))}};for(var F in x)M(F)}return(s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{className:l.mapOverview},s.a.createElement(y.a,null,b.a.t("Jump to"),":"),A),s.a.createElement(d.a,{useFlyTo:!0,center:j,zoom:g,className:l.map,whenReady:I},s.a.createElement(p.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}),_)))}function C(e){var t=e.position,a=e.device,n=e.settings,r=S(),i=null,l=40;if(f.a._("Modules (Map)","Marker for "+a.function+" "+a.name+" added to map."),a.attributes&&a.attributes.avatar&&"data:image/"===a.attributes.avatar.substr(0,11))i=u.a.divIcon({className:r.mapIconContainer,html:'<img src="'+a.attributes.avatar+'" class="'+r.mapIconParent+'" />',iconSize:[64,64]});else{l=30;var d=a.getDeviceState(),p=a.getIcon(null,d&&void 0!==d.val?d.val:null),h=a.getStyle("icon",null,d&&void 0!==d.val?d.val:null);console.log(h);var b=Object(j.a)({root:h},{name:"testi"});console.log(b.root),i=u.a.divIcon({className:r.mapIconContainer,html:'<div class="'+Object(c.a)(r.mapIconParent)+'"><span class="'+Object(c.a)(r.mapIcon,"mdi mdi-"+p)+'"></span></div>',iconSize:[40,40]})}var v=Object(o.useCallback)((function(){this.closeTooltip().openTooltip()}),[]);return(s.a.createElement(g.a,{riseOnHover:!0,position:Array.isArray(t)?t:t.split(","),icon:i,onMouseOver:v},s.a.createElement(m.a,{className:r.mapTooltip,direction:n.tooltipDirection||"bottom",permanent:n.tooltipPermanent||!0,offset:[0,l]},a.name)))}var w="Zeigt eine Karte von OpenStreetMap.",x=[],T=[{parameter:"defaultZoom",label:{en:"initial map zoom",de:"initialer Zoom der Karte"},type:"Number",val:10},{parameter:"defaultPosition",label:{en:"initial map position",de:"initiale Position auf der Karte"},description:{en:"Separate latitude and longitude via comma (e.g. 53.550383, 9.992376)",de:"Latitude und Longitude mit Komma separiert (z. B. 53.550383, 9.992376)"},val:""},{parameter:"tooltipDirection",label:{en:"Direction tooltip will open",de:"Richtung in die der Tooltip \xf6ffnet"},description:{en:"possible directions to open: auto, center, top, left, right or bottom",de:"m\xf6gliche Werte: auto, center, top, left, right or bottom"},val:""},{parameter:"tooltipPermanent",label:{en:"permanent tooltip",de:"Permanenter Tooltip"},description:{en:"Option to keep tooltip permanently open (true) or only open on mouse-over (false)",de:"Angabe ob der Tooltip permanent ist (true) oder nur beim r\xfcberfahren mit der Maus gezeigt wird (false)"},type:"Switch",val:!0}]},235:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return o})),a.d(t,"ModuleDescription",(function(){return s})),a.d(t,"ModuleScreenshots",(function(){return c})),a.d(t,"ModuleConfig",(function(){return l}));var n=a(0),r=a.n(n),i=a(121);function o(e){return r.a.createElement(i.default,Object.assign({horizontal:!0},e))}var s="Zeigt eine Liste von States horizontal an",c=["StateListHorizontal1.png"],l=i.ModuleConfig},236:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return m})),a.d(t,"ModuleSettings",(function(){return f})),a.d(t,"ModuleDescription",(function(){return h})),a.d(t,"ModuleScreenshots",(function(){return b})),a.d(t,"ModuleConfig",(function(){return v}));var n=a(16),r=a(0),i=a.n(r),o=a(14),s=a(67),c=a(3),l=a(115),u=a(93),d=a(46),p=a(80),g=Object(p.a)((function(e){return{paper:{width:100,height:160,padding:5,textAlign:"center"}}}));function m(e){var t=e.settings,a=g(),p=Object(r.useState)(null),m=Object(n.a)(p,2),f=m[0],h=m[1];Object(r.useEffect)((function(){s.a.getConnection.getRemoteResource(t.url).then((function(e){200===e.statusCode&&h(JSON.parse(e.body))}),(function(e){return o.a._("Modules (Weather)",e.message,"error",!0,e.stack)}))}),[t.url]);var b=[];if(!f)return null;for(var v in f.day){var y=f.day[v];y.title=1===v?c.a.t("today"):2===v?c.a.t("tomorrow"):y.name;var O=i.a.createElement(l.a,{key:"day-"+v,item:!0},i.a.createElement(u.a,{className:a.paper},i.a.createElement(d.a,{variant:"body1"},y.title),i.a.createElement(d.a,{variant:"caption"},y.date)));b.push(O)}return(i.a.createElement(l.a,{container:!0,justify:"space-between",spacing:1},b))}var f={noDevicesAllowed:!0,title:c.a.t("Weather"),icon:"weather-partly-cloudy"},h="Zeigt die Wetter-Vorschau an.",b=[],v=[]},237:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(527)("./door."+n.a.getLanguage()).default;n.a.setTranslation(n.a.getLanguage(),r),t.default={description:{en:"Doors",de:"T\xfcren"},configurations:{open:{icon:{true:"door-open",false:"door-closed"},display:{true:n.a.t("door#open#true"),false:n.a.t("door#open#false")}},lock:{}},components:{},actions:{}}},238:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(3),o=a(50),s=a(529)("./heating."+i.a.getLanguage()).default;i.a.setTranslation(i.a.getLanguage(),s),t.default={description:{en:"Heating",de:"Heizung"},configurations:{temperature:{value:function(e){return e.toFixed(1)},unit:" \xb0C",icon:"radiator"},setTemperature:{unit:" \xb0C",icon:"thermometer-chevron-up"},humidity:{unit:" %"},boost:{icon:"radiator"}},components:{setTemperature:function(e){var t=o.default.components.LevelComponent;return(r.a.createElement(t,Object.assign({min:0,max:35},e)))}},actions:{boost:o.default.actions.PowerAction}}},243:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(628)("./location."+n.a.getLanguage()).default;n.a.setTranslation(n.a.getLanguage(),r),t.default={description:{en:"locations",de:"Orte"},configurations:{position:{icon:"map-marker"},presence:{icon:{true:"map-marker-radius",false:"map-marker-remove-outline"},display:{true:n.a.t("location#presence#true"),false:n.a.t("location#presence#false")}},users:{icon:{"":"account-group-outline",default:"account-group"},display:{"":n.a.t("location#users#empty")}}},components:{},actions:{}}},244:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(630)("./user."+n.a.getLanguage()).default;n.a.setTranslation(n.a.getLanguage(),r),t.default={description:{en:"users",de:"Benutzer"},configurations:{position:{icon:"map-marker"},location:{icon:"account"},battery:{}},components:{},actions:{}}},245:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(632)("./window."+n.a.getLanguage()).default;n.a.setTranslation(n.a.getLanguage(),r),t.default={description:{en:"windows",de:"Fenster"},configurations:{open:{icon:{true:"window-open-variant",false:"window-closed-variant"},display:{true:n.a.t("window#open#true"),false:n.a.t("window#open#false")}}},components:{},actions:{}}},246:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return d})),a.d(t,"InputChips",(function(){return p})),a.d(t,"InputChipsField",(function(){return g}));var n=a(5),r=a(56),i=a(0),o=a.n(i),s=a(664),c=a(110),l=a(80),u=Object(l.a)((function(e){return{chip:{margin:e.spacing(.5)}}}));function d(e){var t=e.icon,a=e.color,n=e.label,r=e.onDelete,i=e.deleteIcon,c=u(e);return o.a.createElement(s.a,{className:c.chip,icon:t,color:a,label:n,onDelete:function(){return r&&r()},deleteIcon:i})}function p(e){var t=e.list,a=Object(r.a)(e,["list"]);return(Array.isArray(t)?t:t.split(",")).map((function(e){return d("string"===typeof e?Object(n.a)({label:e},a):Object(n.a)(Object(n.a)({},e),a))}))}function g(e){var t=e.optionKey,a=Object(r.a)(e,["optionKey"]);return(o.a.createElement(c.TextAutoComplete,Object.assign({multiple:!0,freeSolo:!0,getOptionLabel:function(e){return t?e[t]:e}},a)))}},247:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return m})),a.d(t,"FieldsetItem",(function(){return f})),a.d(t,"FieldsetLegend",(function(){return h})),a.d(t,"Form",(function(){return b}));var n=a(56),r=a(0),i=a.n(r),o=a(17),s=a(3),c=a(257),l=a(115),u=a(40),d=a(46),p=a(80),g=Object(p.a)((function(e){return{noPadding:{padding:"0 !important"},Fieldset:{padding:e.spacing(.5,3,2,3)},FieldsetItem:{padding:e.spacing(2,0,1,0)},Legend:{fontSize:"1.2rem",color:e.palette.primary.dark,padding:e.spacing(1,3)}}}));function m(e){var t=e.children,a=e.noPadding,r=Object(n.a)(e,["children","noPadding"]),s=g();return i.a.createElement(i.a.Fragment,null,i.a.createElement(h,r),i.a.createElement(l.a,Object.assign({container:!0,className:Object(o.a)(s.Fieldset,a&&s.noPadding)},r),t))}function f(e){var t=e.container,a=e.children,n=e.columns,r=g();return i.a.createElement(l.a,Object.assign({container:t||!1,item:!0,className:r.FieldsetItem,xs:n||12},e),a)}function h(e){var t=g();return e.label?i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{className:t.Legend,variant:"h3"},e.label),i.a.createElement(c.a,null)):null}function b(e){var t=e.children;return(i.a.createElement(u.a,{utils:s.a.getLocaleDateAdapter(),locale:s.a.getLocale()},t))}},248:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(0),i=a.n(r),o=a(252),s=a(14),c=a(3);var l={HsvToRgb:function(e){var t,a,r,i,o,s,c,l,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(Array.isArray(e))d=e[2],u=e[1],e=e[0];else if("string"===typeof e&&e.indexOf(",")){var p=e.split(","),g=Object(n.a)(p,3);e=g[0],u=g[1],d=g[2]}switch(e>1&&(e/=360),s=d*(1-u),c=d*(1-(o=6*e-(i=Math.floor(6*e)))*u),l=d*(1-(1-o)*u),i%6){case 0:t=d,a=l,r=s;break;case 1:t=c,a=d,r=s;break;case 2:t=s,a=d,r=l;break;case 3:t=s,a=c,r=d;break;case 4:t=l,a=s,r=d;break;case 5:t=d,a=s,r=c}return[Math.round(255*t),Math.round(255*a),Math.round(255*r)]},RgbToHex:function(e,t,a){if(Array.isArray(e))a=e[2],t=e[1],e=e[0];else if("string"===typeof e&&e.indexOf(",")){var r=e.split(","),i=Object(n.a)(r,3);e=i[0],t=i[1],a=i[2]}return e=parseInt(e).toString(16),t=parseInt(t).toString(16),a=parseInt(a).toString(16),1===e.length&&(e="0"+e),1===t.length&&(t="0"+t),1===a.length&&(a="0"+a),"#"+e+t+a}},u=a(50),d=a(626)("./light."+c.a.getLanguage()).default;function p(e){var t=e.stateKey,a=e.stateVal,o=Object(r.useState)(a),s=Object(n.a)(o,2),c=s[0],l=s[1];Object(r.useEffect)((function(){return l(a)}),[a]);var d,p={};"rgb"===t&&c?p={Red:(d=c.split(","))[0],Green:d[1],Blue:d[2]}:"hsv"===t&&c&&(p={Hue:(d=c.split(","))[0],Saturation:d[1],Brightness:d[2]});var g=u.default.components.Label,m=[];for(var f in p)m.push(i.a.createElement(g,{key:f,label:f+" "+p[f],br:!0}));return m}function g(e){var t=e.device,a=e.stateKey,c=e.stateVal,d=e.title,p=c||"#ffffff";"rgb"===a?p=l.RgbToHex(p):"hsv"===a&&(p=l.RgbToHex(l.HsvToRgb(p)));var g=Object(r.useState)(p),m=Object(n.a)(g,2),f=m[0],h=m[1];Object(r.useEffect)((function(){"rgb"===a?h(l.RgbToHex(c)):"hsv"===a?h(l.RgbToHex(l.HsvToRgb(c))):"hex"===a&&h(c)}),[a,c]);var b=u.default.components.Component;return(i.a.createElement(b,{title:d||a},i.a.createElement(o.SketchPicker,{color:f,width:"100%",onChangeComplete:function(e,n){e=e[a],"rgb"===a?e=[e.r,e.g,e.b].join(","):"hsv"===a&&(e=[e.h,e.s,e.v].join(",")),t.setDeviceState(a,e).catch((function(e){return s.a._("Function (light)",e.message,"error",!0,e.stack)}))}})))}c.a.setTranslation(c.a.getLanguage(),d);var m={icon:{default:"palette"},unit:" \xb0"};t.default={description:{en:"lights",de:"Lichter"},configurations:{power:{icon:{true:"lightbulb-on",false:"lightbulb-off-outline"}},level:{value:function(e){return e>0&&e<=1?100*e:e},unit:function(e){return e>0?" %":null},stateStyle:{0:{color:"#999"}},icon:{default:"lightbulb-on",0:"lightbulb-off-outline"},display:{0:c.a.t("light#level#off")}},colorTemperature:{icon:{default:"thermometer"},unit:" \xb0K"},hue:m,rgb:m,hsv:m,hex:m},components:{level:u.default.components.LevelComponent,colorTemperature:function(e){var t=u.default.components.LevelComponent;return(i.a.createElement(t,Object.assign({min:2e3,max:6500,step:10},e)))},rgb:g,hsv:g,hex:g,hue:function(e){var t=e.device,a=e.stateKey,c=e.stateVal,d=e.title,p=Object(r.useState)(c),g=Object(n.a)(p,2),m=g[0],f=g[1];Object(r.useEffect)((function(){return f(c)}),[c]);var h=u.default.components.Component,b=l.RgbToHex(l.HsvToRgb(m));return i.a.createElement(h,{title:d||a},i.a.createElement(o.HuePicker,{color:b,width:"100%",onChangeComplete:function(e,n){f(Math.round(e.hsl.h)),t.setDeviceState(a,Math.round(e.hsl.h)).catch((function(e){return s.a._("Function (light)",e.message,"error",!0,e.stack)}))}}))}},actions:{power:u.default.actions.PowerAction,level:function(e){var t=e.device,a=e.stateKey,o=e.stateVal,c=function(e){g(e.target.checked),t.setDeviceState(a,e.target.checked?t.getOption("defaultValue")||100:0).catch((function(e){return s.a._("Function (light)",e.message,"error",!0,e.stack)}))},l=Object(r.useState)(o>0),d=Object(n.a)(l,2),p=d[0],g=d[1];return Object(r.useEffect)((function(){return g(o>0)}),[o]),t.parent&&t.parent.states.power?i.a.createElement(u.default.actions.Action,Object.assign({},e,{stateVal:p,onChange:c})):i.a.createElement(u.default.actions.PowerAction,Object.assign({},e,{stateVal:p,onChange:c}))},rgb:p,hsv:p,hex:p}}},249:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(0),i=a.n(r),o=a(17),s=a(204),c=a.n(s),l=a(133),u=a(648),d=a(355),p=a.n(d),g=a(195),m=a.n(g),f=a(193),h=a.n(f),b=a(14),v=a(3),y=a(50);var O=a(80),k=Object(O.a)((function(e){return{value:function(e){return{float:"left",lineHeight:"32px",marginRight:"10px"}},borderLeftTransparent:{borderLeftColor:"transparent !important"},borderLeftColor:{borderLeftColor:c()(e.palette.primary.main).alpha(.5).rgb().toString()+"!important"},borderRightTransparent:{borderRightColor:"transparent !important"},borderRightColor:{borderRightColor:c()(e.palette.primary.main).alpha(.5).rgb().toString()+"!important"},borderRightColorSecondary:{borderRightColor:c()(e.palette.secondary.main).alpha(.5).rgb().toString()+"!important"}}})),j=a(525)("./blind."+v.a.getLanguage()).default;v.a.setTranslation(v.a.getLanguage(),j);t.default={description:{en:"Shutters and Blinds",de:"Rollos oder Jalousien"},configurations:{level:{value:function(e){return Math.round(e)},icon:{default:"window-shutter-open",">90":"window-shutter-open","<=90":"window-shutter"}},level2:{value:function(e){return Math.round(e)},unit:" %",icon:{default:"window-shutter-open",">90":"window-shutter-open","<=90":"window-shutter"}},activity:{val:function(e,t,a){return function(e,t){if("HomeMatic"===e)switch(t){case 1:case 2:t=!0;break;case 3:t=!1;break;default:t=null}else if("Shelly"===e)switch(t){case"open":case"close":t=!0;break;case"stop":t=!1;break;default:t=null}return t}(a.options.manufacturer,e)},icon:{true:"pan-vertical",false:"dots-vertical"},display:{true:v.a.t("blind#activity#true"),false:v.a.t("blind#activity#false")}}},components:{level2:y.default.components.LevelComponent},actions:{level:function(e){var t=e.device,a=e.state,s=e.stateKey,c=k(),d=Object(r.useState)(a.value),g=Object(n.a)(d,2),f=g[0],v=g[1];Object(r.useEffect)((function(){return v(a.value)}),[a]);var y=function(e,t,a){"activity"===e&&E(t.val)},O=Object(r.useState)(!1),j=Object(n.a)(O,2),S=j[0],E=j[1];return Object(r.useEffect)((function(){return t.states.activity&&t.states.activity.state&&(t.states.activity.state="string"===typeof t.states.activity.state?{node:t.states.activity.state}:t.states.activity.state,t.requestDeviceState("activity",!0).catch((function(e){return b.a._("Function (blind)",e.message,"error",!0,e.stack)})),t.listen(y)),function(){return t.unlisten(y)}}),[t,a]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:c.value},f+a.unit),i.a.createElement(u.a,{size:"small"},i.a.createElement(l.a,{color:"primary",className:Object(o.a)(null!==S&&(S?c.borderRightTransparent:c.borderRightColor)),onClick:function(){v(100),E(!0),t.setDeviceState(s,100).catch((function(e){return b.a._("Function (blind)",e.message,"error",!0,e.stack)}))}},i.a.createElement(p.a,null)),null!==S&&i.a.createElement(l.a,{color:"secondary",className:Object(o.a)(S?c.borderRightColorSecondary:[c.borderLeftTransparent,c.borderRightTransparent]),onClick:function(){E(!1),t.setDeviceState("activity",!0).catch((function(e){return b.a._("Function (blind)",e.message,"error",!0,e.stack)}))},disabled:!S},i.a.createElement(h.a,null)),i.a.createElement(l.a,{color:"primary",className:Object(o.a)(null!==S&&(S?c.borderLeftTransparent:c.borderLeftColor)),onClick:function(){v(0),E(!0),t.setDeviceState(s,0).catch((function(e){return b.a._("Function (blind)",e.message,"error",!0,e.stack)}))}},i.a.createElement(m.a,null))))}}}},250:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return D})),a.d(t,"ModuleDescription",(function(){return I})),a.d(t,"ModuleScreenshots",(function(){return L})),a.d(t,"ModuleConfig",(function(){return N}));var n=a(0),r=a.n(n),i=a(5),o=a(13),s=a(18),c=a(19),l=a(25),u=a(24),d=a(17),p=a(14),g=a(131),m=a(257),f=a(722),h=a(352),b=a.n(h),v=a(351),y=a.n(v),O=a(193),k=a.n(O),j=a(353),S=a.n(j),E=a(354),C=a.n(E),w=a(7),x=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).stateChange=function(e,t){"duration"===e&&t&&-1===t.val.indexOf(":")&&(t.val=g.a.timeToHoursMinutesSeconds(t.val)),"isRunning"===e&&t&&"string"===typeof t.val&&(t.val=t.val.indexOf("play")>-1),n.setState(Object(o.a)({},e,t),(function(){n.progress()}))},n.state={},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){for(var e in this.props.device.states)this.props.device.requestDeviceState(e,!0).catch((function(e){return p.a._("Modules (MultimediaItem)",e.message,"error",!0,e.stack)}));this.props.device.listen(this.stateChange)}},{key:"componentWillUnmount",value:function(){this.props.device.unlisten(this.stateChange)}},{key:"progress",value:function(){var e=this;clearTimeout(this.progressTimeout),this.state.isRunning&&!0===this.state.isRunning.val&&this.state.progress&&this.state.progress.val&&this.state.duration&&this.state.duration.val&&(this.progressTimeout=setTimeout((function(){e.setState((function(e){return{progress:Object(i.a)(Object(i.a)({},e.progress),{},{val:g.a.timeToSeconds(e.progress.val)+1})}}),(function(){return e.progress()}))}),1e3))}},{key:"openDialog",value:function(){this.props.openDialog(this.props.device)}},{key:"setDeviceState",value:function(e,t){this.props.device.setDeviceState(e,t).catch((function(e){return p.a._("Modules (MultimediaItem)",e.message,"error",!0,e.stack)}))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.noHeader,n=e.index,i=e.device,o={},s={};this.state.background&&""!==this.state.background.val&&(o.backgroundImage="url("+((i.options.backgroundUrlPrepend||"")+this.state.background.val)+")"),this.state.duration&&this.state.duration.val&&(s.width=(this.state.progress&&this.state.progress.val||0)+"px");var c=this.state.isRunning&&this.state.isRunning.val?[r.a.createElement(y.a,{onClick:this.setDeviceState.bind(this,"pause",!0)}),r.a.createElement(k.a,null)]:[r.a.createElement(b.a,{onClick:this.setDeviceState.bind(this,"play",!0)})];return(r.a.createElement(r.a.Fragment,null,n>0&&r.a.createElement(m.a,{className:t.divider}),r.a.createElement("div",{className:Object(d.a)(t.container,a&&t.noHeader)},r.a.createElement("div",{className:Object(d.a)(this.state.background&&""!==this.state.background.val?t.image:t.noImage),style:o,onClick:this.openDialog.bind(this)},r.a.createElement("div",{className:t.information},r.a.createElement("p",{className:t.informationLeft},this.state.grandParent&&this.state.grandParent.val&&[this.state.grandParent.val,r.a.createElement("br",{key:"br-"+i.id})],this.state.parent&&this.state.parent.val&&this.state.parent.val+" - ",this.state.title&&this.state.title.val),r.a.createElement("p",{className:t.informationRight},this.state.progress&&g.a.timeToHoursMinutesSeconds(this.state.progress.val)," / ",this.state.duration&&this.state.duration.val))),r.a.createElement("div",{className:t.length,style:{}},r.a.createElement("div",{className:t.lengthBar,style:s})),r.a.createElement("div",{className:t.controls},r.a.createElement("div",{className:Object(d.a)(t.controlsBox,t.controlsBoxLeft)}),r.a.createElement("div",{className:Object(d.a)(t.controlsBox,t.controlsBoxCenter)},r.a.createElement(f.a,{className:t.controlButton,size:"small",color:"secondary"},r.a.createElement(S.a,{onClick:this.setDeviceState.bind(this,"previous",!0)})),c.map((function(e,a){return r.a.createElement(f.a,{key:"icon-"+a,className:t.controlButton,size:"large",color:"primary"},e)})),r.a.createElement(f.a,{className:t.controlButton,size:"small",color:"secondary"},r.a.createElement(C.a,{onClick:this.setDeviceState.bind(this,"next",!0)}))),r.a.createElement("div",{className:Object(d.a)(t.controlsBox,t.controlsBoxRight)})))))}}]),a}(r.a.Component),T=Object(w.a)((function(e){return{divider:{margin:"15px -16px"},container:{margin:e.spacing(0,-2)},noHeader:{marginTop:e.spacing(-4)},image:{height:"200px",display:"flex",alignItems:"flex-end",backgroundPosition:"center",cursor:"pointer"},noImage:{backgroundColor:e.palette.primary.main,display:"flex",cursor:"pointer"},information:{backgroundColor:e.palette.primary.main+"66",color:"#fff",padding:"10px",margin:0,width:"100%",minHeight:"45px"},informationLeft:{width:"80%",float:"left",margin:0},informationRight:{width:"19%",float:"right",margin:0,textAlign:"right"},length:{backgroundColor:e.palette.primary.main,width:"100%",height:"7px"},lengthBar:{backgroundColor:e.palette.secondary.main,height:"100%"},controls:{display:"flex",alignItems:"stretch"},controlsBox:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:"30px"},controlsBoxLeft:{flex:1,flexDirection:"column",alignItems:"baseline"},controlsBoxCenter:{flex:3},controlsBoxRight:{flex:1,justifyContent:"end"},controlButton:{margin:"0 5px"},controlButtonSmall:{margin:"0 10px",fontSize:"1.2rem",height:"32px",width:"32px"}}}))(x);function D(e){var t=e.devices,a=e.settings;return t.map((function(t,n){return r.a.createElement(T,Object.assign({key:"MultimediaItem-"+t.id},e,{index:n,noHeader:0===n&&null===a.icon&&null===a.title,device:t}))}))}var I="Zeigt ein Multimedia-Player an (z. B. Spotify)",L=[],N=[]},28:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(5),r=a(18),i=a(19),o=a(14),s=a(3),c=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"applySettings",value:function(){if(e.settings.language?(s.a.setLanguage(e.settings.language),s.a.loadTranslation(e.settings.language)):s.a.loadTranslation(),e.settings.pageTitle&&(document.title=e.settings.pageTitle),e.settings.pageFavicon&&"data:"===e.settings.pageFavicon.substr(0,5)&&(document.getElementById("favicon").href=e.settings.pageFavicon),e.settings.translations){var t=e.settings.translations;for(var a in t)s.a.setTranslation(a,t[a])}}},{key:"getSetting",value:function(t){return e.settings[t]||""}},{key:"getSettings",value:function(){return e.settings||{}}},{key:"setSetting",value:function(t,a){return!(!t||void 0===a)&&(e.settings[t]=a,!0)}},{key:"setSettings",value:function(t){return!!t&&(e.settings=Object(n.a)(Object(n.a)({},e.settings),t||{}),o.a._("Settings",["Set settings",e.settings]),!0)}}]),e}();c.settings={}},3:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return c}));var n=a(5),r=a(18),i=a(19),o=a(14),s={de:a(657).a},c=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"setLanguage",value:function(t){return!!t&&(e.language=t,o.a._("i18n","Set language to "+t+"."),!0)}},{key:"loadTranslations",value:function(t){return!!t&&((t=Array.isArray(t)?t:[t]).forEach((function(t){return e.loadTranslation(t)})),!0)}},{key:"loadTranslation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.getLanguage();if(t){var n;try{n=a(436)("./"+t+".js").default,e.setTranslation(t,n)}catch(r){return o.a._("i18n",r.message,"error",!1,r.stack),!1}return!0}return!1}},{key:"setTranslation",value:function(t,a){return!(!t||!a)&&(e.translations[t]=Object(n.a)(Object(n.a)({},e.translations[t]||{}),a),o.a._("i18n","Set translations for language "+t+".","debug"),!0)}},{key:"getLanguage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e.language.substr(0,t?5:2)}},{key:"t",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.getLanguage();if("object"===typeof t&&void 0!==t[r])t=t[r];else if(t)if(t=t.toString(),e.translations[r]){if(t.indexOf("#")>-1){for(var i=t.split("#");i.length>0&&!e.translations[r][i.join("#")];)i.shift();t=i.join("#")}e.translations[r][t]?t=e.translations[r][t]:e.translations[r][t.toLowerCase()]?t=e.translations[r][t.toLowerCase()]:o.a._("i18n",'Word "'+t+'" not found in language '+r+"!","debug",!1)}else o.a._("i18n","Language "+r+" not loaded for word "+t+"!","error");for(var s in n)t=t.replace(RegExp("%"+s+"%","g"),n[s]);return a.ucFirst&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}}]),e}();c.translations={},c.language=navigator.language||navigator.userLanguage||"en-EN"},309:function(e,t,a){"use strict";a.r(t);var n=a(249);a.d(t,"default",(function(){return n.default}))},31:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return s}));var n=a(69),r={MODULE:"StateList",NODE_SETTINGS:"jarvis.0.settings",NODE_DEVICES:"jarvis.0.devices",NODE_NOTIFICATIONS:"jarvis.0.notifications"},i={state:{description:{en:"",de:""}},stateStyle:{description:{en:"",de:""}},display:{description:{en:"",de:""}},label:{description:{en:"",de:""}},type:{description:{en:"",de:""},type:"Select"},action:{description:{en:"",de:""}},unit:{description:{en:"",de:""}},icon:{description:{en:"",de:""}},iconStyle:{description:{en:"",de:""}}},o={divider:{description:{en:"",de:"F\xfcgt einen Trennstrich vor (before) oder nach (after) dem Ger\xe4t ein (abh\xe4ngig des Moduls)."},type:"Select",selection:[{"":{en:"no divider",de:"kein Trennstrich"}},{before:{en:"add Divider before Device",de:"Trennstrich vor dem Ger\xe4t einf\xfcgen"}},{after:{en:"add Divider after Device",de:"Trennstrich nach dem Ger\xe4t einf\xfcgen"}}]},group:{description:{en:"",de:"Mit der Gruppe k\xf6nnen mehrere Ger\xe4te zusammengefasst / gruppiert angezeigt werden."}},hiddenStates:{description:{en:"",de:"Liste mit States, die von jarvis zwar geladen, aber nicht angezeigt werden."}},ignoredStates:{description:{en:"",de:"Liste mit States, die von jarvis ignoriert (und damit nicht geladen) werden."}},defaultValue:{description:{en:"",de:"Initialer Standard-Wert, der beim Schalten gesetzt wird."}},primaryStateKey:{description:{en:"",de:"Dieses Feld dient dem \xdcberschreiben des prim\xe4ren States mit einem anderen State."}},secondaryStateKey:{description:{en:"",de:"Dieses Feld dient dem \xdcberschreiben des sekund\xe4ren States mit einem anderen State."}},sort:{description:{en:"",de:"Sortierung des Ger\xe4ts bezogen auf die Position innerhalb der Gruppe (group)."},type:"Number"}},s={tabsHideLabels:{label:{de:"Tab Labels nicht anzeigen (nur Icons)",en:"Hide tab labels (only show icons)"},info:{de:"Zeigt nur die Icons im Tab und nicht die Labels",en:"Show only icons within a tab, not the label"},type:"Switch",val:!1},tabIcon:{label:{de:"Tab Icon",en:"Tab Icon"},type:"Text"},tabLabel:{label:{de:"Tab Label",en:"Tab Label"},type:"Text"},tabFullscreen:{label:{de:"Tab als Vollbild",en:"Tab Fullscreen"},info:{de:"Vollbild kann nur bei einem Tab mit nur einer Spalte und nur einer eingestellten Gruppe aktiviert werden.",en:"Fullscreen can only be enabled on a tab setup with only a single column and only a single group"},type:"Switch",val:!1},deviceKey:{label:{de:"Identifikation",en:"Identifier of key"},type:"Text",val:""},groupName:{label:{de:"Gruppe",en:"Group"},type:"Text",val:""},groupModule:{label:{de:"Modul zur Anzeige der Gruppe",en:"Modul to display group"},type:"Text",val:"StateList",options:Object.keys(n.c)},groupTitle:{label:{de:"Titel der Widget-Box",en:"Title of the widget-box"},type:"Text",val:""},groupIcon:{label:{de:"Icon der Widget-Box",en:"Icon of the widget-box"},type:"Text",val:"home"},groupIconStyle:{label:{de:"Icon style der Widget-Box",en:"Icon style of the widget-box"},type:"Text",val:'backgroundColor: theme.palette.primary.main, color: "#fff", fontSize: "24px"'}};t.e={pageSettings:{label:"Page Settings",settings:{language:{label:{de:"Spracheinstellung von jarvis",en:"Language settings for jarvis"},type:"Select",selection:[{de:"Deutsch"},{en:"English"}]},pageFavicon:{label:{de:"Favicon im Browser",en:"Browser favicon"},info:{de:"base64 Wert der Grafik",en:"base64 value of the image"},type:"Text"},pageTitle:{label:{de:"Titel im Browser",en:"Browser title"},type:"Text",placeholder:"jarvis - just another remarkable vis"}}},themeSettings:{label:"Theme Settings",settings:{themeColorPrimary:{label:{de:"Prim\xe4re Farbe des Themes",en:"Primary theme color"},info:{de:"Der Farbwert kann ein Wert aus der Farbpalette in der Form `HUE|SHADE` (z. B. `blue|700`) sein. Alternativ kann ein Hex oder RGB angegeben werden."},link:"https://material-ui.com/customization/color/#color-palette",type:"Text",placeholder:"blue|700"},themeColorSecondary:{label:{de:"Sekund\xe4re Farbe des Themes",en:"Secondary theme color"},info:{de:"Der Farbwert kann ein Wert aus der Farbpalette in der Form `HUE|SHADE` (z. B. `pink`) sein. Alternativ kann ein Hex oder RGB angegeben werden."},link:"https://material-ui.com/customization/color/#color-palette",type:"Text",placeholder:"pink"},defaultBoxIcon:{label:{de:"Standard Widget-Box Icon",en:"Default widget-box icon"},type:"Text",placeholder:"home"}}}}},311:function(e,t,a){"use strict";a.r(t),t.default={"blind#activity":"Aktivit\xe4t","blind#level":"Behangh\xf6he","blind#level2":"Lamellenposition","blind#activity#true":"in Bewegung","blind#activity#false":"keine"}},312:function(e,t,a){"use strict";a.r(t),t.default={"blind#activity":"Activity","blind#level":"Level","blind#level2":"Lamella","blind#activity#true":"moving","blind#activity#false":"none"}},313:function(e,t,a){"use strict";a.r(t),t.default={"door#bell":"Klingel","door#lock":"Schlo\xdf","door#open":"T\xfcr","door#open#true":"offen","door#open#false":"geschlossen"}},314:function(e,t,a){"use strict";a.r(t),t.default={"door#bell":"Bell","door#lock":"Lock","door#open":"Door","door#open#true":"open","door#open#false":"closed"}},315:function(e,t,a){"use strict";a.r(t),t.default={"heating#boost":"Boost","heating#humidity":"Luftfeuchtigkeit","heating#setTemperature":"eingestellte Temperatur","heating#temperature":"Temperatur"}},316:function(e,t,a){"use strict";a.r(t),t.default={"heating#boost":"Boost","heating#humidity":"Humidity","heating#setTemperature":"Set Temperature","heating#temperature":"Temperature"}},331:function(e,t,a){"use strict";a.r(t),t.default={"light#colorTemperature":"Farbtemperatur","light#hex":"Farbe (Hex)","light#hsv":"Farbraum Hue-Saturation-Value (HSV)","light#hue":"Farbe (Hue)","light#level":"Helligkeit","light#power":"Licht","light#rgb":"Farbraum Rot-Gr\xfcn-Blau (RGB)","light#level#off":"ausgeschaltet"}},332:function(e,t,a){"use strict";a.r(t),t.default={"light#colorTemperature":"Color Temperature","light#hex":"Color (Hex)","light#hsv":"Colorspace Hue-Saturation-Value (HSV)","light#hue":"Color (Hue)","light#level":"Brightness","light#power":"Power","light#rgb":"Colorspace Red-Green-Blue (RGB)","light#level#off":"off"}},333:function(e,t,a){"use strict";a.r(t),t.default={"location#position":"Position","location#presence":"Anwesenheit","location#users":"Benutzer","location#presence#true":"anwesend","location#presence#false":"abwesend","location#users#empty":"niemand anwesend"}},334:function(e,t,a){"use strict";a.r(t),t.default={"location#position":"Position","location#presence":"Presence","location#users":"Users","location#presence#true":"present","location#presence#false":"absent","location#users#empty":"nobody present"}},335:function(e,t,a){"use strict";a.r(t),t.default={"user#location":"Standort","user#position":"Position"}},336:function(e,t,a){"use strict";a.r(t),t.default={"user#location":"Location","user#position":"Position"}},337:function(e,t,a){"use strict";a.r(t),t.default={"window#open":"Fenster","window#open#true":"offen","window#open#false":"geschlossen"}},338:function(e,t,a){"use strict";a.r(t),t.default={"window#open":"Window","window#open#true":"open","window#open#false":"closed"}},339:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return m})),a.d(t,"InputSwitchInline",(function(){return f}));var n=a(16),r=a(0),i=a.n(r),o=a(3),s=a(642),c=a(652),l=a(665),u=a(258),d=a(103),p=a(80),g=Object(p.a)((function(e){return{FormControl:{width:"100%"},InputLabel:{width:"133%"},Switch:{marginTop:"10px"},SwitchSmall:{marginTop:"2px"},SwitchInline:{marginLeft:"5px"}}}));function m(e){var t=e.id,a=e.label,c=e.val,p=e.size,m=e.disabled,f=e.onChange,h=g(e),b=Object(r.useState)(c||!1),v=Object(n.a)(b,2),y=v[0],O=v[1];return i.a.createElement(d.a,e,i.a.createElement(s.a,{key:"FormControl-"+t,classes:{root:h.FormControl}},i.a.createElement(l.a,{classes:{root:h.InputLabel},shrink:!0},o.a.t(a)),i.a.createElement(u.a,{classes:{root:"small"===p?h.SwitchSmall:h.Switch},checked:y,disabled:m,onChange:function(t){var a=t&&t.target&&t.target.checked||!1;O(a),f&&f(e,a)},size:p})))}function f(e){var t=e.label,a=e.val,s=e.size,l=e.disabled,p=e.onChange,m=g(e),f=Object(r.useState)(a||!1),h=Object(n.a)(f,2),b=h[0],v=h[1];return i.a.createElement(d.a,e,i.a.createElement(c.a,{classes:{root:m.SwitchInline},label:o.a.t(t),control:i.a.createElement(u.a,{classes:{root:"small"===s?m.SwitchSmall:m.Switch},checked:b,disabled:l,onChange:function(t){var a=t&&t.target&&t.target.checked||!1;v(a),p&&p(e,a)},size:s})}))}},398:function(e,t,a){e.exports=a(637)},403:function(e,t,a){},433:function(e,t){},436:function(e,t,a){var n={"./de.js":437,"./en.js":438};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=436},437:function(e,t,a){"use strict";a.r(t),t.default={"Retrieving settings":"Einstellungen werden geladen","last update":"letzte Aktualisierung","Updates available":"Aktualisierung verf\xfcgbar",on:"an",off:"aus",user:"User",users:"Users",door:"T\xfcr",window:"Fenster",open:"offen",closed:"geschlossen","turn on":"anschalten",power:"Ger\xe4te Status",trigger:"Ger\xe4te Status",brightness:"Helligkeit",wind:"Wind",battery:"Batterie","%DateTime":"%DateTime Uhr",running:"Ger\xe4t l\xe4uft",consumption:"Verbrauch"}},438:function(e,t,a){"use strict";a.r(t),t.default={}},50:function(e,t,a){"use strict";a.r(t);var n=a(34),r=a(16),i=a(13),o=a(5),s=a(0),c=a.n(s),l=a(17),u=a(14),d=a(3),p=a(663),g=a(258),m=a(133),f=a(80),h=a(7),b=Object(f.a)((function(e){return{component:{padding:e.spacing(2,0,2,0)},sliderMarkLabel:Object(i.a)({},e.breakpoints.down("md"),{display:"none","&:nth-child(5)":{display:"block"},"&:nth-child(15)":{display:"block"},"&:nth-child(25)":{display:"block"}})}})),v=Object(h.a)((function(e){return{primaryAction:function(e){return Object(o.a)({},e.styles)},secondaryAction:function(e){return Object(o.a)({color:"#999",fontSize:"14px"},e.styles)}}}))((function(e){var t=e.classes,a=e.device,n=e.state,r=e.stateKey;return(c.a.createElement("span",{className:Object(l.a)(r===a.primaryStateKey&&t.primaryAction||r===a.secondaryStateKey&&t.secondaryAction)},n&&n.value," ",n&&n.unit))}));function y(e){var t=e.device,a=e.stateKey,n=e.stateVal,i=e.onChange,o=Object(s.useState)(n),l=Object(r.a)(o,2),d=l[0],p=l[1];return Object(s.useEffect)((function(){return p(n)}),[n]),c.a.createElement(g.a,{checked:d,onChange:i||function(e){p(e.target.checked),t.setDeviceState(a,e.target.checked).catch((function(e){return u.a._("Function (defaults)",e.message,"error",!0,e.stack)}))},value:!0!==d,color:"primary"})}function O(e){var t=e.device,a=e.stateKey,n=e.stateVal;if(!0===n||n>0)return c.a.createElement(v,Object.assign({},e,{onChange:null}));return c.a.createElement(m.a,{variant:"outlined",color:"primary",size:"small",startIcon:c.a.createElement("span",{className:"mdi mdi-power"}),onClick:function(){t.setDeviceState(a,!0).catch((function(e){return u.a._("Function (defaults)",e.message,"error",!0,e.stack)}))}},d.a.t("turn on"))}function k(e){var t=e.label,a=e.br||!1;return c.a.createElement(c.a.Fragment,null,t,a&&c.a.createElement("br",null))}function j(e){var t=e.title,a=e.children,n=b();return c.a.createElement(c.a.Fragment,null,c.a.createElement(k,{label:t}),c.a.createElement("div",{className:n.component},a))}function S(e){var t=e.device,a=e.stateKey,i=e.stateVal,o=e.title,l=e.min,d=e.max,g=e.step,m=e.markSteps,f=b(),h=Object(s.useState)(i),v=Object(r.a)(h,2),y=v[0],O=v[1];Object(s.useEffect)((function(){return O(i)}),[i]),g=g||1;var k=((d=d||100)-(l=l||0))/((m=m||11)-1)||10;return(c.a.createElement(j,{title:o||a},c.a.createElement(p.a,{classes:{markLabel:f.sliderMarkLabel},onChange:function(e,t){return O(t)},onChangeCommitted:function(e,n){O(n),t.setDeviceState(a,n).catch((function(e){return u.a._("Function (defaults)",e.message,"error",!0,e.stack)}))},value:y,valueLabelDisplay:"auto",marks:Object(n.a)(Array(m).keys()).map((function(e){return{value:l+e*k,label:l+e*k}})),min:l,max:d,step:g})))}t.default={description:{en:"Default settings for all functions",de:"Standard-Einstellungen f\xfcr alle Gewerke"},configurations:{_any:{value:function(e){return e.toString()},stateStyle:{true:{color:"#090",fontWeight:"bold"},false:{color:"#999"}}},battery:{unit:" %",icon:"battery-medium"},door:{icon:{true:"door-open",false:"door-closed"},display:{true:"open",false:"closed"}},humidity:{unit:" %",icon:"water-percent"},level:{unit:" %"},position:{icon:"map-marker"},power:{display:{true:"on",false:"off"},icon:"power"},temperature:{unit:" \xb0C",icon:"thermometer"},trigger:{display:{true:"on",false:"off"},icon:"power"},wind:{unit:" km/h",icon:"weather-windy"}},components:{Label:k,Component:j,LevelComponent:S,level:S},actions:{Action:v,PowerAction:y,TriggerAction:O,power:y,trigger:O}}},525:function(e,t,a){var n={"./blind.de":311,"./blind.de.js":311,"./blind.en":312,"./blind.en.js":312,"./blind.js":249};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=525},526:function(e,t,a){"use strict";a.r(t);var n=a(237);a.d(t,"default",(function(){return n.default}))},527:function(e,t,a){var n={"./door.de":313,"./door.de.js":313,"./door.en":314,"./door.en.js":314,"./door.js":237};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=527},528:function(e,t,a){"use strict";a.r(t);var n=a(238);a.d(t,"default",(function(){return n.default}))},529:function(e,t,a){var n={"./heating.de":315,"./heating.de.js":315,"./heating.en":316,"./heating.en.js":316,"./heating.js":238};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=529},530:function(e,t,a){"use strict";a.r(t);var n=a(248);a.d(t,"default",(function(){return n.default}))},55:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(5),r=a(18),i=a(19),o=a(517)(),s=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"set",value:function(t){for(var a in t)e.rawDevices[a]=Object(n.a)(Object(n.a)({},t[a]),{},{id:a});return e}},{key:"setDevices",value:function(t){return e.Devices=t,e}},{key:"setGroups",value:function(t){for(var a in e.Groups=t,t)e.addGroupId(a,t[a].name);return e}},{key:"addGroupId",value:function(t,a){return t&&-1===e.GroupIds.indexOf(t)&&(e.GroupList.push({id:t,name:a}),e.GroupIds.push(t)),e}},{key:"getDevices",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"boolean"===typeof t&&(t={raw:t});var a=t.raw?e.rawDevices:e.Devices;return t.copy?o(a):a}},{key:"getGroups",value:function(){return e.Groups}},{key:"getGroupList",value:function(){return e.GroupList}}]),e}();s.rawDevices={},s.Devices={},s.Groups={},s.GroupList=[],s.GroupIds=[]},626:function(e,t,a){var n={"./light.de":331,"./light.de.js":331,"./light.en":332,"./light.en.js":332,"./light.js":248};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=626},627:function(e,t,a){"use strict";a.r(t);var n=a(243);a.d(t,"default",(function(){return n.default}))},628:function(e,t,a){var n={"./location.de":333,"./location.de.js":333,"./location.en":334,"./location.en.js":334,"./location.js":243};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=628},629:function(e,t,a){"use strict";a.r(t);var n=a(244);a.d(t,"default",(function(){return n.default}))},630:function(e,t,a){var n={"./user.de":335,"./user.de.js":335,"./user.en":336,"./user.en.js":336,"./user.js":244};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=630},631:function(e,t,a){"use strict";a.r(t);var n=a(245);a.d(t,"default",(function(){return n.default}))},632:function(e,t,a){var n={"./window.de":337,"./window.de.js":337,"./window.en":338,"./window.en.js":338,"./window.js":245};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=632},633:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return p}));var n=a(0),r=a.n(n),i=a(3),o=a(126),s=a.n(o),c=a(133),l=a(103),u=a(80),d=Object(u.a)((function(e){return{InputButton:{width:"100%"}}}));function p(e){var t=e.id,a=e.label,n=e.color,o=e.variant,u=e.disabled,p=e.startIcon,g=e.onClick,m=d(e);return r.a.createElement(l.a,e,r.a.createElement(c.a,{key:t,classes:{root:m.InputButton},variant:o||"contained",color:n||"primary",disabled:u,startIcon:p||r.a.createElement(s.a,null),onClick:g},i.a.t(a)))}},634:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return i}));var n=a(5),r=a(110);function i(e){return Object(r.default)(Object(n.a)(Object(n.a)({},e),{},{type:"number"}))}},635:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return c}));var n=a(0),r=a.n(n),i=a(3),o=a(114),s=a(110);function c(e){var t=e.id,a=e.selection,n=e.val,c="",l=a.map((function(e){var a=Object.keys(e).shift();return a===n&&(c=n),r.a.createElement(o.a,{key:"MenuItem-"+t+"-"+a,value:a},i.a.t(e[a]))}));return r.a.createElement(s.default,Object.assign({},e,{val:c,select:!0}),l)}},636:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a(19),i=a(25),o=a(24),s=a(0),c=a.n(s),l=a(14),u=a(3),d=a(133),p=a(93),g=a(101),m=a(198),f=a(7),h=[{id:"time",disablePadding:!1,type:"Date",label:u.a.t("Time"),noWrap:!0},{id:"module",disablePadding:!1,label:u.a.t("Module"),noWrap:!0},{id:"criticality",disablePadding:!1,label:u.a.t("Criticality"),noWrap:!0},{id:"message",disablePadding:!1,label:u.a.t("Message")},{id:"stack",disablePadding:!1,type:"Object",label:u.a.t("Stack Trace")}],b={criticality:{debug:{color:"rgba(0, 0, 0, 0.4)",backgroundColor:"rgba(0, 0, 0, 0.1)"},info:{color:"rgb(13, 60, 97)",backgroundColor:"rgb(232, 244, 253)"},warn:{color:"rgb(102, 60, 0)",backgroundColor:"rgb(255, 244, 229)"},error:{color:"rgb(97, 26, 21)",backgroundColor:"rgb(253, 236, 234)"},success:{color:"rgb(30, 70, 32)",backgroundColor:"rgb(237, 247, 237)"}}},v=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes,a=l.a.getLog();return c.a.createElement(g.a,{classes:{CustomDialog:t.pinToTop},fullWidth:!0,maxWidth:"xl",open:"logs"===this.props.page,onClose:function(){return e.props.navigate("home")},header:"Logs",actions:c.a.createElement(d.a,{autoFocus:!0,onClick:function(){return e.props.navigate("home")},color:"primary"},u.a.t("Close"))},c.a.createElement(p.a,{className:t.paper},c.a.createElement(m.a,{headCells:h,rows:a,rowStyles:b,selectable:!1,sortable:!0,toolbar:!1,stickyHeader:!0})))}}]),a}(c.a.Component);t.default=Object(f.a)((function(e){return{pinToTop:{position:"absolute",top:0,left:0}}}))(v)},637:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(26),o=a.n(i),s=(a(403),a(34)),c=a(5),l=a(18),u=a(19),d=a(25),p=a(24),g=a(13),m=a(31),f="https://192.168.178.29:8082",h=a(14),b=a(3),v=a(67),y=a(28),O=a(55),k=a(88),j=a(51),S=a(173),E=a.n(S),C=a(72),w=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;if(Object(l.a)(this,a),(n=t.call(this)).function=e,!n.function)throw new Error("No function given!");return n.functionId=n.function.toLowerCase(),n.defaults=C.a.defaults.configurations,n.configurations=C.a[n.functionId]&&C.a[n.functionId].configurations||{},n.components=Object(c.a)(Object(c.a)({},C.a.defaults.components),C.a[n.functionId]&&C.a[n.functionId].components||{}),n.actions=Object(c.a)(Object(c.a)({},C.a.defaults.actions),C.a[n.functionId]&&C.a[n.functionId].actions||{}),n}return Object(u.a)(a,[{key:"_applyFunction",value:function(e,t){return this._isFunction(e)?e(t):t}},{key:"_getValueFromSettings",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";for(var a in e)if(void 0!==e[a])return e[a];return t}},{key:"_isFunction",value:function(e){return e&&"function"===typeof e}},{key:"_isValue",value:function(e){return void 0!==e}},{key:"_setObjectStructure",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e&&"object"==typeof e?"object"!=typeof e||e.default||(e.default=t):e={default:e||t},e}}]),a}(E.a),x={"hm-rpc":"HomeMatic",shelly:"Shelly",sonoff:"Sonoff"},T=a(740),D=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e,n){var r;Object(l.a)(this,a);try{r=t.call(this,e.function)}catch(i){throw new Error("No function given for device "+e.name+"!")}if(r.id=e.id,r.name=e.name,r.room=e.room||null,r.states=e.states,r.options=e.options,r.attributes=e.attributes||{},r.socket=n,!r.options||"object"!==typeof r.options||0===Object.keys(r.options).length||void 0===r.options.group)throw new Error("Device"+(e.id||e.name?" "+(e.name||e.id):"")+" not defined for jarvis!");if(!r.states||"object"!==typeof r.states||0===Object.keys(r.states).length)throw new Error("Insufficent properties provided"+(e.id||e.name?" for device "+(e.name||e.id):"")+" (no states defined)!");if(!(r.id&&r.name&&r.function))throw new Error("Insufficent properties provided"+(e.id||e.name?" for device "+(e.name||e.id):"")+" (no id, name or function defined)!");if(!r.socket)throw new Error("No socket given!");return r.children=e.children||[],r.parent=e.parent||null,r._setProperties(),r.stateSubscriptions=[],r.on("error",(function(e){return h.a._("Device",["Device error occured!",e.message],"error",!1,e.stack)})),r}return Object(u.a)(a,[{key:"_getStateFromKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"state";if(e&&"object"===typeof e)return e;var a=this.states[e||this.primaryStateKey];return void 0===a?b.a.t("State does not exist in device %device%").replace(/%device%/g,this.name)+"!":("string"===typeof a?(this.states[e||this.primaryStateKey]=Object(g.a)({},t,{node:a}),a=this.states[e||this.primaryStateKey]):"string"===typeof a[t]&&(this.states[e||this.primaryStateKey][t]={node:a[t]},a=this.states[e||this.primaryStateKey]),a&&a[t]?"object"!=typeof a[t]||a[t].node?a:b.a.t("No %stateType% specified for device %device%").replace(/%device%/g,this.name).replace(/%stateType%/g,t)+"!":b.a.t("Incorrect or non-defined state key for device %device%").replace(/%device%/g,this.name).replace(/%stateType%/g,t)+"!")}},{key:"_getConfigurationSetting",value:function(e,t,n,r){var i=this;if(this[e][t]&&this[e][t][n]){if("object"===typeof this[e][t][n]){var o=Object.keys(this[e][t][n]);if(o.toString().indexOf("<")>-1||o.toString().indexOf(">")>-1||o.toString().indexOf("!=")>-1){var s=this[e][t][n].default;return o.forEach((function(a){var c=a.replace("<=","").replace("<","").replace(">=","").replace(">","").replace("!=","");a.indexOf("<=")>-1&&r<=c?s=i[e][t][n][a]:a.indexOf("<")>-1&&r<c?s=i[e][t][n][a]:a.indexOf(">=")>-1&&r>=c?s=i[e][t][n][a]:a.indexOf(">")>-1&&r>c?s=i[e][t][n][a]:o.toString().indexOf("!=")>-1&&r!=c&&(s=i[e][t][n][a])})),s}return Object(k.a)(Object(j.a)(a.prototype),"_isValue",this).call(this,this[e][t][n][r])?this[e][t][n][r]:this[e][t][n].default}if(Object(k.a)(Object(j.a)(a.prototype),"_isFunction",this).call(this,this[e][t][n]))return this[e][t][n](r,t,this);if("string"===typeof this[e][t][n])return this[e][t][n]}else if(this[e]._any&&this[e]._any[n]){if("object"===typeof this[e]._any[n])return Object(k.a)(Object(j.a)(a.prototype),"_isValue",this).call(this,this[e]._any[n][r])?this[e]._any[n][r]:this[e]._any[n].default;if(Object(k.a)(Object(j.a)(a.prototype),"_isFunction",this).call(this,this[e]._any[n]))return this[e]._any[n](r,t,this)}}},{key:"_getUserSetting",value:function(e,t,n){var r=this.states;if(r[e]&&r[e][t])return"object"===typeof r[e][t]?Object(k.a)(Object(j.a)(a.prototype),"_isValue",this).call(this,r[e][t][n])?r[e][t][n]:r[e][t].default:Object(k.a)(Object(j.a)(a.prototype),"_isFunction",this).call(this,r[e][t])?r[e][t](n,e,this):r[e][t]}},{key:"_setProperties",value:function(){var e=this,t=Object.keys(this.states);this.options.ignoredStates&&(this.options.ignoredStates=Array.isArray(this.options.ignoredStates)?this.options.ignoredStates:[this.options.ignoredStates],this.options.ignoredStates.forEach((function(t){e.states[t]&&delete e.states[t]}))),this.options.hiddenStates=this.options.hiddenStates?Array.isArray(this.options.hiddenStates)?this.options.hiddenStates:[this.options.hiddenStates]:[],this.primaryStateKey=this.options.primary||t[0],this.secondaryStateKey=this.options.secondary||null,this.states[this.primaryStateKey]=this._getStateFromKey(this.primaryStateKey),this.options.manufacturer=this.primaryStateKey&&x[this.states[this.primaryStateKey].state.node.substr(0,this.states[this.primaryStateKey].state.node.indexOf("."))]||"",this.options.group=Array.isArray(this.options.group)?this.options.group:[this.options.group],this.options.sort=this.options.sort||999,this.options.label=this.options.label&&"string"===typeof this.options.label&&this.options.label.replace(/%name%/g,this.name)||this.options.label||this.name}},{key:"_updateDeviceState",value:function(e,t){var n=this;t.timeChanged=Object(T.a)(new Date(t.lc-5e3),{locale:b.b[b.a.getLanguage()],includeSeconds:!0,addSuffix:!0}),t.unit="";var r=this._getConfigurationSetting("configurations",e,"val",t.val);return t.val=void 0!==r?r:t.val,t.value=t.val,[{value:"value"},{display:"value"},{unit:"unit"}].forEach((function(r){var i=Object.keys(r).toString(),o=Object.values(r).toString(),s={};s.options=n._getUserSetting(e,i,t.val),["configurations","defaults"].forEach((function(a){s[a]=n._getConfigurationSetting(a,e,i,t.val)})),t[o]=Object(k.a)(Object(j.a)(a.prototype),"_getValueFromSettings",n).call(n,s,t[o])})),t.value=b.a.t(t.value),t}},{key:"get",value:function(e){return this[e]||null}},{key:"getAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=e||this.primaryStateKey;var a=this.states[e].state.value,n=a?a.val:null,i=!t&&this.actions[e]||this.actions.Action;return r.a.createElement(i,{key:"action-"+this.id+"-"+e,device:this,state:a,stateKey:e,stateVal:n,styles:this.getStyle("state",e,n)})}},{key:"getComponent",value:function(e){e=e||this.primaryStateKey;var t=this.states[e].state.value,a=t?t.val:null,n=this.components[e];return n&&r.a.createElement(n,{title:this.states[e].label||b.a.t(this.function+"#"+e),device:this,stateKey:e,stateVal:a})||this.states[e].label||b.a.t(this.function+"#"+e)}},{key:"getDeviceState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.states[e||this.primaryStateKey],n=null;return a&&a.state&&null!==t&&void 0!==a.state.value&&void 0!==a.state.value[t]?n=a.state.value[t]:a&&a.state&&null===t&&void 0!==a.state.value&&(n=a.state.value),n}},{key:"getIcon",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i={};return e=e||this.primaryStateKey,i.options=this._getUserSetting(e,"icon",n),["configurations","defaults"].forEach((function(a){i[a]=t._getConfigurationSetting(a,e,"icon",n)})),Object(k.a)(Object(j.a)(a.prototype),"_getValueFromSettings",this).call(this,i,r)}},{key:"getOption",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return this.options[e]&&(this.options[e][t]||this.options[e].default)||this.options[e]||null}},{key:"getStyle",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",i={};return n=n||this.primaryStateKey,i.options=this._getUserSetting(n,e+"Style",r),["configurations","defaults"].forEach((function(a){i[a]=t._getConfigurationSetting(a,n,e+"Style",r)})),Object(k.a)(Object(j.a)(a.prototype),"_getValueFromSettings",this).call(this,i,{})}},{key:"listen",value:function(e,t){"function"===typeof e&&(t=e,e="stateChange"),this.listeners(e).findIndex((function(e){return e.toString()==t.toString()}))>-1||this.on(e,t)}},{key:"requestDeviceStates",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];for(var a in this.states)t.push(this.requestDeviceState(a,e));return t}},{key:"requestDeviceState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=t||this.primaryStateKey;var n=this._getStateFromKey(t);return"string"==typeof n?Promise.reject({success:!1,stateKey:t,error:n}):new Promise((function(r,i){void 0!==n.state.value&&e.stateSubscriptions.indexOf(t)>-1?(e.emit("stateChange",t,n.state.value,e),r({success:!0,stateKey:t,cached:!0})):e.socket.getState(n.state.node).then((function(o){null===o&&i({success:!1,stateKey:t,error:"State "+n.state.node+" not found!"}),n.state.value=e._updateDeviceState(t,o),e.emit("stateChange",t,n.state.value,e),a&&e.subscribeDeviceState(t).catch((function(e){return i(e)})),r({success:!0,stateKey:t,cached:!1})})).catch((function(e){return i({success:!1,stateKey:t,error:e})}))}))}},{key:"requestDeviceStateHistory",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=t||this.primaryStateKey;var r=this._getStateFromKey(t);return"string"==typeof r?Promise.reject({success:!1,stateKey:t,error:r}):new Promise((function(i,o){r.state.historyCache=r.state.historyCache||{},n.start&&n.end&&n.step&&void 0!==r.state.historyCache[n.start+"#"+n.end+"#"+n.step]?(e.emit("historyChange",t,r.state.historyCache[n.start+"#"+n.end+"#"+n.step],r.state,e),i({success:!0,stateKey:t,cached:!0})):e.socket.getStateHistory(r.state.node,n).then((function(s){null===s&&o({success:!1,stateKey:t,error:"State "+r.state.node+" not found!"}),n.start&&n.end&&n.step&&(r.state.historyCache[n.start+"#"+n.end+"#"+n.step]=s),r.state.history=s,e.emit("historyChange",t,r.state.history,r.state,e),a&&e.subscribeDeviceState(t).catch((function(e){return o(e)})),i({success:!0,stateKey:t,cached:!1})})).catch((function(e){return o({success:!1,stateKey:t,error:e})}))}))}},{key:"setAction",value:function(e){this.options.action=e}},{key:"setComponent",value:function(e){this.options.label=e}},{key:"setDeviceState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;t=t||this.primaryStateKey;var n=this._getStateFromKey(t,"action");return"string"==typeof n?Promise.reject({success:!1,stateKey:t,error:n}):new Promise((function(r,i){e.socket.setState(n.action.node,a).then((function(a){-1===e.stateSubscriptions.indexOf(t)&&e.requestDeviceState(t),r({success:!0,stateKey:t})})).catch((function(e){return i({success:!1,stateKey:t,error:e})}))}))}},{key:"subscribeDeviceState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t=t||this.primaryStateKey;var a=this._getStateFromKey(t);return"string"==typeof a?Promise.reject({success:!1,stateKey:t,error:a}):-1===this.stateSubscriptions.indexOf(t)?(this.stateSubscriptions.push(t),new Promise((function(n){e.socket.subscribeState(a.state.node,(function(n,r,i){r&&r.val!==e.getDeviceState(t,"val")&&(a.state.value=e._updateDeviceState(t,r),e.emit("stateChange",t,a.state.value,e),e.children.forEach((function(n){return n.emit("stateChange",t,a.state.value,e)})))})),n({success:!0,stateKey:t})}))):Promise.reject({success:!1,stateKey:t,error:"State already subscribed!"})}},{key:"unlisten",value:function(e,t){"function"===typeof e&&(t=e,e="stateChange"),this.off(e,t)}}]),a}(w),I=a(57),L={configuration:a(638).default,logs:a(636).default},N=a(16),_=a(17),A=a(732),M=a(721),F=a(46),R=a(742),P=a(148),B=a(92),z=a(360),H=a.n(z),U=a(361),K=a.n(U),G=a(80),W=Object(G.a)((function(e){return{appBar:{flexGrow:1,boxShadow:"none",transform:"none"},toolbar:{backgroundColor:e.palette.primary.main},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},icon:Object(c.a)(Object(c.a)({},e.components.icon),{},{color:"#fff",paddingRight:"6px",width:"1em",height:"1em",display:"inline-block",fontSize:"1.5rem",transition:"fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",flexShrink:0,userSelect:"none"}),notConnected:{color:"#f30"}}}));function V(e){var t=W(),a=e.children,n=e.title,i=e.connectionStatus,o=(e.toggleDrawer,e.navigate),s=(e.notifications,n.indexOf("|")>-1?n.split("|"):[null,n]),c=Object(N.a)(s,2),l=c[0],u=c[1],d=!0===i?"lan-connect":"pending"===i?"lan-pending":"lan-disconnect",p=!0===i?b.a.t("Connected to ioBroker"):"pending"===i?b.a.t("Not connected to ioBroker! Reconnecting.."):b.a.t("Not connected to ioBroker! Connection failed!");return r.a.createElement(A.a,{id:"appBar",position:"static",className:t.appBar},r.a.createElement(M.a,{className:t.toolbar},r.a.createElement(F.a,{variant:"h6",className:t.title},l&&r.a.createElement("span",{className:Object(_.a)(t.icon,"mdi mdi-"+l)}),"null"!==u&&u),r.a.createElement(R.a,{smDown:!0},!0!==i&&r.a.createElement(P.a,{classes:{root:t.notConnected},color:"inherit",onClick:function(){return o("logs")}},r.a.createElement(B.a,{title:b.a.t(p)},r.a.createElement("span",{className:"mdi mdi-"+d}))),r.a.createElement(P.a,{color:"inherit",onClick:function(){return o("donate")}},r.a.createElement(H.a,null)),r.a.createElement(P.a,{color:"inherit",onClick:function(){return o("configuration")}},r.a.createElement(K.a,null)))),a)}function J(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var q=a(741),Z=a(720),Y=a(655),$=Object(G.a)((function(e){return{icon:Object(c.a)(Object(c.a)({},e.components.icon),{},{color:"#fff",paddingBottom:"6px",width:"1em",height:"1em",display:"inline-block",fontSize:"1.5rem",transition:"fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",flexShrink:0,userSelect:"none"}),tabs:{backgroundColor:e.palette.primary.main,paddingLeft:e.spacing(),color:"#fff",width:"calc(100% - "+e.spacing()+"px)",zIndex:101,borderBottom:"5px solid #eee"},fixed:{position:"fixed",top:0},indicator:{backgroundColor:"#fff"},fullscreen:{marginLeft:-e.spacing(),marginTop:"-5px"},grid:{paddingBottom:"30px"}}}));function Q(e){var t=e.tabs,a=e.selectedTab,i=e.onSelectTab,o=$(),s=Object(n.useRef)({}),c=Object(n.useState)(a),l=Object(N.a)(c,2),u=l[0],d=l[1],p=Object(n.useState)(!1),g=Object(N.a)(p,2),m=g[0],f=g[1],h=Object(n.useCallback)((function(){var e=s.current.top+s.current.height-53,t=window.scrollY>=e;f((function(a){return a!==t?(document.getElementById("root").style.paddingTop=t?e-5-8+"px":0,t):a}))}),[s]);Object(n.useEffect)((function(){d(a)}),[a]),Object(n.useEffect)((function(){return s.current={top:document.getElementById("tabBar").offsetTop,height:document.getElementById("tabBar").offsetHeight},window.addEventListener("scroll",h),function(){return window.removeEventListener("scroll",h,0)}}),[h]);var b=t.map((function(e,t){var a=e.indexOf("|")>-1?e.split("|"):[null,e],n=Object(N.a)(a,2),i=n[0],s=n[1];return(r.a.createElement(Z.a,{key:"tab"+t,icon:r.a.createElement("span",{className:Object(_.a)(o.icon,"mdi mdi-"+i)}),label:m||!0===y.a.getSetting("tabsHideLabels")||"null"===s?null:s}))}));return(r.a.createElement(q.a,{id:"tabBar",value:u,onChange:function(e,t){i(t),d(t)},variant:"scrollable",classes:{root:Object(_.a)(o.tabs,m&&o.fixed),indicator:o.indicator}},b))}function X(e){var t=e.children,a=e.selectedTab,i=e.renderedTab,o=e.fullscreen,s=$(),c=function(){var e=Object(n.useState)(J()),t=Object(N.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r(J())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}().height,l=Object(n.useState)(c),u=Object(N.a)(l,2),d=u[0],p=u[1],g=Object(n.useRef)({});Object(n.useEffect)((function(){g.current=document.getElementById("appBar").offsetHeight,p(c-g.current+5)}),[c]);var m=Object(n.useState)(null),f=Object(N.a)(m,2),h=f[0],b=f[1];return Object(n.useEffect)((function(){setTimeout((function(){return b(a!==i)}),10)}),[a,i]),r.a.createElement(Y.a,{role:"tabpanel",hidden:h,id:"tabpanel-"+i,className:Object(_.a)(o?s.fullscreen:s.grid),style:{height:d+"px"}},t)}var ee=a(750),te=a(7),ae=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes;t.notifications;return r.a.createElement(ee.a,{anchor:"right",open:this.props.open,onClose:function(){return e.props.toggleDrawer("notificationDrawer",!1)},classes:{paper:a.drawer}})}}]),a}(r.a.Component),ne=Object(te.a)((function(e){return{drawer:{width:400}}}))(ae),re=a(115),ie=Object(G.a)((function(e){return{gridContainer:Object(g.a)({paddingLeft:e.spacing(1)},e.breakpoints.down("md"),{paddingLeft:e.spacing(.4)})}}));function oe(e){for(var t=e.contents,a=void 0===t?{}:t,n=ie(),i=Object.keys(a).length,o=[],s=1;s<=i;s++)a[s]?o.push(r.a.createElement(re.a,{key:s,item:!0,xs:12,sm:6,md:6,lg:Math.round(12/i),xl:Math.round(12/i)},a[s])):h.a._("GridContainer","No content for column #"+s+"!","warn");return(r.a.createElement(re.a,{container:!0,spacing:0,className:n.gridContainer},o))}var se=a(56),ce=a(133),le=a(644),ue=a(650),de=a(646),pe=a(647),ge=a(125),me=a.n(ge),fe=a(69),he=Object(te.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,i=Object(se.a)(e,["children","classes","onClose"]);return(r.a.createElement(ue.a,Object.assign({disableTypography:!0,className:a.root},i),r.a.createElement(F.a,{variant:"h6"},t),n?r.a.createElement(P.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(me.a,null)):null))})),be=Object(te.a)((function(e){return{root:Object(g.a)({padding:e.spacing(2)},e.breakpoints.down("md"),{paddingLeft:e.spacing(1)})}}))(de.a),ve=Object(te.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(pe.a),ye=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={children:[]},n}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.props.contents&&this.props.contents.device;if(n.id&&this.props.contents.ts!==e.contents.ts)if(n.children.length)h.a._("Popup",["Got "+Object.keys(n.children).length+" states for device "+n.name+" from cache.",n.children]),this.setState({children:n.children},(function(){return a.forceUpdate()}));else{var r=[],i=[];for(var o in n.states)if(!(void 0===n.states[o].state||n.options.hiddenStates.indexOf(o)>-1)){var s=new D({parent:n,id:n.id+"#"+o,name:n.name,function:n.function,states:n.states,options:Object(c.a)(Object(c.a)({},n.options),{},{primary:o,secondary:null,divider:0!==i.length,subgroup:null,subtitle:null})},v.a.getConnection,window.language);n.children.push(s),r.push(s.requestDeviceState(null,!0)),i.push(s)}Promise.allSettled(r).then((function(){h.a._("Popup",["Retrieved "+Object.keys(i).length+" states for device "+n.name+".",i]),a.setState({children:i},(function(){return a.forceUpdate()}))}))}else n.id||this.props.contents.ts===e.contents.ts||this.setState({children:[]},(function(){return a.forceUpdate()}))}},{key:"shouldComponentUpdate",value:function(e,t){return!this.props.contents||this.props.contents.ts!==e.contents.ts}},{key:"render",value:function(){var e=this.props,t=e.open,a=e.closeDialog,n=e.contents.device;return r.a.createElement(le.a,{onClose:a,open:t||!1,maxWidth:"md",fullWidth:!0},r.a.createElement(he,{onClose:a},n.name),r.a.createElement(be,{dividers:!0,style:{padding:0}},r.a.createElement(fe.c.StateList,{openDialog:null,devices:this.state.children,component:!0,action:!0})),r.a.createElement(ve,null,r.a.createElement(ce.a,{autoFocus:!0,onClick:a,color:"primary"},"Close")))}}]),a}(r.a.Component),Oe=a(733),ke=a(734),je=a(735),Se=a(259),Ee=Object(G.a)((function(e){return{card:Object(g.a)({margin:e.spacing(1,1,0,0)},e.breakpoints.down("md"),{margin:e.spacing(.4,.4,0,0)}),cardHeaderNoContents:{padding:e.spacing()},cardAvatar:function(t){return Object(c.a)({backgroundColor:e.palette.primary.main,color:"#fff",fontSize:"24px"},t)},cardContent:Object(g.a)({padding:e.spacing(0,2)},e.breakpoints.down("md"),{padding:e.spacing(0)})}}));function Ce(e){var t=e.title,a=e.icon,n=e.iconStyle,i=Ee(n);return r.a.createElement(Oe.a,{className:i.card},r.a.createElement(ke.a,{avatar:null!==a&&r.a.createElement(Se.a,{variant:"rounded",classes:{root:i.cardAvatar}},r.a.createElement("span",{className:"mdi mdi-"+(a||y.a.getSetting("defaultBoxIcon")||"home")})),title:t&&r.a.createElement(F.a,{variant:"h5",component:"h2"},t)}),r.a.createElement(je.a,{className:i.cardContent},e.children))}var we=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t&&!0!==fe.b[t.settings.component].noDevicesAllowed)return h.a._("Jarvis","Group "+e+" defined in columns but not assigned to any devices!","error"),null;var n=fe.c[t.settings.component||"StateList"];return void 0===n?(h.a._("Jarvis",'Undefined component "'+t.settings.component+'" used!',"error"),null):r.a.createElement(n,{key:"Tag"+e,devices:t.devices||[],openDialog:a.action?a.action:null,settings:Object(c.a)(Object(c.a)({},t.settings),a)})},xe=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={},i=Object.keys(e).length,o=1;o<=i;o++){var s=e[o];if(n[o]=n[o]||[],s&&Object.keys(s).length)for(var c in s){var l=t[c]||{};l.devices=l.devices||[],l.settings=s[c]||{};var u=fe.b[l.settings.component]||{},d=we(c,l,a);(l.devices.length>0||u.noDevicesAllowed)&&d&&n[o].push(r.a.createElement(Ce,{key:"Box-"+c,title:null===l.settings.title?null:l.settings.title||l.name||u.title,icon:null===l.settings.icon?null:l.settings.icon||u.icon,iconStyle:l.settings.iconStyle},d))}else n[o].push(null)}return n},Te=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={selectedTab:0,tabTitle:"",page:"home",notificationDrawer:!1,notifications:[],notificationsUnread:0,dialog:!1,dialogContents:{ts:0,device:{}}},n.closeDialog=n.closeDialog.bind(Object(I.a)(n)),n.openDialog=n.openDialog.bind(Object(I.a)(n)),n.onSelectTab=n.onSelectTab.bind(Object(I.a)(n)),n.toggleDrawer=n.toggleDrawer.bind(Object(I.a)(n)),n.navigate=n.navigate.bind(Object(I.a)(n)),n.socket=v.a.getConnection,n.gridContents={},n.devices=O.a.getDevices(),n.layout=y.a.getSetting("layout"),n.tabs=Object.keys(n.layout),n.tabsEnabled=Number.isNaN(parseInt(n.tabs[0])),n.state.tabTitle=n.tabs[n.state.selectedTab],n.tabsEnabled||(n.layout={Home:n.layout},n.tabs.push("1")),n.widgetProps={},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;0!==Object.keys(this.devices).length&&""!==y.a.getSetting("layout")||this.navigate("configuration"),this.socket.getState("jarvis.0.notifications").then((function(t){t=t&&t.val&&JSON.parse(t.val)||[],e.setState({notificationsUnread:t.filter((function(e){return!e.unread||!1!==e.unread})).length,notifications:t})})),this.socket.subscribeState(m.a.NODE_NOTIFICATIONS,(function(e){return h.a._("Jarvis",e)}))}},{key:"getTabPanels",value:function(){var e=O.a.getGroups(),t=0,a=[];for(var n in this.layout){var i=this.layout[n],o=Object.keys(i)[0],s=Number.isNaN(parseInt(o));!this.gridContents[n]&&s?this.gridContents[n]=we(i,Object(c.a)(Object(c.a)({},e[o]),{},{settings:i[o]||{}}),Object(c.a)({action:this.openDialog},this.widgetProps)):this.gridContents[n]||(this.gridContents[n]=r.a.createElement(oe,{contents:xe(i,e,Object(c.a)({action:this.openDialog},this.widgetProps))}));var l=r.a.createElement(X,{key:"tabPanel-"+t,renderedTab:t,selectedTab:this.state.selectedTab,fullscreen:s},this.gridContents[n]);a.push(l),t++}return a}},{key:"closeDialog",value:function(){this.setState({dialog:!1,dialogContents:{ts:Date.now(),device:{}}})}},{key:"openDialog",value:function(e){this.setState({dialog:!0,dialogContents:{ts:Date.now(),device:e}})}},{key:"onSelectTab",value:function(e){this.setState({selectedTab:e,tabTitle:this.tabs[e]})}},{key:"toggleDrawer",value:function(e,t){this.setState(Object(g.a)({},e,t))}},{key:"navigate",value:function(e){this.setState({page:e})}},{key:"render",value:function(){var e=L[this.state.page]||null,t=this.getTabPanels();return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{title:y.a.topBarTitle||this.tabsEnabled&&this.state.tabTitle||y.a.getSetting("pageTitle")||"jarvis - Smart Home Overview",connectionStatus:this.props.connectionStatus,toggleDrawer:this.toggleDrawer,navigate:this.navigate,notifications:this.state.notificationsUnread},this.tabsEnabled&&r.a.createElement(Q,{tabs:this.tabs,selectedTab:this.state.selectedTab,onSelectTab:this.onSelectTab})),r.a.createElement(ne,{open:this.state.notificationDrawer,toggleDrawer:this.toggleDrawer,notifications:this.state.notifications}),e&&r.a.createElement(e,{page:this.state.page,navigate:this.navigate,devices:this.devices}),r.a.createElement(ye,{open:this.state.dialog,contents:this.state.dialogContents,closeDialog:this.closeDialog}),t)}}]),a}(r.a.Component),De=a(147),Ie=a(738),Le=a(746),Ne=a(737),_e=a(362),Ae=a.n(_e),Me=a(363),Fe=a.n(Me),Re=a(364),Pe=a.n(Re),Be=a(113),ze=a.n(Be),He=a(203),Ue=a(736),Ke=Object(G.a)((function(e){return{success:{backgroundColor:He.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:Ue.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}})),Ge={success:Ae.a,warning:Fe.a,error:Pe.a,info:ze.a};function We(e){var t=Ke(),a=e.className,n=e.open,i=e.autoHideDuration,o=e.message,s=e.closeButton,c=e.onClose,l=e.variant,u=Object(se.a)(e,["className","open","autoHideDuration","message","closeButton","onClose","variant"]),d=Ge[l];return n=n||!0,i=i||null,r.a.createElement(Le.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:n,autoHideDuration:i,onClose:c},r.a.createElement(Ne.a,Object.assign({className:Object(_.a)(t[l],a),message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(d,{className:Object(_.a)(t.icon,t.iconVariant)}),o),action:s&&[r.a.createElement(P.a,{key:"close","aria-label":"close",color:"inherit",onClick:c},r.a.createElement(me.a,{className:t.icon}))]},u)))}var Ve=a(739),Je=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={loaded:[],connected:!1,error:!1,errorMessage:"",theme:null},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=function(t){e.setState({connected:!1,error:!0,errorMessage:b.a.t("string"===typeof t?t:t.message)+". Reconnecting.."})},n="3000"===window.location.port?f:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),r=[{event:"connect",callback:function(){return e.setState({connected:!0,error:!1,errorMessage:""})}},{event:"reconnect",callback:function(){return e.setState({connected:"pending",error:!1,errorMessage:""})}},{event:"disconnect",callback:t},{event:"error",callback:t}];h.a._("App",b.a.t("Connect to")+" "+n+"..."),this.socket=v.a.connect(n,r),this.settings={},this.socket.getState(m.a.NODE_SETTINGS).then((function(t){try{t&&(e.settings=Object(c.a)(Object(c.a)({},e.settings),JSON.parse(t.val||{})),y.a.setSettings(e.settings),y.a.applySettings()),void 0===Object.keys(e.settings.layout)[0]?e.setState((function(e){return{loaded:[].concat(Object(s.a)(e.loaded),["settings"]),error:!0,errorMessage:b.a.t("Please create the configuration. See documentation.")}})):e.setState((function(e){return{loaded:[].concat(Object(s.a)(e.loaded),["settings"])}}))}catch(a){h.a._("App","GET_SETTINGS: "+a.message,"error"),e.setState((function(e){return{loaded:[].concat(Object(s.a)(e.loaded),["settings"]),error:!0,errorMessage:b.a.t("Error parsing settings")+"!"}}))}})).catch((function(t){h.a._("App","GET_SETTINGS: "+t.message,"error"),e.setState((function(e){return{loaded:[].concat(Object(s.a)(e.loaded),["settings"]),error:!0,errorMessage:"string"===typeof t?b.a.t(t):b.a.t(t.message)}}))})),this.settings.iobroker={},this.socket.getObject("system.config",(function(t,a){a&&a.common&&(e.settings.iobroker=a.common,y.a.setSettings({iobroker:e.settings.iobroker}))})),a.e(3).then(a.bind(null,771)).then((function(t){return e.setState({theme:t.default})})),this.socket.getState(m.a.NODE_DEVICES).then((function(t){var a=null;try{a=JSON.parse(t.val||{}),e.processDevices(a).then((function(t){O.a.set(a).setDevices(t.devices).setGroups(t.groups),e.setState((function(e){return{loaded:[].concat(Object(s.a)(e.loaded),["groups"])}}))}))}catch(n){h.a._("App","GET_DEVICES: "+n.message,"error"),e.setState((function(e){return{loaded:[].concat(Object(s.a)(e.loaded),["groups"]),error:!0,errorMessage:b.a.t("Error parsing devices")+"!"}}))}})).catch((function(t){h.a._("App","GET_DEVICES: "+t.message,"error"),e.setState((function(e){return{loaded:[].concat(Object(s.a)(e.loaded),["groups"]),error:!0,errorMessage:b.a.t("Socket failed while getting devices")+"!"}}))}))}},{key:"groupDevice",value:function(e,t){return t.get("options").group.forEach((function(a){var n=a.toLowerCase().replace(/ /g,"");e[n]?e[n].devices.push(t):e[n]={id:n,name:a,devices:[t]}})),e}},{key:"processDevice",value:function(e){var t=[],a=null;try{a=new D(e,this.socket),t.push(a.requestDeviceState(null,!0)),a.secondaryStateKey&&t.push(a.requestDeviceState(a.secondaryStateKey,!0))}catch(n){h.a._("App",n.message,"warn")}return new Promise((function(e){Promise.allSettled(t).then((function(t){t.forEach((function(e){"rejected"===e.status&&h.a._("App",e,"error")})),e(a)}))}))}},{key:"processDevices",value:function(e){var t=this,a=[],n={},r={},i=0,o=0,s=function(s){i++,e[s].options=Object(c.a)(Object(c.a)({},e[s].options),e[s].jarvis),delete e[s].jarvis;var l=Object(c.a)(Object(c.a)({},e[s]),{},{id:s});a.push(new Promise((function(e,a){t.processDevice(l).then((function(i){null!==i&&(o++,r=t.groupDevice(r,i),n[i.id]=i,e(s)),a(s)}))})));var u=function(e){var i=l.states[e];i&&void 0!==i.jarvis&&a.push(new Promise((function(a,u){t.processDevice(Object(c.a)(Object(c.a)({},l),{},{id:s+"#"+e,states:Object(g.a)({},e,i),options:i.jarvis})).then((function(e){null!==e&&(o++,r=t.groupDevice(r,e),n[e.id]=e,a(s)),u(s)}))})))};for(var d in l.states)u(d)};for(var l in e)s(l);return new Promise((function(e){return Promise.allSettled(a).then((function(t){for(var a in r)r[a].devices.sort((function(e,t){return e.options.sort>t.options.sort?1:t.options.sort>e.options.sort?-1:0}));h.a._("App",["Processed "+i+" devices. Added "+o+" devices in "+Object.keys(r).length+" groups.",t,r]),e({devices:n,groups:r})}))}))}},{key:"renderError",value:function(e){return e=e||this.state.errorMessage,h.a._("App","Render Error: "+e,"error"),r.a.createElement(We,{key:"StatusSnackbar",variant:"error",closeButton:!1,message:e.toString()})}},{key:"renderLoadingProgress",value:function(){var e=this.props.classes;return(r.a.createElement(re.a,{key:"loadingProcess",container:!0,spacing:0,direction:"column",justify:"center",alignItems:"center",style:{minHeight:"100vh"}},r.a.createElement(De.a,null),r.a.createElement(F.a,{className:e.loading},b.a.t("Retrieving settings"),"...")))}},{key:"renderLoadingSkeleton",value:function(e){for(var t=this.props.classes,a=e.topBar,n=e.tabBar,i=e.gridColumns,o=function(e){return r.a.createElement(Ie.a,{animation:"wave",variant:"rect",className:t.gridItem,height:e.height})},s={},c=1;c<=i;c++){s[c]=s[c]||[];for(var l=3*Math.random()+2,u=1;u<=l;u++)s[c].push(r.a.createElement(o,{key:c+"#"+u,height:300*Math.random()+100}))}return(r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(Ie.a,{animation:"wave",variant:"rect",height:64}),n&&r.a.createElement(Ie.a,{animation:"wave",variant:"rect",height:48}),r.a.createElement(oe,{key:"loadingSkeleton",contents:s})))}},{key:"render",value:function(){var e=this.state.error?this.renderError():null;if(e||-1!==this.state.loaded.indexOf("settings")){if(e||-1!==this.state.loaded.indexOf("groups"))return h.a._("App",["Connected:",this.state.connected]),r.a.createElement(Ve.a,{theme:this.state.theme},e,2===this.state.loaded.length&&r.a.createElement(Te,{key:"jarvis",connectionStatus:this.state.connected}));var t=Object.keys(this.settings.layout)[0];return void 0===t?null:this.renderLoadingSkeleton({topBar:!0,tabBar:1!==t,gridColumns:1!==t?Object.keys(this.settings.layout[t]).length:t.length})}return this.renderLoadingProgress()}}]),n}(r.a.Component),qe=Object(te.a)((function(e){return{loading:{margin:"10px 0 0 0",color:"#999"},gridItem:Object(g.a)({margin:e.spacing(1,1,0,0)},e.breakpoints.down("md"),{marginRight:e.spacing(.4,.4,0,0)})}}))(Je);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(qe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},638:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(5),i=a(18),o=a(19),s=a(57),c=a(25),l=a(24),u=a(0),d=a.n(u),p=a(31),g=a(55),m=a(28),f=a(67),h=a(3),b=a(133),v=a(93),y=a(741),O=a(720),k=a(46),j=a(101),S={Button:a(633).default,Chip:a(246).default,Chips:a(246).InputChips,ChipsField:a(246).InputChipsField,Fieldset:a(247).default,FieldsetItem:a(247).FieldsetItem,Form:a(247).Form,Number:a(634).default,Select:a(635).default,Switch:a(339).default,SwitchInline:a(339).InputSwitchInline,Text:a(110).default},E=a(745),C=a(148),w=a(727),x=a(725),T=a(726),D=a(126),I=a.n(D),L=a(357),N=a.n(L),_=a(198),A=a(16),M=a(72);var F=a(115),R=a(641),P=a(146),B=a(723),z=a(256),H=a(370),U=a(92),K=a(356),G=a.n(K),W=a(91),V=a.n(W),J=a(113),q=a.n(J),Z=a(7),Y=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e))._save=function(){var e=Object(r.a)({},o.state.device);for(var t in o.groupEditor){var a=o.groupEditor[t],i=t.split("-"),s=Object(A.a)(i,3),c=s[0],l=s[1],u=s[2];"states"===c?"object"===typeof e[c][l]?e[c][l][u]=a:e[c][l]=Object(n.a)({state:e[c][l]},u,a):"options"===c||"attributes"===c?e[c][l]=a:e[l]=a}e.options.group.map((function(e){return g.a.addGroupId(e.toLowerCase().replace(/ /,""),e)})),e._created=Date.now(),o.props.onSave&&o.props.onSave(e)},o._deleteDevice=function(){return o.props.onDelete&&o.props.onDelete(o.deviceId)},o._onChange=function(e,t){if(e.required&&(Array.isArray(t)&&0===t.length||"string"===typeof t&&!t))return o.setState((function(t){return{errors:Object(r.a)(Object(r.a)({},t.errors),{},Object(n.a)({},e.id,h.a.t("No input given")))}})),!1;o.state.errors[e.id]&&o.setState((function(t){var a=Object(r.a)({},t.errors||{});return delete a[e.id],{errors:a}})),o.groupEditor[e.id]=t},o._addState=function(){if(o.newStateKey)if(Object.keys(o.state.device.states).indexOf(o.newStateKey)>-1)o.setState((function(e){return{errors:Object(r.a)(Object(r.a)({},e.errors),{},{newStateKey:h.a.t("State key already used")})}}));else{var e=o.newStateKey.replace(/ /g,"");o.setState((function(t){var a=Object(r.a)({},t.errors);return delete a.newStateKey,{errors:a,device:Object(r.a)(Object(r.a)({},t.device),{},{states:Object(r.a)(Object(n.a)({},e,{}),t.device.states||{})})}}))}else o.setState((function(e){return{errors:Object(r.a)(Object(r.a)({},e.errors),{},{newStateKey:h.a.t("Type in a state key / identifier")})}}))},o._deleteState=function(e){o.setState((function(t){var a=Object(r.a)({},t.device);return delete a.states[e],{device:a}}))},o.state={device:o.props.device,errors:{}},o.state.device.name||(o.state.errors["device-name"]=h.a.t("No input given")),(!o.state.device.options.groups||o.state.device.options.groups&&0===o.state.device.options.groups.length)&&(o.state.errors["options-group"]=h.a.t("No groups selected")),o.onChange=o.props.onChange,o.deviceId=o.props.device.id,o.groupEditor={},o.newStateKey="",o}return Object(o.a)(a,[{key:"renderDeviceState",value:function(e){var t=this,a=Object.keys(p.c).map((function(a){var n,r=p.c[a];return(d.a.createElement(S.FieldsetItem,{columns:4,key:"states-"+e.key+"-"+a},d.a.createElement(S.Text,{id:"states-"+e.key+"-"+a,onChange:t._onChange,shrink:!0,label:r.label||(n=a,n?n.charAt(0).toUpperCase()+n.slice(1):""),val:e[a]&&"string"!==typeof e[a]?e[a].node||JSON.stringify(e[a]):e[a]||""})))}));return d.a.createElement(P.a,{key:"StatesListItemLabel-"+e.key,dense:!0,divider:!0},e.key&&d.a.createElement(B.a,null,d.a.createElement(C.a,{onClick:function(){return t._deleteState(e.key)}},d.a.createElement(V.a,null))),d.a.createElement(z.a,{disableTypography:!0},d.a.createElement("div",{style:{paddingBottom:8}},d.a.createElement("strong",null,e.key)),d.a.createElement(S.Fieldset,{noPadding:!0},a)))}},{key:"renderDeviceStates",value:function(e){var t=this,a=this.props.classes,n=Object.keys(e||{}).map((function(a){var n=e[a];return n="string"===typeof n?{state:n}:n,t.renderDeviceState(Object(r.a)(Object(r.a)({},n),{},{key:a}))}));return d.a.createElement(d.a.Fragment,null,d.a.createElement(R.a,{classes:{root:a.fullWidth},dense:!0},d.a.createElement(P.a,{key:"StatesListItemLabel-add",dense:!0,divider:!0},d.a.createElement(B.a,null,d.a.createElement(C.a,{disabled:!0},d.a.createElement(G.a,null))),d.a.createElement(z.a,{disableTypography:!0},d.a.createElement(S.Text,{id:"states-add",onChange:function(e,a){return t.newStateKey=a},shrink:!0,label:"new key",val:this.newStateKey}),d.a.createElement(S.Button,{label:h.a.t("add new state"),onClick:this._addState}),this.state.errors.newStateKey||"")),n))}},{key:"renderDeviceOption",value:function(e,t){Array.isArray(t)?t=t.join(","):"object"===typeof t&&(t=JSON.stringify(t));var a=S[e.type||"Text"];return(d.a.createElement(P.a,{key:"StatesListItemLabel-"+e.parameter,divider:!0},d.a.createElement(B.a,null,d.a.createElement(U.a,{title:h.a.t(e.description||"No description given"),placement:"left"},d.a.createElement(C.a,{size:"small"},d.a.createElement(q.a,null)))),d.a.createElement(z.a,{primary:e.parameter,secondary:h.a.t(e.label||"")}),d.a.createElement(H.a,null,d.a.createElement(a,Object.assign({key:"options-"+e.parameter,id:"options-"+e.parameter,val:t,onChange:this._onChange},e)))))}},{key:"renderDeviceOptions",value:function(e){var t=this,a=this.props.classes,n=Object.keys(p.b).sort().map((function(a){return"group"===a?null:t.renderDeviceOption(Object(r.a)(Object(r.a)({},p.b[a]),{},{parameter:a}),e[a]||"")}));return d.a.createElement(R.a,{classes:{root:a.fullWidth},dense:!0},n)}},{key:"render",value:function(){var e=this,t=this.props.classes;if(null===this.state.device)return null;var a=this.renderDeviceStates(this.state.device.states),r=this.renderDeviceOptions(this.state.device.options);return d.a.createElement(j.a,{header:h.a.t("Device Configuration"),actions:[d.a.createElement(F.a,{key:"actions",container:!0},d.a.createElement(F.a,{item:!0,xs:6},d.a.createElement(b.a,{key:"action-delete",onClick:function(){return e._deleteDevice()},color:"secondary",startIcon:d.a.createElement(V.a,null)},h.a.t("Delete Device"))),d.a.createElement(F.a,{item:!0,xs:6,className:t.alignRight},d.a.createElement(b.a,{key:"action-cancel",onClick:function(){return e.props.onClose()},color:"secondary"},h.a.t("Cancel")),d.a.createElement(b.a,{key:"action-save",onClick:function(){return e._save()},color:"primary",variant:"contained",disabled:Object.keys(this.state.errors).length>0},h.a.t("Save"))))],dense:!0,maxWidth:"md",fullWidth:!0,open:null!==this.state.device,onClose:function(){return e.props.onClose()}},d.a.createElement(S.Fieldset,{label:h.a.t("General")},d.a.createElement(S.FieldsetItem,{columns:4},d.a.createElement(S.Text,{key:"device-name",id:"device-name",autoFocus:!0,required:!0,error:void 0!==this.state.errors["device-name"],label:h.a.t("Device"),val:this.state.device.name,onChange:this._onChange})),d.a.createElement(S.FieldsetItem,{columns:4},d.a.createElement(S.Select,{key:"device-function",id:"device-function",label:h.a.t("Function"),val:this.state.device.function,selection:Object.keys(M.a).sort().map((function(e){return"defaults"!==e?Object(n.a)({},e,h.a.t(e)):{other:h.a.t("other")}})),onChange:this._onChange})),d.a.createElement(S.FieldsetItem,null,d.a.createElement(S.ChipsField,{width:"100%",id:"options-group",required:!0,error:void 0!==this.state.errors["options-group"],placeholder:h.a.t("Groups"),val:this.state.device.options&&this.state.device.options.group&&this.state.device.options.group.map((function(e){return{id:e.toLowerCase(),name:e}}))||[],options:g.a.getGroupList(),optionKey:"name",onChange:function(t,a){return e._onChange(t,a.map((function(e){return e.name})))}}))),d.a.createElement(S.Fieldset,{label:h.a.t("States")},a),d.a.createElement(S.Fieldset,{label:h.a.t("Options")},r))}}]),a}(d.a.Component),$=Object(Z.a)((function(e){return{fullWidth:{width:"100%"},alignRight:{display:"flex",justifyContent:"flex-end","& > :not(:first-child)":{marginLeft:8}}}}))(Y),Q=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e))._saveDevices=function(e){o.devices=e,o.props.onChange&&o.props.onChange(e)},o._saveDevice=function(e){o._saveDevices(Object(r.a)(Object(r.a)({},o.devices),{},Object(n.a)({},e.id,e))),o.setState({selectedDevice:null,errors:{}},(function(){return document.getElementById("DialogContent").scrollTop=document.getElementById("device-"+e.id)&&document.getElementById("device-"+e.id).offsetTop||0}))},o._deleteDevice=function(e){var t=Object(r.a)({},o.devices);delete t[e],o._saveDevices(t),o.setState({selectedDevice:null,errors:{}})},o.state={selectedDevice:null,errors:{}},o.devices=g.a.getDevices({raw:!0,copy:!0}),o}return Object(o.a)(a,[{key:"renderDevices",value:function(e){var t=this,a=e.sortedRows;return d.a.createElement(w.a,null,a.map((function(e,a){var n=Object.keys(e.options||{}).filter((function(t){return!1===("group"===t||""===e.options[t]||Array.isArray(e.options[t])&&0===e.options[t].length||"object"===typeof e.options[t]&&0===Object.keys(e.options[t]).length)})).sort().join(", "),r=Object.keys(e.attributes||{}).sort().join(", "),i=e.options&&e.options.group&&e.options.group.join(", ")||"";return d.a.createElement(x.a,{key:"TableRow-"+a,id:"device-"+e.id,hover:!0,tabIndex:-1},d.a.createElement(T.a,{padding:"checkbox",scope:"row",align:"center"},d.a.createElement(C.a,{onClick:function(){return t.setState({selectedDevice:e.id})}},d.a.createElement(N.a,null))),d.a.createElement(T.a,null,e.name),d.a.createElement(T.a,null,e.function),d.a.createElement(T.a,null,i),d.a.createElement(T.a,null,Object.keys(e.states||{}).join(", ")),d.a.createElement(T.a,null,n.length>30?n.substr(0,27)+"...":n),d.a.createElement(T.a,null,r.length>15?r.substr(0,12)+"...":r))})))}},{key:"render",value:function(){var e=this;return(d.a.createElement(d.a.Fragment,null,d.a.createElement(_.a,{title:h.a.t("Devices List"),headCells:[{id:"edit",width:"3%",disablePadding:!0,label:""},{id:"name",width:"13%",label:h.a.t("Name")},{id:"function",width:"8%",label:h.a.t("Function")},{id:"group",orderBy:"options.group",width:"7%",label:h.a.t("Group")},{id:"states",width:"45%",disablePadding:!1,label:h.a.t("States")},{id:"options",width:"14%",disablePadding:!1,label:h.a.t("Options")},{id:"attributes",width:"10%",disablePadding:!1,label:h.a.t("Attributes")}],rows:Object.values(this.devices),defaultOrderBy:"name",selectable:!1,sortable:!0,stickyHeader:!0,CustomTableBody:function(t){return e.renderDevices(t)},toolbarRightActionButton:d.a.createElement(S.Button,{onClick:function(){return e.setState({selectedDevice:"#new"})},startIcon:d.a.createElement(I.a,null),disabled:null!==this.state.selectedDevice,label:h.a.t("add new device")})}),this.state.selectedDevice&&d.a.createElement($,{device:"#new"===this.state.selectedDevice?{id:Object(E.a)(),states:{},options:{}}:this.devices[this.state.selectedDevice],onSave:this._saveDevice,onDelete:this._deleteDevice,onClose:function(){return e.setState({selectedDevice:null})}})))}}]),a}(d.a.Component),X=Object(Z.a)((function(e){return{deleteButton:{marginTop:"25px"},hr:{margin:"10px 2px"},CustomTextInput:{width:150},CustomDialogTitle:{padding:0,marginRight:"50px"},TableCell:{verticalAlign:"top",padding:"5px 0"}}}))(Q),ee=a(34),te=a(69),ae=a(359),ne=a.n(ae),re=a(253),ie=a.n(re),oe=a(254),se=a.n(oe),ce=a(358),le=a.n(ce),ue=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e))._onChange=function(e,t){if(e.required&&!t)return o.setState((function(t){return{errors:Object(r.a)(Object(r.a)({},t.errors),{},Object(n.a)({},e.id,h.a.t("No input given")))}})),!1;o.state.errors[e.id]&&o.setState((function(t){var a=Object(r.a)({},t.errors||{});return delete a[e.id],{errors:a}})),o.groupEditor[e.id]=t},o._addColumn=function(e,t){o.setState((function(a){return{layout:Object(r.a)(Object(r.a)({},a.layout),{},Object(n.a)({},e,Object(r.a)(Object(r.a)({},a.layout[e]),{},Object(n.a)({},t,{}))))}}),(function(){return o.props.onChange(o.state.layout,o.state.settings)}))},o._addTab=function(){var e=Object.keys(o.state.layout).length+1;o.setState((function(t){return{layout:Object(r.a)(Object(r.a)({},t.layout),{},Object(n.a)({},"home|"+h.a.t("new tab")+" "+e,{1:{}}))}}),(function(){return o.props.onChange(o.state.layout,o.state.settings)})),setTimeout((function(){return window.location="#tab-"+e}),100)},o._changeTab=function(e){return function(t,a){var i=t.id;if("tabIcon"===i||"tabLabel"===i){var s=e.split("|"),c=Object(A.a)(s,2),l=c[0],u=c[1];"tabIcon"===i?l=a:"tabLabel"===i&&(u=a);var d={};Object.keys(o.state.layout).forEach((function(t){d[t===e?l+"|"+u:t]=o.state.layout[t]})),o.setState({layout:d},(function(){return o.props.onChange(o.state.layout,o.state.settings)}))}else if("tabFullscreen"===i){var p=Object(r.a)({},o.state.layout[e]);!0===a?o.setState((function(t){return{layout:Object(r.a)(Object(r.a)({},t.layout),{},Object(n.a)({},e,p[1]))}}),(function(){return o.props.onChange(o.state.layout,o.state.settings)})):o.setState((function(t){return{layout:Object(r.a)(Object(r.a)({},t.layout),{},Object(n.a)({},e,{1:p}))}}),(function(){return o.props.onChange(o.state.layout,o.state.settings)}))}}},o._closePopup=function(e){if("cancel"===e)return o.setState({popup:!1}),!1;if("save"===e){var t=o.state.selectedTab,a=o.state.selectedColumn,i=o.state.selectedGroup.key,s={};if([].concat([{parameter:"key",required:!0},{parameter:"component",required:!0}],Object(ee.a)(te.a[o.state.selectedGroup.key]||[])).forEach((function(e){s["input-group-"+e.parameter]=!0===e.required&&!o.groupEditor["input-group-"+e.parameter]})),Object.values(s).indexOf(!0)>-1)return o.setState((function(e){return{errors:Object(r.a)(Object(r.a)({},e.errors),s)}})),console.error(s,o.groupEditor),!1;var c={};if(Object.keys(o.groupEditor).forEach((function(e){return c[e.replace("input-group-","")]=o.groupEditor[e]})),c.key=c.key.toLowerCase().replace(/ /g,""),i){for(var l={},u=1;u<Object.keys(o.state.layout[t]).length;u++)l[u]=o.state.layout[t][u>=a?u+1:u];var d={};Object.keys(o.state.layout[t][a]).forEach((function(e){e===i?d[c.key]=Object(r.a)(Object(r.a)({},o.state.layout[t][a][e]),c):d[e]=o.state.layout[t][a][e]})),delete d[c.key].key,o.setState((function(e){return{popup:!1,layout:Object(r.a)(Object(r.a)({},e.layout),{},Object(n.a)({},t,Object(r.a)(Object(r.a)({},e.layout[t]),{},Object(n.a)({},a,d))))}}),(function(){return o.props.onChange(o.state.layout,o.state.settings)}))}else o.setState((function(e){return{popup:!1,layout:Object(r.a)(Object(r.a)({},e.layout),{},Object(n.a)({},t,Object(r.a)(Object(r.a)({},e.layout[t]),{},Object(n.a)({},a,Object(r.a)(Object(r.a)({},e.layout[t][a]),{},Object(n.a)({},c.key,c))))))}}),(function(){return o.props.onChange(o.state.layout,o.state.settings)}))}},o._deleteColumn=function(e,t){for(var a={},i=1;i<Object.keys(o.state.layout[e]).length;i++)a[i]=o.state.layout[e][i>=t?i+1:i];o.setState((function(t){return{layout:Object(r.a)(Object(r.a)({},t.layout),{},Object(n.a)({},e,a))}}))},o._deleteGroup=function(e,t,a){var i=Object(r.a)({},o.state.layout[e][t]);delete i[a],o.setState((function(a){return{popup:!1,layout:Object(r.a)(Object(r.a)({},a.layout),{},Object(n.a)({},e,Object(r.a)(Object(r.a)({},a.layout[e]),{},Object(n.a)({},t,i))))}}),(function(){return o.props.onChange(o.state.layout,o.state.settings)}))},o._deleteTab=function(e){var t=Object(r.a)({},o.state.layout);delete t[e],o.setState({layout:t},(function(){return o.props.onChange(o.state.layout,o.state.settings)}))},o._moveGroup=function(e,t,a,i){return function(s){s.stopPropagation();var c=Object(r.a)({},o.state.layout[t][a]),l=!1,u=Object.keys(c).sort((function(t,a){return!l&&("up"===e&&a===i||"down"===e&&t===i)?(l=!0,1):0})),d={};u.map((function(e){return d[e]=c[e]})),o.setState((function(e){return{layout:Object(r.a)(Object(r.a)({},e.layout),{},Object(n.a)({},t,Object(r.a)(Object(r.a)({},e.layout[t]),{},Object(n.a)({},a,d))))}}),(function(){return o.props.onChange(o.state.layout,o.state.settings)}))}},o._moveTab=function(e,t){return function(a){a.stopPropagation();var n=Object(r.a)({},o.state.layout),i=!1,s=Object.keys(n).sort((function(a,n){return!i&&("up"===e&&n===t||"down"===e&&a===t)?(i=!0,1):0})),c={};s.map((function(e){return c[e]=n[e]})),o.setState((function(e){return{layout:c}}),(function(){return o.props.onChange(o.state.layout,o.state.settings)}))}},o._openPopup=function(e,t,a){var n={};Object.keys(a||{}).map((function(e){return n["input-group-"+e]=a[e]||""})),o.groupEditor=n,o.setState(Object(r.a)(Object(r.a)({},n),{},{popup:!0,errors:{},selectedTab:e,selectedColumn:t,selectedGroup:a||{}}))},o.state={popup:!1,selectedTab:null,selectedColumn:null,selectedGroup:{},layout:o.props.layout,settings:o.props.settings,errors:{}},o.groupIds=g.a.getGroupList(),o.groupEditor={},o}return Object(o.a)(a,[{key:"renderTabColumnGroup",value:function(e,t,a){var n=this,r=this.props.classes;return d.a.createElement(P.a,{key:"Tab-"+e.key+"_Column-"+t.key+"_Component-"+a.key,onClick:function(){return n._openPopup(e.key,t.key,a)},button:!0,divider:!0},e.fullscreen?d.a.createElement(B.a,{classes:{root:r.iconContainer}},d.a.createElement(le.a,null)):d.a.createElement(B.a,{classes:{root:r.iconContainer}},d.a.createElement(d.a.Fragment,null,d.a.createElement(C.a,{size:"small",onClick:this._moveGroup("up",e.key,t.key,a.key)},d.a.createElement(ie.a,null)),d.a.createElement(C.a,{size:"small",onClick:this._moveGroup("down",e.key,t.key,a.key)},d.a.createElement(se.a,null)))),d.a.createElement(z.a,{primary:d.a.createElement(d.a.Fragment,null,d.a.createElement(k.a,{display:"block"},a.key),d.a.createElement(k.a,{variant:"subtitle2"},"(",a.name,")"))}))}},{key:"renderTabColumns",value:function(e,t){var a=this,n=this.props.classes,i=[];for(var o in t.entries){var s=Object(r.a)(Object(r.a)({},t.entries[o]),{},{key:o,name:t.entries[o]&&t.entries[o].component||p.a.MODULE});i.push(this.renderTabColumnGroup(e,t,s))}return(d.a.createElement(F.a,{className:n.column,key:"Tab-"+e.key+"_Column-"+t.key,item:!0},d.a.createElement(R.a,null,d.a.createElement(P.a,{onClick:function(){return a._deleteColumn(e.key,t.key)},button:!0,divider:!0,dense:!0},d.a.createElement(B.a,{classes:{root:n.iconContainer}},d.a.createElement(C.a,{size:"small"},d.a.createElement(V.a,null))),d.a.createElement(z.a,{primary:h.a.t("delete column")})),(!e.fullscreen||e.fullscreen&&t.entries.length<1)&&d.a.createElement(P.a,{onClick:function(){return a._openPopup(e.key,t.key,null)},button:!0,divider:!0,dense:!0},d.a.createElement(B.a,{classes:{root:n.iconContainer}},d.a.createElement(C.a,{size:"small"},d.a.createElement(I.a,null))),d.a.createElement(z.a,{primary:h.a.t("add new group")})),i)))}},{key:"renderTab",value:function(e){var t=this,a=this.props.classes,n=e.key.split("|"),r=Object(A.a)(n,2),i=r[0],o=r[1];e.fullscreen=Number.isNaN(parseInt(Object.keys(e.entries)[0]));for(var s=Object.keys(e.entries).length,c=e.entries&&e.entries[1]&&Object.keys(e.entries[1]).length||0,l=[],u=1;u<s+1;u++){var g={entries:void 0!==e.entries[u]?e.entries[u]:e.entries,key:u};l.push(this.renderTabColumns(e,g))}return(d.a.createElement(P.a,{id:"tab-"+e.index,divider:!0!==e.lastTab,key:"Tab-"+e.key,classes:{root:a.tab}},d.a.createElement(B.a,{key:"Tab-"+e.key+"-ListItemIcon",classes:{root:a.iconContainer}},d.a.createElement(d.a.Fragment,null,d.a.createElement(C.a,{size:"small",onClick:this._moveTab("up",e.key)},d.a.createElement(ie.a,null)),d.a.createElement(C.a,{size:"small",onClick:this._moveTab("down",e.key)},d.a.createElement(se.a,null)),d.a.createElement(C.a,{size:"small",onClick:function(){return t._deleteTab(e.key)},classes:{root:a.deleteButton}},d.a.createElement(V.a,null)))),d.a.createElement(z.a,{disableTypography:!0,primary:[d.a.createElement(S.Text,Object.assign({key:"Input-tabIcon",id:"tabIcon"},p.d.tabIcon,{onChange:this._changeTab(e.key),val:i||"",icon:i||""})),d.a.createElement(S.Text,Object.assign({key:"Input-tabLabel",id:"tabLabel"},p.d.tabLabel,{onChange:this._changeTab(e.key),val:o||""})),d.a.createElement(S.Button,{key:"Input-addColumnToTab",id:"Input-addColumnToTab",label:"add new column",disabled:e.fullscreen,onClick:function(){return t._addColumn(e.key,s+1)}}),d.a.createElement(S.Switch,Object.assign({key:"Input-tabFullscreen",id:"tabFullscreen"},p.d.tabFullscreen,{disabled:s>1||c>1,onChange:this._changeTab(e.key),val:e.fullscreen})),d.a.createElement(F.a,{key:"Tab-"+e.key+"-ColumnContainer",classes:{root:a.columnContainer},container:!0},l)]})))}},{key:"renderTabs",value:function(e){var t=0,a=[],n=Object.keys(e).length;for(var r in e)t++,a.push(this.renderTab({entries:e[r],key:r,index:t,lastTab:t===n}));return a}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.renderTabs(this.state.layout),i=te.a[this.state.selectedGroup.component||p.a.MODULE].map((function(t){var a=S[t.type||"Text"];return(d.a.createElement(S.FieldsetItem,{columns:4,key:"FieldsetItem-"+t.parameter},d.a.createElement(a,Object.assign({key:"input-group-"+t.parameter,id:"input-group-"+t.parameter,label:h.a.t(t.label||t.parameter),info:t.description},t,{onChange:e._onChange,val:e.state.selectedGroup[t.parameter]||t.val}))))})),o=this.groupIds.filter((function(t){return t.id===e.state.selectedGroup.key})),s=o&&o[0]&&o[0].name;return d.a.createElement(d.a.Fragment,null,d.a.createElement(v.a,null,d.a.createElement(R.a,{className:t.tabs},d.a.createElement(P.a,{divider:!0,classes:{root:t.tab}},d.a.createElement(B.a,{classes:{root:t.iconContainer}},d.a.createElement(ne.a,null)),d.a.createElement(z.a,{disableTypography:!0,primary:[d.a.createElement(S.Button,{key:"Input-addTabs",id:"Input-addTabs",label:"add new tab",onClick:function(){return e._addTab()}}),d.a.createElement(S.Switch,Object.assign({key:"Input-tabsHideLabels",id:"tabsHideLabels"},p.d.tabsHideLabels,{onChange:function(t,a){return e.props.onChange(e.state.layout,Object(n.a)({},t,a))},val:this.state.settings.tabsHideLabels}))]})),a)),d.a.createElement(j.a,{header:h.a.t("Group configuration"),classes:{CustomDialogActions:t.DialogActions},actions:d.a.createElement(F.a,{container:!0},d.a.createElement(F.a,{item:!0,xs:6},this.state.selectedGroup.key&&d.a.createElement(b.a,{key:"action-delete",onClick:function(){return e._deleteGroup(e.state.selectedTab,e.state.selectedColumn,e.state.selectedGroup.key)},color:"secondary",startIcon:d.a.createElement(V.a,null)},h.a.t("Delete Group"))),d.a.createElement(F.a,{item:!0,xs:6,className:t.alignRight},d.a.createElement(b.a,{key:"action-cancel",onClick:function(){return e._closePopup("cancel")},color:"secondary"},h.a.t("Cancel")),d.a.createElement(b.a,{key:"action-save",onClick:function(){return e._closePopup("save")},color:"primary",variant:"contained",disabled:Object.keys(this.state.errors).length>0},h.a.t("Ok")))),dense:!0,maxWidth:"md",open:this.state.popup,onClose:function(){return e._closePopup("cancel")}},d.a.createElement(S.Fieldset,{label:h.a.t("Widget-Box")},!0!==te.b[this.state.selectedGroup.component||p.a.MODULE].noDevicesAllowed&&d.a.createElement(S.FieldsetItem,null,d.a.createElement(S.Text,Object.assign({key:"input-group-key",id:"input-group-key"},p.d.groupName,{autoComplete:!0,autoHighlight:!0,val:this.state.selectedGroup.key?{id:this.state.selectedGroup.key,name:s||this.state.selectedGroup.key}:null,onChange:function(t,a){return e._onChange(t,a&&a.id||"")},options:this.groupIds,getOptionLabel:function(e){return e.name},required:!0,error:void 0!==this.state.errors["input-group-key"]}))),d.a.createElement(S.FieldsetItem,{columns:4},d.a.createElement(S.Text,Object.assign({key:"input-group-title",id:"input-group-title"},p.d.groupTitle,{onChange:this._onChange,val:this.state.selectedGroup.title||""}))),d.a.createElement(S.FieldsetItem,{columns:4},d.a.createElement(S.Text,Object.assign({key:"input-group-icon",id:"input-group-icon"},p.d.groupIcon,{onChange:this._onChange,val:this.state.selectedGroup.icon||""}))),d.a.createElement(S.FieldsetItem,{columns:4},d.a.createElement(S.Text,Object.assign({key:"input-group-iconStyle",id:"input-group-iconStyle"},p.d.groupIconStyle,{onChange:this._onChange,val:this.state.selectedGroup.iconStyle||""})))),d.a.createElement(S.Fieldset,{label:h.a.t("Module")},d.a.createElement(S.FieldsetItem,null,d.a.createElement(S.Text,Object.assign({key:"input-group-component",id:"input-group-component"},p.d.groupModule,{autoComplete:!0,autoHighlight:!0,val:this.state.selectedGroup.component||p.a.MODULE,onChange:function(t,a){e._onChange(t,a),e.setState((function(e){return{selectedGroup:Object(r.a)(Object(r.a)({},e.selectedGroup),{},{component:a})}}))},required:!0,error:void 0!==this.state.errors["input-group-component"]}))),i)))}}]),a}(d.a.Component),de=Object(Z.a)((function(e){return{deleteButton:{marginTop:"20px"},tabs:{marginBottom:"10px"},tab:{padding:e.spacing(3,2)},iconContainer:{flexDirection:"column",alignItems:"center"},columnContainer:{marginTop:e.spacing(2)},column:{width:250,margin:e.spacing(1,1),borderRight:"1px solid rgba(0, 0, 0, 0.12)",borderLeft:"1px solid rgba(0, 0, 0, 0.12)"},DialogActions:{justifyContent:"initial"},alignRight:{display:"flex",justifyContent:"flex-end","& > :not(:first-child)":{marginLeft:8}}}}))(ue),pe=a(744),ge=a(731),me=a(730),fe=a(195),he=a.n(fe),be=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e))._handleSettingsChange=function(e,t){m.a.setSetting(e,t),n.onChange&&n.onChange(m.a.getSettings())},n._handlePanelChange=function(e){return function(t,a){return n.setState({panel:!!a&&e})}},delete m.a.settings.iobroker,n.state={panel:!1},n.onChange=n.props.onChange,n.settings=m.a.getSettings(),n}return Object(o.a)(a,[{key:"renderPanel",value:function(e,t){var a=this,n=this.props.classes,r=Object.keys(t.settings).map((function(n){var r=t.settings[n],i=S[r.type||"Text"];return d.a.createElement(i,Object.assign({key:"Input-"+e+"-"+n,id:n,onChange:a._handleSettingsChange,val:a.props.settings[n]||a.settings[n]},r))}));return d.a.createElement(pe.a,{key:"Accordion-"+e,expanded:this.state.panel===e,onChange:this._handlePanelChange(e)},d.a.createElement(me.a,{expandIcon:d.a.createElement(he.a,null),id:"panel-header-"+e},d.a.createElement(k.a,{className:n.heading},t.label),t.description&&d.a.createElement(k.a,{className:n.secondaryHeading},t.description)),d.a.createElement(ge.a,null,r))}},{key:"render",value:function(){var e=this;return Object.keys(p.e).map((function(t){return e.renderPanel(t,p.e[t])}))}}]),a}(d.a.Component),ve=Object(Z.a)((function(e){return{heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}}))(be),ye=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var o;Object(i.a)(this,a),(o=t.call(this,e))._onDevicesChange=function(e){return o.setState({devices:e})},o._onSettingsChange=function(e){return o.setState({settings:e})},o._onLayoutsChange=function(e,t){return o.setState((function(a){return{settings:Object(r.a)(Object(r.a)({},a.settings),t||{}),layout:e}}))},o.onRawChange=function(e,t){try{var a=JSON.parse(t);o.setState((function(t){var i=Object(r.a)({},t.errors);return delete i[e.id],Object(n.a)({errors:i},e.type,a)}))}catch(i){o.setState((function(t){return{errors:Object(r.a)(Object(r.a)({},t.errors),{},Object(n.a)({},e.id,h.a.t("Invalid JSON format")))}}))}},o._handleTabChange=function(e,t){return o.setState({tab:t})},o._cancel=function(){return o.props.navigate("home")},o._save=function(){var e=[o.socket.setState(p.a.NODE_SETTINGS,JSON.stringify(Object(r.a)(Object(r.a)({},o.state.settings),{},{layout:o.state.layout}))),o.socket.setState(p.a.NODE_DEVICES,JSON.stringify(o.state.devices))];Promise.all(e).then((function(){return window.location.reload()})).catch((function(e){return console.error(e)}))};var c=Object(r.a)({},m.a.getSettings()),l=c.layout;return delete c.layout,delete c.iobroker,o.state={expertMode:!1,tab:"devices",errors:{},settings:c||{},layout:l||{},devices:g.a.getDevices({raw:!0,copy:!0})},o.socket=f.a.getConnection,o._onDevicesChange.bind(Object(s.a)(o)),o._onSettingsChange.bind(Object(s.a)(o)),o._onLayoutsChange.bind(Object(s.a)(o)),o}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e,t){if(this.state.expertMode){var a=document.getElementById(this.state.tab);a.scrollHeight!==t.rawEditorHeight&&this.setState({rawEditorHeight:a.scrollHeight})}}},{key:"render",value:function(){var e=this,t=this.props.classes;return d.a.createElement(j.a,{classes:{CustomDialog:t.pinToTop},fullWidth:!0,maxWidth:!1,open:"configuration"===this.props.page,onClose:this._cancel,header:[d.a.createElement(k.a,{key:"header",variant:"h6"},h.a.t("Configuration"),d.a.createElement(S.SwitchInline,{key:"Input-expertMode",id:"expertMode",size:"small",label:h.a.t("Expert mode"),onChange:function(t,a){return e.setState((function(e){return{expertMode:a,tab:e.expertMode?e.tab.substr(0,e.tab.length-3):e.tab+"Raw"}}))},val:this.state.expertMode})),d.a.createElement(y.a,{key:"tabs",value:this.state.tab,indicatorColor:"primary",textColor:"primary",onChange:this._handleTabChange},!0===this.state.expertMode&&d.a.createElement(O.a,{value:"devicesRaw",label:h.a.t("Devices")}),!0===this.state.expertMode&&d.a.createElement(O.a,{value:"layoutRaw",label:h.a.t("Layout")}),!0===this.state.expertMode&&d.a.createElement(O.a,{value:"settingsRaw",label:h.a.t("Settings")}),!0!==this.state.expertMode&&d.a.createElement(O.a,{value:"devices",label:h.a.t("Devices")}),!0!==this.state.expertMode&&d.a.createElement(O.a,{value:"layout",label:h.a.t("Layout")}),!0!==this.state.expertMode&&d.a.createElement(O.a,{value:"settings",label:h.a.t("Settings")}))],actions:[d.a.createElement(b.a,{key:"action-cancel",autoFocus:!0,onClick:this._cancel,color:"secondary"},h.a.t("Cancel")),d.a.createElement(b.a,{key:"action-save",onClick:this._save,color:"primary",variant:"contained",disabled:Object.keys(this.state.errors).length>0},h.a.t("Save"))]},d.a.createElement("div",{hidden:"devices"!==this.state.tab},d.a.createElement(v.a,{className:t.paper},"devices"===this.state.tab&&d.a.createElement(X,{onChange:this._onDevicesChange}))),!0===this.state.expertMode&&d.a.createElement("div",{hidden:"devicesRaw"!==this.state.tab},d.a.createElement(v.a,{className:t.paper},d.a.createElement(k.a,{className:t.title,variant:"h6"},h.a.t("Raw Editor")+" "+h.a.t("Devices")),d.a.createElement(S.Text,{id:"devicesRaw",label:["JSON Editor",void 0!==this.state.errors.devicesRaw?" ("+this.state.errors.devicesRaw+")":""],InputProps:{disableUnderline:!0,className:t.rawEditor},inputProps:{style:{height:this.state.rawEditorHeight}},multiline:!0,width:"99%",error:void 0!==this.state.errors.devicesRaw,onChange:function(t,a){return e.onRawChange(Object(r.a)(Object(r.a)({},t),{},{type:"devices"}),a)},val:JSON.stringify(this.state.devices,null,3)}))),d.a.createElement("div",{hidden:"settings"!==this.state.tab,style:{width:"100%"}},d.a.createElement(v.a,{className:t.title},d.a.createElement(k.a,{variant:"h6"},h.a.t("Settings"))),"settings"===this.state.tab&&d.a.createElement(ve,{settings:this.state.settings,onChange:this._onSettingsChange})),!0===this.state.expertMode&&d.a.createElement("div",{hidden:"settingsRaw"!==this.state.tab,style:{width:"100%"}},d.a.createElement(v.a,{className:t.paper},d.a.createElement(k.a,{className:t.title,variant:"h6"},h.a.t("Raw Editor")+" "+h.a.t("Settings")),d.a.createElement(S.Text,{id:"settingsRaw",label:["JSON Editor",void 0!==this.state.errors.settingsRaw?" ("+this.state.errors.settingsRaw+")":""],InputProps:{disableUnderline:!0,className:t.rawEditor},inputProps:{style:{height:this.state.rawEditorHeight}},multiline:!0,width:"99%",error:void 0!==this.state.errors.settingsRaw,onChange:function(t,a){return e.onRawChange(Object(r.a)(Object(r.a)({},t),{},{type:"settings"}),a)},val:JSON.stringify(this.state.settings,null,3)}))),d.a.createElement("div",{hidden:"layout"!==this.state.tab},d.a.createElement(v.a,null,d.a.createElement(k.a,{className:t.title,variant:"h6"},h.a.t("Layout"))),"layout"===this.state.tab&&d.a.createElement(de,{settings:this.state.settings,layout:this.state.layout,onChange:this._onLayoutsChange})),!0===this.state.expertMode&&d.a.createElement("div",{hidden:"layoutRaw"!==this.state.tab,style:{width:"100%"}},d.a.createElement(v.a,{className:t.paper},d.a.createElement(k.a,{className:t.title,variant:"h6"},h.a.t("Raw Editor")+" "+h.a.t("Layout")),d.a.createElement(S.Text,{id:"layoutRaw",label:["JSON Editor",void 0!==this.state.errors.layoutRaw?" ("+this.state.errors.layoutRaw+")":""],InputProps:{disableUnderline:!0,className:t.rawEditor},inputProps:{style:{height:this.state.rawEditorHeight}},multiline:!0,width:"99%",error:void 0!==this.state.errors.layoutRaw,onChange:function(t,a){return e.onRawChange(Object(r.a)(Object(r.a)({},t),{},{type:"layout"}),a)},val:JSON.stringify(this.state.layout||{},null,3)}))))}}]),a}(d.a.Component);t.default=Object(Z.a)((function(e){return{paper:{marginBottom:"10px"},pinToTop:{position:"absolute",top:0,left:0},title:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),marginBottom:e.spacing(1),minHeight:"64px",display:"flex",position:"relative",alignItems:"center"},rawEditor:{fontFamily:"Roboto Mono,Consolas,Courier New,monospace !important"}}}))(ye)},67:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(18),r=a(19),i=a(5),o=a(25),s=a(24),c=a(173),l=a.n(c),u=a(340),d=a.n(u),p=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)(this,a),(e=t.call(this)).socket=d()(r,Object(i.a)(Object(i.a)({timeout:1e4},o),{},{query:"ws=true"})),e.statesSubscribes={},e.socket.on("connect",(function(){return e.emit("connect")})),e.socket.on("reconnect",(function(t){return e.emit("reconnect",t)})),e.socket.on("reconnect_error",(function(t){return e.emit("error",{type:"reconnect",event:"reconnect_error",message:t&&t.message||"Reconnection error"})})),e.socket.on("reconnect_failed",(function(){return e.emit("error",{type:"reconnect",event:"reconnect_failed",message:"Reconnection failed"})})),e.socket.on("disconnect",(function(t){return e.emit("disconnect",t)})),e.socket.on("error",(function(t){return e.emit("error",{type:"error",event:"error",message:t&&t.message||"Unknown error"})})),e.socket.on("connect_failed",(function(t){return e.emit("error",{type:"connect",event:"connect_error",message:t&&t.message||"Connection error"})})),e.socket.on("connect_error",(function(t){return e.emit("error",{type:"connect",event:"connect_error",message:t&&t.message||"Connection error"})})),e.socket.on("connect_timeout",(function(){return e.emit("error",{type:"connect",event:"connect_timeout",message:"Connect ran into timeout"})})),e.socket.on("stateChange",(function(t,a){return setTimeout((function(){return e.stateChange(t,a)}),0)})),e}return Object(r.a)(a,[{key:"_getPatternFromId",value:function(e){var t=e.replace(/\./g,"\\.").replace(/\*/g,".*").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\+/g,"\\+").replace(/\[/g,"\\[");return-1===t.indexOf("*")&&(t+="$"),t}},{key:"subscribeStates",value:function(e,t){var a=this;(e=Array.isArray(e)?e:[e]).forEach((function(e){return a.subscribeState(e,t)}))}},{key:"subscribeState",value:function(e,t){if(this.statesSubscribes[e])-1===this.statesSubscribes[e].cbs.indexOf(t)&&this.statesSubscribes[e].cbs.push(t);else{var a=this._getPatternFromId(e);this.statesSubscribes[e]={reg:new RegExp(a),cbs:[t]},this.socket.connected&&this.socket.emit("subscribe",e)}}},{key:"stateChange",value:function(e,t){for(var a in e=e?e.replace(/[\s'"]/g,"_"):"",this.statesSubscribes)this.statesSubscribes.hasOwnProperty(a)&&this.statesSubscribes[a].reg.test(e)&&this.statesSubscribes[a].cbs.forEach((function(a){return a(e,t)}))}},{key:"getAdapterInstances",value:function(e,t){return"function"===typeof e&&(t=e,e=null),this.getObjectView("system","instance",{startkey:"system.adapter."+(e?e+".":""),endkey:"system.adapter."+(e?e+".999":"zzz")},t)}},{key:"getObject",value:function(e,t){var a=this;if(!t)return new Promise((function(t,n){return a.getObject(e,(function(e,a){return e?n(e):t(a)}))}));this.socket.emit("getObject",e,t)}},{key:"getObjectView",value:function(e,t,a,n){var r=this;if(!n)return new Promise((function(n,i){return r.getObjectView(e,t,a,(function(e){return e?i(e):n()}))}));this.socket.emit("getObjectView",e,t,a,n)}},{key:"getRemoteResource",value:function(e,t){var a=this;if(!t)return new Promise((function(t,n){return a.getRemoteResource(e,(function(e,a){return e?n(e):t(a)}))}));this.socket.emit("httpGet",e,t)}},{key:"getState",value:function(e,t){var a=this;if(!t)return new Promise((function(t,n){return a.getState(e,(function(e,a){return e?n(e):t(a)}))}));this.socket.emit("getState",e,t)}},{key:"getStates",value:function(e,t){var a=this;if(!t)return new Promise((function(t,n){return a.getStates(e,(function(e,a){return e?n(e):t(a)}))}));this.socket.emit("getStates",e,t)}},{key:"getStateHistory",value:function(e,t,a){var n=this;if("function"===typeof t&&(a=t,t={}),!a)return new Promise((function(a,r){return n.getStateHistory(e,t,(function(e,t){return e?r(e):a(t)}))}));this.socket.emit("getHistory",e,t,a)}},{key:"setState",value:function(e,t,a){var n=this;if(!a)return new Promise((function(a,r){return n.setState(e,t,(function(e){return e?r(e):a()}))}));this.socket.emit("setState",e,t,a)}},{key:"unsubscribeStates",value:function(e){var t=this;(e=Array.isArray(e)?e:[e]).forEach((function(e){return t.unsubscribeState(e)}))}},{key:"unsubscribeState",value:function(e){this.statesSubscribes[e]&&this.socket.connected&&(this.socket.emit("unsubscribe",e),delete this.statesSubscribes[e])}}]),a}(l.a),g=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,null,[{key:"connect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t&&(e.setUrl=t),e.connection=new p(e.url),a&&(e.setListeners=a),e.connection}},{key:"getConnection",get:function(){return e.connection||null}},{key:"getUrl",get:function(){return e.url}},{key:"reconnect",get:function(){return e.connect}},{key:"setListener",set:function(t){e.connection.on(t.event,t.callback)}},{key:"setListeners",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!(!t||!Array.isArray(t))&&(t.forEach((function(t){return e.setListener=t})),!0)}},{key:"setUrl",set:function(t){e.url=t}}]),e}();g.url=window.location.hostname,g.connection=null},69:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n={AdapterStatus:a(213).ModuleSettings||{},Chart:a(218).ModuleSettings||{},DateTime:a(233).ModuleSettings||{},Map:a(234).ModuleSettings||{},Multimedia:a(250).ModuleSettings||{},StateList:a(121).ModuleSettings||{},StateListHorizontal:a(235).ModuleSettings||{},Weather:a(236).ModuleSettings||{}},r={AdapterStatus:a(213).ModuleConfig||[],Chart:a(218).ModuleConfig||[],DateTime:a(233).ModuleConfig||[],Map:a(234).ModuleConfig||[],Multimedia:a(250).ModuleConfig||[],StateList:a(121).ModuleConfig||[],StateListHorizontal:a(235).ModuleConfig||[],Weather:a(236).ModuleConfig||[]};t.c={AdapterStatus:a(213).default,Chart:a(218).default,DateTime:a(233).default,Map:a(234).default,Multimedia:a(250).default,StateList:a(121).default,StateListHorizontal:a(235).default,Weather:a(236).default}},72:function(e,t,a){"use strict";t.a={defaults:a(50).default,blind:a(309).default,door:a(526).default,heating:a(528).default,jalousie:a(309).default,light:a(530).default,location:a(627).default,user:a(629).default,window:a(631).default}}},[[398,1,2]]]);
//# sourceMappingURL=main.89f0998e.chunk.js.map