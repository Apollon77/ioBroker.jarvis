{"version":3,"sources":["pages/Joyride/i18n/de.js","pages/Joyride/i18n/en.js","pages/Joyride/i18n sync /^/.*$","config/joyride.js","components/Joyride.js","pages/Joyride/Joyride.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","_clone","require","INTRODUCTION_STEPS","target","placement","title","content","secondaryButton","secondaryAction","props","setRun","document","getElementById","click","primaryButton","primaryAction","devices","deviceList","Devices","importDevices","config","get","then","result","forEach","res","status","device","value","function","push","layout","layoutTemplate","tplWidget","func","widget","uuid","i18n","t","icon","tabs","columns","column","socket","Connection","getConnection","promises","setState","JSON","stringify","Promise","all","window","location","reload","catch","err","console","error","Log","_","message","LinearProgress","buttons","useStyles","makeStyles","theme","button","marginLeft","spacing","grow","flexGrow","margin","lineHeight","closeButton","top","color","right","position","closeButtonOnArrow","CardTitle","display","padding","flex","CardContent","minWidth","borderTop","palette","divider","borderBottom","CardActions","alignItems","justifyContent","md","children","classes","className","JarvisJoyride","useState","run","stepIndex","setStepIndex","callback","state","action","index","type","EVENTS","STEP_AFTER","TARGET_NOT_FOUND","includes","ACTIONS","PREV","STATUS","FINISHED","SKIPPED","continuous","disableOverlayClose","steps","tooltipComponent","componentProps","step","isLastStep","backProps","skipProps","closeProps","primaryProps","tooltipProps","buttonProps","onClick","dangerouslySetInnerHTML","__html","render","Card","open","Typography","variant","style","IconButton","root","clsx","indexOf","dividers","Button","TooltipComponent","setTranslations","language"],"mappings":"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","file":"static/js/8.8b464a65.chunk.js","sourcesContent":["export default {\r\n\t\"#introduction.title\": \"Willkommen zu jarvis\",\r\n\t\"#introduction.content\": \"jarvis ist eine Material Design Visualisierung, die auf [Material UI](https://material-ui.com/) basiert. jarvis gibt eine Struktur und Module vor, die zur Visualisierung genutzt werden, aber sehr flexibel konfiguriert werden können.\\n\\r\" +\r\n\t\t\"jarvis ist [*responsive*](https://de.wikipedia.org/wiki/Responsive_Webdesign) und passt sich der Größe des Screens an.\\n\\r\" +\r\n\t\t\"Das Layout ist flexibel konfigurierbar. Es können optional (beliebig viele) Tabs verwendet werden. Jeder Tab kann entweder `fullscreen` sein oder beliebig viele `columns` haben, die die einzelnen `modules` in flexibler Reihenfolge beinhalten.\\n\\r\" +\r\n\t\t\"Jedes Modul hat spezielle Konfigurationsmöglichkeiten ([siehe Wiki je Modul](https://github.com/Zefau/ioBroker.jarvis/wiki/de-Modules#liste-der-module)).\",\r\n\t\r\n\t\"#settings.title\": \"Die erste jarvis erstellen\",\r\n\t\"#settings.content\": \"Direkt nach der Installation sieht dein jarvis natürlich noch sehr leer aus. Über das Zahnrad kannst du deine jarvis erstellen.\\n\\nWenn du möchtest, kann eine erste Visualisierung automatisch auf Basis deiner Geräte generiert werden? Diese kann im Nachgang natürlich frei bearbeitet werden.\",\r\n\t\"#settings.buttons.manually\": \"manuell erstellen\",\r\n\t\"#settings.buttons.automatically\": \"automatisch generieren\",\r\n\t\r\n\t\"#jarvis.title\": \"Suche Geräte und erstelle jarvis...\"\r\n}","export default {\r\n\t\"#introduction.title\": \"Welcome to jarvis\",\r\n\t\"#introduction.content\": \"\",\r\n\t\r\n}","var map = {\n\t\"./de\": 2069,\n\t\"./de.js\": 2069,\n\t\"./en\": 2070,\n\t\"./en.js\": 2070\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 2179;","import React from 'react'\r\nimport { v4 as uuid } from 'uuid'\r\n\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\n\r\nimport layoutTemplate from './layout.template.json'\r\n\r\nimport config from '../config/config'\r\nimport Connection from '../controller/Connection'\r\nimport Devices from '../controller/Devices'\r\nimport i18n from '../controller/i18n'\r\nimport Log from '../controller/Log'\r\n\r\n\r\nconst _clone = require('rfdc')();\r\nexport const INTRODUCTION_STEPS = [\r\n\t{\r\n\t\ttarget: 'body',\r\n\t\tplacement: 'center',\r\n\t\ttitle: '#introduction.title',\r\n\t\tcontent: '#introduction.content'\r\n\t},\r\n\t{\r\n\t\ttarget: '#SettingsButton',\r\n\t\ttitle: '#settings.title',\r\n\t\tcontent: '#settings.content',\r\n\t\tsecondaryButton: '#settings.buttons.manually',\r\n\t\tsecondaryAction: props => {\r\n\t\t\tprops.setRun(false);\r\n\t\t\tdocument.getElementById('SettingsButton').click();\r\n\t\t},\r\n\t\tprimaryButton: '#settings.buttons.automatically',\r\n\t\tprimaryAction: props => {\r\n\t\t\tlet devices = {}\r\n\t\t\tlet deviceList = {}\r\n\t\t\t\r\n\t\t\tDevices.importDevices(config.get('DEFAULT_ADAPTERIMPORT'))\r\n\t\t\t\t.then(result => {\r\n\t\t\t\t\tresult.forEach(res => {\r\n\t\t\t\t\t\tif (res.status === 'fulfilled') {\r\n\t\t\t\t\t\t\tlet device = res.value;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tdevices[device.function] = devices[device.function] || [];\r\n\t\t\t\t\t\t\tdevices[device.function].push(device);\r\n\t\t\t\t\t\t\tdeviceList[device.id] = device;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet layout = _clone(layoutTemplate);\r\n\t\t\t\t\tlet tplWidget = {\r\n\t\t\t\t\t\t\"moduleConfig\": {},\r\n\t\t\t\t\t\t\"devices\": [],\r\n\t\t\t\t\t\t\"module\": \"StateList\",\r\n\t\t\t\t\t\t\"title\": \"\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet widgetFunctions = [\r\n\t\t\t\t\t\t{ 'function': 'light', 'icon': 'mdi-lightbulb-on', 'column': 1 },\r\n\t\t\t\t\t\t{ 'function': 'blind', 'icon': 'mdi-window-shutter-open', 'column': 2 },\r\n\t\t\t\t\t\t{ 'function': 'heating', 'icon': 'mdi-radiator', 'column': 2 },\r\n\t\t\t\t\t\t{ 'function': 'window', 'icon': 'mdi-window-closed-variant', 'column': 2 }\r\n\t\t\t\t\t];\r\n\t\t\t\t\t\r\n\t\t\t\t\twidgetFunctions.forEach(func => {\r\n\t\t\t\t\t\tlet widget = _clone(tplWidget);\r\n\t\t\t\t\t\twidget.id = uuid();\r\n\t\t\t\t\t\twidget.title = i18n.t(func.function);\r\n\t\t\t\t\t\twidget.icon = func.icon;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\twidget.devices = devices[func.function].map(device => ({\r\n\t\t\t\t\t\t\t\"type\": \"device\",\r\n\t\t\t\t\t\t\t\"deviceId\": device.id,\r\n\t\t\t\t\t\t\t//\"actionType\": \"action\",\r\n\t\t\t\t\t\t\t//\"actionElement\": \"SwitchAction\",\r\n\t\t\t\t\t\t\t//\"primaryStateKey\": \"power\"\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlayout[0].tabs[0].columns[func.column].push(widget);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t// save\r\n\t\t\t\t\tconst socket = Connection.getConnection;\r\n\t\t\t\t\tconst promises = [\r\n\t\t\t\t\t\tsocket.setState(config.get('NODE_LAYOUT'), JSON.stringify(layout)),\r\n\t\t\t\t\t\tsocket.setState(config.get('NODE_DEVICES'), JSON.stringify(deviceList))\r\n\t\t\t\t\t];\r\n\t\t\t\t\t\r\n\t\t\t\t\tPromise.all(promises)\r\n\t\t\t\t\t\t.then(() => window.location.reload())\r\n\t\t\t\t\t\t.catch(err => console.error(err));\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\tLog._('Joyride', 'IMPORT_DEVICES: ' + err.message, 'error');\r\n\t\t\t\t});\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\ttarget: 'body',\r\n\t\tplacement: 'center',\r\n\t\ttitle: '#jarvis.title',\r\n\t\tcontent: <LinearProgress />,\r\n\t\tbuttons: false\r\n\t},\r\n\t{\r\n\t\ttarget: 'body',\r\n\t\tplacement: 'center',\r\n\t\ttitle: 'ok',\r\n\t\tcontent: '#ok'\r\n\t},\r\n]\r\n","import React from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport i18n from '../controller/i18n'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport Card from '@material-ui/core/Card'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport CloseIcon from '@material-ui/icons/Close'\r\n\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles((theme) => ({\r\n\tbutton: {\r\n\t\tmarginLeft: theme.spacing()\r\n\t},\r\n\tgrow: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tcontent: {\r\n\t\t'& p': {\r\n\t\t\tmargin: '0 0 18px',\r\n\t\t\tlineHeight: '1.42857143',\r\n\t\t}\r\n\t},\r\n\tcloseButton: {\r\n\t\ttop: theme.spacing(1),\r\n\t\tcolor: '#9e9e9e',\r\n\t\tright: '8px',\r\n\t\tposition: 'absolute'\r\n\t},\r\n\tcloseButtonOnArrow: {\r\n\t\ttop: theme.spacing(3),\r\n\t},\r\n\tCardTitle: {\r\n\t\tdisplay: 'flex',\r\n\t\tmargin: 0,\r\n\t\tpadding: '16px 24px',\r\n\t\tflex: '0 0 auto',\r\n\t},\r\n\tCardContent: {\r\n\t\tminWidth: 350,\r\n\t\tpadding: '16px 24px',\r\n\t\tborderTop: `1px solid ${theme.palette.divider}`,\r\n\t\tborderBottom: `1px solid ${theme.palette.divider}`,\r\n\t},\r\n\tCardActions: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tpadding: 8,\r\n\t\tjustifyContent: 'flex-end',\r\n\t\tflex: '0 0 auto',\r\n\t}\r\n}));\r\n\r\n\r\nconst Markdown = require('markdown-it'),\r\n\t  md = new Markdown();\r\n\r\nconst CardTitle = props => {\r\n\tconst { children } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\treturn (\r\n\t\t<div className={classes.CardTitle}>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst CardContent = props => {\r\n\tconst { children } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\treturn (\r\n\t\t<div className={classes.CardContent}>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst CardActions = props => {\r\n\tconst { children } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\treturn (\r\n\t\t<div className={classes.CardActions}>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default function Joyride(props) {\r\n\tconst { continuous, index, step, isLastStep, backProps, skipProps, closeProps, primaryProps, tooltipProps } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\tconst buttonProps = {\r\n\t\t...primaryProps,\r\n\t\t'onClick': e => {\r\n\t\t\tstep.primaryAction && step.primaryAction(props);\r\n\t\t\tprimaryProps.onClick(e);\r\n\t\t}\r\n\t}\r\n\t\r\n\tconst content = typeof step.content === 'string' ? <div className={classes.content} dangerouslySetInnerHTML={{__html: md.render(i18n.t(step.content))}} /> : <div className={classes.content}>{step.content}</div>\r\n\treturn (\r\n\t\t<Card {...tooltipProps} open={true}>\r\n\t\t\t<CardTitle>\r\n\t\t\t\t<Typography variant=\"h6\" style={{ margin: 'auto 0' }}>{i18n.t(step.title)}</Typography>\r\n\t\t\t\t\r\n\t\t\t\t<div className={classes.grow} />\r\n\t\t\t\t<IconButton classes={{ root: clsx(classes.closeButton, (step.target.indexOf('.') > -1 || step.target.indexOf('#') > -1) && classes.closeButtonOnArrow) }} {...skipProps}>\r\n\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</CardTitle>\r\n\t\t\t<CardContent dividers>\r\n\t\t\t\t{content}\r\n\t\t\t</CardContent>\r\n\t\t\t{step.buttons !== false && <CardActions>\r\n\t\t\t\t{index > 0 && (<>\r\n\t\t\t\t<Button className={classes.button} color=\"secondary\" {...backProps}>\r\n\t\t\t\t\t{i18n.t('back')}\r\n\t\t\t\t</Button>\r\n\t\t\t\t<div className={classes.grow} />\r\n\t\t\t\t</>)}\r\n\t\t\t\t\r\n\t\t\t\t{!step.primaryButton && continuous && (\r\n\t\t\t\t<Button className={classes.button} color=\"primary\" variant=\"contained\" {...primaryProps}>\r\n\t\t\t\t\t{i18n.t(isLastStep ? 'close' : 'next')}\r\n\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t\r\n\t\t\t\t{!step.primaryButton && !continuous && (\r\n\t\t\t\t<Button className={classes.button} {...closeProps}>\r\n\t\t\t\t\t{i18n.t('close')}\r\n\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t\r\n\t\t\t\t{step.secondaryButton && (\r\n\t\t\t\t<Button className={classes.button} color=\"primary\" variant=\"text\" onClick={step.secondaryAction && (() => step.secondaryAction(props))}>\r\n\t\t\t\t\t{i18n.t(step.secondaryButton)}\r\n\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{step.primaryButton && (\r\n\t\t\t\t<Button className={classes.button} color=\"primary\" variant=\"contained\" {...buttonProps}>\r\n\t\t\t\t\t{i18n.t(step.primaryButton)}\r\n\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t</CardActions>}\r\n\t\t</Card>\r\n\t);\r\n}","import React, { useState } from 'react'\r\nimport Joyride, { ACTIONS, EVENTS, STATUS } from 'react-joyride'\r\n\r\nimport i18n from '../../controller/i18n'\r\n\r\nimport { INTRODUCTION_STEPS } from '../../config/joyride'\r\nimport TooltipComponent from '../../components/Joyride'\r\n\r\n\r\n/*\r\n * STYLES\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles(theme => ({\r\n}));\r\n */\r\n\r\n\r\ni18n.setTranslations(language => require('./i18n/' + language));\r\n\r\nexport default function JarvisJoyride(props) {\r\n\t//const classes = useStyles();\r\n\t\r\n\tconst [run,setRun] = useState(props.run || false);\r\n\tconst [stepIndex,setStepIndex] = useState(0);\r\n\t\r\n\treturn (\r\n\t\t<Joyride\r\n\t\t\tcallback={state => {\r\n\t\t\t\tconst { action, index, status, type } = state;\r\n\t\t\t\t\r\n\t\t\t\tif ([EVENTS.STEP_AFTER, EVENTS.TARGET_NOT_FOUND].includes(type)) {\r\n\t\t\t\t\tsetStepIndex(index + (action === ACTIONS.PREV ? -1 : 1));\r\n\t\t\t\t}\r\n\t\t\t\telse if ([STATUS.FINISHED, STATUS.SKIPPED].includes(status)) {\r\n\t\t\t\t\t// Need to set our running state to false, so we can restart if we click start again.\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}}\r\n\t\t\t\r\n\t\t\tcontinuous={true}\r\n\t\t\tdisableOverlayClose={true}\r\n\t\t\trun={run}\r\n\t\t\t\r\n\t\t\tstepIndex={stepIndex}\r\n\t\t\tsteps={INTRODUCTION_STEPS}\r\n\t\t\ttooltipComponent={componentProps => TooltipComponent({ ...componentProps, 'setStep': setStepIndex, 'setRun': setRun })}\r\n\t\t\t/>\r\n\t);\r\n}\r\n"],"sourceRoot":""}