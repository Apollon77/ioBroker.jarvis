{"version":3,"sources":["components/inputs/Text.js","helpers/timeConverter.js","controller/Log.js","modules/StateList/StateList.config.js","functions/blind/index.js","functions/blind/blind.js","functions/blind/i18n/de.js","functions/blind/i18n/en.js","functions/door/index.js","functions/door/door.js","functions/door/i18n/de.js","functions/door/i18n/en.js","functions/heating/index.js","functions/heating/heating.js","functions/heating/i18n/de.js","functions/heating/i18n/en.js","functions/light/index.js","functions/light/i18n/de.js","functions/light/i18n/en.js","functions/location/index.js","functions/location/location.js","functions/location/i18n/de.js","functions/location/i18n/en.js","functions/user/index.js","functions/user/user.js","functions/user/i18n/de.js","functions/user/i18n/en.js","functions/window/index.js","functions/window/window.js","functions/window/i18n/de.js","functions/window/i18n/en.js","modules/DateTime/DateTime.config.js","modules/Map/Map.config.js","modules/iFrame/iFrame.config.js","helpers/colorConverter.js","functions/light/light.js","functions/blind/blind-manufacturers.js","modules/Multimedia/MultimediaItem.js","modules/StateList/StateList.js","modules/StateList/StateListItem.js","components/EnhancedTableToolbar.js","components/EnhancedTableHead.js","components/EnhancedTableBody.js","components/EnhancedTable.js","controller/Function.js","config/adapters.js","controller/Device.js","functions sync /^/.*$","modules/AdapterStatus/AdapterStatus.config.js","modules/AdapterStatus/AdapterStatus.settings.js","modules/Chart/Chart.config.js","modules/Chart/Chart.settings.js","modules/DateTime/DateTime.settings.js","modules/Map/Map.settings.js","modules/Multimedia/Multimedia.config.js","controller/Settings.js","modules/Multimedia/Multimedia.settings.js","modules/StateList/StateList.settings.js","modules/StateListHorizontal/StateListHorizontal.config.js","modules/StateListHorizontal/StateListHorizontal.settings.js","modules/Weather/Weather.config.js","modules/Weather/Weather.settings.js","modules/iFrame/iFrame.settings.js","components/inputs/Chips.js","components/inputs/Fieldset.js","controller/i18n.js","i18n sync /^/.*$","i18n/de.js","i18n/en.js","modules sync /^/.*$","modules/AdapterStatus/AdapterStatus.js","modules/AdapterStatus/i18n/de.js","modules/Chart/Chart.js","modules/DateTime/DateTime.js","modules/DateTime/i18n/de.js","modules/Map/Map.js","modules/Map/i18n/de.js","modules/Multimedia/Multimedia.js","modules/StateListHorizontal/StateListHorizontal.js","modules/Weather/Weather.js","modules/Weather/i18n/de.js","modules/iFrame/i18n/de.js","modules/iFrame/iFrame.js","components/inputs/Switch.js","pages/ConfigurationPage/DevicesPage/i18n/de.js","controller/Devices.js","helpers/utils.js","config/config.js","functions/defaults.js","modules/index.js","functions/blind/i18n sync /^/.*$","functions/door/i18n sync /^/.*$","functions/heating/i18n sync /^/.*$","functions/index.js","controller/Socket.js","controller/Connection.js","functions/light/i18n sync /^/.*$","functions/location/i18n sync /^/.*$","functions/user/i18n sync /^/.*$","functions/window/i18n sync /^/.*$","modules/AdapterStatus/screenshots/AdapterStatus1.png","modules/Chart/screenshots/Chart1.png","modules/DateTime/screenshots/DateTime1.png","modules/StateList/screenshots/StateList1.png","modules/StateList/screenshots/StateList2.png","modules/StateList/screenshots/StateList3.png","modules/StateList/screenshots/StateList4.png","modules/StateListHorizontal/screenshots/StateListHorizontal1.png","modules/iFrame/screenshots/DateTime1.png","modules sync /^/.*/.settings$","modules sync /^/.*/.config$","components/inputs/Button.js","components/inputs/Number.js","components/inputs/Select.js","pages/ConfigurationPage/DevicesPage/i18n sync /^/.*$","pages/LogsPage/LogsPage.js","config/config.dev.js","components/GridContainer.js","components/StatusSnackbar.js","components/TopBar.js","helpers/useWindowDimensions.js","components/TabBar.js","components/Popup.js","components/Widget.js","pages/index.js","Jarvis.js","App.js","serviceWorker.js","index.js","components/Inputs.js","pages/ConfigurationPage/DevicesPage/Devices.config.js","pages/ConfigurationPage/DevicesPage/DevicesPage.js","pages/ConfigurationPage/DevicesPage/DevicesListPage.js","pages/ConfigurationPage/LayoutsPage/Layouts.config.js","components/Placeholder.js","pages/ConfigurationPage/LayoutsPage/WidgetPage.js","pages/ConfigurationPage/LayoutsPage/LayoutsPage.js","pages/ConfigurationPage/SettingsPage/Settings.config.js","pages/ConfigurationPage/SettingsPage/SettingsPage.js","pages/ConfigurationPage/ConfigurationPage.js","components/Dialog.js","components/inputs/Field.js"],"names":["useStyles","makeStyles","theme","noIconPadding","paddingRight","Text","props","options","TextAutoComplete","TextInput","onChange","onBlur","id","required","label","type","children","select","shrink","disabled","size","placeholder","errorMessage","autoFocus","multiline","val","onEnter","clearOnEnter","clearOnBlur","disableUnderline","icon","InputProps","json","otherProps","classes","useState","value","setValue","error","setError","useEffect","undefined","inputId","toLowerCase","replace","validate","i18n","t","JSON","parse","err","root","TextField","rows","fullWidth","onKeyPress","e","key","preventDefault","target","helperText","Array","isArray","map","lbl","join","startAdornment","position","className","InputLabelProps","showMaxResults","clearOnSelect","popupIcon","closeIcon","filterOptions","createFilterOptions","limit","objectify","Input","inputRoot","clsx","selected","reason","multiple","name","length","getOptionSelected","option","renderInput","params","onClose","timeToSeconds","time","toString","indexOf","split","hours","minutes","seconds","parseInt","timeToHoursMinutesSeconds","withHours","Number","isNaN","Math","floor","substr","secondsToDateTime","dateTimeFormat","format","Date","locale","locales","getLanguage","Log","module","message","criticality","printToConsole","stack","forEach","entry","log","push","console","float","lineHeight","marginRight","borderLeftTransparent","borderLeftColor","color","palette","primary","main","alpha","rgb","borderRightTransparent","borderRightColor","borderRightColorSecondary","secondary","setTranslation","require","configurations","level","round","level2","unit","activity","stateKey","device","getActivityType","manufacturer","true","false","display","components","defaults","LevelComponent","actions","state","setLevel","setActivity","stateChangeActivity","sKey","s","d","states","requestDeviceState","catch","_","listen","unlisten","Fragment","onClick","setDeviceState","open","lock","temperature","toFixed","setTemperature","humidity","boost","Level","min","max","PowerAction","presence","users","location","battery","HsvToRgb","h","r","g","b","i","f","p","q","v","RgbToHex","LightColorAction","stateVal","colorSpace","setColorSpace","colors","labels","Red","Green","Blue","Hue","Saturation","Brightness","Label","br","LightColorComponent","title","initialColor","helpers","Component","width","onChangeComplete","power","stateStyle","colorTemperature","hue","hsv","hex","step","setHue","hsl","setChecked","checked","getOption","parent","Action","MultimediaItem","stateChange","setState","progress","this","clearTimeout","progressTimeout","isRunning","duration","setTimeout","prevState","openDialog","noHeader","index","styleImage","styleLengthBar","background","backgroundImage","backgroundUrlPrepend","playIconElements","bind","divider","container","image","noImage","style","information","informationLeft","grandParent","informationRight","lengthBar","controls","controlsBox","controlsBoxLeft","controlsBoxCenter","controlButton","controlsBoxRight","React","withStyles","margin","spacing","marginTop","height","alignItems","backgroundPosition","cursor","backgroundColor","padding","minHeight","textAlign","justifyContent","paddingTop","flex","flexDirection","controlButtonSmall","fontSize","styles","defaultListSectionDivider","defaultListSectionDividerItem","defaultListSectionText","breakpoints","down","horizontalList","flexWrap","ListGroup","handleChange","targetStatus","devices","getDevices","status","primaryStateKey","StateList","groups","horizontal","config","component","action","group","items","Devices","forEachDevice","dense","defaultListIcon","horizontalListItem","horizontalListItemIcon","minWidth","horizontalListItemAction","top","right","transform","verticalListItemAction","ListItemIconElement","customClassNames","classNames","StateListItem","secondaryStateKey","ListItemTextWidth","getDeviceStates","ListItemText","createRef","ListItemSecondaryAction","current","offsetWidth","resizeComponent","ListItemSecondaryActionWidth","getIcon","primaryComponent","getComponent","primaryAction","getAction","secondaryAction","defaultListDivider","finger","button","getStyle","ref","disableTypography","subtitle","timeChanged","useToolbarStyles","paddingLeft","highlight","lighten","light","text","dark","EnhancedTableToolbar","rowCount","numSelected","rightActionButton","Toolbar","Typography","variant","Tooltip","IconButton","aria-label","EnhancedTableHead","headCells","onSelectAllClick","selectable","sortable","order","orderBy","onRequestSort","TableHead","TableRow","TableCell","Checkbox","indeterminate","inputProps","headCell","align","disablePadding","sortDirection","TableSortLabel","active","direction","property","event","noWrap","whiteSpace","nestedObjects","seen","EnhancedTable","columns","sortedRows","emptyRows","rowStyles","row","isItemSelected","labelId","columnId","rowStyle","Object","keys","hover","role","aria-checked","tabIndex","column","scope","content","stringify","showTableContent","colSpan","table","descendingComparator","a","orderByCase","orderA","orderB","tmpA","tmpB","getComparator","stableSort","array","comparator","stabilizedThis","el","sort","CustomTableBody","toolbar","pagination","defaultOrder","defaultOrderBy","defaultSelected","defaultPage","defaultRowsPerPage","toolbarRightActionButton","setOrder","setOrderBy","setSelected","page","setPage","rowsPerPage","setRowsPerPage","TableBody","EnhancedTableBody","TableContainer","Table","aria-labelledby","stickyHeader","newSelecteds","n","slice","selectedIndex","newSelected","concat","TablePagination","rowsPerPageOptions","count","onChangePage","newPage","onChangeRowsPerPage","Function","functionType","function","Error","functionId","functions","_isFunction","settings","obj","defaultValue","default","EventEmitter","Device","deviceProperties","socket","room","attributes","Adapters","node","_setStatesOptions","stateSubscriptions","on","stateType","attribute","stateValKeys","stateValKey","stateValValue","ignoredStates","ignoredState","hiddenStates","_getStateFromKey","formatDistanceToNow","lc","includeSeconds","addSuffix","_getConfigurationSetting","pair","values","_getUserSetting","forceDefault","devicesStates","getDeviceState","stateProperty","deviceState","defaultIcon","eventName","callback","listeners","findIndex","listener","subscribe","responses","Promise","reject","resolve","emit","getState","then","_updateDeviceState","subscribeDeviceState","historyCache","start","end","getStateHistory","history","res","subscribeState","child","filter","arr","unsubscribeState","off","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","exports","requiredStates","_copy","Settings","language","setLanguage","pageTitle","document","pageFavicon","getElementById","href","translations","setting","copy","layout","StateListConfig","chip","InputChip","onDelete","deleteIcon","InputChips","list","InputChipsField","optionKey","freeSolo","getOptionLabel","noPadding","Fieldset","FieldsetItem","Legend","FieldsetLegend","centered","item","xs","Form","utils","getLocaleDateAdapter","getLocale","de","translation","file","warn","isoLong","word","placeholders","w","parts","shift","RegExp","ucFirst","charAt","toUpperCase","navigator","userLanguage","AdapterStatus","adapterInformation","adapterAliveStatus","newUpdates","updatesJson","lastUpdateCheck","Connection","getConnection","blacklist","updateStates","adapterStates","updates","getStates","subscribeStates","update","lastIndexOf","getAdapterInstances","instances","adapters","instance","common","item1","item2","aliveStatus","unsubscribeStates","updateList","adapterList","loading","adapter","enabled","alive","connected","connection","tooltip","alt","src","extIcon","small","version","availableVersion","UpdateAvailable","runAsCompactMode","compactGroup","StatusIndicator","notAlive","noUpdates","UpdatesListItem","UpdatesIndicator","fontStyle","borderRadius","Chart","_historyChange","_addChartGraph","_getAxis","chartAxisOptions","_stateChange","_updateChartGraph","chartFilter","chartConfig","yAxes","unshift","ticks","yLeftAxisUnitBefore","parseFloat","yLeftAxisUnitAfter","errors","datePicker","selectedTimeRangeValue","selectedTimeRangeUnit","selectedDateTime","dateNow","chartLabels","chartData","datasets","chartPan","chartZoom","timer","timeRangeRef","chartRef","chartUpdates","chartPluginOptions","maintainAspectRatio","spanGaps","legend","legendClickHandler","tooltips","callbacks","data","datasetIndex","scales","plugins","colorschemes","scheme","zoom","pan","mode","requestDeviceStateHistory","_chartAxisOptions","liveUpdates","prevProps","getTime","timeRange","axisTimeFormat","axis","prevMarker","markers","marker","ts","reduce","chartOptions","chartIndex","_groupChartData","chartInstance","prevStates","dataSet","fill","graphConfig","legendItem","ci","meta","getDatasetMeta","hidden","resetZoom","inputRef","input","displayEmpty","DateFnsUtils","onOpen","ampm","iconButton","dividerVertical","orientation","placement","buttonDisabled","severity","createElement","toolbarButtons","disableElevation","chartHeight","marginBottom","marginLeft","DateTime","joinConfig","refresh","refTimer","useRef","setDateTime","city","setCity","sunrise","setSunrise","sunset","setSunset","getSetting","latitude","longitude","getSunrise","getSunset","sun","mapOverview","left","bottom","zIndex","mapIconContainer","mapIconParent","boxShadow","mapIcon","mapTooltip","Map","defaultZoom","defaultPosition","setMarkers","memoizedMapInitialised","useCallback","memoizedHandleClick","flyTo","prevMarkers","mapMarkers","Marker","avatar","arrow","useFlyTo","center","whenReady","attribution","url","markerIcon","offset","L","divIcon","html","iconSize","memoizedHandleMouseEvent","closeTooltip","openTooltip","riseOnHover","onMouseOver","tooltipDirection","permanent","tooltipPermanent","Multimedia","StateListHorizontal","paper","Weather","setData","getRemoteResource","response","statusCode","body","weatherForecast","day","forecast","dailyForecast","date","justify","border","FormControl","InputLabel","Switch","SwitchSmall","SwitchInline","InputSwitch","userInput","InputSwitchInline","control","deviceList","processedDevices","addedDevices","deviceId","jarvis","requestDeviceStates","rawDevices","allSettled","raw","str","moveKeyInObject","sorted","moveKeyInArray","next","keyOrIndex","element","splice","arrayOrObject","sortArray","entries","_sortedObj","k","sortObject","x","y","UserConfig","AdapterConfig","param","parameter","DEFAULTS","sliderMarkLabel","parentOnChange","TriggerAction","startIcon","linebreak","markSteps","markStep","markLabel","onChangeCommitted","valueLabelDisplay","marks","number","_any","door","trigger","wind","Modules","Configurations","ModuleSettings","ModuleConfigurations","Functions","blind","heating","user","window","func","Socket","io","timeout","query","statesSubscribes","attempts","pattern","close","ids","cb","cbs","reg","_getPatternFromId","task","hasOwnProperty","test","getObjectView","getObject","design","search","setUrl","setListeners","connect","setListener","hostname","InputButton","Button","NumberInput","InputSelect","selection","menuOptions","LogsPage","logs","getLog","CustomDialog","pinToTop","maxWidth","navigate","header","gridContainer","GridContainer","contents","grid","Grid","sm","md","lg","xl","success","green","info","warning","amber","iconVariant","opacity","variantIcon","CheckCircleIcon","WarningIcon","ErrorIcon","InfoIcon","StatusSnackbar","autoHideDuration","closeButton","other","Icon","Snackbar","anchorOrigin","vertical","SnackbarContent","appBar","flexGrow","menuButton","notConnected","TopBar","connectionStatus","connectionStatusIcon","connectionStatusTooltip","AppBar","Hidden","smDown","getWindowDimensions","innerWidth","innerHeight","paddingBottom","transition","flexShrink","userSelect","tabs","borderBottom","fixed","indicator","fullscreen","overflow","TabBar","selectedTab","onSelectTab","tabBarProps","tab","setTab","setFixed","handleScroll","threshold","scrollY","prevFixed","offsetTop","offsetHeight","addEventListener","removeEventListener","renderedTabs","Tab","Tabs","TabPanel","renderedTab","windowDimensions","setWindowDimensions","handleResize","useWindowDimensions","mapHeight","setMapHeight","topBarHeight","setHidden","Box","DialogTitle","grey","DialogContent","MuiDialogContent","DialogActions","MuiDialogActions","Popup","forceUpdate","nextProps","nextState","closeDialog","Dialog","dividers","card","cardHeaderNoContents","cardAvatar","cardContent","Widget","iconStyle","Card","CardHeader","Avatar","CardContent","configuration","getModule","widget","Tag","MODULE","showDevice","moduleConfig","getWidget","moduleSettings","getWidgets","widgets","Jarvis","tabTitle","notificationDrawer","notifications","notificationsUnread","dialog","dialogContents","toggleDrawer","getLayout","tabsEnabled","tabIcon","now","drawer","Page","Pages","tabPanels","_fullscreen","tabGridColumnsContent","tabGridColumnsContents","columnIndex","tabPanel","getTabPanels","withTheme","App","loaded","disconnect","errorHandler","port","protocol","setSettings","iobroker","NODE_SETTINGS","applySettings","NODE_LAYOUT","setLayout","NODE_DEVICES","setDevices","CircularProgress","topBar","tabBar","gridColumns","SkeletonLoader","Skeleton","animation","gridItem","gridContents","loaders","random","loader","renderError","ThemeProvider","renderLoadingSkeleton","renderLoadingProgress","Boolean","match","ReactDOM","render","serviceWorker","ready","registration","unregister","Chip","Chips","ChipsField","Select","DevicesStates","DevicesPage","_onChange","nextErrors","editor","_onSave","savedDevice","base","characteristic","_created","onSave","_deleteDevice","_addState","newStateKey","_moveState","_deleteState","nextDevice","Inputs","ListItem","ListItemIcon","iconContainer","renderedStates","renderDeviceState","List","renderedOptions","DevicesConfig","renderDeviceOption","renderDeviceStates","renderDeviceOptions","alignRight","FUNCTIONS","DevicesListPage","_saveDevices","_saveDevice","selectedDevice","scrollTop","nextDevices","renderDevices","uuid","deleteButton","hr","CustomTextInput","CustomDialogTitle","verticalAlign","Placeholder","WidgetPage","_addItem","addDevice","_editItem","nextWidget","_moveItem","_deleteItem","field","deviceOptions","SecondaryActions","deviceWidgetConfig","renderedDevices","renderDevice","description","renderDeviceList","CustomDialogActions","LayoutsConfig","widgetTitle","widgetIcon","widgetIconStyle","widgetModule","autoComplete","autoHighlight","renderOption","some","groupBy","LayoutsPage","_setLayout","setter","_saveWidget","drawerIndex","selectedDrawer","selectedColumn","widgetIndex","nextLayout","selectedWidget","_addColumn","newColumn","_addTab","_changeTab","_deleteWidget","_deleteColumn","_deleteTab","_moveWidget","widgetKey","stopPropagation","_moveColumn","_moveTab","_openPopup","tabColumnWidgetsNodes","renderWidget","widgetsInFirstColumn","tabColumnsNodes","renderColumn","tabFullscreen","columnContainer","renderTab","tabsHideLabels","drawers","renderDrawer","Paper","borderRight","borderLeft","SettingsPage","_handleSettingsChange","setSetting","getSettings","_handlePanelChange","panel","isExpanded","inputKey","inputSettings","Accordion","expanded","AccordionSummary","expandIcon","heading","secondaryHeading","AccordionDetails","SettingsConfig","renderPanel","typography","pxToRem","flexBasis","ConfigurationPage","_onDevicesChange","_onSettingsChange","_onLayoutsChange","onRawChange","_handleTabChange","_cancel","_save","result","all","pathname","expertMode","rawEditor","scrollHeight","rawEditorHeight","indicatorColor","textColor","fontFamily","DialogDense","DialogTitleTypography","CustomDialogContent","disableBackdropClick","disableEscapeKeyDown","Field","CustomField","link","rel"],"mappings":"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","file":"static/js/main.66f18d70.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport clsx from 'clsx'\r\nimport i18n from '../../controller/i18n'\r\n\r\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nimport Field from './Field'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles((theme) => ({\r\n\tnoIconPadding: {\r\n\t\tpaddingRight: '0 !important'\r\n\t}\r\n}));\r\n\r\n\r\n/*\r\n *\r\n */\r\nexport default function Text(props) {\r\n\treturn props.options ? TextAutoComplete(props) : TextInput(props);\r\n}\r\n\r\n/*\r\n *\r\n */\r\nexport function TextInput(props) {\r\n\tconst { onChange, onBlur, id, required, label, type, children, select, shrink, disabled, size, placeholder, errorMessage, autoFocus, multiline, val, onEnter, clearOnEnter, clearOnBlur, disableUnderline, icon, InputProps, json, ...otherProps } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\tconst [value,setValue] = useState(val || '');\r\n\tconst [error,setError] = useState((props.error ? props.error : (required && !val)) || null);\r\n\tuseEffect(() => { props.error !== undefined && setError(props.error) }, [props.error]);\r\n\t\r\n\tconst inputId = id || 'input-' + label.toLowerCase().replace(/ /g, '');\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\tconst validate = val => {\r\n\t\t\r\n\t\t// validate required fields\r\n\t\tif (required && !val) {\r\n\t\t\tsetError(i18n.t('No input given'));\r\n\t\t\treturn [ true, '' ];\r\n\t\t}\r\n\t\t\r\n\t\t// validate JSON\r\n\t\tif (json) {\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tval = val ? JSON.parse(val) : '';\r\n\t\t\t}\r\n\t\t\tcatch(err) {\r\n\t\t\t\tsetError(i18n.t('Wrong JSON format'));\r\n\t\t\t\treturn [ true, {} ];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tsetError(null);\r\n\t\treturn [ false, val ];\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<Field {...props}>\r\n\t\t\t<TextField\r\n\t\t\t\tclasses={{ root: classes.TextField }}\r\n\t\t\t\t\r\n\t\t\t\tid={inputId}\r\n\t\t\t\ttype={type || 'text'}\r\n\t\t\t\trequired={required}\r\n\t\t\t\tselect={select}\r\n\t\t\t\t\r\n\t\t\t\tmultiline={multiline}\r\n\t\t\t\trows={4}\r\n\t\t\t\tsize={size}\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\r\n\t\t\t\tfullWidth={true}\r\n\t\t\t\tplaceholder={placeholder || ''}\r\n\t\t\t\tautoFocus={autoFocus ? autoFocus : false}\r\n\t\t\t\t\r\n\t\t\t\tonKeyPress={e => {\r\n\t\t\t\t\tif (e.key === 'Enter' && !multiline) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tclearOnEnter && setValue('');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet [ err, val ] = validate(e.target.value);\r\n\t\t\t\t\t\tonEnter && onEnter({ ...props, error: err }, val);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\t\r\n\t\t\t\terror={typeof error === 'boolean' ? error : (error !== null)}\r\n\t\t\t\thelperText={errorMessage ? i18n.t(errorMessage) : (typeof error !== 'boolean' ? error : '')}\r\n\t\t\t\t\r\n\t\t\t\tlabel={Array.isArray(label) ? label.map(lbl => i18n.t(lbl)).join('') : i18n.t(label)}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tonChange={e => {\r\n\t\t\t\t\tsetValue(e.target.value);\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet [ err, val ] = validate(e.target.value);\r\n\t\t\t\t\tonChange && onChange({ ...props, error: err }, val);\r\n\t\t\t\t}}\r\n\t\t\t\t\r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\t...InputProps || {},\r\n\t\t\t\t\tdisableUnderline: disableUnderline,\r\n\t\t\t\t\tstartAdornment: icon && (\r\n\t\t\t\t\t\t<InputAdornment position=\"start\">\r\n\t\t\t\t\t\t\t<span className={'mdi mdi-' + icon}></span>\r\n\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tonBlur: e => {\r\n\t\t\t\t\t\tonBlur && onBlur(props, value);\r\n\t\t\t\t\t\tclearOnBlur && setValue('');\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\t\r\n\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\tshrink: shrink ? shrink : true\r\n\t\t\t\t}}\r\n\t\t\t\t\r\n\t\t\t\t{...otherProps}\r\n\t\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t{children ? children : null}\r\n\t\t\t</TextField>\r\n\t\t</Field>\r\n\r\n\t)\r\n}\r\n\r\n\r\n/*\r\n *\r\n */\r\nexport function TextAutoComplete(props) {\r\n\tconst classes = useStyles();\r\n\tconst { errorMessage, required, autoFocus, placeholder, label, shrink,\r\n\t\t\t\tshowMaxResults, onChange, clearOnBlur, clearOnSelect, val, json, popupIcon, closeIcon, ...otherProps } = props;\r\n\t\r\n\tconst [value,setValue] = useState(val || null);\r\n\t//const [inputValue,setInputValue] = useState('');\r\n\tconst [error,setError] = useState((props.error ? props.error : (required && !val)) || null);\r\n\tuseEffect(() => { props.error !== undefined && setError(props.error) }, [props.error]);\r\n\t\r\n\tconst filterOptions = showMaxResults && showMaxResults > 0 ? createFilterOptions({ limit: showMaxResults }) : undefined;\r\n\tconst objectify = props.options && props.options[0] && props.options[0].id; // discover whether plain array of array of objects is used\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\tconst validate = options => {\r\n\t\t\r\n\t\t// validate required fields\r\n\t\tif (required && (!options || (Array.isArray(options) && options.length === 0))) {\r\n\t\t\tsetError(i18n.t('No option selected'));\r\n\t\t\treturn [ true, null ];\r\n\t\t}\r\n\t\t\r\n\t\tsetError(null);\r\n\t\treturn [ false, options ];\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<Field {...props}>\r\n\t\t\t<Autocomplete\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\troot: classes.Input,\r\n\t\t\t\t\tinputRoot: clsx(closeIcon === null && popupIcon === null && classes.noIconPadding)\r\n\t\t\t\t}}\r\n\t\t\t\t\r\n\t\t\t\tvalue={value}\r\n\t\t\t\t//defaultValue={val}\r\n\t\t\t\t//inputValue={inputValue}\r\n\t\t\t\t//onInputChange={(e, text) => setInputValue(text)}\r\n\t\t\t\t\r\n\t\t\t\tonChange={(e, selected, reason) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (props.multiple) {\r\n\t\t\t\t\t\tselected = selected.map(val => typeof val === 'string' && objectify ? { id: val.toLowerCase().replace(/ /g, ''), name: val } : val);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tsetValue(clearOnSelect ? null : selected);\r\n\t\t\t\t\tlet [ err, options ] = validate(selected);\r\n\t\t\t\t\tonChange && onChange({ ...props, error: err }, options);\r\n\t\t\t\t}}\r\n\t\t\t\t\r\n\t\t\t\tgetOptionSelected={(option, value) => option && value ? (objectify ? option.id === value.id : option === value) : false}\r\n\t\t\t\tfilterOptions={filterOptions}\r\n\t\t\t\t\r\n\t\t\t\trenderInput={params => <TextField\r\n\t\t\t\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\trequired={required}\r\n\t\t\t\t\t\t\t\t\t\tautoFocus={autoFocus ? autoFocus : false}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(label) || i18n.t(placeholder)}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\terror={typeof error === 'boolean' ? error : (error !== null)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={errorMessage ? i18n.t(errorMessage) : (typeof error !== 'boolean' ? error : '')}\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\t\t\t\tshrink: shrink ? shrink : true\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>}\r\n\t\t\t\t\r\n\t\t\t\tonClose={(e, reason) => reason === 'blur' && clearOnBlur && setValue(null)}\r\n\t\t\t\t\r\n\t\t\t\t{...otherProps}\r\n\t\t\t\t/>\r\n\t\t</Field>\r\n\t\r\n\t);\r\n}\r\n","import { format } from 'date-fns'\r\nimport i18n, { locales } from '../controller/i18n'\r\n\r\n/**\r\n *\r\n *\r\n */\r\nfunction timeToSeconds(time) {\r\n\t\r\n\tif (time.toString().indexOf(':') > -1) {\r\n\t\ttime = time.toString();\r\n\t\tlet format = time.split(':').length-1;\r\n\t\tlet [ hours, minutes, seconds ] = format > 1 ? time.split(':') : ('0:' + time).split(':');\r\n\t\ttime = parseInt(hours) * 3600 + parseInt(minutes) * 60 + parseInt(seconds);\r\n\t}\r\n\t\r\n\treturn parseInt(time);\r\n}\r\n\r\n/**\r\n *\r\n *\r\n */\r\nfunction timeToHoursMinutesSeconds(time, withHours = false) {\r\n\t\r\n\tif (time.toString().indexOf(':') > -1) {\r\n\t\treturn time;\r\n\t}\r\n\t\r\n\ttime = parseInt(time);\r\n\twithHours = withHours || (time > 3600);\r\n\t\r\n\tif (Number.isNaN(time)) {\r\n\t\treturn withHours ? '00:00:00' : '00:00';\r\n\t}\r\n\t\r\n\tlet hours = '0' + Math.floor(time/3600);\r\n\tlet minutes = '0' + Math.floor(time/60);\r\n\tlet seconds = '0' + (time % 60);\r\n\t\r\n\treturn withHours ? [ hours.substr(-2), minutes.substr(-2), seconds.substr(-2) ].join(':') : [ minutes.substr(-2), seconds.substr(-2) ].join(':');\r\n}\r\n\r\n/**\r\n *\r\n *\r\n */\r\nfunction secondsToDateTime(seconds, dateTimeFormat = 'dd. MMM yyyy, HH:mm') {\r\n\treturn format(new Date(seconds*1000), dateTimeFormat, { locale: locales[i18n.getLanguage()] });\r\n}\r\n\r\n\r\nexport default {\r\n\ttimeToSeconds,\r\n\ttimeToHoursMinutesSeconds,\r\n\tsecondsToDateTime\r\n}","/**\r\n * Settings\r\n *\r\n *\r\n */\r\nexport default class Log {\r\n\r\n\t/*\r\n\t * holds the log\r\n\t */\r\n\tstatic log = [];\r\n\r\n\t/**\r\n\t * Add a message to the log\r\n\t *\r\n\t * @param\t{String}\t\tmodule\t\t\t\t\t\tModule (origin) of log message\r\n\t * @param\t{String|Array}\tmessage\t\t\t\t\t\tLog message\r\n\t * @param\t{String}\t\t[criticality=info]\t\t\tCriticality, one of 'debug', 'info', 'warn' or 'error'\r\n\t * @param\t{Boolean}\t\t[printToConsole=false]\t\tPrint log message to console\r\n\t * @param\t{Object}\t\t[stack={}]\t\t\t\t\tStack trace of error message\r\n\t * @return\t{Log}\r\n\t */\r\n\tstatic _(module, message, criticality = 'info', printToConsole = true, stack = {}) {\r\n\t\tmessage = Array.isArray(message) ? message : [message];\r\n\t\tmessage.forEach(entry => {\r\n\t\t\tLog.log.push({\r\n\t\t\t\ttime: new Date(),\r\n\t\t\t\tmodule: module,\r\n\t\t\t\tcriticality: criticality,\r\n\t\t\t\tmessage: entry,\r\n\t\t\t\tstack: stack\r\n\t\t\t});\r\n\t\t});\r\n\t\t\r\n\t\tif (printToConsole) {\r\n\t\t\tmessage[0] = module + ' # ' + message[0];\r\n\t\t\tconsole[criticality](...message); // https://nodejs.org/docs/latest/api/console.html\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Gets the log\r\n\t *\r\n\t * @param\tvoid\r\n\t * @return\t{Array}\r\n\t */\r\n\tstatic getLog() {\r\n\t\treturn Log.log;\r\n\t}\r\n}\r\n","\r\nexport default [\r\n\t{\r\n\t\t'parameter': 'subgroupActions',\r\n\t\t'label': {\r\n\t\t\t'en': 'Show on/off actions for groups',\r\n\t\t\t'de': 'Buttons an/aus für Gruppen einblenden'\r\n\t\t},\r\n\t\t'type': 'Switch',\r\n\t\t'val': true\r\n\t}\r\n]\r\n","export { default } from './blind'\r\n","import React, { useState, useEffect } from 'react'\r\nimport clsx from 'clsx'\r\nimport color from 'color'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup'\r\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport StopIcon from '@material-ui/icons/Stop'\r\n\r\nimport i18n from '../../controller/i18n'\r\nimport Log from '../../controller/Log'\r\nimport defaults from '../defaults'\r\nimport getActivityType from './blind-manufacturers'\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles(theme => ({\r\n\tvalue: props => ({\r\n\t\tfloat: 'left',\r\n\t\tlineHeight: '32px',\r\n\t\tmarginRight: '10px'\r\n\t}),\r\n\tborderLeftTransparent: {\r\n\t\tborderLeftColor: 'transparent !important'\r\n\t},\r\n\tborderLeftColor: {\r\n\t\tborderLeftColor: color(theme.palette.primary.main).alpha(0.5).rgb().toString() +  '!important'\r\n\t},\r\n\tborderRightTransparent: {\r\n\t\tborderRightColor: 'transparent !important'\r\n\t},\r\n\tborderRightColor: {\r\n\t\tborderRightColor: color(theme.palette.primary.main).alpha(0.5).rgb().toString() +  '!important'\r\n\t},\r\n\tborderRightColorSecondary: {\r\n\t\tborderRightColor: color(theme.palette.secondary.main).alpha(0.5).rgb().toString() +  '!important'\r\n\t}\r\n}));\r\n\r\n\r\n/*\r\n * ACTIONS\r\n *\r\n */\r\nfunction BlindLevelAction(props) {\r\n\tconst { device, state, stateKey } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\tconst onGoUp = () => {\r\n\t\tsetLevel(100);\r\n\t\tsetActivity(true);\r\n\t\tdevice.setDeviceState(stateKey, 100).catch(err => Log._('Function (blind)', err.message, 'error', true, err.stack));\r\n\t}\r\n\t\r\n\tconst onGoDown = () => {\r\n\t\tsetLevel(0);\r\n\t\tsetActivity(true);\r\n\t\tdevice.setDeviceState(stateKey, 0).catch(err => Log._('Function (blind)', err.message, 'error', true, err.stack));\r\n\t}\r\n\t\r\n\tconst onStop = () => {\r\n\t\tsetActivity(false);\r\n\t\tdevice.setDeviceState('activity', true).catch(err => Log._('Function (blind)', err.message, 'error', true, err.stack));\r\n\t}\r\n\t\r\n\t// level\r\n\tconst [level, setLevel] = useState(state.value || null);\r\n\tuseEffect(() => setLevel(state.value), [state]);\r\n\t\r\n\t// activity\r\n\tconst [activity, setActivity] = useState(false);\r\n\tconst stateChangeActivity = (sKey, s, d) => { sKey === 'activity' && setActivity(s.val); }\r\n\tuseEffect(() => {\r\n\t\t\r\n\t\tif (device.states.activity && device.states.activity.state) {\r\n\t\t\tdevice.states.activity.state = typeof device.states.activity.state === 'string' ? { 'node': device.states.activity.state } : device.states.activity.state;\r\n\t\t\t\r\n\t\t\t// request device state\r\n\t\t\tdevice.requestDeviceState('activity', true).catch(err => Log._('Function (blind)', err.message, 'error', true, err.stack));\r\n\t\t\t\r\n\t\t\t// listen for updates\r\n\t\t\tdevice.listen(stateChangeActivity)\r\n\t\t}\r\n\t\t\r\n\t\t// componentWillUnmount\r\n\t\treturn () => device.unlisten(stateChangeActivity);\r\n\t\t\r\n\t}, [device, state]);\r\n\t\r\n\treturn (\r\n\r\n<React.Fragment>\r\n\t\r\n\t<div className={classes.value}>\r\n\t\t{level + ' ' + state.unit}\r\n\t</div>\r\n\t\r\n\t<ButtonGroup size=\"small\">\r\n\t\t<Button color=\"primary\" className={clsx(activity !== null && (!activity ? classes.borderRightColor : classes.borderRightTransparent))} onClick={onGoUp}><ExpandLessIcon /></Button>\r\n\t\t{activity !== null && <Button color=\"secondary\" className={clsx(!activity ? [ classes.borderLeftTransparent, classes.borderRightTransparent ] : classes.borderRightColorSecondary)} onClick={onStop} disabled={!activity}><StopIcon /></Button>}\r\n\t\t<Button color=\"primary\" className={clsx(activity !== null && (!activity ? classes.borderLeftColor : classes.borderLeftTransparent))} onClick={onGoDown}><ExpandMoreIcon /></Button>\r\n\t</ButtonGroup>\r\n</React.Fragment>\r\n\r\n\t);\r\n}\r\n\r\n\r\n\r\ni18n.setTranslation(i18n.getLanguage(), () => require('./i18n/' + i18n.getLanguage()));\r\n\r\nexport default {\r\n\tconfigurations: {\r\n\t\tlevel: {\r\n\t\t\tvalue: val => Math.round(val),\r\n\t\t\ticon: {\r\n\t\t\t\t'default': 'window-shutter-open',\r\n\t\t\t\t'>90': 'window-shutter-open',\r\n\t\t\t\t'<=90': 'window-shutter'\r\n\t\t\t}\r\n\t\t},\r\n\t\tlevel2: {\r\n\t\t\tvalue: val => Math.round(val),\r\n\t\t\tunit: ' %',\r\n\t\t\ticon: {\r\n\t\t\t\t'default': 'window-shutter-open',\r\n\t\t\t\t'>90': 'window-shutter-open',\r\n\t\t\t\t'<=90': 'window-shutter'\r\n\t\t\t}\r\n\t\t},\r\n\t\tactivity: {\r\n\t\t\tval: (val, stateKey, device) => getActivityType(device.options.manufacturer, val),\r\n\t\t\ticon: {\r\n\t\t\t\ttrue: 'pan-vertical',\r\n\t\t\t\tfalse: 'dots-vertical',\r\n\t\t\t},\r\n\t\t\tdisplay: {\r\n\t\t\t\ttrue: i18n.t('blind#activity#true'),\r\n\t\t\t\tfalse: i18n.t('blind#activity#false'),\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tlevel2: defaults.components.LevelComponent\r\n\t},\r\n\tactions: {\r\n\t\tlevel: BlindLevelAction\r\n\t}\r\n}\r\n","export default {\r\n\t// States\r\n\t\"blind#activity\": \"Aktivität\",\r\n\t\"blind#level\": \"Behanghöhe\",\r\n\t\"blind#level2\": \"Lamellenposition\",\r\n\t\r\n\t// State values\r\n\t\"blind#activity#true\": \"in Bewegung\",\r\n\t\"blind#activity#false\": \"keine\",\r\n}","export default {\r\n\t// States\r\n\t\"blind#activity\": \"Activity\",\r\n\t\"blind#level\": \"Level\",\r\n\t\"blind#level2\": \"Lamella\",\r\n\t\r\n\t// State values\r\n\t\"blind#activity#true\": \"moving\",\r\n\t\"blind#activity#false\": \"none\",\r\n}","export { default } from './door'\r\n","import i18n from '../../controller/i18n'\r\n\r\n\r\ni18n.setTranslation(i18n.getLanguage(), () => require('./i18n/' + i18n.getLanguage()));\r\n\r\nexport default {\r\n\tconfigurations: {\r\n\t\topen: {\r\n\t\t\ticon: {\r\n\t\t\t\ttrue: 'door-open',\r\n\t\t\t\tfalse: 'door-closed'\r\n\t\t\t},\r\n\t\t\tdisplay: {\r\n\t\t\t\ttrue: i18n.t('door#open#true'),\r\n\t\t\t\tfalse: i18n.t('door#open#false')\r\n\t\t\t},\r\n\t\t},\r\n\t\tlock: {\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t},\r\n\tactions: {\r\n\t}\r\n}","export default {\r\n\t// States\r\n\t\"door#bell\": \"Klingel\",\r\n\t\"door#lock\": \"Schloß\",\r\n\t\"door#open\": \"Tür\",\r\n\t\r\n\t// State values\r\n\t\"door#open#true\": \"offen\",\r\n\t\"door#open#false\": \"geschlossen\",\r\n}","export default {\r\n\t// States\r\n\t\"door#bell\": \"Bell\",\r\n\t\"door#lock\": \"Lock\",\r\n\t\"door#open\": \"Door\",\r\n\t\r\n\t// State values\r\n\t\"door#open#true\": \"open\",\r\n\t\"door#open#false\": \"closed\",\r\n}","export { default } from './heating'\r\n","import React from 'react'\r\nimport i18n from '../../controller/i18n'\r\n\r\nimport defaults from '../defaults'\r\n\r\n\r\n/*\r\n * COMPONENTS\r\n *\r\n */\r\nfunction HeatingSetTemperatureComponent(props) {\r\n\tconst Level = defaults.components.LevelComponent;\r\n\treturn (\r\n\t\t<Level min={0} max={35} {...props} />\r\n\t);\r\n}\r\n\r\n\r\n\r\ni18n.setTranslation(i18n.getLanguage(), () => require('./i18n/' + i18n.getLanguage()));\r\n\r\nexport default {\r\n\tconfigurations: {\r\n\t\ttemperature: {\r\n\t\t\tvalue: val => val.toFixed(1),\r\n\t\t\tunit: ' °C',\r\n\t\t\ticon: 'radiator',\r\n\t\t},\r\n\t\tsetTemperature: {\r\n\t\t\tunit: ' °C',\r\n\t\t\ticon: 'thermometer-chevron-up'\r\n\t\t},\r\n\t\thumidity: {\r\n\t\t\tunit: ' %'\r\n\t\t},\r\n\t\tboost: {\r\n\t\t\ticon: 'radiator'\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tsetTemperature: HeatingSetTemperatureComponent\r\n\t},\r\n\tactions: {\r\n\t\tboost: defaults.actions.PowerAction\r\n\t}\r\n}","export default {\r\n\t\"heating#boost\": \"Boost\",\r\n\t\"heating#humidity\": \"Luftfeuchtigkeit\",\r\n\t\"heating#setTemperature\": \"eingestellte Temperatur\",\r\n\t\"heating#temperature\": \"Temperatur\",\r\n}","export default {\r\n\t\"heating#boost\": \"Boost\",\r\n\t\"heating#humidity\": \"Humidity\",\r\n\t\"heating#setTemperature\": \"Set Temperature\",\r\n\t\"heating#temperature\": \"Temperature\",\r\n}","export { default } from './light'\r\n","export default {\r\n\t// States\r\n\t\"light#colorTemperature\": \"Farbtemperatur\",\r\n\t\"light#hex\": \"Farbe (Hex)\",\r\n\t\"light#hsv\": \"Farbraum Hue-Saturation-Value (HSV)\",\r\n\t\"light#hue\": \"Farbe (Hue)\",\r\n\t\"light#level\": \"Helligkeit\",\r\n\t\"light#power\": \"Licht\",\r\n\t\"light#rgb\": \"Farbraum Rot-Grün-Blau (RGB)\",\r\n\t\r\n\t// State values\r\n\t\"light#level#off\": \"ausgeschaltet\",\r\n}","export default {\r\n\t// States\r\n\t\"light#colorTemperature\": \"Color Temperature\",\r\n\t\"light#hex\": \"Color (Hex)\",\r\n\t\"light#hsv\": \"Colorspace Hue-Saturation-Value (HSV)\",\r\n\t\"light#hue\": \"Color (Hue)\",\r\n\t\"light#level\": \"Brightness\",\r\n\t\"light#power\": \"Power\",\r\n\t\"light#rgb\": \"Colorspace Red-Green-Blue (RGB)\",\r\n\t\r\n\t// State values\r\n\t\"light#level#off\": \"off\",\r\n}","export { default } from './location'\r\n","import i18n from '../../controller/i18n'\r\n\r\n\r\ni18n.setTranslation(i18n.getLanguage(), () => require('./i18n/' + i18n.getLanguage()));\r\n\r\nexport default {\r\n\tconfigurations: {\r\n\t\tposition: {\r\n\t\t\ticon: 'map-marker'\r\n\t\t},\r\n\t\tpresence: {\r\n\t\t\ticon: {\r\n\t\t\t\ttrue: 'map-marker-radius',\r\n\t\t\t\tfalse: 'map-marker-remove-outline'\r\n\t\t\t},\r\n\t\t\tdisplay: {\r\n\t\t\t\ttrue: i18n.t('location#presence#true'),\r\n\t\t\t\tfalse: i18n.t('location#presence#false'),\r\n\t\t\t},\r\n\t\t},\r\n\t\tusers: {\r\n\t\t\ticon: {\r\n\t\t\t\t'': 'account-group-outline',\r\n\t\t\t\t'default': 'account-group'\r\n\t\t\t},\r\n\t\t\tdisplay: {\r\n\t\t\t\t'': i18n.t('location#users#empty')\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tcomponents: {\r\n\t},\r\n\tactions: {\r\n\t}\r\n}","export default {\r\n\t// States\r\n\t\"location#position\": \"Position\",\r\n\t\"location#presence\": \"Anwesenheit\",\r\n\t\"location#users\": \"Benutzer\",\r\n\t\r\n\t// State values\r\n\t\"location#presence#true\": \"anwesend\",\r\n\t\"location#presence#false\": \"abwesend\",\r\n\t\"location#users#empty\": \"niemand anwesend\",\r\n}","export default {\r\n\t// States\r\n\t\"location#position\": \"Position\",\r\n\t\"location#presence\": \"Presence\",\r\n\t\"location#users\": \"Users\",\r\n\t\r\n\t// State values\r\n\t\"location#presence#true\": \"present\",\r\n\t\"location#presence#false\": \"absent\",\r\n\t\"location#users#empty\": \"nobody present\",\r\n}","export { default } from './user'\r\n","import i18n from '../../controller/i18n'\r\n\r\n\r\ni18n.setTranslation(i18n.getLanguage(), () => require('./i18n/' + i18n.getLanguage()));\r\n\r\nexport default {\r\n\tconfigurations: {\r\n\t\tposition: {\r\n\t\t\ticon: 'map-marker'\r\n\t\t},\r\n\t\tlocation: {\r\n\t\t\ticon: 'account'\r\n\t\t},\r\n\t\tbattery: {\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t},\r\n\tactions: {\r\n\t}\r\n}","export default {\r\n\t\"user#location\": \"Standort\",\r\n\t\"user#position\": \"Position\",\r\n}","export default {\r\n\t\"user#location\": \"Location\",\r\n\t\"user#position\": \"Position\",\r\n}","export { default } from './window'\r\n","import i18n from '../../controller/i18n'\r\n\r\n\r\ni18n.setTranslation(i18n.getLanguage(), () => require('./i18n/' + i18n.getLanguage()));\r\n\r\nexport default {\r\n\tconfigurations: {\r\n\t\topen: {\r\n\t\t\ticon: {\r\n\t\t\t\ttrue: 'window-open-variant',\r\n\t\t\t\tfalse: 'window-closed-variant'\r\n\t\t\t},\r\n\t\t\tdisplay: {\r\n\t\t\t\ttrue: i18n.t('window#open#true'),\r\n\t\t\t\tfalse: i18n.t('window#open#false')\r\n\t\t\t},\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t},\r\n\tactions: {\r\n\t}\r\n}","export default {\r\n\t// States\r\n\t\"window#open\": \"Fenster\",\r\n\t\r\n\t// State values\r\n\t\"window#open#true\": \"offen\",\r\n\t\"window#open#false\": \"geschlossen\",\r\n}","export default {\r\n\t// States\r\n\t\"window#open\": \"Window\",\r\n\t\r\n\t// State values\r\n\t\"window#open#true\": \"open\",\r\n\t\"window#open#false\": \"closed\",\r\n}","\r\nexport default [\r\n\t{\r\n\t\t'parameter': 'style',\r\n\t\t'label': {\r\n\t\t\t'en': 'Style of the text',\r\n\t\t\t'de': 'Style des Textes'\r\n\t\t},\r\n\t\t'description': {\r\n\t\t\t'en': 'CSS statements in javascript notation',\r\n\t\t\t'de': 'CSS-Anweisungen in Javascript Syntax'\r\n\t\t},\r\n\t\t'json': true,\r\n\t\t'val': '{ \"fontSize\": \"1.5rem\", \"textAlign\": \"center\" }'\r\n\t},\r\n\t{\r\n\t\t'parameter': 'format',\r\n\t\t'label': {\r\n\t\t\t'en': 'Date/Time format',\r\n\t\t\t'de': 'Format des Datums / Uhrzeit'\r\n\t\t},\r\n\t\t'description': {\r\n\t\t\t'en': 'For possible format values, see date-fns documentation',\r\n\t\t\t'de': 'Für mögliche Werte, siehe date-fns Dokumentation'\r\n\t\t},\r\n\t\t'link': 'https://date-fns.org/v2.9.0/docs/format',\r\n\t\t'val': 'd. MMMM yyyy HH:mm'\r\n\t},\r\n\t{\r\n\t\t'parameter': 'sun',\r\n\t\t'label': {\r\n\t\t\t'en': 'Show times of sunrise and -set',\r\n\t\t\t'de': 'Zeigt Zeiten für Sonnenauf- und -untergang'\r\n\t\t},\r\n\t\t'type': 'Switch',\r\n\t\t'val': true\r\n\t}\r\n]\r\n","\r\nexport default [\r\n\t{\r\n\t\t'parameter': 'defaultZoom',\r\n\t\t'label': {\r\n\t\t\t'en': 'initial map zoom',\r\n\t\t\t'de': 'initialer Zoom der Karte'\r\n\t\t},\r\n\t\t'type': 'Number',\r\n\t\t'val': 10\r\n\t},\r\n\t{\r\n\t\t'parameter': 'defaultPosition',\r\n\t\t'label': {\r\n\t\t\t'en': 'initial map coordinates',\r\n\t\t\t'de': 'initiale Koordinaten auf der Karte'\r\n\t\t},\r\n\t\t'description': {\r\n\t\t\t'en': 'Separate latitude and longitude via comma (e.g. 53.550383, 9.992376)',\r\n\t\t\t'de': 'Latitude und Longitude mit Komma separiert (z. B. 53.550383, 9.992376)'\r\n\t\t},\r\n\t\t'val': ''\r\n\t},\r\n\t{\r\n\t\t'parameter': 'tooltipDirection',\r\n\t\t'label': {\r\n\t\t\t'en': 'Direction tooltip will open',\r\n\t\t\t'de': 'Richtung in die der Tooltip öffnet'\r\n\t\t},\r\n\t\t'description': {\r\n\t\t\t'en': 'possible directions to open: auto, center, top, left, right or bottom',\r\n\t\t\t'de': 'mögliche Werte: auto, center, top, left, right or bottom'\r\n\t\t},\r\n\t\t'type': 'Select',\r\n\t\t'selection': [\r\n\t\t\t{\r\n\t\t\t\t'auto': {\r\n\t\t\t\t\t'en': 'detect dynamically',\r\n\t\t\t\t\t'de': 'dynamisch erkennen'\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'center': {\r\n\t\t\t\t\t'en': 'center',\r\n\t\t\t\t\t'de': 'center'\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'top': {\r\n\t\t\t\t\t'en': 'top',\r\n\t\t\t\t\t'de': 'top'\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'left': {\r\n\t\t\t\t\t'en': 'left',\r\n\t\t\t\t\t'de': 'left'\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'right': {\r\n\t\t\t\t\t'en': 'right',\r\n\t\t\t\t\t'de': 'right'\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t'bottom': {\r\n\t\t\t\t\t'en': 'bottom',\r\n\t\t\t\t\t'de': 'bottom'\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t\t'val': ''\r\n\t},\r\n\t{\r\n\t\t'parameter': 'tooltipPermanent',\r\n\t\t'label': {\r\n\t\t\t'en': 'permanent tooltip',\r\n\t\t\t'de': 'Permanenter Tooltip'\r\n\t\t},\r\n\t\t'description': {\r\n\t\t\t'en': 'Option to keep tooltip permanently open (true) or only open on mouse-over (false)',\r\n\t\t\t'de': 'Angabe ob der Tooltip permanent ist (true) oder nur beim rüberfahren mit der Maus gezeigt wird (false)'\r\n\t\t},\r\n\t\t'type': 'Switch',\r\n\t\t'val': true\r\n\t}\r\n]\r\n","\r\nexport default [\r\n\t{\r\n\t\t'parameter': 'url',\r\n\t\t'label': {\r\n\t\t\t'en': 'URL to load / show in iFrame',\r\n\t\t\t'de': 'URL, die zu laden / anzuzeigen ist'\r\n\t\t},\r\n\t\t'placeholder': 'http://',\r\n\t\t'required': true\r\n\t},\r\n\t{\r\n\t\t'parameter': 'height',\r\n\t\t'label': {\r\n\t\t\t'en': 'Height of iFrame',\r\n\t\t\t'de': 'Höhe des iFrame Fensters'\r\n\t\t},\r\n\t\t'placeholder': '100%'\r\n\t}\r\n]\r\n","/**\r\n *\r\n *\r\n */\r\nfunction HsvToRgb(h, s = 1, v = 1) {\r\n\tif (Array.isArray(h)) {\r\n\t\tv = h[2];\r\n\t\ts = h[1];\r\n\t\th = h[0];\r\n\t}\r\n\telse if (typeof h === 'string' && h.indexOf(',')) {\r\n\t\t[h, s, v] = h.split(',');\r\n\t}\r\n\t\r\n\tif (h > 1) {\r\n\t\th = h/360;\r\n\t}\r\n\t\r\n\tlet r, g, b, i, f, p, q, t;\r\n\t\r\n\ti = Math.floor(h * 6);\r\n\tf = h * 6 - i;\r\n\tp = v * (1 - s);\r\n\tq = v * (1 - f * s);\r\n\tt = v * (1 - (1 - f) * s);\r\n\t\r\n\tswitch (i % 6) {\r\n\t\tcase 0:\r\n\t\t\tr = v;\r\n\t\t\tg = t;\r\n\t\t\tb = p;\r\n\t\t\tbreak;\r\n\t\t\t\r\n\t\tcase 1:\r\n\t\t\tr = q;\r\n\t\t\tg = v;\r\n\t\t\tb = p;\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tcase 2:\r\n\t\t\tr = p;\r\n\t\t\tg = v;\r\n\t\t\tb = t;\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tcase 3:\r\n\t\t\tr = p;\r\n\t\t\tg = q;\r\n\t\t\tb = v;\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tcase 4:\r\n\t\t\tr = t;\r\n\t\t\tg = p;\r\n\t\t\tb = v;\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tcase 5:\r\n\t\t\tr = v;\r\n\t\t\tg = p;\r\n\t\t\tb = q;\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tdefault: // for webpack\r\n\t\t\tbreak;\r\n\t}\r\n\t\r\n\treturn [\r\n\t\tMath.round(r * 255),\r\n\t\tMath.round(g * 255),\r\n\t\tMath.round(b * 255)\r\n\t];\r\n}\r\n\r\n\r\n/**\r\n *\r\n *\r\n */\r\nfunction RgbToHex(r, g, b) {\r\n\tif (Array.isArray(r)) {\r\n\t\tb = r[2];\r\n\t\tg = r[1];\r\n\t\tr = r[0];\r\n\t}\r\n\telse if (typeof r === 'string' && r.indexOf(',')) {\r\n\t\t[r, g, b] = r.split(',');\r\n\t}\r\n\t\r\n\tr = parseInt(r).toString(16);\r\n\tg = parseInt(g).toString(16);\r\n\tb = parseInt(b).toString(16);\r\n\t\r\n\tif (r.length === 1) r = '0' + r;\r\n\tif (g.length === 1) g = '0' + g;\r\n\tif (b.length === 1) b = '0' + b;\r\n\t\r\n\treturn \"#\" + r + g + b;\r\n}\r\n\r\n\r\nexport default {\r\n\tHsvToRgb,\r\n\tRgbToHex\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { HuePicker, SketchPicker as ColorPicker } from 'react-color'\r\n\r\nimport helpers from '../../helpers/colorConverter'\r\nimport i18n from '../../controller/i18n'\r\nimport Log from '../../controller/Log'\r\nimport defaults from '../defaults'\r\n\r\n\r\n/*\r\n * ACTIONS\r\n *\r\n */\r\nfunction LightLevelAction(props) {\r\n\tconst { device, stateKey, stateVal } = props;\r\n\t\r\n\tconst onChange = (e) => {\r\n\t\tsetChecked(e.target.checked);\r\n\t\tdevice.setDeviceState(stateKey, e.target.checked ? ((device.getOption('defaultValue')) || 100) : 0).catch(({ error }) => Log._('Function (light)', error.message, 'error', true, error.stack));\r\n\t}\r\n\t\r\n\tconst [checked, setChecked] = useState(stateVal > 0);\r\n\tuseEffect(() => setChecked(stateVal > 0), [stateVal]);\r\n\t\r\n\t// only show percentage if device has a switch itself\r\n\tif (device.parent && device.parent.states.power) {\r\n\t\treturn <defaults.actions.Action {...props} stateVal={checked} onChange={onChange} />;\r\n\t}\r\n\t\r\n\treturn <defaults.actions.PowerAction {...props} stateVal={checked} onChange={onChange} />\r\n}\r\n\r\nfunction LightColorAction(props) {\r\n\tconst { stateKey, stateVal } = props;\r\n\t\r\n\tconst [colorSpace, setColorSpace] = useState(stateVal);\r\n\tuseEffect(() => setColorSpace(stateVal), [stateVal]);\r\n\t\r\n\tlet colors, labels = {};\r\n\tif (stateKey === 'rgb' && colorSpace) {\r\n\t\tcolors = colorSpace.split(',');\r\n\t\tlabels = { Red: colors[0], Green: colors[1], Blue: colors[2] };\r\n\t\t\r\n\t}\r\n\telse if (stateKey === 'hsv' && colorSpace) {\r\n\t\tcolors = colorSpace.split(',');\r\n\t\tlabels = { Hue: colors[0], Saturation: colors[1], Brightness: colors[2] };\r\n\t}\r\n\t\r\n\tconst Label = defaults.components.Label;\r\n\tlet label = [];\r\n\tfor (let key in labels) {\r\n\t\tlabel.push(<Label key={key} label={key + ' ' + labels[key]} br={true} />);\r\n\t}\r\n\t\r\n\treturn label;\r\n}\r\n\r\n\r\n/*\r\n * COMPONENTS\r\n *\r\n */\r\nfunction LightColorTemperatureComponent(props) {\r\n\tconst Level = defaults.components.LevelComponent;\r\n\treturn (\r\n\t\t<Level min={2000} max={6500} step={10} {...props} />\r\n\t);\r\n}\r\n\r\nfunction LightHueComponent(props) {\r\n\tconst { device, stateKey, stateVal, title } = props;\r\n\t\r\n\tconst onChangeComplete = (color, e) => {\r\n\t\tsetHue(Math.round(color.hsl.h));\r\n\t\tdevice.setDeviceState(stateKey, Math.round(color.hsl.h)).catch(({ error }) => Log._('Function (light)', error.message, 'error', true, error.stack));\r\n\t}\r\n\t\r\n\tconst [hue, setHue] = useState(stateVal);\r\n\tuseEffect(() => setHue(stateVal), [stateVal]);\r\n\t\r\n\tconst Component = defaults.components.Component;\r\n\tconst color = helpers.RgbToHex(helpers.HsvToRgb(hue));\r\n\treturn (\r\n\r\n<Component title={title || stateKey }>\r\n\t<HuePicker\r\n\t\tcolor={color}\r\n\t\twidth={'100%'}\r\n\t\tonChangeComplete={onChangeComplete}\r\n\t\t/>\r\n\t\t\r\n</Component>\r\n\r\n\t);\r\n}\r\n\r\nfunction LightColorComponent(props) {\r\n\tconst { device, stateKey, stateVal, title } = props;\r\n\t\r\n\tconst onChangeComplete = (color, e) => {\r\n\t\tcolor = color[stateKey];\r\n\t\t\r\n\t\t// RGB\r\n\t\tif (stateKey === 'rgb') {\r\n\t\t\tcolor = [color.r, color.g, color.b].join(',');\r\n\t\t}\r\n\t\t// HSV\r\n\t\telse if (stateKey === 'hsv') {\r\n\t\t\tcolor = [color.h, color.s, color.v].join(',');\r\n\t\t}\r\n\t\t\r\n\t\tdevice.setDeviceState(stateKey, color).catch(({ error }) => Log._('Function (light)', error.message, 'error', true, error.stack));\r\n\t};\r\n\t\r\n\tlet initialColor = stateVal || '#ffffff';\r\n\t\r\n\t// RGB\r\n\tif (stateKey === 'rgb') {\r\n\t\tinitialColor = helpers.RgbToHex(initialColor);\r\n\t}\r\n\t// HSV\r\n\telse if (stateKey === 'hsv') {\r\n\t\tinitialColor = helpers.RgbToHex(helpers.HsvToRgb(initialColor));\r\n\t}\r\n\t\r\n\tconst [colorSpace, setColorSpace] = useState(initialColor);\r\n\tuseEffect(() => {\r\n\t\t// RGB\r\n\t\tif (stateKey === 'rgb') {\r\n\t\t\tsetColorSpace(helpers.RgbToHex(stateVal));\r\n\t\t}\r\n\t\t// HSV\r\n\t\telse if (stateKey === 'hsv') {\r\n\t\t\tsetColorSpace(helpers.RgbToHex(helpers.HsvToRgb(stateVal)));\r\n\t\t}\r\n\t\t// HEX\r\n\t\telse if (stateKey === 'hex') {\r\n\t\t\tsetColorSpace(stateVal);\r\n\t\t}\r\n\t}, [stateKey, stateVal]);\r\n\t\r\n\tconst Component = defaults.components.Component;\r\n\treturn (\r\n\r\n<Component title={title || stateKey }>\r\n\t<ColorPicker\r\n\t\tcolor={colorSpace}\r\n\t\twidth={'100%'}\r\n\t\tonChangeComplete={onChangeComplete}\r\n\t\t/>\r\n\t\t\r\n</Component>\r\n\r\n\t);\r\n}\r\n\r\n\r\n\r\nconst color = {\r\n\ticon: {\r\n\t\t'default': 'palette',\r\n\t},\r\n\tunit: ' °'\r\n}\r\n\r\ni18n.setTranslation(i18n.getLanguage(), () => require('./i18n/' + i18n.getLanguage()));\r\n\r\nexport default {\r\n\tconfigurations: {\r\n\t\tpower: {\r\n\t\t\ticon: {\r\n\t\t\t\t'true': 'lightbulb-on',\r\n\t\t\t\t'false': 'lightbulb-off-outline'\r\n\t\t\t},\r\n\t\t},\r\n\t\tlevel: {\r\n\t\t\tvalue: val => val > 0 && val <= 1 ? val * 100 : val,\r\n\t\t\tunit: val => val > 0 ? ' %' : null,\r\n\t\t\tstateStyle: {\r\n\t\t\t\t'0': {\r\n\t\t\t\t\t'color': '#999'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ticon: {\r\n\t\t\t\t'default': 'lightbulb-on',\r\n\t\t\t\t'0': 'lightbulb-off-outline'\r\n\t\t\t},\r\n\t\t\tdisplay: {\r\n\t\t\t\t'0': i18n.t('light#level#off')\r\n\t\t\t},\r\n\t\t},\r\n\t\tcolorTemperature: {\r\n\t\t\ticon: {\r\n\t\t\t\t'default': 'thermometer',\r\n\t\t\t},\r\n\t\t\tunit: ' °K'\r\n\t\t},\r\n\t\thue: color,\r\n\t\trgb: color,\r\n\t\thsv: color,\r\n\t\thex: color\r\n\t},\r\n\tcomponents: {\r\n\t\tlevel: defaults.components.LevelComponent,\r\n\t\tcolorTemperature: LightColorTemperatureComponent,\r\n\t\trgb: LightColorComponent,\r\n\t\thsv: LightColorComponent,\r\n\t\thex: LightColorComponent,\r\n\t\thue: LightHueComponent\r\n\t},\r\n\tactions: {\r\n\t\tpower: defaults.actions.PowerAction,\r\n\t\tlevel: LightLevelAction,\r\n\t\trgb: LightColorAction,\r\n\t\thsv: LightColorAction,\r\n\t\thex: LightColorAction\r\n\t}\r\n}","export default function getActivityType(manufacturer, val) {\r\n\t\r\n\t// HomeMatic\r\n\tif (manufacturer === 'HomeMatic') {\r\n\t\t\r\n\t\tswitch(val) {\r\n\t\t\tcase 1: // UP\r\n\t\t\tcase 2: // DOWN\r\n\t\t\t\tval = true;\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 3: // STABLE\r\n\t\t\t\tval = false;\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tdefault: // UNKNOWN\r\n\t\t\t\tval = null;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Shelly\r\n\telse if (manufacturer === 'Shelly') {\r\n\t\t\r\n\t\tswitch(val) {\r\n\t\t\tcase 'open': // MOVING\r\n\t\t\tcase 'close': // MOVING\r\n\t\t\t\tval = true;\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 'stop': // MOVING\r\n\t\t\t\tval = false;\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tdefault: // UNKNOWN\r\n\t\t\t\tval = null;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn val;\r\n}","import React from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport Divider from '@material-ui/core/Divider'\r\n//import IconButton from '@material-ui/core/IconButton'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport PlayIcon from '@material-ui/icons/PlayArrow'\r\nimport PauseIcon from '@material-ui/icons/Pause'\r\nimport StopIcon from '@material-ui/icons/Stop'\r\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious'\r\nimport SkipNextIcon from '@material-ui/icons/SkipNext'\r\n\r\nimport Log from '../../controller//Log'\r\nimport helpers from '../../helpers/timeConverter'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles';\r\nconst styles = theme => ({\r\n\tdivider: {\r\n\t\tmargin: '15px -16px'\r\n\t},\r\n\tcontainer: {\r\n\t\tmargin: theme.spacing(0, -2),\r\n\t},\r\n\tnoHeader: {\r\n\t\tmarginTop: theme.spacing(-4),\r\n\t},\r\n\timage: {\r\n\t\theight: '200px',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'flex-end',\r\n\t\tbackgroundPosition: 'center',\r\n\t\tcursor: 'pointer'\r\n\t},\r\n\tnoImage: {\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t\tdisplay: 'flex',\r\n\t\tcursor: 'pointer'\r\n\t},\r\n\tinformation: {\r\n\t\tbackgroundColor: theme.palette.primary.main + '66',\r\n\t\tcolor: '#fff',\r\n\t\tpadding: '10px',\r\n\t\tmargin: 0,\r\n\t\twidth: '100%',\r\n\t\tminHeight: '45px'\r\n\t},\r\n\tinformationLeft: {\r\n\t\twidth: '80%',\r\n\t\tfloat: 'left',\r\n\t\tmargin: 0\r\n\t},\r\n\tinformationRight: {\r\n\t\twidth: '19%',\r\n\t\tfloat: 'right',\r\n\t\tmargin: 0,\r\n\t\ttextAlign: 'right'\r\n\t},\r\n\tlength: {\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t\twidth: '100%',\r\n\t\theight: '7px',\r\n\t},\r\n\tlengthBar: {\r\n\t\tbackgroundColor: theme.palette.secondary.main,\r\n\t\theight: '100%',\r\n\t},\r\n\tcontrols: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'stretch'\r\n\t},\r\n\tcontrolsBox: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tpaddingTop: '30px'\r\n\t},\r\n\tcontrolsBoxLeft: {\r\n\t\tflex: 1,\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'baseline'\r\n\t},\r\n\tcontrolsBoxCenter: {\r\n\t\tflex: 3\r\n\t},\r\n\tcontrolsBoxRight: {\r\n\t\tflex: 1,\r\n\t\tjustifyContent: 'end'\r\n\t},\r\n\tcontrolButton: {\r\n\t\tmargin: '0 5px'\r\n\t},\r\n\tcontrolButtonSmall: {\r\n\t\tmargin: '0 10px',\r\n\t\tfontSize: '1.2rem',\r\n\t\theight: '32px',\r\n\t\twidth: '32px'\r\n\t}\r\n});\r\n\r\n\r\nclass MultimediaItem extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\t// get initial states\r\n\t\tfor (let stateKey in this.props.device.states) {\r\n\t\t\tthis.props.device.requestDeviceState(stateKey, true).catch(err => Log._('Modules (MultimediaItem)', err.message, 'error', true, err.stack));\r\n\t\t}\r\n\t\t\r\n\t\t// receive updates\r\n\t\tthis.props.device.listen(this.stateChange);\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.device.unlisten(this.stateChange);\r\n\t}\r\n\t\r\n\tstateChange = (stateKey, state) => {\r\n\t\t\r\n\t\t// duration\r\n\t\tif (stateKey === 'duration' && state && state.val.indexOf(':') === -1) {\r\n\t\t\tstate.val = helpers.timeToHoursMinutesSeconds(state.val);\r\n\t\t}\r\n\t\t\r\n\t\t// isRunning\r\n\t\tif (stateKey === 'isRunning' && state && typeof state.val === 'string') {\r\n\t\t\tstate.val = state.val.indexOf('play') > -1;\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({ [stateKey]: state }, () => {\r\n\t\t\tthis.progress();\r\n\t\t});\r\n\t}\r\n\t\r\n\tprogress() {\r\n\t\tclearTimeout(this.progressTimeout);\r\n\t\t\r\n\t\tif (this.state.isRunning && this.state.isRunning.val === true && this.state.progress && this.state.progress.val && this.state.duration && this.state.duration.val) {\r\n\t\t\tthis.progressTimeout = setTimeout(() => {\r\n\t\t\t\tthis.setState(prevState => ({ progress: { ...prevState.progress, val: helpers.timeToSeconds(prevState.progress.val) + 1 }}), () => this.progress());\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t}\r\n\t\r\n\topenDialog() {\r\n\t\tthis.props.openDialog(this.props.device);\r\n\t}\r\n\t\r\n\tsetDeviceState(stateKey, value) {\r\n\t\tthis.props.device.setDeviceState(stateKey, value).catch(err => Log._('Modules (MultimediaItem)', err.message, 'error', true, err.stack));\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { classes, noHeader, index, device } = this.props;\r\n\t\tlet styleImage = {}, styleLength = {}, styleLengthBar = {};\r\n\t\t\r\n\t\t// background\r\n\t\tif (this.state.background && this.state.background.val !== '') {\r\n\t\t\tstyleImage.backgroundImage = 'url(' + ((device.options.backgroundUrlPrepend || '') + this.state.background.val) + ')';\r\n\t\t}\r\n\t\t\r\n\t\t// duration\r\n\t\tif (this.state.duration && this.state.duration.val) {\r\n\t\t\tstyleLengthBar.width = ((this.state.progress && this.state.progress.val) || 0) + 'px';\r\n\t\t}\r\n\t\t\r\n\t\tconst playIconElements = this.state.isRunning && this.state.isRunning.val ? [<PauseIcon onClick={this.setDeviceState.bind(this, 'pause', true)} />, <StopIcon />] : [<PlayIcon onClick={this.setDeviceState.bind(this, 'play', true)} />];\r\n\t\t//const repeatIcon = 'repeat'; // repeat, repeat-off, repeat-once\r\n\t\t//const shuffleIcon = 'shuffle-variant'; // shuffle-variant, shuffle-disabled\r\n\t\t//const volumeIcon = 'volume-high'; // volume-variant-off\r\n\t\t\r\n\t\treturn (\r\n\r\n<React.Fragment>\r\n\t\r\n\t{index > 0 && <Divider className={classes.divider} />}\r\n\t<div className={clsx(classes.container, noHeader && classes.noHeader)}>\r\n\t\t\r\n\t\t<div className={clsx(this.state.background && this.state.background.val !== '' ? classes.image : classes.noImage)} style={ styleImage } onClick={this.openDialog.bind(this)}>\r\n\t\t\t\r\n\t\t\t<div className={classes.information}>\r\n\t\t\t\t<p className={classes.informationLeft}>\r\n\t\t\t\t\t{this.state.grandParent && this.state.grandParent.val && [this.state.grandParent.val, <br key={'br-' + device.id} />]}\r\n\t\t\t\t\t{this.state.parent && this.state.parent.val && this.state.parent.val + ' - '}{this.state.title && this.state.title.val}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className={classes.informationRight}>\r\n\t\t\t\t\t{this.state.progress && helpers.timeToHoursMinutesSeconds(this.state.progress.val)} / {this.state.duration && this.state.duration.val}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t\t<div className={classes.length} style={ styleLength }>\r\n\t\t\t<div className={classes.lengthBar} style={ styleLengthBar }></div>\r\n\t\t</div>\r\n\t\t\r\n\t\t<div className={classes.controls}>\r\n\t\t\t<div className={clsx(classes.controlsBox, classes.controlsBoxLeft)}>\r\n\t\t\t\t{/*\r\n\t\t\t\t<IconButton size=\"small\" className={classes.controlButtonSmall}>\r\n\t\t\t\t\t<span className={'mdi mdi-' + repeatIcon}></span>\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t<IconButton size=\"small\" className={classes.controlButtonSmall}>\r\n\t\t\t\t\t<span className={'mdi mdi-' + shuffleIcon}></span>\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t*/}\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t<div className={clsx(classes.controlsBox, classes.controlsBoxCenter)}>\r\n\t\t\t\t\r\n\t\t\t\t<Fab className={classes.controlButton} size=\"small\" color=\"secondary\">\r\n\t\t\t\t\t<SkipPreviousIcon onClick={this.setDeviceState.bind(this, 'previous', true)} />\r\n\t\t\t\t</Fab>\r\n\t\t\t\t\r\n\t\t\t\t{playIconElements.map((icon, i) => \r\n\t\t\t\t<Fab key={'icon-' + i} className={classes.controlButton} size=\"large\" color=\"primary\">\r\n\t\t\t\t\t{icon}\r\n\t\t\t\t</Fab>\r\n\t\t\t\t)}\r\n\t\t\t\t\r\n\t\t\t\t<Fab className={classes.controlButton} size=\"small\" color=\"secondary\">\r\n\t\t\t\t\t<SkipNextIcon onClick={this.setDeviceState.bind(this, 'next', true)} />\r\n\t\t\t\t</Fab>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t<div className={clsx(classes.controlsBox, classes.controlsBoxRight)}>\r\n\t\t\t\t{/*\r\n\t\t\t\t<IconButton size=\"small\" className={classes.controlButtonSmall}>\r\n\t\t\t\t\t<span className={'mdi mdi-' + volumeIcon}></span>\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t*/}\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t</div>\r\n\r\n</React.Fragment>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(MultimediaItem);\r\n","import React from 'react'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport StateListItem from './StateListItem'\r\n\r\nimport Devices from '../../controller/Devices'\r\nimport i18n from '../../controller/i18n'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles';\r\nconst styles = theme => ({\r\n\tdefaultListSectionDivider: {\r\n\t\tmargin: '5px 0 0 0'\r\n\t},\r\n\tdefaultListSectionDividerItem: {\r\n\t\tmargin: '6px 0 7px 0',\r\n\t\tpadding: '0 16px !important'\r\n\t},\r\n\tdefaultListSectionText: {\r\n\t\tmargin: 0,\r\n\t\t[theme.breakpoints.down('md')]: {\r\n\t\t\tmargin: '0 0 0 10px',\r\n\t\t}\r\n\t},\r\n\thorizontalList: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'row',\r\n\t\tflexWrap: 'wrap'\r\n\t}\r\n});\r\n\r\n\r\nconst ListGroup = withStyles(styles)(props => {\r\n\tconst { classes, title, actions } = props;\r\n\t\r\n\tconst handleChangeOn = () => handleChange(true);\r\n\tconst handleChangeOff = () => handleChange(false);\r\n\tconst handleChange = targetStatus => {\r\n\t\t\r\n\t\tlet devices = props.getDevices();\r\n\t\tconsole.log(devices);\r\n\t\tdevices.forEach(device => {\r\n\t\t\t\r\n\t\t\tlet status = targetStatus;\r\n\t\t\tif (device.primaryStateKey === 'level') {\r\n\t\t\t\tstatus = status ? (device.getOption('defaultValue') || 100) : 0;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdevice.setDeviceState(null, status);\r\n\t\t});\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<ListItem divider className={classes.defaultListSectionDivider} />\r\n\t\t\t<ListItem className={classes.defaultListSectionDividerItem}>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.defaultListSectionText}\r\n\t\t\t\t\tprimary={title}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t{actions === null || actions === false ? null :\r\n\t\t\t\t\t<ButtonGroup color=\"primary\" size=\"small\">\r\n\t\t\t\t\t\t<Button onClick={handleChangeOn}>{i18n.t('on')}</Button>\r\n\t\t\t\t\t\t<Button onClick={handleChangeOff}>{i18n.t('off')}</Button>\r\n\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t</ListItem>\r\n\t\t</React.Fragment>\r\n\t\r\n\t);\r\n});\r\n\r\n\r\nclass StateList extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.groups = {};\r\n\t}\r\n\t\r\n\t\r\n\trender() {\r\n\t\tconst { classes, devices, horizontal, config, component, action, ...otherProps } = this.props;\r\n\t\t\r\n\t\tlet group = null;\r\n\t\tconst items = Devices.forEachDevice(devices, (device, index, options) => {\r\n\t\t\t\r\n\t\t\t// group\r\n\t\t\tif (device.type === 'group') {\r\n\t\t\t\tgroup = device.id;\r\n\t\t\t\t\r\n\t\t\t\treturn <ListGroup\r\n\t\t\t\t\t\t\tkey={'ListGroup-' + device.id}\r\n\t\t\t\t\t\t\ttitle={device.name}\r\n\t\t\t\t\t\t\tgetDevices={() => this.groups[device.id]}\r\n\t\t\t\t\t\t\tactions={device.actions || config.actions}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// divider\r\n\t\t\telse if (device.type === 'divider') {\r\n\t\t\t\treturn <ListItem key={'ListDivider-' + device.id} divider className={classes.defaultListSectionDivider} />\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// device\r\n\t\t\tthis.groups[group] = this.groups[group] || [];\r\n\t\t\tthis.groups[group].push(device);\r\n\t\t\t\r\n\t\t\treturn <StateListItem\r\n\t\t\t\t\t\t{...otherProps}\r\n\t\t\t\t\t\tkey={'StateListItem-' + device.id}\r\n\t\t\t\t\t\thorizontal={horizontal}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdevice={device}\r\n\t\t\t\t\t\toptions={options}\r\n\t\t\t\t\t\tcomponent={component || false}\r\n\t\t\t\t\t\taction={action || true}\r\n\t\t\t\t\t\t/>\r\n\t\t});\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<List dense={true} className={horizontal && classes.horizontalList}>\r\n\t\t\t\t{items}\r\n\t\t\t</List>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(StateList);\r\n","import React from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles';\r\nconst styles = theme => ({\r\n\tdefaultListIcon: props => ({\r\n\t\t...theme.components.icon,\r\n\t\t...props.styles\r\n\t}),\r\n\thorizontalListItem: {\r\n\t\tdisplay: 'inline-block',\r\n\t\ttextAlign: 'center',\r\n\t\tpaddingRight: '16px',\r\n\t\twidth: '140px',\r\n\t\tmarginTop: '10px'\r\n\t},\r\n\thorizontalListItemIcon: {\r\n\t\tminWidth: 'auto'\r\n\t},\r\n\thorizontalListItemAction: {\r\n\t\ttextAlign: 'center',\r\n\t\ttop: 0,\r\n\t\tright: 0,\r\n\t\tposition: 'static',\r\n\t\ttransform: 'none',\r\n\t},\r\n\tverticalListItemAction: {\r\n\t\ttextAlign: 'right'\r\n\t},\r\n});\r\n\r\n\r\nconst ListItemIconElement = withStyles(styles)(props => {\r\n\tconst { customClassNames, children, classes } = props;\r\n\t\r\n\tlet classNames = Array.isArray(customClassNames) ? customClassNames : [customClassNames];\r\n\tclassNames = classNames.map(className => (classes[className] ? classes[className] : className));\r\n\t\r\n\treturn <span className={clsx(classNames)}>{children}</span>\r\n});\r\n\r\n\r\nclass StateListItem extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tListItemTextWidth: '100%',\r\n\t\t\t...this.props.device.getDeviceStates() || {}\r\n\t\t}\r\n\t\t\r\n\t\tthis.ListItemText = React.createRef();\r\n\t\tthis.ListItemSecondaryAction = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.ListItemTextWidth = Math.floor(this.ListItemText.current.offsetWidth);\r\n\t\tthis.resizeComponent();\r\n\t\t\r\n\t\t// get state changes\r\n\t\tthis.props.device.listen(this.stateChange);\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.device.unlisten(this.stateChange);\r\n\t}\r\n\t\r\n\tcomponentDidUpdate() {\r\n\t\tthis.resizeComponent();\r\n\t}\r\n\t\r\n\tstateChange = (stateKey, state) => {\r\n\t\tif (stateKey === this.props.device.primaryStateKey || stateKey === this.props.device.secondaryStateKey) {\r\n\t\t\tthis.setState({ [stateKey]: state });\r\n\t\t}\r\n\t}\r\n\t\r\n\tresizeComponent() {\r\n\t\tconst ListItemSecondaryActionWidth = Math.floor(this.ListItemSecondaryAction.current.offsetWidth*1.08);\r\n\t\t\r\n\t\tif (this.state.ListItemSecondaryActionWidth !== ListItemSecondaryActionWidth) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tListItemSecondaryActionWidth: ListItemSecondaryActionWidth,\r\n\t\t\t\tListItemTextWidth: this.ListItemTextWidth-ListItemSecondaryActionWidth + 'px'\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\topenDialog() {\r\n\t\tthis.props.openDialog(this.props.device);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { classes, horizontal, device, options, component, action } = this.props;\r\n\t\t\r\n\t\tconst state = this.state[options.primaryStateKey || device.primaryStateKey] || {};\r\n\t\tconst icon = device.getIcon(options.primaryStateKey, state.val) || device.getIcon(options.primaryStateKey, state.value);\r\n\t\t\r\n\t\tconst primaryComponent = component && device.getComponent();\r\n\t\tconst primaryAction = device.getAction(options.primaryStateKey, device.options.primaryAction === false);\r\n\t\tconst secondaryAction = action && this.state[options.secondaryStateKey || device.secondaryStateKey] ? device.getAction(options.secondaryStateKey || device.secondaryStateKey) : null;\r\n\t\t\r\n\t\treturn (\r\n\r\n<React.Fragment>\r\n\t{device.options.divider && device.options.divider !== 'after' && <ListItem divider className={classes.defaultListDivider} />}\r\n\t\r\n\t<ListItem\r\n\t\tclassName={clsx(this.props.openDialog && classes.finger, horizontal && classes.horizontalListItem)}\r\n\t\tbutton={this.props.openDialog !== null}\r\n\t\tonClick={this.props.openDialog && this.openDialog.bind(this)}\r\n\t\t>\r\n\t\t\r\n\t\t<ListItemIcon className={clsx(horizontal && classes.horizontalListItemIcon)}>\r\n\t\t{icon === null ? <React.Fragment /> :\r\n\t\t\t<ListItemIconElement customClassNames={['defaultListIcon','mdi mdi-' + icon]} styles={device.getStyle('icon', options.primaryStateKey, state.val)} />\r\n\t\t}\r\n\t\t</ListItemIcon>\r\n\t\t\r\n\t\t<ListItemText\r\n\t\t\tref={this.ListItemText}\r\n\t\t\tdisableTypography={primaryComponent !== false}\r\n\t\t\tprimary={primaryComponent || device.getOption('label')}\r\n\t\t\tsecondary={(device.options.subtitle !== null ? (device.options.subtitle || (state && state.timeChanged) || null) : null)}\r\n\t\t\tstyle={{ flex: 'initial', width: this.state.ListItemTextWidth }}\r\n\t\t\t/>\r\n\t\t\r\n\t\t<ListItemSecondaryAction\r\n\t\t\tref={this.ListItemSecondaryAction}\r\n\t\t\tclassName={ horizontal ? classes.horizontalListItemAction : classes.verticalListItemAction }\r\n\t\t\t>\r\n\t\t\t\r\n\t\t\t{!secondaryAction ? primaryAction : [ primaryAction, <br key={'br_' + device.id} />, secondaryAction ]}\r\n\t\t</ListItemSecondaryAction>\r\n\t</ListItem>\r\n\t\r\n\t{device.options.divider && device.options.divider === 'after' && <ListItem divider style={{margin: '5px 0'}} />}\r\n</React.Fragment>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(StateListItem);\r\n","/*\r\n * Code by MATERIAL-UI\r\n * @see https://material-ui.com/components/tables/#sorting-amp-selecting\r\n *\r\n */\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport clsx from 'clsx'\r\n\r\nimport { lighten, makeStyles } from '@material-ui/core/styles'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\n\r\n\r\nconst useToolbarStyles = makeStyles(theme => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(2),\r\n    paddingRight: theme.spacing(1),\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n          color: theme.palette.secondary.main,\r\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n        }\r\n      : {\r\n          color: theme.palette.text.primary,\r\n          backgroundColor: theme.palette.secondary.dark,\r\n        },\r\n  title: {\r\n    flex: '1 1 100%',\r\n  },\r\n}));\r\n\r\nexport default function EnhancedTableToolbar(props) {\r\n  const classes = useToolbarStyles();\r\n  const { title, rowCount, numSelected, rightActionButton } = props;\r\n\r\n  return (\r\n    <Toolbar\r\n      className={clsx(classes.root, {\r\n        [classes.highlight]: numSelected > 0,\r\n      })}\r\n    >\r\n      {numSelected > 0 ? (\r\n        <Typography className={classes.title} color=\"inherit\" variant=\"subtitle1\">\r\n          {numSelected} selected\r\n        </Typography>\r\n      ) : (\r\n        <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\">\r\n\t\t\t{title !== undefined && (title + ' (' + rowCount + ')')}\r\n        </Typography>\r\n      )}\r\n\r\n      {numSelected > 0 ? (\r\n        <Tooltip title=\"Delete\">\r\n          <IconButton aria-label=\"delete\">\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      )\r\n\t  : rightActionButton}\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n};","/*\r\n * Code by MATERIAL-UI\r\n * @see https://material-ui.com/components/tables/#sorting-amp-selecting\r\n *\r\n */\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport TableHead from '@material-ui/core/TableHead'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport TableCell from '@material-ui/core/TableCell'\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n\r\n\r\nexport default function EnhancedTableHead(props) {\r\n  const { headCells, onSelectAllClick, selectable, sortable, order, orderBy, numSelected, rowCount, onRequestSort } = props;\r\n  const createSortHandler = property => event => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n\t\t{selectable !== false &&\r\n\t\t\t<TableCell padding=\"checkbox\">\r\n\t\t\t  <Checkbox\r\n\t\t\t\tindeterminate={numSelected > 0 && numSelected < rowCount}\r\n\t\t\t\tchecked={rowCount > 0 && numSelected === rowCount}\r\n\t\t\t\tonChange={onSelectAllClick}\r\n\t\t\t\tinputProps={{ 'aria-label': 'select all' }}\r\n\t\t\t  />\r\n\t\t\t</TableCell>\r\n\t\t}\r\n\t\t\r\n        {headCells.map(headCell => (\r\n          <TableCell\r\n            key={headCell.id}\r\n            align={headCell.align || 'left'}\r\n            padding={headCell.disablePadding ? 'none' : 'default'}\r\n            sortDirection={sortable && (orderBy === headCell.id ? order : false)}\r\n\t\t\tstyle={{ width: headCell.width || 'auto' }}\r\n          >\r\n\t\t  {sortable ?\r\n            <TableSortLabel\r\n              active={orderBy === headCell.id}\r\n              direction={orderBy === headCell.id ? order : 'asc'}\r\n              onClick={createSortHandler(headCell.orderBy || headCell.id)}\r\n            >\r\n              <strong>{headCell.label}</strong>\r\n            </TableSortLabel>\r\n\t\t\t:\r\n\t\t\t <strong>{headCell.label}</strong>\r\n\t\t\t}\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n};","/*\r\n * Code by MATERIAL-UI\r\n * @see https://material-ui.com/components/tables/#sorting-amp-selecting\r\n *\r\n */\r\nimport React from 'react'\r\nimport clsx from 'clsx'\r\nimport { format } from 'date-fns'\r\n\r\nimport TableBody from '@material-ui/core/TableBody'\r\nimport TableCell from '@material-ui/core/TableCell'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles(theme => ({\r\n\tnoWrap: {\r\n\t\twhiteSpace: 'nowrap'\r\n\t}\r\n}));\r\n\r\n\r\n// https://stackoverflow.com/questions/9382167/serializing-object-that-contains-cyclic-object-value\r\nfunction nestedObjects(key, val, seen) {\r\n\t\r\n\tif (val !== null && typeof val === 'object') {\r\n\t\tif (seen.indexOf(val) >= 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tseen.push(val);\r\n\t}\r\n\t\r\n\treturn val;\r\n}\r\n\r\nfunction showTableContent(content, type = '') {\r\n\t\r\n\tif (content === undefined || content === null) {\r\n\t\treturn '';\r\n\t}\r\n\t\r\n\tlet seen = [];\r\n\tswitch(type.toLowerCase()) {\r\n\t\tcase 'date':\r\n\t\t\tcontent = format(content, 'yyyy-MM-dd HH:mm:ss');\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tdefault:\r\n\t\t\tcontent = Array.isArray(content) || typeof content === 'object' ? JSON.stringify(content, (key, val) => nestedObjects(key, val, seen)) : content;\r\n\t\t\tcontent = typeof content === 'boolean' ? content.toString() : content;\r\n\t\t\tbreak;\r\n\t}\r\n\t\r\n\treturn content;\r\n}\r\n\r\nexport default function EnhancedTable(props) {\r\n\tconst { columns, sortedRows, emptyRows, rowStyles, selectable, selected, onClick } = props;\r\n\tconst classes = useStyles();\r\n\tconst isSelected = id => selected.indexOf(id) !== -1;\r\n\r\n\treturn (\r\n\r\n<TableBody>\r\n\t{sortedRows.map((row, index) => {\r\n\t\tconst isItemSelected = isSelected(row.id);\r\n\t\tconst labelId = `enhanced-table-checkbox-${index}`;\r\n\t\t\r\n\t\tlet styles = {};\r\n\t\tfor (let columnId in rowStyles) {\r\n\t\t\tlet rowStyle = rowStyles[columnId];\r\n\t\t\t\r\n\t\t\tif (row[columnId] && Object.keys(rowStyle).indexOf(row[columnId]) > -1) {\r\n\t\t\t\tstyles = { ...styles, ...rowStyle[row[columnId]] };\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\r\n\t<TableRow\r\n\t\tkey={'TableRow-' + index}\r\n\t\thover\r\n\t\tonClick={onClick ? (event => onClick(event, row.id)) : undefined}\r\n\t\trole=\"checkbox\"\r\n\t\taria-checked={isItemSelected}\r\n\t\ttabIndex={-1}\r\n\t\tselected={isItemSelected}\r\n\t\t>\r\n\t\t\r\n\t\t{selectable !== false &&\r\n\t\t<TableCell\r\n\t\t\tkey={'TableCell-' + index + '-Checkbox'}\r\n\t\t\tstyle={styles}\r\n\t\t\tpadding=\"checkbox\"\r\n\t\t\t>\r\n\t\t\t\r\n\t\t\t<Checkbox\r\n\t\t\t\tchecked={isItemSelected}\r\n\t\t\t\tinputProps={{ 'aria-labelledby': labelId }}\r\n\t\t\t\t/>\r\n\t\t\t\r\n\t\t</TableCell>\r\n\t\t}\r\n\t\t\r\n\t\t{columns.map(column => (\r\n\t\t<TableCell\r\n\t\t\tkey={'TableCell-' + index + '-' + column.id}\r\n\t\t\tclasses={{ root: clsx(column.noWrap && classes.noWrap) }}\r\n\t\t\tstyle={styles}\r\n\t\t\tscope=\"row\"\r\n\t\t\tpadding={column.disablePadding ? 'none' : 'default'}\r\n\t\t\t>\r\n\r\n\t\t\t{showTableContent(row[column.id], column.type)}\r\n\t\t</TableCell>\r\n\r\n\t\t))}\r\n\r\n\t</TableRow>\r\n\t\t\r\n\t\t);\r\n\t})}\r\n\t\r\n\t{emptyRows > 0 && (\r\n\t<TableRow style={{ height: 53 * emptyRows }}>\r\n\t\t<TableCell colSpan={6} />\r\n\t</TableRow>\r\n\t)}\r\n\t\r\n</TableBody>\r\n\r\n\t);\r\n}","/*\r\n * Code by MATERIAL-UI\r\n * @see https://material-ui.com/components/tables/#sorting-amp-selecting\r\n *\r\n */\r\nimport React, { useEffect } from 'react'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Table from '@material-ui/core/Table'\r\nimport TableContainer from '@material-ui/core/TableContainer'\r\nimport TablePagination from '@material-ui/core/TablePagination'\r\n\r\nimport EnhancedTableToolbar from '../components/EnhancedTableToolbar'\r\nimport EnhancedTableHead from '../components/EnhancedTableHead'\r\nimport EnhancedTableBody from '../components/EnhancedTableBody'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  table: {\r\n    minWidth: 750,\r\n  }\r\n}));\r\n\r\n\r\nfunction descendingComparator(a, b, orderBy, orderByCase) {\r\n\t\r\n\tlet orderA, orderB;\r\n\tif (orderBy.indexOf('.') === -1) {\r\n\t\torderA = a[orderBy] || '';\r\n\t\torderB = b[orderBy] || '';\r\n\t}\r\n\telse {\r\n\t\tlet tmpA = { ...a };\r\n\t\tlet tmpB = { ...b };\r\n\t\tlet key = orderBy;\r\n\t\tlet index;\r\n\t\t\r\n\t\twhile (key.indexOf('.') > -1) {\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tindex = key.substr(0, key.indexOf('.'));\r\n\t\t\t\tkey = key.substr(key.indexOf('.')+1);\r\n\t\t\t\ttmpA = tmpA[index];\r\n\t\t\t\ttmpB = tmpB[index];\r\n\t\t\t}\r\n\t\t\tcatch(err) {\r\n\t\t\t\tconsole.error(err.message);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\torderA = tmpA[key] || '';\r\n\t\torderB = tmpB[key] || '';\r\n\t}\r\n\t\r\n\tif (orderByCase !== true) {\r\n\t\torderA = typeof orderA === 'object' ? JSON.stringify(orderA) : orderA.toLowerCase();\r\n\t\torderB = typeof orderB === 'object' ? JSON.stringify(orderB) : orderB.toLowerCase();\r\n\t}\r\n\t\r\n\t\r\n  if (orderB < orderA) {\r\n    return -1;\r\n  }\r\n  if (orderB > orderA) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy, orderByCase) {\r\n  return order === 'desc'\r\n    ? (a, b) => descendingComparator(a, b, orderBy, orderByCase)\r\n    : (a, b) => -descendingComparator(a, b, orderBy, orderByCase);\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map(el => el[0]);\r\n}\r\n\r\nexport default function EnhancedTable(props) {\r\n  const classes = useStyles();\r\n  \r\n  const { title, headCells, size, CustomTableBody, rows, toolbar, selectable, pagination, defaultOrder, defaultOrderBy, orderByCase, defaultSelected, defaultPage, defaultRowsPerPage, toolbarRightActionButton } = props;\r\n  \r\n  const [order, setOrder] = React.useState(defaultOrder || 'asc');\r\n  const [orderBy, setOrderBy] = React.useState(defaultOrderBy || headCells[0].orderBy || headCells[0].id);\r\n  const [selected, setSelected] = React.useState(defaultSelected || []);\r\n  const [page, setPage] = React.useState(defaultPage || 0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(pagination ? (defaultRowsPerPage || 5) : rows.length);\r\n\r\nuseEffect(() => setRowsPerPage(pagination ? (defaultRowsPerPage || 5) : rows.length), [rows.length, pagination, defaultRowsPerPage]);\r\n\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc';\r\n    setOrder(isAsc ? 'desc' : 'asc');\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleSelectAllClick = event => {\r\n    if (event.target.checked) {\r\n      const newSelecteds = rows.map(n => n.id);\r\n      setSelected(newSelecteds);\r\n      return;\r\n    }\r\n    setSelected([]);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = event => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const selectRow = (event, id) => {\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, id);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1),\r\n      );\r\n    }\r\n\r\n    setSelected(newSelected);\r\n  };\r\n\r\n  const TableBody = CustomTableBody || EnhancedTableBody;\r\n  return (\r\n\t<React.Fragment>\r\n\t\t{toolbar !== false &&\r\n        <EnhancedTableToolbar\r\n\t\t  title={title}\r\n          rowCount={rows.length}\r\n\t\t  numSelected={selected.length || 0}\r\n\t\t  rightActionButton={toolbarRightActionButton}\r\n\t\t  />}\r\n\t\t\r\n        <TableContainer>\r\n          <Table\r\n            className={classes.table}\r\n            aria-labelledby=\"tableTitle\"\r\n            aria-label=\"enhanced table\"\r\n\t\t\tsize={size}\r\n\t\t\tstickyHeader={true}\r\n          >\r\n            <EnhancedTableHead\r\n              classes={classes}\r\n              numSelected={selected.length}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onSelectAllClick={handleSelectAllClick}\r\n              onRequestSort={handleRequestSort}\r\n              rowCount={rows.length}\r\n\t\t\t  {...props}\r\n            />\r\n\t\t\t\r\n\t\t\t<TableBody\r\n\t\t\t\tcolumns={headCells}\r\n\t\t\t\tsortedRows={stableSort(rows, getComparator(order, orderBy, orderByCase)).slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)}\r\n\t\t\t\temptyRows={rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage)}\r\n\t\t\t\tonClick={selectable !== false && selectRow}\r\n\t\t\t\tselected={selected}\r\n\t\t\t\t{...props}\r\n\t\t\t\t/>\r\n\t\t\t\r\n          </Table>\r\n        </TableContainer>\r\n\t\t{pagination && <TablePagination\r\n          rowsPerPageOptions={[5, 10, 25]}\r\n          component=\"div\"\r\n          count={rows.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          onChangePage={handleChangePage}\r\n          onChangeRowsPerPage={handleChangeRowsPerPage}\r\n        />}\r\n\t</React.Fragment>\r\n\t\r\n  );\r\n}","import EventEmitter from 'events'\r\nimport functions from '../functions'\r\n\r\n\r\n/**\r\n * Function\r\n *\r\n * @param\t{String}\t\tfunctionType\r\n * @return\t{Function}\r\n *\r\n */\r\nexport default class Function extends EventEmitter {\r\n\t\r\n\tconstructor(functionType) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis.function = functionType;\r\n\t\t\r\n\t\tif (!this.function) {\t\r\n\t\t\tthrow new Error('No function given!');\r\n\t\t}\r\n\t\t\r\n\t\tthis.functionId = this.function.toLowerCase();\r\n\t\t\r\n\t\t// configuration\r\n\t\tthis.defaults = functions['defaults'].configurations;\r\n\t\tthis.configurations = (functions[this.functionId] && functions[this.functionId].configurations) || {};\r\n\t\t\r\n\t\t// components and actions\r\n\t\tthis.components = { ...functions['defaults'].components, ...(functions[this.functionId] && functions[this.functionId].components) || {} };\r\n\t\tthis.actions = { ...functions['defaults'].actions, ...(functions[this.functionId] && functions[this.functionId].actions) || {} };\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @return\t{Mixed}\r\n\t * @private\r\n\t */\r\n\t_applyFunction(key, val) {\r\n\t\treturn this._isFunction(key) ? key(val) : val;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @return\t{String}\r\n\t * @private\r\n\t */\r\n\t_getValueFromSettings(settings, defaults = '') {\r\n\t\t\r\n\t\tfor (let key in settings) {\r\n\t\t\tif (settings[key] !== undefined) {\r\n\t\t\t\treturn settings[key];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn defaults;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @return\t{Boolean}\r\n\t * @private\r\n\t */\r\n\t_isFunction(key) {\r\n\t\treturn key && typeof key === 'function';\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @return\t{Boolean}\r\n\t * @private\r\n\t */\r\n\t_isValue(val) {\r\n\t\treturn val !== undefined; // || val === null || val === false; // null is considered a value, so it can be used to actually null the output\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @return\t{Object}\r\n\t * @private\r\n\t */\r\n\t_setObjectStructure(obj, defaultValue = undefined) {\r\n\t\t\r\n\t\tif (!obj || typeof obj != 'object') {\r\n\t\t\tobj = { 'default': obj || defaultValue };\r\n\t\t}\r\n\t\telse if (typeof obj == 'object' && !obj.default) {\r\n\t\t\tobj.default = defaultValue;\r\n\t\t}\r\n\t\t\r\n\t\treturn obj;\r\n\t}\r\n}\r\n","export default {\r\n\t\"hm-rpc\": \"HomeMatic\",\r\n\t\"shelly\": \"Shelly\",\r\n\t\"sonoff\": \"Sonoff\"\r\n}","import React from 'react'\r\n\r\nimport Log from './Log'\r\nimport i18n, { locales } from './i18n'\r\nimport Function from './Function'\r\nimport Adapters from '../config/adapters'\r\n\r\nimport { formatDistanceToNow } from 'date-fns'\r\n\r\n\r\n/**\r\n * Device\r\n *\r\n * @param\t{Object}\tdeviceProperties\r\n * @param\t{String}\tdeviceProperties.id\r\n * @param\t{String}\tdeviceProperties.name\r\n * @param\t{String}\t[deviceProperties.room=null]\r\n * @param\t{String}\tdeviceProperties.function\r\n * @param\t{Object}\tdeviceProperties.states\r\n * @param\t{Object}\t[deviceProperties.attributes={}]\r\n * @param\t{Object}\tdeviceProperties.options\r\n * @param\t{Object}\tsocket\r\n * @return\t{Device}\r\n * @see https://github.com/Zefau/ioBroker.jarvis/issues/21\r\n *\r\n */\r\nexport default class Device extends Function {\r\n\t\r\n\tconstructor(deviceProperties, socket) {\r\n\t\ttry {\r\n\t\t\tsuper(deviceProperties.function);\r\n\t\t}\r\n\t\tcatch(err) {\r\n\t\t\tthrow new Error('No function given for device ' + deviceProperties.name + '!');\r\n\t\t}\r\n\t\t\r\n\t\t// initialise class data\r\n\t\tthis.id = deviceProperties.id;\r\n\t\tthis.name = deviceProperties.name;\r\n\t\t\r\n\t\tthis.room = deviceProperties.room || null;\r\n\t\t\r\n\t\tthis.states = deviceProperties.states;\r\n\t\tthis.options = deviceProperties.options;\r\n\t\tthis.attributes = deviceProperties.attributes || {};\r\n\t\t\r\n\t\tthis.socket = socket;\r\n\t\t\r\n\t\t// verify data\r\n\t\tif (!this.states || typeof this.states !== 'object' || Object.keys(this.states).length === 0) {\r\n\t\t\tthrow new Error('Insufficent properties provided' + (deviceProperties.id || deviceProperties.name ? ' for device ' + (deviceProperties.name || deviceProperties.id) : '') + ' (no states defined)!');\r\n\t\t}\r\n\t\telse if (!this.id || !this.name || !this.function) {\r\n\t\t\tthrow new Error('Insufficent properties provided' + (deviceProperties.id || deviceProperties.name ? ' for device ' + (deviceProperties.name || deviceProperties.id) : '') + ' (no id, name or function defined)!');\r\n\t\t}\r\n\t\telse if (!this.socket) {\t\r\n\t\t\tthrow new Error('No socket given!');\r\n\t\t}\r\n\t\t\r\n\t\t// hierarchy\r\n\t\tthis.children = deviceProperties.children || [];\r\n\t\tthis.parent = deviceProperties.parent || null;\r\n\t\t\r\n\t\t// set options\r\n\t\tthis.options.manufacturer = (this.primaryStateKey && Adapters[this.states[this.primaryStateKey].state.node.substr(0, this.states[this.primaryStateKey].state.node.indexOf('.'))]) || '';\r\n\t\tthis.options.label = (this.options.label && (typeof this.options.label === 'string' && this.options.label.replace(/%name%/g, this.name))) || this.options.label || this.name;\r\n\t\t\r\n\t\t// get states\r\n\t\tthis._setStatesOptions();\r\n\t\tthis.stateSubscriptions = [];\r\n\t\t\r\n\t\t// listen for errors of the device\r\n\t\tthis.on('error', err => Log._('Device', [ i18n.t('Device error occured!'), err.message ], 'error', false, err.stack));\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @return\t{Object|String}\r\n\t * @private\r\n\t */\r\n\t_getStateFromKey(stateKey = null, stateType = 'state') {\r\n\t\t\r\n\t\t// already a state object\r\n\t\tif (stateKey && typeof stateKey === 'object') {\r\n\t\t\treturn stateKey;\r\n\t\t}\r\n\t\t\r\n\t\t// get state object\r\n\t\tlet s = this.states[stateKey || this.primaryStateKey];\r\n\t\t\r\n\t\t// state does not exist\r\n\t\tif (s === undefined) {\r\n\t\t\treturn i18n.t('State does not exist in device %device%').replace(/%device%/g, this.name) + '!';\r\n\t\t}\r\n\t\t\r\n\t\t// state not an object so far\r\n\t\telse if (typeof s === 'string') {\r\n\t\t\tthis.states[stateKey || this.primaryStateKey] = { [stateType]: { 'node': s }};\r\n\t\t\ts = this.states[stateKey || this.primaryStateKey];\r\n\t\t}\r\n\t\telse if (typeof s[stateType] === 'string') {\r\n\t\t\tthis.states[stateKey || this.primaryStateKey][stateType] = { 'node': s[stateType] };\r\n\t\t\ts = this.states[stateKey || this.primaryStateKey];\r\n\t\t}\r\n\t\t\r\n\t\t// state not valid\r\n\t\tif (!s || !s[stateType]) {\r\n\t\t\treturn i18n.t('Incorrect or non-defined state key for device %device%').replace(/%device%/g, this.name).replace(/%stateType%/g, stateType) + '!';\r\n\t\t}\r\n\t\telse if (typeof s[stateType] == 'object' && !s[stateType].node) {\r\n\t\t\treturn i18n.t('No %stateType% specified for device %device%').replace(/%device%/g, this.name).replace(/%stateType%/g, stateType) + '!';\r\n\t\t}\r\n\t\t\r\n\t\treturn s;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @private\r\n\t */\r\n\t_getConfigurationSetting(config, stateKey, attribute, stateVal) {\r\n\t\t//console.log(this.id, config, stateKey, attribute, stateVal, this[config], this[config][stateKey], this[config]['_any']);\r\n\t\t\r\n\t\tif (this[config][stateKey] && this[config][stateKey][attribute]) {\r\n\t\t\t\r\n\t\t\t// 1. if stateKey (e.g. level, power) is available, try to replace an attribute (e.g. icon, unit or for styles state, icon) based on current state (e.g. true, false)\r\n\t\t\tif (typeof this[config][stateKey][attribute] === 'object') {\r\n\t\t\t\t\r\n\t\t\t\tconst stateValKeys = Object.keys(this[config][stateKey][attribute]);\r\n\t\t\t\tif (stateValKeys.toString().indexOf('<') > -1 || stateValKeys.toString().indexOf('>') > -1 || stateValKeys.toString().indexOf('!=') > -1) { // !=, >, >=, <, <=\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet val = this[config][stateKey][attribute]['default'];\r\n\t\t\t\t\tstateValKeys.forEach(stateValKey => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet stateValValue = stateValKey.replace('<=', '').replace('<', '').replace('>=', '').replace('>', '').replace('!=', '');\r\n\t\t\t\t\t\tif (stateValKey.indexOf('<=') > -1 && stateVal <= stateValValue) {\r\n\t\t\t\t\t\t\tval = this[config][stateKey][attribute][stateValKey];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (stateValKey.indexOf('<') > -1 && stateVal < stateValValue) {\r\n\t\t\t\t\t\t\tval = this[config][stateKey][attribute][stateValKey];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (stateValKey.indexOf('>=') > -1 && stateVal >= stateValValue) {\r\n\t\t\t\t\t\t\tval = this[config][stateKey][attribute][stateValKey];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (stateValKey.indexOf('>') > -1 && stateVal > stateValValue) {\r\n\t\t\t\t\t\t\tval = this[config][stateKey][attribute][stateValKey];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (stateValKeys.toString().indexOf('!=') > -1 && stateVal != stateValValue) {  // eslint-disable-line eqeqeq\r\n\t\t\t\t\t\t\tval = this[config][stateKey][attribute][stateValKey];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn val;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn super._isValue(this[config][stateKey][attribute][stateVal]) ? this[config][stateKey][attribute][stateVal] : this[config][stateKey][attribute]['default'];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// 2. if #1 is a function, apply it\r\n\t\t\telse if (super._isFunction(this[config][stateKey][attribute])) {\r\n\t\t\t\treturn this[config][stateKey][attribute](stateVal, stateKey, this);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// 3. fallback to stateKey with attribute, if defined but neither an object (thus stateless) nor a function\r\n\t\t\telse if (typeof this[config][stateKey][attribute] === 'string') {\r\n\t\t\t\treturn this[config][stateKey][attribute];\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (this[config]['_any'] && this[config]['_any'][attribute]) {\r\n\t\t\t\r\n\t\t\t// 4. fallback to _any if no stateKey (e.g. level, power) is given, but consider attribute to be stateful (e.g. true, false)\r\n\t\t\tif (typeof this[config]['_any'][attribute] === 'object') {\r\n\t\t\t\treturn super._isValue(this[config]['_any'][attribute][stateVal]) ? this[config]['_any'][attribute][stateVal] : this[config]['_any'][attribute]['default'];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// 5. if #4 is a function, apply it\r\n\t\t\telse if (super._isFunction(this[config]['_any'][attribute])) {\r\n\t\t\t\treturn this[config]['_any'][attribute](stateVal, stateKey, this);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// nothing, return undefined (not null, because this would mean take an empty value)\r\n\t\treturn undefined;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @private\r\n\t */\r\n\t_getUserSetting(stateKey, attribute, stateVal) {\r\n\t\t\r\n\t\tlet options = this.states;\r\n\t\tif (options[stateKey] && options[stateKey][attribute]) {\r\n\t\t\tif (typeof options[stateKey][attribute] === 'object') {\r\n\t\t\t\treturn super._isValue(options[stateKey][attribute][stateVal]) ? options[stateKey][attribute][stateVal] : options[stateKey][attribute]['default'];\r\n\t\t\t}\r\n\t\t\telse if (super._isFunction(options[stateKey][attribute])) {\r\n\t\t\t\treturn options[stateKey][attribute](stateVal, stateKey, this);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn options[stateKey][attribute];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn undefined;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t *\r\n\t * @return void\r\n\t * @private\r\n\t *\r\n\t */\r\n\t_setStatesOptions() {\r\n\t\t\r\n\t\tlet states = Object.keys(this.states);\r\n\t\t\r\n\t\t// delete ignored states\r\n\t\tif (this.options.ignoredStates) {\r\n\t\t\tthis.options.ignoredStates = Array.isArray(this.options.ignoredStates) ? this.options.ignoredStates : [this.options.ignoredStates];\r\n\t\t\t\r\n\t\t\tthis.options.ignoredStates.forEach(ignoredState => {\r\n\t\t\t\tif (this.states[ignoredState]) {\r\n\t\t\t\t\tdelete this.states[ignoredState];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t// get hidden states\r\n\t\tthis.options.hiddenStates = this.options.hiddenStates ? (Array.isArray(this.options.hiddenStates) ? this.options.hiddenStates : [this.options.hiddenStates]) : [];\r\n\t\t\r\n\t\t// primary and secondary state\r\n\t\tthis.primaryStateKey = this.options.primary || states[0] || null;\r\n\t\tthis.secondaryStateKey = this.options.secondary || null;\r\n\t\tthis.states[this.primaryStateKey] = this._getStateFromKey(this.primaryStateKey);\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t *\r\n\t * @return\t{Object}\r\n\t * @private\r\n\t */\r\n\t_updateDeviceState(stateKey, state) {\r\n\t\t\r\n\t\t// add time changed\r\n\t\tstate.timeChanged = formatDistanceToNow(new Date(state.lc-5*1000), { locale: locales[i18n.getLanguage()], includeSeconds: true, addSuffix: true })\r\n\t\t\r\n\t\t// add unit\r\n\t\tstate.unit = '';\r\n\t\t\r\n\t\t// change val\r\n\t\tlet val = this._getConfigurationSetting('configurations', stateKey, 'val', state.val);\r\n\t\tstate.val = val !== undefined ? val : state.val;\r\n\t\t\r\n\t\t// assign value\r\n\t\tstate.value = state.val;\r\n\t\t\r\n\t\t// mapping of value to state values\r\n\t\t[{ 'value': 'value' }, { 'display': 'value' }, { 'unit': 'unit' }].forEach(pair => {\r\n\t\t\tlet attribute = Object.keys(pair).toString();\r\n\t\t\tlet option = Object.values(pair).toString();\r\n\t\t\tlet settings = {};\r\n\t\t\t\r\n\t\t\t// get user setting\r\n\t\t\tsettings['options'] = this._getUserSetting(stateKey, attribute, state.val);\r\n\t\t\t\r\n\t\t\t// get function setting or fallback to defaults\r\n\t\t\t['configurations', 'defaults'].forEach(config => {\r\n\t\t\t\tsettings[config] = this._getConfigurationSetting(config, stateKey, attribute, state.val);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tstate[option] = super._getValueFromSettings(settings, state[option]);\r\n\t\t});\r\n\t\t\r\n\t\tstate.value = typeof value === 'string' ? i18n.t(state.value) : state.value;\r\n\t\treturn state;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tget(property) {\r\n\t\treturn this[property] || null;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @param\t{String}\t[stateKey=this.primaryStateKey]\r\n\t * @return\t{React.Component}\r\n\t */\r\n\tgetAction(stateKey = null, forceDefault = false) {\r\n\t\tstateKey = stateKey || this.primaryStateKey;\r\n\t\t\r\n\t\tconst state = (this.states[stateKey].state && this.states[stateKey].state.value) || {};\r\n\t\tconst stateVal = state && state.val !== undefined ? state.val : null;\r\n\t\t\r\n\t\tconst Action = (!forceDefault && this.actions[stateKey]) || this.actions.Action;\r\n\t\treturn <Action key={'action-' + this.id + '-' + stateKey} device={this} state={state} stateKey={stateKey} stateVal={stateVal} styles={this.getStyle('state', stateKey, stateVal)} />\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @param\t{String}\t[stateKey=this.primaryStateKey]\r\n\t * @return\t{React.Component}\r\n\t */\r\n\tgetComponent(stateKey) {\r\n\t\tstateKey = stateKey || this.primaryStateKey;\r\n\t\t\r\n\t\tconst state = (this.states[stateKey].state && this.states[stateKey].state.value) || {};\r\n\t\tconst stateVal = state && state.val !== undefined ? state.val : null;\r\n\t\t\r\n\t\tconst Component = this.components[stateKey];\r\n\t\treturn (Component && <Component title={this.states[stateKey].label || i18n.t(this.function + '#' + stateKey)} device={this} stateKey={stateKey} stateVal={stateVal} />) || this.states[stateKey].label || i18n.t(this.function + '#' + stateKey);\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tgetDeviceStates() {\r\n\t\t\r\n\t\tlet devicesStates = {};\r\n\t\tfor (let stateKey in this.states) {\r\n\t\t\tdevicesStates[stateKey] = this.getDeviceState(stateKey);\r\n\t\t}\r\n\t\t\r\n\t\treturn devicesStates;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @param\t{String}\t[stateKey=this.primaryStateKey]\r\n\t * @param\t{String}\t[stateProperty=null]\r\n\t * @return\t{String}\r\n\t */\r\n\tgetDeviceState(stateKey = null, stateProperty = null) {\r\n\t\tconst s = this.states[stateKey || this.primaryStateKey];\r\n\t\t\r\n\t\tlet deviceState = null;\r\n\t\t\r\n\t\tif (s && s.state && stateProperty !== null && s.state.value !== undefined && s.state.value[stateProperty] !== undefined) {\r\n\t\t\tdeviceState = s.state.value[stateProperty];\r\n\t\t}\r\n\t\telse if (s && s.state && stateProperty === null && s.state.value !== undefined) {\r\n\t\t\tdeviceState = s.state.value;\r\n\t\t}\r\n\t\t\r\n\t\treturn deviceState;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Get an icon based on the current device state (or falls back to a default).\r\n\t *\r\n\t * @param\t{String}\t[stateKey=this.primaryStateKey]\r\n\t * @param\t{String}\t[stateVal=default]\r\n\t * @param\t{String}\t[defaultIcon=null]\r\n\t * @return\t{String}\r\n\t */\r\n\tgetIcon(stateKey, stateVal = '', defaultIcon = undefined) {\r\n\t\t\r\n\t\tlet settings = {};\r\n\t\tstateKey = stateKey || this.primaryStateKey;\r\n\t\t\r\n\t\t// get user setting\r\n\t\tsettings['options'] = this._getUserSetting(stateKey, 'icon', stateVal);\r\n\t\t\r\n\t\t// get function setting or fallback to defaults\r\n\t\t['configurations', 'defaults'].forEach(config => {\r\n\t\t\tsettings[config] = this._getConfigurationSetting(config, stateKey, 'icon', stateVal);\r\n\t\t});\r\n\t\t\r\n\t\treturn super._getValueFromSettings(settings, defaultIcon);\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tgetOption(option, stateVal = 'default') {\r\n\t\treturn (this.options[option] && (this.options[option][stateVal] || this.options[option]['default'])) || this.options[option] || null;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tgetStyle(attribute, stateKey = null, stateVal = 'default') {\r\n\t\t\r\n\t\tlet settings = {};\r\n\t\tstateKey = stateKey || this.primaryStateKey;\r\n\t\t\r\n\t\t// get user setting\r\n\t\tsettings['options'] = this._getUserSetting(stateKey, attribute + 'Style', stateVal);\r\n\t\t\r\n\t\t// get function setting or fallback to defaults\r\n\t\t['configurations', 'defaults'].forEach(config => {\r\n\t\t\tsettings[config] = this._getConfigurationSetting(config, stateKey, attribute + 'Style', stateVal);\r\n\t\t});\r\n\t\t\r\n\t\treturn super._getValueFromSettings(settings, {});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tlisten(eventName, callback) {\r\n\t\t\r\n\t\tif (typeof eventName === 'function') {\r\n\t\t\tcallback = eventName;\r\n\t\t\teventName = 'stateChange';\r\n\t\t}\r\n\t\t\r\n\t\t// check for duplicates\r\n\t\tlet duplicate = this.listeners(eventName).findIndex(listener => listener.toString() == callback.toString()) > -1; // eslint-disable-line eqeqeq\r\n\t\t\r\n\t\t// attach callback\r\n\t\tif (!duplicate) {\r\n\t\t\tthis.on(eventName, callback);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Requests all state values from the backend.\r\n\t *\r\n\t * @param\t{Boolean}\t[subscribe=false]\r\n\t * @return\t{Array<Promises>}\r\n\t *\r\n\t */\r\n\trequestDeviceStates(subscribe = false) {\r\n\t\t\r\n\t\tlet responses = [];\r\n\t\tfor (let stateKey in this.states) {\r\n\t\t\tresponses.push(this.requestDeviceState(stateKey, subscribe));\r\n\t\t}\r\n\t\t\r\n\t\treturn responses;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Requests a state value from the backend.\r\n\t *\r\n\t * @param\t{String}\t[stateKey=this.primaryStateKey]\r\n\t * @param\t{Boolean}\t[subscribe=false]\r\n\t * @return\t{Promise}\r\n\t *\r\n\t */\r\n\trequestDeviceState(stateKey = null, subscribe = false) {\r\n\t\t\r\n\t\tstateKey = stateKey || this.primaryStateKey;\r\n\t\tlet s = this._getStateFromKey(stateKey);\r\n\t\tif (typeof s === 'string') {\r\n\t\t\treturn Promise.reject({ 'success': false, 'stateKey': stateKey, 'error': new Error(s) });\r\n\t\t}\r\n\t\t\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\r\n\t\t\t// send cached value if present and subscrbe (means always updated)\r\n\t\t\tif (s.state.value !== undefined && this.stateSubscriptions.indexOf(stateKey) > -1) {\r\n\t\t\t\t\r\n\t\t\t\t// publish state\r\n\t\t\t\tthis.emit('stateChange', stateKey, s.state.value, this);\r\n\t\t\t\t\r\n\t\t\t\t// resolve\r\n\t\t\t\tresolve({ 'success': true, 'stateKey': stateKey, 'cached': true });\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// request from backend\r\n\t\t\telse {\r\n\t\t\t\tthis.socket.getState(s.state.node)\r\n\t\t\t\t\t.then(state => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// state does not exist\r\n\t\t\t\t\t\tif (state === null) {\r\n\t\t\t\t\t\t\treject({ 'success': false, 'stateKey': stateKey, 'error': new Error('State ' + s.state.node + ' not found!') });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// set result\r\n\t\t\t\t\t\ts.state.value = this._updateDeviceState(stateKey, state);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// publish state change\r\n\t\t\t\t\t\tthis.emit('stateChange', stateKey, s.state.value, this);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// subscribe to state\r\n\t\t\t\t\t\tif (subscribe) {\r\n\t\t\t\t\t\t\tthis.subscribeDeviceState(stateKey).catch(err => reject({ 'success': false, 'stateKey': stateKey, 'error': err }));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// resolve\r\n\t\t\t\t\t\tresolve({ 'success': true, 'stateKey': stateKey, 'cached': false });\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => reject({ 'success': false, 'stateKey': stateKey, 'error': err }));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t * Requests a state value from the backend.\r\n\t *\r\n\t * @param\t{String}\t[stateKey=this.primaryStateKey]\r\n\t * @param\t{Boolean}\t[subscribe=false]\r\n\t * @param\t{Object}\t[options={}]\r\n\t * @return\t{Promise}\r\n\t * @see https://github.com/ioBroker/ioBroker.history#access-values-from-javascript-adapter\r\n\t *\r\n\t */\r\n\trequestDeviceStateHistory(stateKey = null, subscribe = false, options = {}) {\r\n\t\t\r\n\t\tstateKey = stateKey || this.primaryStateKey;\r\n\t\tlet s = this._getStateFromKey(stateKey);\r\n\t\tif (typeof s == 'string') {\r\n\t\t\treturn Promise.reject({ 'success': false, 'stateKey': stateKey, 'error': new Error(s) });\r\n\t\t}\r\n\t\t\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\ts.state.historyCache = s.state.historyCache || {};\r\n\t\t\t\r\n\t\t\t// send cached value if present and subscrbe (means always updated)\r\n\t\t\tif (options.start && options.end && options.step && s.state.historyCache[options.start + '#' + options.end + '#' + options.step] !== undefined) {\r\n\t\t\t\t\r\n\t\t\t\t// publish state\r\n\t\t\t\tthis.emit('historyChange', stateKey, s.state.historyCache[options.start + '#' + options.end + '#' + options.step], this);\r\n\t\t\t\t\r\n\t\t\t\t// resolve\r\n\t\t\t\tresolve({ 'success': true, 'stateKey': stateKey, 'cached': true });\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// request from backend\r\n\t\t\telse {\r\n\t\t\t\tthis.socket.getStateHistory(s.state.node, options)\r\n\t\t\t\t\t.then(history => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// state does not exist\r\n\t\t\t\t\t\tif (history === null) {\r\n\t\t\t\t\t\t\treject({ 'success': false, 'stateKey': stateKey, 'error': new Error('State ' + s.state.node + ' not found!') });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// cache result\r\n\t\t\t\t\t\tif (options.start && options.end && options.step) {\r\n\t\t\t\t\t\t\ts.state.historyCache[options.start + '#' + options.end + '#' + options.step] = history;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// set result\r\n\t\t\t\t\t\ts.state.history = history;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// publish state change\r\n\t\t\t\t\t\tthis.emit('historyChange', stateKey, s.state.history, this);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// subscribe to state\r\n\t\t\t\t\t\tif (subscribe) {\r\n\t\t\t\t\t\t\tthis.subscribeDeviceState(stateKey).catch(err => reject({ 'success': false, 'stateKey': stateKey, 'error': err }));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// resolve\r\n\t\t\t\t\t\tresolve({ 'success': true, 'stateKey': stateKey, 'cached': false });\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => reject({ 'success': false, 'stateKey': stateKey, 'error': err }));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tsetAction(action) {\r\n\t\tthis.options.action = action;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tsetComponent(component) {\r\n\t\tthis.options.label = component;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @param\t{String}\tvalue\r\n\t * @param\t{String}\t[stateKey=this.primaryStateKey]\r\n\t * @return\tvoid\r\n\t */\r\n\tsetDeviceState(stateKey = null, value) {\r\n\t\t\r\n\t\tstateKey = stateKey || this.primaryStateKey;\r\n\t\tlet s = this._getStateFromKey(stateKey, 'action');\r\n\t\tif (typeof s == 'string') {\r\n\t\t\treturn Promise.reject({ 'success': false, 'stateKey': stateKey, 'error': new Error(s) });\r\n\t\t}\r\n\t\t\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.socket.setState(s.action.node, value)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\r\n\t\t\t\t\t// get state value if not subscribed\r\n\t\t\t\t\tif (this.stateSubscriptions.indexOf(stateKey) === -1) {\r\n\t\t\t\t\t\tthis.requestDeviceState(stateKey);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// resolve\r\n\t\t\t\t\tresolve({ 'success': true, 'stateKey': stateKey });\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => reject({ 'success': false, 'stateKey': stateKey, 'error': err }));\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t * @param\t{String}\t[stateKey=this.primaryStateKey]\r\n\t * @return\tvoid\r\n\t */\r\n\tsubscribeDeviceState(stateKey = null) {\r\n\t\t\r\n\t\tstateKey = stateKey || this.primaryStateKey;\r\n\t\tlet s = this._getStateFromKey(stateKey);\r\n\t\tif (typeof s == 'string') {\r\n\t\t\treturn Promise.reject({ 'success': false, 'stateKey': stateKey, 'error': new Error(s) });\r\n\t\t}\r\n\t\t\r\n\t\t// add subscription\t\r\n\t\tif (this.stateSubscriptions.indexOf(stateKey) === -1) {\r\n\t\t\tthis.stateSubscriptions.push(stateKey);\r\n\t\t\r\n\t\t\t// subscribe\r\n\t\t\treturn new Promise(resolve => {\r\n\t\t\t\tthis.socket.subscribeState(s.state.node, (id, state, params) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (state && state.val !== this.getDeviceState(stateKey, 'val')) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// format value\r\n\t\t\t\t\t\ts.state.value = this._updateDeviceState(stateKey, state);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// publish state change\r\n\t\t\t\t\t\tthis.emit('stateChange', stateKey, s.state.value, this);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// publish to children as well\r\n\t\t\t\t\t\tthis.children.forEach(child => child.emit('stateChange', stateKey, s.state.value, this));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tresolve({ 'success': true, 'stateKey': stateKey });\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn Promise.reject({ 'success': false, 'stateKey': stateKey, 'error': new Error('State already subscribed!') });\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tunsubscribeDeviceState(stateKey = null) {\r\n\t\t\r\n\t\tstateKey = stateKey || this.primaryStateKey;\r\n\t\tlet s = this._getStateFromKey(stateKey);\r\n\t\tif (typeof s == 'string') {\r\n\t\t\treturn Promise.reject({ 'success': false, 'stateKey': stateKey, 'error': new Error(s) });\r\n\t\t}\r\n\t\t\r\n\t\t// remove subscription\t\r\n\t\tif (this.stateSubscriptions.indexOf(stateKey) > -1) {\r\n\t\t\tthis.stateSubscriptions = this.stateSubscriptions.filter((value, index, arr) => value !== stateKey);\r\n\t\t\r\n\t\t\t// unsubscribe\r\n\t\t\treturn new Promise(resolve => {\r\n\t\t\t\tthis.socket.unsubscribeState(s.state.node);\r\n\t\t\t\tresolve({ 'success': true, 'stateKey': stateKey });\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn Promise.reject({ 'success': false, 'stateKey': stateKey, 'error': new Error('State not subscribed!') });\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tunlisten(eventName, callback) {\r\n\t\t\r\n\t\tif (typeof eventName === 'function') {\r\n\t\t\tcallback = eventName;\r\n\t\t\teventName = 'stateChange';\r\n\t\t}\r\n\t\t\r\n\t\tthis.off(eventName, callback);\r\n\t}\r\n}\r\n","var map = {\n\t\"./\": 50,\n\t\"./blind\": 156,\n\t\"./blind/\": 156,\n\t\"./blind/blind\": 157,\n\t\"./blind/blind-manufacturers\": 199,\n\t\"./blind/blind-manufacturers.js\": 199,\n\t\"./blind/blind.js\": 157,\n\t\"./blind/i18n/de\": 158,\n\t\"./blind/i18n/de.js\": 158,\n\t\"./blind/i18n/en\": 159,\n\t\"./blind/i18n/en.js\": 159,\n\t\"./blind/index\": 156,\n\t\"./blind/index.js\": 156,\n\t\"./defaults\": 45,\n\t\"./defaults.js\": 45,\n\t\"./door\": 160,\n\t\"./door/\": 160,\n\t\"./door/door\": 161,\n\t\"./door/door.js\": 161,\n\t\"./door/i18n/de\": 162,\n\t\"./door/i18n/de.js\": 162,\n\t\"./door/i18n/en\": 163,\n\t\"./door/i18n/en.js\": 163,\n\t\"./door/index\": 160,\n\t\"./door/index.js\": 160,\n\t\"./heating\": 164,\n\t\"./heating/\": 164,\n\t\"./heating/heating\": 165,\n\t\"./heating/heating.js\": 165,\n\t\"./heating/i18n/de\": 166,\n\t\"./heating/i18n/de.js\": 166,\n\t\"./heating/i18n/en\": 167,\n\t\"./heating/i18n/en.js\": 167,\n\t\"./heating/index\": 164,\n\t\"./heating/index.js\": 164,\n\t\"./index\": 50,\n\t\"./index.js\": 50,\n\t\"./light\": 168,\n\t\"./light/\": 168,\n\t\"./light/i18n/de\": 181,\n\t\"./light/i18n/de.js\": 181,\n\t\"./light/i18n/en\": 182,\n\t\"./light/i18n/en.js\": 182,\n\t\"./light/index\": 168,\n\t\"./light/index.js\": 168,\n\t\"./light/light\": 198,\n\t\"./light/light.js\": 198,\n\t\"./location\": 183,\n\t\"./location/\": 183,\n\t\"./location/i18n/de\": 185,\n\t\"./location/i18n/de.js\": 185,\n\t\"./location/i18n/en\": 186,\n\t\"./location/i18n/en.js\": 186,\n\t\"./location/index\": 183,\n\t\"./location/index.js\": 183,\n\t\"./location/location\": 184,\n\t\"./location/location.js\": 184,\n\t\"./user\": 187,\n\t\"./user/\": 187,\n\t\"./user/i18n/de\": 189,\n\t\"./user/i18n/de.js\": 189,\n\t\"./user/i18n/en\": 190,\n\t\"./user/i18n/en.js\": 190,\n\t\"./user/index\": 187,\n\t\"./user/index.js\": 187,\n\t\"./user/user\": 188,\n\t\"./user/user.js\": 188,\n\t\"./window\": 191,\n\t\"./window/\": 191,\n\t\"./window/i18n/de\": 193,\n\t\"./window/i18n/de.js\": 193,\n\t\"./window/i18n/en\": 194,\n\t\"./window/i18n/en.js\": 194,\n\t\"./window/index\": 191,\n\t\"./window/index.js\": 191,\n\t\"./window/window\": 192,\n\t\"./window/window.js\": 192\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 253;","\r\nexport default [\r\n\t{\r\n\t\t'parameter': 'updates',\r\n\t\t'label': 'Adapter Updates',\r\n\t\t'description': {\r\n\t\t\t'en': 'Enable to show adapters updates',\r\n\t\t\t'de': 'Aktivieren, um Adapter Updates anzuzeigen'\r\n\t\t},\r\n\t\t'type': 'Switch',\r\n\t\t'val': true\r\n\t},\r\n\t{\r\n\t\t'parameter': 'list',\r\n\t\t'label': {\r\n\t\t\t'en': 'List of Adapter\\'s',\r\n\t\t\t'de': 'Liste angezeigter Adapter'\r\n\t\t},\r\n\t\t'description': {\r\n\t\t\t'en': 'List of adapters to show (empty shows all adapters)',\r\n\t\t\t'de': 'Liste der Adapter, die angezeigt werden (leere Liste zeigt alle Adapter)'\r\n\t\t},\r\n\t\t'values': {\r\n\t\t\t'en': 'Adapter names separated by comma',\r\n\t\t\t'de': 'Namen der Adapter mit Komma separiert'\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\t'parameter': 'blacklist',\r\n\t\t'label': {\r\n\t\t\t'en': 'List of Adapter\\'s to hide',\r\n\t\t\t'de': 'Liste nicht angezeigter Adapter'\r\n\t\t},\r\n\t\t'description': {\r\n\t\t\t'en': 'Shows all adapters except the ones listed here',\r\n\t\t\t'de': 'Zeigt alle Adapter, außer die hier angegebenen'\r\n\t\t},\r\n\t\t'values': {\r\n\t\t\t'en': 'Adapter names separated by comma',\r\n\t\t\t'de': 'Namen der Adapter mit Komma separiert'\r\n\t\t}\r\n\t}\r\n]\r\n","import i18n from '../../controller/i18n'\r\n\r\nexport default {\r\n\ttitle: i18n.t('Adapter Status'),\r\n\ticon: 'traffic-light',\r\n\tdevices: false\r\n}","\r\nexport default [\r\n]\r\n","import i18n from '../../controller/i18n'\r\n\r\nexport default {\r\n\ttitle: i18n.t('Adapter Status'),\r\n\ticon: 'traffic-light',\r\n\tdevices: true,\r\n\tdevicesStates: {\r\n\t\tselectable: ['primaryStateKey']\r\n\t}\r\n}","import i18n from '../../controller/i18n'\r\n\r\nexport default {\r\n\ttitle: i18n.t('Time'),\r\n\ticon: 'clock-outline',\r\n\tdevices: false\r\n}","//import i18n from '../../controller/i18n'\r\n\r\nexport default {\r\n\tdevices: true,\r\n\tdevicesStates: {\r\n\t\tselectable: false,\r\n\t\trequiredStates: ['position']\r\n\t}\r\n}","\r\nexport default [\r\n]\r\n","import Log from './Log'\r\nimport i18n from './i18n'\r\n\r\nconst _copy = require('rfdc')();\r\n\r\n\r\n/**\r\n * Settings\r\n *\r\n *\r\n */\r\nexport default class Settings {\r\n\r\n\t/*\r\n\t * holds the layout\r\n\t */\r\n\tstatic layout = [];\r\n\t\r\n\t/*\r\n\t * holds the settings\r\n\t */\r\n\tstatic settings = {};\r\n\t\r\n\t/**\r\n\t * Apply settings.\r\n\t *\r\n\t * @param\tvoid\r\n\t * @return\tvoid\r\n\t */\r\n\tstatic applySettings() {\r\n\t\t\r\n\t\t// language\r\n\t\tif (Settings.settings.language) {\r\n\t\t\ti18n.setLanguage(Settings.settings.language);\r\n\t\t\ti18n.setTranslation(Settings.settings.language, () => require('../i18n/' + Settings.settings.language));\r\n\t\t}\r\n\t\telse {\r\n\t\t\ti18n.setTranslation(i18n.getLanguage(), () => require('../i18n/' + i18n.getLanguage()));\r\n\t\t}\r\n\t\t\r\n\t\t// page title\r\n\t\tif (Settings.settings.pageTitle) {\r\n\t\t\tdocument.title = Settings.settings.pageTitle;\r\n\t\t}\r\n\t\t\r\n\t\t// favicon\r\n\t\tif (Settings.settings.pageFavicon && Settings.settings.pageFavicon.substr(0, 5) === 'data:') {\r\n\t\t\tdocument.getElementById('favicon').href = Settings.settings.pageFavicon;\r\n\t\t}\r\n\t\t\r\n\t\t// translations\r\n\t\tif (Settings.settings.translations) {\r\n\t\t\t\r\n\t\t\tlet translations = Settings.settings.translations;\r\n\t\t\tfor (let language in translations) {\r\n\t\t\t\ti18n.setTranslation(language, translations[language]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets a setting.\r\n\t *\r\n\t * @param\t{String}\tsettings\r\n\t * @return\t{String}\r\n\t */\r\n\tstatic getSetting(setting) {\r\n\t\treturn Settings.settings[setting] || '';\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets all settings.\r\n\t *\r\n\t * @param\tvoid\r\n\t * @return\t{Object}\r\n\t */\r\n\tstatic getSettings(copy = true) {\r\n\t\treturn copy ? _copy(Settings.settings || {}) : (Settings.settings || {});\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets the layout.\r\n\t *\r\n\t * @param\tvoid\r\n\t * @return\t{Object}\r\n\t */\r\n\tstatic getLayout(copy = true) {\r\n\t\treturn copy ? _copy(Settings.layout || {}) : (Settings.layout || {});\r\n\t}\r\n\t\r\n\t/**\r\n\t * Sets a setting.\r\n\t *\r\n\t * @param\t{String}\tsetting\r\n\t * @param\t{String}\tvalue\r\n\t * @return\t{Boolean}\r\n\t */\r\n\tstatic setSetting(setting, val) {\r\n\t\t\r\n\t\tif (setting && val !== undefined) {\r\n\t\t\tSettings.settings[setting] = val;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * Set layout.\r\n\t *\r\n\t * @param\t{Object}\tlayout\r\n\t * @return\t{Boolean}\r\n\t */\r\n\tstatic setLayout(layout) {\r\n\t\tif (layout) {\r\n\t\t\tSettings.layout = [ ...Settings.layout, ...layout || [] ];\r\n\t\t\tLog._('Settings', [ 'Set layout', Settings.layout ]);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * Set settings.\r\n\t *\r\n\t * @param\t{Object}\tsettings\r\n\t * @return\t{Boolean}\r\n\t */\r\n\tstatic setSettings(settings) {\r\n\t\tif (settings) {\r\n\t\t\tSettings.settings = { ...Settings.settings, ...settings || {} };\r\n\t\t\tLog._('Settings', [ 'Set settings', Settings.settings ]);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n}\r\n","//import i18n from '../../controller/i18n'\r\n\r\nexport default {\r\n\tdevices: true\r\n}","//import i18n from '../../controller/i18n'\r\n\r\nexport default {\r\n\tdevices: ['device', 'divider', 'group']\r\n}","import StateListConfig from '../StateList/StateList.config'\r\n\r\nexport default StateListConfig","//import i18n from '../../controller/i18n'\r\n\r\nexport default {\r\n\tdevices: ['device', 'divider', 'group']\r\n}","\r\nexport default [\r\n]\r\n","import i18n from '../../controller/i18n'\r\n\r\nexport default {\r\n\ttitle: i18n.t('Weather'),\r\n\ticon: 'weather-partly-cloudy',\r\n\tdevices: false\r\n}","//import i18n from '../../controller/i18n'\r\n\r\nexport default {\r\n\tdevices: false\r\n}","import React from 'react'\r\n\r\nimport Chip from '@material-ui/core/Chip'\r\nimport { TextAutoComplete } from './Text'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles((theme) => ({\r\n\tchip: {\r\n\t\tmargin: theme.spacing(0.5),\r\n\t},\r\n}));\r\n\r\n\r\n/*\r\n *\r\n */\r\nexport default function InputChip(props) {\r\n\tconst { icon, color, label, onDelete, deleteIcon } = props;\r\n\tconst classes = useStyles(props);\r\n\t\r\n\tconst handleDelete = () => onDelete && onDelete();\r\n\treturn (\r\n\t\t<Chip\r\n\t\t\tclassName={classes.chip}\r\n\t\t\ticon={icon}\r\n\t\t\tcolor={color}\r\n\t\t\tlabel={label}\r\n\t\t\tonDelete={handleDelete}\r\n\t\t\tdeleteIcon={deleteIcon}\r\n\t\t\t/>\r\n\t)\r\n}\r\n\r\n/*\r\n *\r\n */\r\nexport function InputChips(props) {\r\n\tconst { list, ...otherProps } = props;\r\n\t\r\n\tconst chips = Array.isArray(list) ? list : list.split(',');\r\n\treturn chips.map(chip => typeof chip === 'string' ? InputChip({ label: chip, ...otherProps }) : InputChip({ ...chip, ...otherProps }));\r\n}\r\n\r\n/*\r\n *\r\n */\r\nexport function InputChipsField(props) {\r\n\tconst { optionKey, ...otherProps } = props;\r\n\t\r\n\treturn (\r\n\t\t<TextAutoComplete\r\n\t\t\tmultiple\r\n\t\t\tfreeSolo\r\n\t\t\tgetOptionLabel={option => optionKey ? option[optionKey] : option}\r\n\t\t\t{...otherProps}\r\n\t\t\t/>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport clsx from 'clsx'\r\nimport i18n from '../../controller/i18n'\r\n\r\nimport Divider from '@material-ui/core/Divider'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles((theme) => ({\r\n\tnoPadding: {\r\n\t\tpadding: '0 !important'\r\n\t},\r\n\tFieldset: {\r\n\t\tpadding: theme.spacing(0.5, 3, 2, 3)\r\n\t},\r\n\tFieldsetItem: {\r\n\t\tpadding: theme.spacing(2, 0, 1, 0)\r\n\t},\r\n\tLegend: {\r\n\t\tfontSize: '1.2rem',\r\n\t\tcolor: theme.palette.primary.dark,\r\n\t\tpadding: theme.spacing(1, 3),\r\n\t},\r\n}));\r\n\r\n/*\r\n *\r\n */\r\nexport default function Fieldset(props) {\r\n\tconst { children, noPadding, ...otherProps } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<FieldsetLegend {...otherProps} />\r\n\t\t\t<Grid container className={clsx(classes.Fieldset, noPadding && classes.noPadding)} {...otherProps}>\r\n\t\t\t\t{children}\r\n\t\t\t</Grid>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\n/*\r\n *\r\n */\r\nexport function FieldsetItem(props) {\r\n\tconst { container, children, columns, noPadding, centered, ...otherProps } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\treturn (\r\n\t\t<Grid\r\n\t\t\tcontainer={container || false}\r\n\t\t\titem\r\n\t\t\tclassName={clsx(classes.FieldsetItem, noPadding && classes.noPadding)}\r\n\t\t\txs={columns || 12}\r\n\t\t\tstyle={centered && { textAlign: 'center' }}\r\n\t\t\t{...otherProps}\r\n\t\t\t>\r\n\t\t\t\r\n\t\t\t{children}\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\n/*\r\n *\r\n */\r\nexport function FieldsetLegend(props) {\r\n\tconst classes = useStyles();\r\n\treturn !props.label ? null : (\r\n\t\t<>\r\n\t\t\t<Typography className={classes.Legend} variant=\"h3\">{props.label}</Typography>\r\n\t\t\t<Divider />\r\n\t\t</>\r\n\t);\r\n}\r\n\r\n/*\r\n *\r\n */\r\nexport function Form(props) {\r\n\tconst { children } = props;\r\n\t\r\n\treturn (\r\n\t\t<MuiPickersUtilsProvider utils={i18n.getLocaleDateAdapter()} locale={i18n.getLocale()}>\r\n\t\t\t{children}\r\n\t\t</MuiPickersUtilsProvider>\r\n\t);\r\n}","import Log from './Log'\r\nimport { de } from 'date-fns/locale'\r\nexport const locales = { de }\r\n\r\n\r\n/**\r\n * Internationalization\r\n * Based on https://raw.githubusercontent.com/ioBroker/adapter-react/master/src/i18n.js.\r\n * Copyright 2018-2019 bluefox <dogafox@gmaiLog.com>\r\n *\r\n * MIT License\r\n *\r\n *\r\n */\r\nexport default class i18n {\r\n\r\n\t/*\r\n\t * holds the translations\r\n\t */\r\n\tstatic translations = {};\r\n\r\n\t/*\r\n\t * default language\r\n\t */\r\n\tstatic language = (navigator.language || navigator.userLanguage || 'en-EN');\r\n\r\n\t/**\r\n\t * Override default language.\r\n\t *\r\n\t * @param\t{String}\tlanguage\r\n\t * @return\t{Boolean}\r\n\t */\r\n\tstatic setLanguage(language) {\r\n\t\tif (language) {\r\n\t\t\ti18n.language = language;\r\n\t\t\tLog._('i18n', 'Set language to ' + language + '.', 'debug');\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Set a translation for language.\r\n\t *\r\n\t * @param\t{String}\tlanguage\r\n\t * @param\t{Object}\ttranslation\r\n\t * @return\t{Boolean}\r\n\t */\r\n\tstatic setTranslation(language, translation) {\r\n\t\t\r\n\t\t// load translation file\r\n\t\tif (typeof translation === 'function') {\r\n\t\t\tlet file;\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tfile = translation();\r\n\t\t\t\ttranslation = file.default;\r\n\t\t\t}\r\n\t\t\tcatch(err) {\r\n\t\t\t\tconsole.warn('Could not load translation file!');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// set translation\r\n\t\tif (language && translation) {\r\n\t\t\ti18n.translations[language] = { ...i18n.translations[language] || {}, ...translation };\r\n\t\t\tLog._('i18n', 'Set translations for language ' + language + '.', 'debug');\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Get current set language.\r\n\t *\r\n\t * @param\tvoid\r\n\t * @return\t{String}\r\n\t */\r\n\tstatic getLanguage(isoLong = false) {\r\n\t\treturn i18n.language.substr(0, isoLong ? 5 : 2);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Get current set language.\r\n\t *\r\n\t * @param\t{String|Object}\t\tword\r\n\t * @param\t{Object}\t\t\t[options={}]\r\n\t * @param\t{Boolean}\t\t\t[options.ucFirst=false]\r\n\t * @param\t{Object}\t\t\t[placeholders={}]\r\n\t * @param\t{String}\t\t\t[language=i18n.language]\r\n\t * @return\t{String}\r\n\t */\r\n\tstatic t(word = '', options = {}, placeholders = {}, language = i18n.getLanguage()) {\r\n\t\t\r\n\t\t// if object is provided, it might be translated already\r\n\t\tif (typeof word === 'object' && word[language] !== undefined) {\r\n\t\t\tword = word[language];\r\n\t\t}\r\n\t\t\r\n\t\t// if array, then multiple words are given\r\n\t\telse if (Array.isArray(word)) {\r\n\t\t\tword = word.map(w => i18n.t(w, options, placeholders, language)).join('');\r\n\t\t}\r\n\t\t\r\n\t\t// otherwise, treat as string\r\n\t\telse if (word) {\r\n\t\t\tword = word.toString();\r\n\t\t\tif (i18n.translations[language]) {\r\n\t\t\t\t\r\n\t\t\t\t// check if word is concatenated\r\n\t\t\t\tif (word.indexOf('#') > -1) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet parts = word.split('#');\r\n\t\t\t\t\twhile (parts.length > 0 && !i18n.translations[language][parts.join('#')]) {\r\n\t\t\t\t\t\tparts.shift();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tword = parts.join('#');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (i18n.translations[language][word]) {\r\n\t\t\t\t\tword = i18n.translations[language][word];\r\n\t\t\t\t}\r\n\t\t\t\telse if (i18n.translations[language][word.toLowerCase()]) {\r\n\t\t\t\t\tword = i18n.translations[language][word.toLowerCase()];\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tLog._('i18n', 'Word \"' + word + '\" not found in language ' + language + '!', 'debug');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tLog._('i18n', 'Language ' + language + ' not loaded for word ' + word + '!', 'error');\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// replace placeholders\r\n\t\tfor (let key in placeholders) {\r\n\t\t\tword = word.replace(RegExp('%' + key + '%', 'g'), placeholders[key]);\r\n\t\t}\r\n\t\t\r\n\t\t// options\r\n\t\tif (options.ucFirst) {\r\n\t\t\tword = word.charAt(0).toUpperCase() + word.slice(1);\r\n\t\t}\r\n\t\t\r\n\t\treturn word;\r\n\t}\r\n}\r\n","var map = {\n\t\"./de\": 364,\n\t\"./de.js\": 364,\n\t\"./en\": 365,\n\t\"./en.js\": 365\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 363;","export default {\r\n\t\"on\": \"an\",\r\n\t\"off\": \"aus\",\r\n\t\r\n\t/*\r\n\t * BUTTONS\r\n\t */\r\n\t\"save\": \"speichern\",\r\n\t\"cancel\": \"abbrechen\",\r\n\t\"close\": \"schließen\",\r\n\t\"apply\": \"übernehmen\",\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t/*\r\n\t * LOADING SCREEN\r\n\t */\r\n\t\"Retrieving settings\": \"Einstellungen werden geladen\",\r\n\t\r\n\t/*\r\n\t * STATES\r\n\t */\r\n\t\r\n\t\"user\": \"User\",\r\n\t\"users\": \"Users\",\r\n\t\r\n\t\"door\": \"Tür\",\r\n\t\"window\": \"Fenster\",\r\n\t\r\n\t\"open\": \"offen\",\r\n\t\"closed\": \"geschlossen\",\r\n\t\r\n\t\"turn on\": \"anschalten\",\r\n\t\"power\": \"Geräte Status\",\r\n\t\"trigger\": \"Geräte Status\",\r\n\t\r\n\t\"brightness\": \"Helligkeit\",\r\n\t\"wind\": \"Wind\",\r\n\t\"battery\": \"Batterie\",\r\n\t\r\n\t\"%DateTime\": \"%DateTime Uhr\",\r\n\t\r\n\t/*\r\n\t * HOUSEHOLD\r\n\t */\r\n\t\"running\": \"Gerät läuft\",\r\n\t\"consumption\": \"Verbrauch\"\r\n}","export default {\r\n}","var map = {\n\t\"./\": 48,\n\t\"./AdapterStatus/AdapterStatus\": 367,\n\t\"./AdapterStatus/AdapterStatus.config\": 272,\n\t\"./AdapterStatus/AdapterStatus.config.js\": 272,\n\t\"./AdapterStatus/AdapterStatus.js\": 367,\n\t\"./AdapterStatus/AdapterStatus.settings\": 273,\n\t\"./AdapterStatus/AdapterStatus.settings.js\": 273,\n\t\"./AdapterStatus/i18n/de\": 368,\n\t\"./AdapterStatus/i18n/de.js\": 368,\n\t\"./AdapterStatus/screenshots/AdapterStatus1.png\": 659,\n\t\"./Chart/Chart\": 369,\n\t\"./Chart/Chart.config\": 275,\n\t\"./Chart/Chart.config.js\": 275,\n\t\"./Chart/Chart.js\": 369,\n\t\"./Chart/Chart.settings\": 276,\n\t\"./Chart/Chart.settings.js\": 276,\n\t\"./Chart/screenshots/Chart1.png\": 669,\n\t\"./DateTime/DateTime\": 370,\n\t\"./DateTime/DateTime.config\": 195,\n\t\"./DateTime/DateTime.config.js\": 195,\n\t\"./DateTime/DateTime.js\": 370,\n\t\"./DateTime/DateTime.settings\": 277,\n\t\"./DateTime/DateTime.settings.js\": 277,\n\t\"./DateTime/i18n/de\": 371,\n\t\"./DateTime/i18n/de.js\": 371,\n\t\"./DateTime/screenshots/DateTime1.png\": 670,\n\t\"./Map/Map\": 372,\n\t\"./Map/Map.config\": 196,\n\t\"./Map/Map.config.js\": 196,\n\t\"./Map/Map.js\": 372,\n\t\"./Map/Map.settings\": 278,\n\t\"./Map/Map.settings.js\": 278,\n\t\"./Map/i18n/de\": 373,\n\t\"./Map/i18n/de.js\": 373,\n\t\"./Multimedia/Multimedia\": 374,\n\t\"./Multimedia/Multimedia.config\": 279,\n\t\"./Multimedia/Multimedia.config.js\": 279,\n\t\"./Multimedia/Multimedia.js\": 374,\n\t\"./Multimedia/Multimedia.settings\": 280,\n\t\"./Multimedia/Multimedia.settings.js\": 280,\n\t\"./Multimedia/MultimediaItem\": 200,\n\t\"./Multimedia/MultimediaItem.js\": 200,\n\t\"./StateList/StateList\": 201,\n\t\"./StateList/StateList.config\": 140,\n\t\"./StateList/StateList.config.js\": 140,\n\t\"./StateList/StateList.js\": 201,\n\t\"./StateList/StateList.settings\": 281,\n\t\"./StateList/StateList.settings.js\": 281,\n\t\"./StateList/StateListItem\": 202,\n\t\"./StateList/StateListItem.js\": 202,\n\t\"./StateList/screenshots/StateList1.png\": 671,\n\t\"./StateList/screenshots/StateList2.png\": 672,\n\t\"./StateList/screenshots/StateList3.png\": 673,\n\t\"./StateList/screenshots/StateList4.png\": 674,\n\t\"./StateListHorizontal/StateListHorizontal\": 375,\n\t\"./StateListHorizontal/StateListHorizontal.config\": 282,\n\t\"./StateListHorizontal/StateListHorizontal.config.js\": 282,\n\t\"./StateListHorizontal/StateListHorizontal.js\": 375,\n\t\"./StateListHorizontal/StateListHorizontal.settings\": 283,\n\t\"./StateListHorizontal/StateListHorizontal.settings.js\": 283,\n\t\"./StateListHorizontal/screenshots/StateListHorizontal1.png\": 675,\n\t\"./Weather/Weather\": 376,\n\t\"./Weather/Weather.config\": 284,\n\t\"./Weather/Weather.config.js\": 284,\n\t\"./Weather/Weather.js\": 376,\n\t\"./Weather/Weather.settings\": 285,\n\t\"./Weather/Weather.settings.js\": 285,\n\t\"./Weather/i18n/de\": 377,\n\t\"./Weather/i18n/de.js\": 377,\n\t\"./iFrame/i18n/de\": 378,\n\t\"./iFrame/i18n/de.js\": 378,\n\t\"./iFrame/iFrame\": 379,\n\t\"./iFrame/iFrame.config\": 197,\n\t\"./iFrame/iFrame.config.js\": 197,\n\t\"./iFrame/iFrame.js\": 379,\n\t\"./iFrame/iFrame.settings\": 286,\n\t\"./iFrame/iFrame.settings.js\": 286,\n\t\"./iFrame/screenshots/DateTime1.png\": 676,\n\t\"./index\": 48,\n\t\"./index.js\": 48\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 366;","import React from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport { format } from 'date-fns'\r\n\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport List from '@material-ui/core/List'\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport StarIcon from '@material-ui/icons/Star'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nimport Connection from '../../controller/Connection'\r\nimport i18n, { locales } from '../../controller/i18n'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles';\r\nconst styles = theme => ({\r\n\tnoUpdates: {\r\n\t\tfontStyle: 'italic',\r\n\t\ttextAlign: 'right',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.54)'\r\n\t},\r\n\tUpdateAvailable: {\r\n\t\tcolor: '#CCAA00',\r\n\t},\r\n\tUpdatesListItem: {\r\n\t\tbackgroundColor: '#ffd700',\r\n\t\tcolor: '#fff',\r\n\t\tmargin: theme.spacing(0, -2),\r\n\t\tpaddingLeft: theme.spacing(2)\r\n\t},\r\n\tUpdatesIndicator: {\r\n\t\tright: theme.spacing(3.75),\r\n\t\tbackgroundColor: '#CCAA00',\r\n\t\tborderRadius: '50%',\r\n\t\twidth: theme.spacing(3),\r\n\t\theight: theme.spacing(3),\r\n\t\tcolor: '#fff',\r\n\t\ttextAlign: 'center',\r\n\t\tfontSize: '1rem !important'\r\n\t},\r\n\tStatusIndicator: {\r\n\t\tfontSize: '1.4rem'\r\n\t},\r\n\tloading: {\r\n\t\ttextAlign: 'center',\r\n\t\tmarginTop: '5px'\r\n\t},\r\n\tsmall: {\r\n\t\twidth: theme.spacing(3),\r\n\t\theight: theme.spacing(3),\r\n\t},\r\n\talive: {\r\n\t\tcolor: '#86d686'\r\n\t},\r\n\tnotAlive: {\r\n\t\tcolor: '#f7e43b'\r\n\t},\r\n\tdisabled: {\r\n\t\tcolor: '#bababa'\r\n\t}\r\n});\r\n\r\n\r\nclass AdapterStatus extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tadapterInformation: [],\r\n\t\t\tadapterAliveStatus: {},\r\n\t\t\tnewUpdates: false,\r\n\t\t\tupdatesJson: '',\r\n\t\t\tlastUpdateCheck: ''\r\n\t\t}\r\n\t\t\r\n\t\tthis.socket = Connection.getConnection;\r\n\t\tthis.list = this.props.config.list ? (Array.isArray(this.props.config.list) ? this.props.config.list : this.props.config.list.split(',')) : null;\r\n\t\tthis.blacklist = this.props.config.blacklist ? (Array.isArray(this.props.config.blacklist) ? this.props.config.blacklist : this.props.config.blacklist.split(',')) : null;\r\n\t\t\r\n\t\tthis.updateStates = ['admin.0.info.newUpdates', 'admin.0.info.lastUpdateCheck', 'admin.0.info.updatesJson'];\r\n\t\tthis.adapterStates = [];\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\t// retrieve updates\r\n\t\tif (this.props.config.updates !== false) {\r\n\t\t\t\r\n\t\t\tthis.socket.getStates(this.updateStates, (err, states) => {\r\n\t\t\t\t\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tnewUpdates: states['admin.0.info.newUpdates'].val,\r\n\t\t\t\t\tlastUpdateCheck: states['admin.0.info.lastUpdateCheck'].val,\r\n\t\t\t\t\tupdatesJson: states['admin.0.info.updatesJson'].val\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t// get state updates\r\n\t\t\t\tthis.socket.subscribeStates(this.updateStates, (id, update) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tid = id.substr(id.lastIndexOf('.')+1);\r\n\t\t\t\t\tif (this.state[id] !== update.val) {\r\n\t\t\t\t\t\tthis.setState({ [id]: update.val });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t// get adapter instances\r\n\t\tthis.socket.getAdapterInstances((err, instances) => {\r\n\t\t\t\r\n\t\t\tif (instances && instances.rows) {\r\n\t\t\t\tlet adapters = [];\r\n\t\t\t\t\r\n\t\t\t\t// states per instance to retrieve\r\n\t\t\t\tinstances.rows.forEach((instance, i) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\t// get alive / connected states\r\n\t\t\t\t\tif ((!this.list || (this.list && this.list.indexOf(instance.value.common.name) > -1)) && (!this.blacklist || (this.blacklist && this.blacklist.indexOf(instance.value.common.name) === -1))) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tadapters.push(instance);\r\n\t\t\t\t\t\tthis.adapterStates = this.adapterStates.concat([\r\n\t\t\t\t\t\t\tinstance.id + '.alive',\r\n\t\t\t\t\t\t\tinstance.id + '.connected',\r\n\t\t\t\t\t\t\tinstance.id.replace('system.adapter.', '') + '.info.connection'\r\n\t\t\t\t\t\t]);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t// sort instances\r\n\t\t\t\tthis.setState({ adapterInformation: adapters.sort((item1, item2) => {\r\n\t\t\t\t\t\tif (item1.id > item2.id) return 1;\r\n\t\t\t\t\t\telse if (item2.id > item1.id) return -1;\r\n\t\t\t\t\t\telse return 0;\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t// retrieve intial states\r\n\t\t\t\tthis.socket.getStates(this.adapterStates, (err, adapterAliveStatus) => {\r\n\t\t\t\t\tthis.setState({ adapterAliveStatus });\r\n\t\t\t\t\t\r\n\t\t\t\t\t// get state updates\r\n\t\t\t\t\tthis.socket.subscribeStates(this.adapterStates, (id, aliveStatus) => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (aliveStatus && (!this.state.adapterAliveStatus[id] || (aliveStatus.val !== this.state.adapterAliveStatus[id].val))) {\r\n\t\t\t\t\t\t\tthis.setState(prevState => ({ adapterAliveStatus: { ...prevState.adapterAliveStatus, [id]: aliveStatus } }));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\tthis.socket.unsubscribeStates([ ...this.updateStates, ...this.adapterStates ]);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\t// adapter updates\r\n\t\tconst updateList = (this.state.updatesJson && JSON.parse(this.state.updatesJson)) || {};\r\n\t\tconst updates = Object.keys(updateList).length\r\n\t\t\r\n\t\t// adapter instances\r\n\t\tlet adapterList = <ListItem key='loading' className={classes.loading}><CircularProgress size={20} /></ListItem>\r\n\t\t\r\n\t\tif (this.state.adapterInformation.length > 0) {\r\n\t\t\t\r\n\t\t\tadapterList = this.state.adapterInformation.map(adapter => {\r\n\t\t\t\tadapter.update = updateList[adapter.value.common.name] || false;\r\n\t\t\t\t\r\n\t\t\t\tconst enabled = adapter.value.common.enabled;\r\n\t\t\t\tconst alive = (this.state.adapterAliveStatus[adapter.id + '.alive'] && this.state.adapterAliveStatus[adapter.id + '.alive'].val) || false;\r\n\t\t\t\tconst connected = (this.state.adapterAliveStatus[adapter.id + '.connected'] && this.state.adapterAliveStatus[adapter.id + '.connected'].val) || false;\r\n\t\t\t\tconst connection = this.state.adapterAliveStatus[adapter.id.replace('system.adapter.', '') + '.info.connection'] ? this.state.adapterAliveStatus[adapter.id.replace('system.adapter.', '') + '.info.connection'].val : true;\r\n\t\t\t\t\r\n\t\t\t\tconst tooltip = i18n.t('Adapter') + ' ' + (enabled ? (alive && connected && connection ? i18n.t('alive') : i18n.t('not alive')) : i18n.t('disabled'));\r\n\t\t\t\t\r\n\t\t\t\treturn (\r\n\t\t\t\t\r\n\t\t\t\t\t<ListItem key={'adapter-' + adapter.id}>\r\n\t\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t\t<Avatar alt={adapter.value.common.name} src={adapter.value.common.extIcon} className={classes.small} />\r\n\t\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\tprimary={adapter.value.common.title}\r\n\t\t\t\t\t\t\tsecondary={[\r\n\t\t\t\t\t\t\t\t'v' + adapter.value.common.version,\r\n\t\t\t\t\t\t\t\t(adapter.update && adapter.value.common.version !== adapter.update.availableVersion && (<span key={'updates-' + adapter.id}>, <span className={classes.UpdateAvailable}>{i18n.t('Update available') + ' v' + adapter.update.availableVersion}</span></span>)),\r\n\t\t\t\t\t\t\t\t(adapter.value.common.runAsCompactMode && ', ' + i18n.t('Compact Mode') + ' ' + i18n.t('on') + ' (' + i18n.t('Group') + ' ' + adapter.value.common.compactGroup + ')')\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<ListItemSecondaryAction className={clsx(classes.StatusIndicator, enabled ? (alive && connected && connection ? classes.alive : classes.notAlive) : classes.disabled)}>\r\n\t\t\t\t\t\t\t<Tooltip title={tooltip}>\r\n\t\t\t\t\t\t\t\t<span className={enabled ? (alive && connected && connection ? 'mdi mdi-check-circle' : 'mdi mdi-alert') : 'mdi mdi-close'}></span>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\r\n\t\t\t\t)\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\r\n<List dense>\r\n\t{this.state.newUpdates === false ? (this.state.lastUpdateCheck && \r\n\t<ListItem key=\"updates\" classes={{ root: classes.noUpdates }}>\r\n\t\t<ListItemText\r\n\t\t\tprimary={i18n.t('last update') + ': ' + format(new Date(this.state.lastUpdateCheck), 'dd.MM.yyyy HH:mm:ss', { locale: locales[i18n.getLanguage()] })}\r\n\t\t\t/>\r\n\t\t\r\n\t</ListItem>)\r\n\t:\r\n\t<ListItem key=\"updates\" classes={{ container: classes.UpdatesListItem }}>\r\n\t\t<ListItemAvatar>\r\n\t\t\t<StarIcon />\r\n\t\t</ListItemAvatar>\r\n\t\t<ListItemText\r\n\t\t\tprimary={i18n.t('Updates available') + '!'}\r\n\t\t\t/>\r\n\t\t\r\n\t\t<ListItemSecondaryAction className={clsx(classes.StatusIndicator, classes.UpdatesIndicator)}>\r\n\t\t\t{updates}\r\n\t\t</ListItemSecondaryAction>\r\n\t</ListItem>\r\n\t}\r\n\t\r\n\t{adapterList}\r\n</List>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nexport default withStyles(styles)(AdapterStatus);\r\n","\r\nexport default {\r\n\t'disabled': 'deaktiviert',\r\n\t'Update available': 'Aktualisierung verfügbar',\r\n\t'Group': 'Gruppe',\r\n\t'last update': 'letzte Aktualisierung',\r\n\t'Updates available': 'Aktualisierungen verfügbar',\r\n\t'Adapter Status': 'Adapter Status',\r\n\t'Adapter': 'Adapter',\r\n\t'alive': 'läuft',\r\n\t'not alive': 'läuft nicht',\r\n\t'Compact Mode': 'Compact Mode',\r\n}","import React from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport { Line } from 'react-chartjs-2'\r\n// eslint-disable-next-line\r\nimport chartjs_colorschemes from 'chartjs-plugin-colorschemes'\r\n// eslint-disable-next-line\r\nimport chartjs_zoom from 'chartjs-plugin-zoom'\r\nimport DateFnsUtils from '@date-io/date-fns'\r\n\r\nimport Alert from '@material-ui/lab/Alert'\r\nimport Button from '@material-ui/core/Button'\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport { MuiPickersUtilsProvider, DateTimePicker } from '@material-ui/pickers'\r\nimport InputBase from '@material-ui/core/InputBase'\r\nimport Select from '@material-ui/core/Select'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CalendarIcon from '@material-ui/icons/Event'\r\nimport CalendarTodayIcon from '@material-ui/icons/EventAvailable'\r\nimport HistoryIcon from '@material-ui/icons/History'\r\nimport FastRewindIcon from '@material-ui/icons/FastRewind'\r\n//import DisablePan from '@material-ui/icons/SelectAll'\r\n//import DisableZoom from '@material-ui/icons/LocationDisabled'\r\nimport ResetZoom from '@material-ui/icons/ZoomOutMap'\r\nimport LiveUpdates from '@material-ui/icons/Update'\r\n\r\nimport helpers from '../../helpers/timeConverter'\r\nimport i18n, { locales } from '../../controller/i18n'\r\nimport Log from '../../controller/Log'\r\nimport Devices from '../../controller/Devices'\r\n\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles';\r\nconst styles = theme => ({\r\n\tloading: {\r\n\t\tposition: 'absolute',\r\n\t\tbackgroundColor: 'rgba(0, 0, 0, 0.3)',\r\n\t\twidth: '100%',\r\n\t\theight: '100%',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t},\r\n\terrorMessage: {\r\n\t\tmarginBottom: 5,\r\n\t\tmarginRight: 15,\r\n\t\twidth: '100%'\r\n\t},\r\n\ttoolbar: {\r\n\t\tdisplay: 'flex'\r\n\t},\r\n\ttoolbarButtons: {\r\n\t\tdisplay: 'initial',\r\n\t\twhiteSpace: 'nowrap'\r\n\t},\r\n\toptions: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'center',\r\n\t},\r\n\tdatePicker: {\r\n\t\tpadding: '2px 4px',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tmargin: 2\r\n\t},\r\n\tinput: {\r\n\t\tmarginLeft: theme.spacing(1),\r\n\t\tflex: 1,\r\n\t},\r\n\tselect: {\r\n\t\twidth: 100\r\n\t},\r\n\ticon: {\r\n\t\tmargin: 10,\r\n\t},\r\n\ticonButton: {\r\n\t\tpadding: 10,\r\n\t},\r\n\tdivider: {\r\n\t\tmargin: '15px 0',\r\n\t},\r\n\tdividerVertical: {\r\n\t\theight: 28,\r\n\t\tmargin: 4,\r\n\t},\r\n\tbutton: {\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t\tcolor: '#fff !important',\r\n\t\tmargin: '4px'\r\n\t},\r\n\tbuttonDisabled: {\r\n\t\tbackgroundColor: '#eee',\r\n\t\tmargin: '4px'\r\n\t}\r\n});\r\n\r\n\r\nclass Chart extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\t// chart configuration\r\n\t\tthis.chartFilter = this.props.config.chartFilter || {};\r\n\t\tthis.chartConfig = this.props.config.chartConfig || {};\r\n\t\t\r\n\t\tthis.chartConfig.yAxes = this.chartConfig.yAxes || [];\r\n\t\tthis.chartConfig.yAxes.unshift({\r\n\t\t\tid: 'left',\r\n\t\t\ttype: 'linear',\r\n\t\t\tposition: 'left',\r\n\t\t\tticks: {\r\n\t\t\t\tcallback: value => (this.chartConfig.yLeftAxisUnitBefore || '') + Number.parseFloat(value).toFixed(1) + (this.chartConfig.yLeftAxisUnitAfter || '')\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t// states\r\n\t\tthis.state = {\r\n\t\t\tloading: true,\r\n\t\t\terrors: [],\r\n\t\t\t\r\n\t\t\tdatePicker: false,\r\n\t\t\tselectedTimeRangeValue: (this.chartFilter && this.chartFilter.selectedTimeRangeValue) || 1,\r\n\t\t\tselectedTimeRangeUnit: (this.chartFilter && this.chartFilter.selectedTimeRangeUnit) || 'days',\r\n\t\t\tselectedDateTime: (this.chartFilter && this.chartFilter.selectedDateTime && new Date(this.chartFilter.selectedDateTime)) || new Date(),\r\n\t\t\tdateNow: this.chartFilter && this.chartFilter.selectedDateTime ? false : true,\r\n\t\t\t\r\n\t\t\tchartLabels: [],\r\n\t\t\tchartData: {\r\n\t\t\t\tlabels: [],\r\n\t\t\t\tdatasets: []\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tchartPan: true,\r\n\t\t\tchartZoom: true\r\n\t\t}\r\n\t\t\r\n\t\t//\r\n\t\tthis.timer = null;\r\n\t\tthis.timeRangeRef = React.createRef();\r\n\t\t\r\n\t\t// chart instance options\r\n\t\tthis.chartRef = React.createRef();\r\n\t\tthis.chartUpdates = {};\r\n\t\tthis.chartAxisOptions = {};\r\n\t\t\r\n\t\tthis.chartPluginOptions = {\r\n\t\t\tmaintainAspectRatio: false,\r\n\t\t\tspanGaps: true,\r\n\t\t\tlegend: {\r\n\t\t\t\tonClick: this.legendClickHandler.bind(this)\r\n\t\t\t},\r\n\t\t\ttooltips: {\r\n\t\t\t\tcallbacks: {\r\n\t\t\t\t\tlabel: (item, data) => data.datasets[item.datasetIndex].label + ': ' + item.value + data.datasets[item.datasetIndex].unit\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tscales: {\r\n\t\t\t\tyAxes: this.chartConfig.yAxes\r\n\t\t\t},\r\n\r\n\t\t\tplugins: {\r\n\t\t\t\tcolorschemes: {\r\n\t\t\t\t\tscheme: 'brewer.SetOne9'\r\n\t\t\t\t},\r\n\t\t\t\tzoom: {\r\n\t\t\t\t\t// Container for pan options\r\n\t\t\t\t\tpan: {\r\n\t\t\t\t\t\t// Boolean to enable panning\r\n\t\t\t\t\t\tenabled: true,\r\n\r\n\t\t\t\t\t\t// Panning directions\r\n\t\t\t\t\t\tmode: 'xy'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Container for zoom options\r\n\t\t\t\t\tzoom: {\r\n\t\t\t\t\t\t// Boolean to enable zooming\r\n\t\t\t\t\t\tenabled: true,\r\n\r\n\t\t\t\t\t\t// Zooming directions.\r\n\t\t\t\t\t\tmode: 'xy'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\t// request initial history data\r\n\t\tDevices.forEachDevice(this.props.devices, (device, index, options) => {\r\n\t\t\t\r\n\t\t\tdevice.options = {\r\n\t\t\t\t...device.options,\r\n\t\t\t\tChart: {\r\n\t\t\t\t\tlabel: device.name + ' (' + i18n.t(options.primaryStateKey || device.primaryStateKey) + ')'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// add listeners for newly requested data\r\n\t\t\tdevice.listen('historyChange', this._historyChange);\r\n\t\t\t\r\n\t\t\t// request device history\r\n\t\t\tdevice.requestDeviceStateHistory(options.primaryStateKey || device.primaryStateKey, true, this._chartAxisOptions())\r\n\t\t\t\t.catch(({ error }) => Log._('Modules (Chart)', error.message, 'error', true, error.stack));\r\n\t\t\t\r\n\t\t\t// add listeners for data updates\r\n\t\t\tif (this.props.config.liveUpdates !== null && this.props.config.liveUpdates !== false && this.state.dateNow) {\r\n\t\t\t\tdevice.listen(this._stateChange);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\tDevices.forEachDevice(this.props.devices, (device, index, options) => {\r\n\t\t\t\r\n\t\t\tdevice.unlisten(this._stateChange);\r\n\t\t});\r\n\t\t\r\n\t\tclearTimeout(this.timer);\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\t\r\n\t\tif (this.state.selectedTimeRangeValue &&\r\n\t\t\t\t(prevState.selectedDateTime !== this.state.selectedDateTime || prevState.selectedTimeRangeValue !== this.state.selectedTimeRangeValue || prevState.selectedTimeRangeUnit !== this.state.selectedTimeRangeUnit)\r\n\t\t\t) {\r\n\t\t\t\r\n\t\t\t// request updated history data\r\n\t\t\tthis.setState({ loading: true, errors: [] });\r\n\t\t\t\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\t\r\n\t\t\t\tDevices.forEachDevice(this.props.devices, (device, index, options) => {\r\n\t\t\t\t\tdevice.requestDeviceStateHistory(options.primaryStateKey || device.primaryStateKey, false, this._chartAxisOptions())\r\n\t\t\t\t\t\t.catch(({ error }) => Log._('Modules (Chart)', error.message, 'error', true, error.stack));\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}, 500);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_historyChange = (stateKey, history, device) => {\r\n\t\tthis._addChartGraph(device.options.Chart.label, device, history, this._getAxis(this.chartAxisOptions.start, this.chartAxisOptions.end));\r\n\t\tthis.setState({ loading: false });\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_stateChange = (stateKey, val, device) => {\r\n\t\tconsole.log(stateKey, val, device);\r\n\t\tthis._updateChartGraph(device, val, this._getAxis(this.chartAxisOptions.end, new Date()));\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_chartAxisOptions() {\r\n\t\t\r\n\t\tconst end = this.state.selectedDateTime.getTime();\r\n\t\tconst unit = this.state.selectedTimeRangeUnit;\r\n\t\t\r\n\t\tlet timeRange = this.state.selectedTimeRangeValue;\r\n\t\tlet step = 1;\r\n\t\tlet axisTimeFormat = 'dd. MMM yyyy, HH:mm';\r\n\t\t\r\n\t\tswitch(unit) {\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase 'seconds':\r\n\t\t\t\taxisTimeFormat = 'dd. MMM yyyy, HH:mm:ss';\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 'minutes':\r\n\t\t\t\taxisTimeFormat = 'dd. MMM yyyy, HH:mm:ss';\r\n\t\t\t\ttimeRange = timeRange*60;\r\n\t\t\t\t//step = step;\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 'hours':\r\n\t\t\t\taxisTimeFormat = 'dd. MMM yyyy, HH:mm';\r\n\t\t\t\ttimeRange = timeRange*60*60;\r\n\t\t\t\tstep = step*60; // minute-by-minute step\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 'days':\r\n\t\t\t\taxisTimeFormat = 'dd. MMM yyyy, HH:mm';\r\n\t\t\t\ttimeRange = timeRange*60*60*24;\r\n\t\t\t\tstep = step*60*60; // hourly step\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 'weeks':\r\n\t\t\t\taxisTimeFormat = 'dd. MMM yyyy';\r\n\t\t\t\ttimeRange = timeRange*60*60*24*7;\r\n\t\t\t\tstep = step*60*60*24; // daily step\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 'months':\r\n\t\t\t\taxisTimeFormat = 'dd. MMM yyyy';\r\n\t\t\t\ttimeRange = timeRange*60*60*24*31;\r\n\t\t\t\tstep = step*60*60*24; // daily step\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 'years':\r\n\t\t\t\taxisTimeFormat = 'dd. MMM yyyy';\r\n\t\t\t\ttimeRange = timeRange*60*60*24*365;\r\n\t\t\t\tstep = step*60*60*24*31; // monthly step\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\t\r\n\t\tthis.chartAxisOptions = {\r\n\t\t\t'axisTimeFormat': axisTimeFormat,\r\n\t\t\t\r\n\t\t\t'start': end-timeRange*1000,\r\n\t\t\t'end': end,\r\n\t\t\t'step': step*1000,\r\n\t\t\t'aggregate': 'average',\r\n\t\t\t'ignoreNull': true\r\n\t\t};\r\n\t\t\r\n\t\treturn this.chartAxisOptions;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_getAxis(start, end) {\r\n\t\t\r\n\t\tlet axis = {};\r\n\t\t\r\n\t\tfor (let time = start; time <= end; time += this.chartAxisOptions.step) {\r\n\t\t\taxis[time] = helpers.secondsToDateTime(time/1000, this.chartAxisOptions.axisTimeFormat);\r\n\t\t}\r\n\t\t\r\n\t\treturn {\r\n\t\t\taxisTimeFormat: this.chartAxisOptions.axisTimeFormat,\r\n\t\t\taxis\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_groupChartData(chartData, axis) {\r\n\t\t\r\n\t\tlet prevMarker;\r\n\t\tlet data = [];\r\n\t\t\r\n\t\tlet markers = Object.keys(axis);\r\n\t\tmarkers.forEach((marker, i) => {\r\n\t\t\tprevMarker = markers[(i-1 > 0 ? i-1 : 0)];\r\n\t\t\t\r\n\t\t\tfor (let index in chartData) {\r\n\t\t\t\tlet entry = chartData[index];\r\n\t\t\t\tentry.val = parseFloat(entry.val);\r\n\t\t\t\t\r\n\t\t\t\t// \r\n\t\t\t\tif (!entry.ts || entry.val === null) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// before range, continue\r\n\t\t\t\tif (prevMarker > entry.ts) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// in range\r\n\t\t\t\telse if (prevMarker < entry.ts && entry.ts <= marker) {\r\n\t\t\t\t\tdata[i] = !data[i] ? [ entry.val ] : [ ...data[i], entry.val ]; // parseFloat((data[i] ? ((data[i]+entry.val)/2) : entry.val).toFixed(2));\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// beyond range, so next marker\r\n\t\t\t\telse if (entry.ts > marker) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//\r\n\t\t\tif (!data[i]) {\r\n\t\t\t\t// \r\n\t\t\t}\r\n\t\t\telse if (data[i].length === 1) {\r\n\t\t\t\tdata[i] = data[i][0];\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tdata[i] = data[i].reduce((a,b) => a + b, 0) / data[i].length;\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\treturn data;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_updateChartGraph(device, value, chartOptions) {\r\n\t\t\r\n\t\tconst chartIndex = this.state.chartLabels.findIndex(entry => entry === device.label);\r\n\t\tif (chartIndex === -1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tthis.chartUpdates[chartIndex] = this.chartUpdates[chartIndex] || [];\r\n\t\tthis.chartUpdates[chartIndex].push({\r\n\t\t\t'ts': value.ts,\r\n\t\t\t'val': value.val\r\n\t\t});\r\n\t\t\r\n\t\t// process data\r\n\t\tconst data = this._groupChartData(this.chartUpdates[chartIndex], chartOptions.axis);\r\n\t\t\r\n\t\t//console.log(value);\r\n\t\t//console.log(chartOptions, chartOptions.axis, data);\r\n\t\t\r\n\t\t// update chart\r\n\t\tthis.chartRef.current.chartInstance.data.labels = [ ...this.state.chartData.labels, ...Object.values(chartOptions.axis) ];\r\n\t\tthis.chartRef.current.chartInstance.data.datasets[chartIndex].data = [ ...this.state.chartData.datasets[chartIndex].data, ...data ];\r\n\t\tthis.chartRef.current.chartInstance.update();\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_addChartGraph(label, device, history, chartOptions) {\r\n\t\t\r\n\t\t// only add chart if data is given\r\n\t\tif (!history || !history.length) {\r\n\t\t\tlet error = i18n.t('No history data given for %s').replace('%s', label) + '!';\r\n\t\t\tthis.setState(prevStates => ({ errors: [ ...prevStates.errors, error ] }));\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\t// process data\r\n\t\tconst data = this._groupChartData(history, chartOptions.axis);\r\n\t\t\r\n\t\t// update chart\r\n\t\tconst chartIndex = this.state.chartLabels.findIndex(entry => entry === label);\r\n\t\tif (chartIndex > -1) {\r\n\t\t\tthis.chartRef.current.chartInstance.data.labels = Object.values(chartOptions.axis);\r\n\t\t\tthis.chartRef.current.chartInstance.data.datasets[chartIndex].data = data;\r\n\t\t\tthis.chartRef.current.chartInstance.update();\r\n\t\t}\r\n\t\t\r\n\t\t// index chart\r\n\t\telse {\r\n\t\t\tthis.setState(prevStates => ({ chartLabels: [ ...prevStates.chartLabels, label ] }));\r\n\t\t\t\r\n\t\t\t// chart dataset\r\n\t\t\tlet dataSet = {\r\n\t\t\t\tlabel: label,\r\n\t\t\t\tunit: device.states[device.primaryStateKey].state.value.unit || '',\r\n\t\t\t\tfill: false,\r\n\t\t\t\t...device.options.graphConfig || {},\r\n\t\t\t\tdata: data\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\t// add data to chart\r\n\t\t\tthis.setState(prevStates => ({\r\n\t\t\t\taxisTimeFormat: chartOptions.axisTimeFormat,\r\n\t\t\t\tchartData: {\r\n\t\t\t\t\tlabels: Object.values(chartOptions.axis),\r\n\t\t\t\t\tdatasets: [ ...prevStates.chartData.datasets, dataSet ],\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\tlegendClickHandler(e, legendItem) {\r\n\t\t\r\n\t\tlet index = legendItem.datasetIndex;\r\n\t\tlet ci = this.chartRef.current.chartInstance;\r\n\t\tlet meta = ci.getDatasetMeta(index);\r\n\r\n\t\tmeta.hidden = meta.hidden === null ? !ci.data.datasets[index].hidden : null;\r\n\t\tci.update();\r\n\t\tci.resetZoom();\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\tdisablePan() {\r\n\t\tlet pan = this.chartRef.current.chartInstance.options.plugins.zoom.pan.enabled;\r\n\t\tthis.chartRef.current.chartInstance.options.plugins.zoom.pan.enabled = (pan === false);\r\n\t\tthis.setState({ chartPan: (pan === false) });\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\tdisableZoom() {\r\n\t\tlet zoom = this.chartRef.current.chartInstance.options.plugins.zoom.zoom.enabled;\r\n\t\tthis.chartRef.current.chartInstance.options.plugins.zoom.zoom.enabled = (zoom === false);\r\n\t\tthis.setState({ chartZoom: (zoom === false) });\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trender() {\r\n\t\tconst { classes, config } = this.props;\r\n\t\treturn (\r\n\r\n<div>\r\n\t<div className={classes.options}>\r\n\t\r\n\t\t<Paper className={classes.datePicker}>\r\n\t\t\t<Tooltip title={i18n.t('Period shown in Chart')}>\r\n\t\t\t\t<HistoryIcon className={classes.icon} />\r\n\t\t\t</Tooltip>\r\n\t\t\t\r\n\t\t\t<InputBase\r\n\t\t\t\tinputRef={this.timeRangeRef}\r\n\t\t\t\tclassName={classes.input}\r\n\t\t\t\tvalue={this.state.selectedTimeRangeValue}\r\n\t\t\t\tonChange={event => this.setState({ selectedTimeRangeValue: event.target.value })}\r\n\t\t\t\t/>\r\n\t\t\t\r\n\t\t\t<Select\r\n\t\t\t\tvalue={this.state.selectedTimeRangeUnit}\r\n\t\t\t\tonChange={event => this.setState({ selectedTimeRangeUnit: event.target.value })}\r\n\t\t\t\tdisplayEmpty\r\n\t\t\t\tdisableUnderline\r\n\t\t\t\tclassName={classes.select}\r\n\t\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t<MenuItem value=\"seconds\">{i18n.t('Seconds')}</MenuItem>\r\n\t\t\t\t<MenuItem value=\"minutes\">{i18n.t('Minutes')}</MenuItem>\r\n\t\t\t\t<MenuItem value=\"hours\">{i18n.t('Hours')}</MenuItem>\r\n\t\t\t\t<MenuItem value=\"days\">{i18n.t('Days')}</MenuItem>\r\n\t\t\t\t<MenuItem value=\"weeks\">{i18n.t('Weeks')}</MenuItem>\r\n\t\t\t\t<MenuItem value=\"months\">{i18n.t('Months')}</MenuItem>\r\n\t\t\t\t<MenuItem value=\"years\">{i18n.t('Years')}</MenuItem>\r\n\t\t\t</Select>\r\n\t\t\t\r\n\t\t\t{/*\r\n\t\t\t<IconButton className={classes.iconButton} onClick={() => this.timeRangeRef.current.focus()}>\r\n\t\t\t\t<CalendarIcon />\r\n\t\t\t</IconButton>\r\n\t\t\t*/}\r\n\t\t</Paper>\r\n\r\n\t\t<Paper className={classes.datePicker}>\r\n\t\t\t<Tooltip title={i18n.t('End date')}>\r\n\t\t\t\t<FastRewindIcon className={classes.icon} />\r\n\t\t\t</Tooltip>\r\n\t\t\t\r\n\t\t\t<MuiPickersUtilsProvider locale={locales[i18n.getLanguage()]} utils={DateFnsUtils}>\r\n\t\t\t\t<DateTimePicker\r\n\t\t\t\t\tclassName={classes.input}\r\n\t\t\t\t\tvalue={this.state.selectedDateTime}\r\n\t\t\t\t\tonChange={selectedDateTime => this.setState({ selectedDateTime: selectedDateTime, dateNow: false })}\r\n\t\t\t\t\t\r\n\t\t\t\t\topen={this.state.datePicker}\r\n\t\t\t\t\tonOpen={() => this.setState({ datePicker: true })}\r\n\t\t\t\t\tonClose={() => this.setState({ datePicker: false })}\r\n\t\t\t\t\t\r\n\t\t\t\t\tvariant=\"inline\"\r\n\t\t\t\t\tampm={false}\r\n\t\t\t\t\tformat='dd.MM.yyyy HH:mm'\r\n\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\tdisableUnderline: true,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\r\n\t\t\t<Tooltip title={i18n.t('Select end date')}>\r\n\t\t\t\t<IconButton color=\"primary\" className={classes.iconButton} onClick={() => this.setState({ datePicker: true })}>\r\n\t\t\t\t\t<CalendarIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t\t<Divider className={classes.dividerVertical} orientation=\"vertical\" />\r\n\t\t\t<Tooltip title={i18n.t('Select today as end date')}>\r\n\t\t\t\t<IconButton className={classes.iconButton} onClick={() => this.setState({ selectedDateTime: new Date(), dateNow: true })}>\r\n\t\t\t\t\t<CalendarTodayIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t</Paper>\r\n\t\t\r\n\t\t<Tooltip title={i18n.t('Live updates are ' + (this.props.config.liveUpdates !== null && this.props.config.liveUpdates !== false && this.state.dateNow ? 'on' : 'off'))} placement=\"top\" style={{ display: 'flex' }}>\r\n\t\t\t<span>\r\n\t\t\t\t<Button disabled={true} className={clsx(classes.datePicker, this.props.config.liveUpdates !== null && this.props.config.liveUpdates !== false && this.state.dateNow ? classes.button : classes.buttonDisabled)}>\r\n\t\t\t\t\t<LiveUpdates />\r\n\t\t\t\t</Button>\r\n\t\t\t</span>\r\n\t\t</Tooltip>\r\n\t\t\r\n\t</div>\r\n\t<Divider className={classes.divider} />\r\n\t\r\n\t<div className={classes.toolbar}>\r\n\t\t<div className={classes.errorMessage}>\r\n\t\t\t{this.state.errors.length > 0 && <Alert severity=\"error\">{this.state.errors.map((error, i) => [ error, React.createElement('br', { key: 'br-error-' + i }) ])}</Alert>}\r\n\t\t</div>\r\n\t\t\r\n\t\t<ButtonGroup className={classes.toolbarButtons} color=\"primary\">\r\n\t\t{/*\r\n\t\t\t<Button disableElevation={true} variant={this.state.chartPan ? 'contained' : 'outlined'} onClick={this.disablePan.bind(this)}>\r\n\t\t\t\t<Tooltip title={i18n.t(this.state.chartPan ? 'Disable panning' : 'Enable panning')}>\r\n\t\t\t\t\t<DisablePan />\r\n\t\t\t\t</Tooltip>\r\n\t\t\t</Button>\r\n\t\t\t<Button disableElevation={true} variant={this.state.chartZoom ? 'contained' : 'outlined'} onClick={this.disableZoom.bind(this)}>\r\n\t\t\t\t<Tooltip title={i18n.t(this.state.chartZoom ? 'Disable Zoom' : 'Enable Zoom')}>\r\n\t\t\t\t\t<DisableZoom />\r\n\t\t\t\t</Tooltip>\r\n\t\t\t</Button>\r\n\t\t*/}\r\n\t\t\t<Button disableElevation={true} variant=\"contained\" onClick={() => this.chartRef.current.chartInstance.resetZoom()}>\r\n\t\t\t\t<Tooltip title={i18n.t('Reset Zoom')}>\r\n\t\t\t\t\t<ResetZoom />\r\n\t\t\t\t</Tooltip>\r\n\t\t\t</Button>\r\n\t\t</ButtonGroup>\r\n\t</div>\r\n\t\r\n\t<div className={'chart-container'} style={{ position: 'relative', height: config.chartHeight || '500px' }}>\r\n\t\t{this.state.loading && <div className={classes.loading}>\r\n\t\t\t<CircularProgress />\r\n\t\t</div>}\r\n\t\t\r\n\t\t<Line\r\n\t\t\tref={this.chartRef}\r\n\t\t\tdata={this.state.chartData}\r\n\t\t\toptions={this.chartPluginOptions}\r\n\t\t\t/>\r\n\t\t\t\r\n\t</div>\r\n</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(Chart);\r\n","import React, { useState, useEffect, useRef } from 'react'\r\n\r\nimport { format } from 'date-fns'\r\nimport { getSunrise, getSunset } from 'sunrise-sunset-js'\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n\r\nimport { joinConfig } from '../../helpers/utils'\r\nimport i18n, { locales } from '../../controller/i18n'\r\nimport Settings from '../../controller/Settings'\r\n\r\n\r\nexport default function DateTime(props) {\r\n\tlet config = joinConfig(props.config, require('./DateTime.config.js').default);\r\n\tconfig.refresh = config.format.indexOf('s') > -1 ? 1000 : (config.format.indexOf('m') > -1 ? 60*1000 : 60*60*1000);\r\n\t\r\n\tconst refTimer = useRef();\r\n\tconst [DateTime, setDateTime] = useState(format(new Date(), config.format, { locale: locales[i18n.getLanguage()] }));\r\n\tconst [city, setCity] = useState('');\r\n\tconst [sunrise, setSunrise] = useState('');\r\n\tconst [sunset, setSunset] = useState('');\r\n\t\r\n\tuseEffect(() => {\r\n\t\t\r\n\t\tfunction refresh() {\r\n\t\t\t\r\n\t\t\t// set current time\r\n\t\t\tsetDateTime(format(new Date(), config.format, { locale: locales[i18n.getLanguage()] }));\r\n\t\t\r\n\t\t\t// set sunrise / sunset\r\n\t\t\tif (Settings.getSetting('iobroker').latitude && Settings.getSetting('iobroker').longitude) {\r\n\t\t\t\tsetSunrise(getSunrise(Settings.getSetting('iobroker').latitude, Settings.getSetting('iobroker').longitude));\r\n\t\t\t\tsetSunset(getSunset(Settings.getSetting('iobroker').latitude, Settings.getSetting('iobroker').longitude));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// constantly refresh\r\n\t\t\trefTimer.current = setTimeout(refresh, config.refresh);\r\n\t\t}\r\n\t\t\r\n\t\t// refresh current time\r\n\t\tclearTimeout(refTimer.current);\r\n\t\trefTimer.current = setTimeout(refresh, 1*1000); // first refresh some seconds after render\r\n\t\t\r\n\t\tif (Settings.getSetting('iobroker').city) {\r\n\t\t\tsetCity(Settings.getSetting('iobroker').city);\r\n\t\t}\r\n\t\t\r\n\t\t// unmount\r\n\t\treturn () => clearTimeout(refTimer.current);\r\n\t\t\r\n\t}, [config.format, config.refresh]);\r\n\t\r\n\treturn (\r\n\r\n<div style={config.style}>\r\n\t{i18n.t('%DateTime').replace(/%DateTime/, DateTime)}\r\n\t\r\n\t{config.sun !== false && <div style={{ margin: '5px 0', fontSize: '1.2rem' }}>\r\n\t\t\r\n\t\t<span className=\"mdi mdi-city-variant-outline\"></span> {city ? city : <CircularProgress size=\"1.2rem\" />}\r\n\t\t<span style={{ margin: '0 10px' }}></span>\r\n\t\t\r\n\t\t<span className=\"mdi mdi-weather-sunset-up\"></span> {sunrise ? format(sunrise, 'HH:mm') : <CircularProgress size=\"1.2rem\" />}\r\n\t\t<span style={{ margin: '0 10px' }}></span>\r\n\t\t\r\n\t\t<span className=\"mdi mdi-weather-sunset-down\"></span> {sunset ? format(sunset, 'HH:mm') : <CircularProgress size=\"1.2rem\" />}\r\n\t</div>\r\n\t}\r\n\t\r\n</div>\r\n\r\n\t);\r\n}\r\n","export default {\r\n\t'Time': 'Zeit',\r\n}","import React, { useState, useEffect, useRef, useCallback } from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport L from 'leaflet'\r\nimport { Map as LeafletMap, TileLayer, Marker as LeafletMarker, Tooltip as LeafletTooltip } from 'react-leaflet'\r\n\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Box from '@material-ui/core/Box'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport Devices from '../../controller/Devices'\r\nimport i18n from '../../controller/i18n'\r\nimport Settings from '../../controller/Settings'\r\nimport Log from '../../controller/Log'\r\nimport moduleConfig from './Map.config'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles(theme => ({\r\n\tmap: {\r\n\t\twidth: '100%',\r\n\t\theight: '100%'\r\n\t},\r\n\tmapOverview: {\r\n\t\tcolor: '#666',\r\n\t\tposition: 'absolute',\r\n\t\tleft: 0,\r\n\t\tbottom: 0,\r\n\t\twidth: '100%',\r\n\t\theight: '60px',\r\n\t\tzIndex: 999,\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\t\r\n\t\t'& > *': {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t},\r\n\tmapIconContainer: {\r\n\t},\r\n\tmapIconParent: {\r\n\t\tbackgroundColor: '#fff',\r\n\t\tboxShadow: '0 0 0 8px rgba(255, 255, 255, 0.3)',\r\n\t\tborderRadius: '50%',\r\n\t\twidth: '100%',\r\n\t\theight: '100%'\r\n\t},\r\n\tmapIcon: {\r\n\t\tfontSize: '2rem',\r\n\t\tcolor: theme.palette.primary.main,\r\n\t\ttransform: 'translate3d(4px, -4px,0)', /* for fontSize: '2.3rem' -> 'translate3d(2px, -8px,0)', */\r\n\t\tdisplay: 'block',\r\n\t\t\r\n\t\t'&:after': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tpadding: '50% 0%'\r\n\t\t}\r\n\t},\r\n\tmapTooltip: {\r\n\t}\r\n}));\r\n\r\n\r\nexport default function Map(props) {\r\n\tconst { config, devices } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\tconst [zoom,] = useState(config.defaultZoom || 10);\r\n\tconst [position,] = useState(config.defaultPosition ? (Array.isArray(config.defaultPosition) ? config.defaultPosition : config.defaultPosition.split(',')) : [ Settings.getSetting('iobroker').latitude, Settings.getSetting('iobroker').longitude ]);\r\n\tconst [markers, setMarkers] = useState({});\r\n\t\r\n\t// map instance\r\n\tconst map = useRef();\r\n\tconst memoizedMapInitialised = useCallback(function() {map.current = this}, [],);\r\n\t\r\n\t// Marker click in overview\r\n\tconst memoizedHandleClick = useCallback(flyTo => map.current.flyTo(flyTo.split(',')), [],);\r\n\t\r\n\t// state change\r\n\tconst stateChange = (stateKey, state, device) => {\r\n\t\t\r\n\t\tif (stateKey === 'position') {\r\n\t\t\t\r\n\t\t\tsetMarkers(prevMarkers => {\r\n\t\t\t\tif (!prevMarkers[device.id] || prevMarkers[device.id].position !== state.val) {\r\n\t\t\t\t\tdevice.options.position = state.val;\r\n\t\t\t\t\treturn { ...prevMarkers, [device.id]: device };\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn prevMarkers;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t// get gps position coordinates\r\n\tuseEffect(() => {\r\n\t\tDevices.forEachDevice(devices, (device, index, options) => {\r\n\t\t\t\r\n\t\t\t// listen for updates\r\n\t\t\tdevice.listen(stateChange);\r\n\t\t\t\r\n\t\t\t// request device state\r\n\t\t\tdevice.requestDeviceState('position').catch(err => {\r\n\t\t\t\tLog._('Modules (Map)', err.message, 'error', true, err.stack)\r\n\t\t\t\t\r\n\t\t\t\tsetMarkers(prevMarkers => {\r\n\t\t\t\t\tif (!prevMarkers[device.id]) {\r\n\t\t\t\t\t\treturn { ...prevMarkers, [device.id]: null };\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn prevMarkers;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t\t\r\n\t\t// componentWillUnmount\r\n\t\treturn () => Devices.forEachDevice(devices, (device, index, options) => {device.unlisten(stateChange)});\r\n\t\t\r\n\t}, [devices]);\r\n\t\r\n\t// add markers\r\n\tlet mapMarkers = [], mapOverview = [];\r\n\tif (devices.length > 0 && devices.length === Object.keys(markers).length) {\r\n\t\t\r\n\t\tfor (let key in markers) {\r\n\t\t\tlet device = markers[key];\r\n\t\t\tif (device !== null) {\r\n\t\t\t\tlet marker = <Marker key={'marker-' + device.id} position={device.options.position || ''} device={device} config={config} />\r\n\t\t\t\tmapMarkers.push(marker);\r\n\t\t\t\t\r\n\t\t\t\tlet item = null;\r\n\t\t\t\tif (device.attributes.avatar) {\r\n\t\t\t\t\titem = <Avatar key={'overview-' + device.id} alt={device.name} src={device.attributes.avatar} onClick={() => memoizedHandleClick(device.options.position)} />\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tlet state = device.getDeviceState();\r\n\t\t\t\t\tconst icon = device.getIcon(null, state && state.val !== undefined ? state.val : null);\r\n\t\t\t\t\tconst styles = device.getStyle('icon', null, state && state.val !== undefined ? state.val : null);\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log(state && state.val !== undefined ? state.val : null);\r\n\t\t\t\t\tconsole.log(styles);\r\n\t\t\t\t\t\r\n\t\t\t\t\titem = <Avatar style={styles} key={'overview-' + device.id} alt={device.name} onClick={() => memoizedHandleClick(device.options.position)}><span className={clsx('mdi mdi-' + icon)}></span></Avatar>\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tmapOverview.push(<Tooltip key={'tooltip-' + device.id} title={device.name} aria-label={device.name} arrow>{item}</Tooltip>);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn (\r\n\r\n<React.Fragment>\r\n\t<Box className={classes.mapOverview}>\r\n\t\t<Typography>{i18n.t('Jump to')}:</Typography>\r\n\t\t{mapOverview}\r\n\t</Box>\r\n\t<LeafletMap useFlyTo={true} center={position} zoom={zoom} className={classes.map} whenReady={memoizedMapInitialised}>\r\n\t\t<TileLayer\r\n\t\t\tattribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n\t\t\turl='https://{s}.tile.osm.org/{z}/{x}/{y}.png'\r\n\t\t\t/>\r\n\t\t\r\n\t\t{mapMarkers}\r\n\t</LeafletMap>\r\n</React.Fragment>\r\n\r\n\t);\r\n}\r\n\r\n\r\nfunction Marker(props) {\r\n\tconst { position, device, config } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\tlet markerIcon = null, offset = 40;\r\n\t//Log._('Modules (Map)', 'Marker for ' + device.function + ' ' + device.name + ' added to map.');\r\n\t\r\n\t// Marker with avatar / picture\r\n\tif (device.attributes && device.attributes.avatar && device.attributes.avatar.substr(0, 11) === 'data:image/') {\r\n\t\tmarkerIcon = L.divIcon({\r\n\t\t\tclassName: classes.mapIconContainer,\r\n\t\t\thtml: '<img src=\"' + device.attributes.avatar + '\" class=\"' + classes.mapIconParent + '\" />',\r\n\t\t\ticonSize: [ 64, 64 ]\r\n\t\t});\r\n\t}\r\n\t\r\n\t// Marker with Icon\r\n\telse {\r\n\t\toffset = 30;\r\n\t\tlet state = device.getDeviceState();\r\n\t\tconst icon = device.getIcon(null, state && state.val !== undefined ? state.val : null);\r\n\t\tconst styles = device.getStyle('icon', null, state && state.val !== undefined ? state.val : null);\r\n\t\t\r\n\t\tconsole.log(styles); \r\n\t\tconst useStyles = makeStyles({root: styles}, {name:'testi'});\r\n\t\tconsole.log(useStyles.root); \r\n\t\t\r\n\t\tmarkerIcon = L.divIcon({\r\n\t\t\tclassName: classes.mapIconContainer,\r\n\t\t\thtml: '<div class=\"' + clsx(classes.mapIconParent) + '\"><span class=\"' + clsx(classes.mapIcon, 'mdi mdi-' + icon) + '\"></span></div>',\r\n\t\t\ticonSize: [ 40, 40 ]\r\n\t\t});\r\n\t}\r\n\t\r\n\t// Marker MouseOver / MouseOut (bring tooltip to front if markers overlay)\r\n\tconst memoizedHandleMouseEvent = useCallback(function() {this.closeTooltip().openTooltip()}, [],);\r\n\r\n\treturn (\r\n\r\n<LeafletMarker riseOnHover={true} position={Array.isArray(position) ? position : position.split(',')} icon={markerIcon} onMouseOver={memoizedHandleMouseEvent}>\r\n\t<LeafletTooltip className={classes.mapTooltip} direction={config.tooltipDirection || 'bottom'} permanent={config.tooltipPermanent || true} offset={[0,offset]}>\r\n\t\t{device.name}\r\n\t</LeafletTooltip>\r\n</LeafletMarker>\r\n\r\n\t);\r\n}\r\n","export default {\r\n\t'Jump to': 'springen zu',\r\n}","import React from 'react'\r\n\r\nimport MultimediaItem from './MultimediaItem'\r\n\r\n\r\nexport default function Multimedia(props) {\r\n\tconst { devices, settings } = props;\r\n\treturn devices.map((device, i) => <MultimediaItem key={'MultimediaItem-' + device.id} {...props} index={i} noHeader={i === 0 && settings.icon === null && settings.title === null} device={device} />)\r\n}\r\n","import React from 'react'\r\n\r\nimport StateList from '../StateList/StateList'\r\n\r\n\r\nexport default function StateListHorizontal(props) {\r\n\treturn <StateList horizontal={true} {...props} />\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport Connection from '../../controller/Connection'\r\nimport i18n from '../../controller/i18n'\r\nimport Log from '../../controller/Log'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles(theme => ({\r\n\tpaper: {\r\n\t\twidth: 100,\r\n\t\theight: 160,\r\n\t\tpadding: 5,\r\n\t\ttextAlign: 'center',\r\n\t}\r\n}));\r\n\r\n\r\nexport default function Weather(props) {\r\n\tconst { settings } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\tconst [data,setData] = useState(null);\r\n\tuseEffect(() => {\r\n\t\t\r\n\t\tConnection.getConnection.getRemoteResource(settings.url).then(\r\n\t\t\tresponse => {\r\n\t\t\t\t\r\n\t\t\t\tif (response.statusCode === 200) {\r\n\t\t\t\t\tsetData(JSON.parse(response.body));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terr => Log._('Modules (Weather)', err.message, 'error', true, err.stack)\r\n\t\t);\r\n\t\t\r\n\t}, [settings.url]);\r\n\t\r\n\tlet weatherForecast = [];\r\n\t//console.log(data);\r\n\t\r\n\tif (!data) {\r\n\t\treturn null;\r\n\t}\r\n\telse {\r\n\t\tfor (let day in data.day) {\r\n\t\t\tlet forecast = data.day[day];\r\n\t\t\tforecast.title = day === 1 ? i18n.t('today') : (day === 2 ? i18n.t('tomorrow') : forecast.name);\r\n\t\t\t\r\n\t\t\tconst dailyForecast = (\r\n\r\n<Grid key={'day-' + day} item>\r\n\t<Paper className={classes.paper}>\r\n\t\t<Typography variant=\"body1\">\r\n\t\t\t{forecast.title}\r\n\t\t</Typography>\r\n\t\t<Typography variant=\"caption\">\r\n\t\t\t{forecast.date}\r\n\t\t</Typography>\r\n\r\n\r\n\t</Paper>\r\n</Grid>\r\n\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\tweatherForecast.push(dailyForecast);\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn (\r\n\r\n<Grid container justify=\"space-between\" spacing={1}>\r\n\t{weatherForecast}\r\n\t\r\n</Grid>\r\n\r\n\t);\r\n}\r\n","export default {\r\n\t'tomorrow': 'Morgen',\r\n\t'Weather': 'Wetter',\r\n}","export default {\r\n\t'Time': 'Zeit',\r\n}","import React from 'react'\r\n\r\nimport { joinConfig } from '../../helpers/utils'\r\n\r\n\r\nexport default function DateTime(props) {\r\n\tlet config = joinConfig(props.config, require('./iFrame.config.js').default);\r\n\t\r\n\tif (!config.url) {\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tconfig.url = config.url.indexOf('http://') === -1 && config.url.indexOf('https://') === -1 ? 'http://' + config.url : config.url;\r\n\t\r\n\treturn (\r\n\t\t<iframe style={{ border: 0 }} width=\"100%\" height={config.height || '100%'} src={config.url} title={props.title} />\r\n\t);\r\n}\r\n","import React, { useState } from 'react'\r\nimport i18n from '../../controller/i18n'\r\n\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport Switch from '@material-ui/core/Switch'\r\n\r\nimport Field from './Field'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles((theme) => ({\r\n\tFormControl: {\r\n\t\twidth: '100%'\r\n\t},\r\n\tInputLabel: {\r\n\t\twidth: '133%'\r\n\t},\r\n\tSwitch: {\r\n\t\tmarginTop: '10px'\r\n\t},\r\n\tSwitchSmall: {\r\n\t\tmarginTop: '2px'\r\n\t},\r\n\tSwitchInline: {\r\n\t\tmarginLeft: '5px'\r\n\t},\r\n}));\r\n\r\n\r\n/*\r\n *\r\n */\r\nexport default function InputSwitch(props) {\r\n\tconst { id, label, val, size, disabled, onChange } = props;\r\n\tconst classes = useStyles(props);\r\n\t\r\n\tconst [checked, setChecked] = useState(val || false);\r\n\tconst handleSwitchChange = event => {\r\n\t\tlet userInput = (event && event.target && event.target.checked) || false;\r\n\t\t\r\n\t\tsetChecked(userInput);\r\n\t\tonChange && onChange(props, userInput);\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<Field {...props}>\r\n\t\t\t<FormControl\r\n\t\t\t\tkey={'FormControl-' + id}\r\n\t\t\t\tclasses={{ root: classes.FormControl }}\r\n\t\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t<InputLabel classes={{ root: classes.InputLabel }} shrink={true}>{i18n.t(label)}</InputLabel>\r\n\t\t\t\t<Switch\r\n\t\t\t\t\tclasses={{ root: size === 'small' ? classes.SwitchSmall : classes.Switch }}\r\n\t\t\t\t\tchecked={checked}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\tonChange={handleSwitchChange}\r\n\t\t\t\t\tsize={size}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t</FormControl>\r\n\t\t</Field>\r\n\r\n\t)\r\n}\r\n\r\n/*\r\n *\r\n */\r\nexport function InputSwitchInline(props) {\r\n\tconst { label, val, size, disabled, onChange } = props;\r\n\tconst classes = useStyles(props);\r\n\t\r\n\tconst [checked, setChecked] = useState(val || false);\r\n\tconst handleSwitchChange = event => {\r\n\t\tlet userInput = (event && event.target && event.target.checked) || false;\r\n\t\t\r\n\t\tsetChecked(userInput);\r\n\t\tonChange && onChange(props, userInput);\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<Field {...props}>\r\n\t\t\t<FormControlLabel\r\n\t\t\t\tclasses={{ root: classes.SwitchInline }}\r\n\t\t\t\tlabel={i18n.t(label)}\r\n\t\t\t\tcontrol={<Switch\r\n\t\t\t\t\tclasses={{ root: size === 'small' ? classes.SwitchSmall : classes.Switch }}\r\n\t\t\t\t\tchecked={checked}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\tonChange={handleSwitchChange}\r\n\t\t\t\t\tsize={size} />}\r\n\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t</Field>\r\n\r\n\t)\r\n}","export default {\r\n\t'Devices List': 'Geräteliste',\r\n\t'Name': 'Name',\r\n\t'Function': 'Gewerk',\r\n\t'States': 'States',\r\n\t'Options': 'Optionen',\r\n\t'Attributes': 'Attribute',\r\n\t\r\n\t'add new device': 'Gerät hinzufügen',\r\n\t'add new state': 'State hinzufügen',\r\n\t\r\n\t'No input given': 'Bitte etwas eingeben',\r\n\t'Wrong JSON format': 'Falsches JSON Format',\r\n\t'Type in a state key / identifier': 'State Bezeichnung eingeben',\r\n\t'State key already used': 'State bereits in Benutzung',\r\n\t\r\n\t'Device Configuration': 'Gerätekonfiguration',\r\n\t'Delete Device': 'Gerät löschen',\r\n\t'General': 'Allgemein',\r\n\t'Device': 'Gerät',\r\n\t'Displayed Name': 'Anzeigename',\r\n}","import { sort } from '../helpers/utils'\r\nimport Device from './Device'\r\nimport Log from './Log'\r\nconst _copy = require('rfdc')();\r\n\r\n\r\n/**\r\n * Devices\r\n *\r\n *\r\n */\r\nexport default class Devices {\r\n\r\n\t/*\r\n\t * holds the raw data\r\n\t */\r\n\tstatic rawDevices = {};\r\n\t\r\n\t/*\r\n\t * holds the devices\r\n\t */\r\n\tstatic Devices = {};\r\n\t\r\n\t/**\r\n\t * Set devices\r\n\t *\r\n\t * @param\t{Object}\tdevices\r\n\t * @return\t{Array<Promises>}\r\n\t */\r\n\tstatic setDevices(deviceList, socket) {\r\n\t\t\r\n\t\tlet devices = {};\r\n\t\tlet states = [];\r\n\t\t\r\n\t\tlet processedDevices = 0, addedDevices = 0;\r\n\t\tfor (let deviceId in deviceList) {\r\n\t\t\tprocessedDevices++;\r\n\t\t\t\r\n\t\t\t// correct options\r\n\t\t\tdeviceList[deviceId].id = deviceId;\r\n\t\t\tdeviceList[deviceId].options = { ...deviceList[deviceId].options, ...deviceList[deviceId].jarvis }\r\n\t\t\tdelete deviceList[deviceId].jarvis;\r\n\t\t\t\r\n\t\t\t// get device and its current state values\r\n\t\t\ttry {\r\n\t\t\t\tdevices[deviceId] = new Device(deviceList[deviceId], socket);\r\n\t\t\t\tstates = [ ...states, ...devices[deviceId].requestDeviceStates(true) ];\r\n\t\t\t\taddedDevices++;\r\n\t\t\t}\r\n\t\t\tcatch(err) {\r\n\t\t\t\tLog._('Devices', err.message, 'warn');\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// remember raw device list\r\n\t\tDevices.rawDevices = _copy(deviceList);\r\n\t\t\r\n\t\t// remember devices\r\n\t\tDevices.Devices = devices;\r\n\t\t\r\n\t\t// \r\n\t\treturn new Promise(resolve => {\r\n\t\t\tPromise.allSettled(states).then(res => {\r\n\t\t\t\tresolve({\r\n\t\t\t\t\tdevices: devices,\r\n\t\t\t\t\tstates: res,\r\n\t\t\t\t\tprocessedDevices: processedDevices,\r\n\t\t\t\t\taddedDevices: addedDevices\r\n\t\t\t\t});\r\n\t\t\t}).catch(() => {});\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t * Get devices\r\n\t *\r\n\t * @param\tvoid\r\n\t * @return\tObject\r\n\t */\r\n\tstatic getDevices(options = {}) {\r\n\t\t\r\n\t\tif (typeof options === 'boolean') {\r\n\t\t\toptions = { raw: options }\r\n\t\t}\r\n\t\t\r\n\t\tlet devices = options.raw ? Devices.rawDevices : Devices.Devices;\r\n\t\tdevices = options.copy ? _copy(devices) : devices;\r\n\t\t\r\n\t\tif (options.sort) {\r\n\t\t\tdevices = sort(devices, 'name');\r\n\t\t}\r\n\t\t\r\n\t\treturn devices;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tstatic forEachDevice(list, callback) {\r\n\t\t\r\n\t\treturn list.map((item, index) => {\r\n\t\t\tlet device = Devices.Devices[item.deviceId] || item || {};\r\n\t\t\tdevice.id = device.id || (device.name && device.name.toLowerCase().replace(/ /g, ''));\r\n\t\t\t\r\n\t\t\treturn callback && callback(device, index, item);\r\n\t\t});\r\n\t}\r\n}\r\n","/**\r\n * Capitalize first letter of a word.\r\n *\r\n */\r\nexport default function ucFirst(str) {\r\n\tif (!str) {\r\n\t\treturn '';\r\n\t}\r\n\t\r\n\treturn str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\n\r\n/**\r\n * Move a key in an object up or down (\"sort\")\r\n *\r\n */\r\nexport function moveKeyInObject(obj, key, action) {\r\n\t\r\n\t// sort array\r\n\tlet sorted = moveKeyInArray(Object.keys(obj), key, action);\r\n\t\r\n\t// build new object\r\n\tlet next = {}\r\n\tsorted.map(key => next[key] = obj[key]);\r\n\treturn next;\r\n}\r\n\r\n/**\r\n * Move a key in an object up or down (\"sort\")\r\n *\r\n */\r\nexport function moveKeyInArray(arr, keyOrIndex, action) {\r\n\t\r\n\tlet index = typeof keyOrIndex === 'string' ? arr.indexOf(keyOrIndex) : keyOrIndex;\r\n\tlet element = arr[index];\r\n\t\r\n\t// move up\r\n\tif (action === 'up' && index-1 >= 0) {\r\n\t  arr.splice(index-1, 0, element);\r\n\t  arr.splice(index+1, 1);\r\n\t}\r\n\t\r\n\t// move down\r\n\telse if (action === 'down' && index+1 < arr.length) {\r\n\t  arr.splice(index+2, 0, element);\r\n\t  arr.splice(index, 1);\r\n\t}\r\n\t\r\n\treturn arr;\r\n}\r\n\r\n/**\r\n * Sort array or object by specific key\r\n *\r\n */\r\nexport function sort(arrayOrObject, key) {\r\n\treturn Array.isArray(arrayOrObject) ? sortArray(arrayOrObject, key) : sortObject(arrayOrObject, key);\r\n}\r\n\r\n/**\r\n * Sort array by specific key\r\n *\r\n */\r\nexport function sortArray(arr, key) {\r\n\t\r\n\tarr = arr.slice(0);\r\n\tarr.sort((a, b) => {\r\n\t\tlet x = a[key].toLowerCase();\r\n\t\tlet y = b[key].toLowerCase();\r\n\t\treturn x < y ? -1 : x > y ? 1 : 0;\r\n\t});\r\n\t\r\n\treturn arr;\r\n}\r\n\r\n/**\r\n * Sort object by specific key\r\n *\r\n */\r\nexport function sortObject(obj, key) {\r\n\t\r\n\treturn Object\r\n\t\t.entries(obj)\r\n\t\t.sort((a, b) => {\r\n\t\t\tif(a[1][key] < b[1][key]) { return -1; }\r\n\t\t\tif(a[1][key] > b[1][key]) { return 1; }\r\n\t\t\treturn 0;\r\n\t\t})\r\n\t\t.reduce((_sortedObj, [k,v]) => ({\r\n\t\t\t..._sortedObj, \r\n\t\t\t[k]: v\r\n\t\t}), {});\r\n}\r\n\r\n/**\r\n * \r\n *\r\n */\r\nexport function joinConfig(UserConfig, AdapterConfig) {\r\n\t\r\n\tlet config = {}\r\n\tAdapterConfig.forEach(param => {\r\n\t\tconfig[param.parameter] = UserConfig[param.parameter] || param.val;\r\n\t\t\r\n\t\tif (param.json === true && config[param.parameter] && typeof config[param.parameter] === 'string') {\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tconfig[param.parameter] = JSON.parse(config[param.parameter]);\r\n\t\t\t}\r\n\t\t\tcatch(err) {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t\r\n\treturn config;\r\n}\r\n","\r\nexport const DEFAULTS = {\r\n\t'MODULE': 'StateList',\r\n\t\r\n\t'NODE_LAYOUT': 'jarvis.0.layout',\r\n\t'NODE_SETTINGS': 'jarvis.0.settings',\r\n\t'NODE_DEVICES': 'jarvis.0.devices',\r\n\t'NODE_NOTIFICATIONS': 'jarvis.0.notifications',\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport Switch from '@material-ui/core/Switch'\r\n\r\nimport i18n from '../controller/i18n'\r\nimport Log from '../controller/Log'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nconst styles = theme => ({\r\n\tprimaryAction: props => ({\r\n\t\t...props.styles\r\n\t}),\r\n\tsecondaryAction: props => ({\r\n\t\tcolor: '#999',\r\n\t\tfontSize: '14px',\r\n\t\t...props.styles\r\n\t}),\r\n});\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcomponent: {\r\n\t\tpadding: theme.spacing(2, 0, 2, 0)\r\n\t},\r\n\tsliderMarkLabel: {\r\n\t\t[theme.breakpoints.down('md')]: {\r\n\t\t\tdisplay: 'none',\r\n\t\t\t'&:nth-child(5)': { display: 'block' },\r\n\t\t\t'&:nth-child(15)': { display: 'block' },\r\n\t\t\t'&:nth-child(25)': { display: 'block' }\r\n\t\t}\r\n\t}\r\n}));\r\n\r\n\r\n/*\r\n * ACTIONS\r\n *\r\n */\r\nconst Action = withStyles(styles)(props => {\r\n\tconst { classes, device, state, stateKey } = props;\r\n\treturn (\r\n\r\n<span className={clsx((stateKey === device.primaryStateKey && classes.primaryAction) || (stateKey === device.secondaryStateKey && classes.secondaryAction))}>\r\n\t{state && state.value} {state && state.unit}\r\n</span>\r\n\r\n\t);\r\n});\r\n\r\nfunction PowerAction(props) {\r\n\tconst { device, stateKey, stateVal, onChange: parentOnChange } = props;\r\n\t\r\n\tconst onChange = (e) => {\r\n\t\tsetChecked(e.target.checked);\r\n\t\tdevice.setDeviceState(stateKey, e.target.checked).catch(({ error }) => Log._('Function (defaults)', error.message, 'error', true, error.stack));\r\n\t}\r\n\t\r\n\tconst [checked, setChecked] = useState(stateVal);\r\n\tuseEffect(() => setChecked(stateVal), [stateVal]);\r\n\t\r\n\treturn (\r\n\r\n<Switch\r\n\tchecked={checked}\r\n\tonChange={parentOnChange || onChange}\r\n\tvalue={checked !== true}\r\n\tcolor=\"primary\"\r\n\t/>\r\n\r\n\t);\r\n}\r\n\r\nfunction TriggerAction(props) {\r\n\tconst { device, stateKey, stateVal } = props;\r\n\t\r\n\tconst onClick = () => {\r\n\t\tdevice.setDeviceState(stateKey, true).catch(({ error }) => Log._('Function (defaults)', error.message, 'error', true, error.stack));\r\n\t}\r\n\t\r\n\t//\r\n\tif (stateVal === true || stateVal > 0) {\r\n\t\treturn <Action {...props} onChange={null} />;\r\n\t}\r\n\t\r\n\tconst icon = 'power';\r\n\treturn (\r\n\r\n<Button\r\n\tvariant=\"outlined\"\r\n\tcolor=\"primary\"\r\n\tsize=\"small\"\r\n\tstartIcon={<span className={'mdi mdi-' + icon}></span>}\r\n\tonClick={onClick}\r\n\t>\r\n\t\r\n\t{i18n.t('turn on')}\r\n</Button>\r\n\r\n\t);\r\n}\r\n\r\nfunction SelectionAction(props) {\r\n\t//const { device, stateKey, stateVal } = props;\r\n\t\r\n\treturn null;\r\n}\r\n\r\n\r\n/*\r\n * COMPONENTS\r\n *\r\n */\r\nfunction Label(props) {\r\n\tconst { label, br } = props;\r\n\tconst linebreak = br || false;\r\n\t\r\n\treturn (\r\n\t\r\n<React.Fragment>\r\n\t{label}\r\n\t{linebreak && <br />}\r\n</React.Fragment>\r\n\t\r\n\t);\r\n}\r\n\r\nfunction Component(props) {\r\n\tconst { title, children } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\treturn (\r\n\r\n<React.Fragment>\r\n\t<Label label={title} />\r\n\t<div className={classes.component}>\r\n\t\t{children}\r\n\t</div>\r\n</React.Fragment>\r\n\r\n\t);\r\n}\r\n\r\nfunction LevelComponent(props) {\r\n\tlet { device, stateKey, stateVal, title, min, max, step, markSteps } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\tconst onChange = (e, val) => setLevel(val)\r\n\tconst onChangeCommitted = (e, val) => {\r\n\t\tsetLevel(val);\r\n\t\tdevice.setDeviceState(stateKey, val).catch(({ error }) => Log._('Function (defaults)', error.message, 'error', true, error.stack));\r\n\t}\r\n\t\r\n\tconst [level, setLevel] = useState(stateVal);\r\n\tuseEffect(() => setLevel(stateVal), [stateVal]);\r\n\t\r\n\t// default settings\r\n\tmin = min || 0;\r\n\tmax = max || 100;\r\n\tstep = step || 1;\r\n\tmarkSteps = markSteps || 11; // 0 to 10\r\n\tlet markStep = ((max-min)/(markSteps-1)) || 10;\r\n\treturn (\r\n\r\n<Component title={title || stateKey }>\r\n\t<Slider\r\n\t\tclasses={{ markLabel: classes.sliderMarkLabel }}\r\n\t\tonChange={onChange}\r\n\t\tonChangeCommitted={onChangeCommitted}\r\n\t\tvalue={level}\r\n\t\tvalueLabelDisplay=\"auto\"\r\n\t\tmarks={[...Array(markSteps).keys()].map(number => ({ 'value': min+number*markStep, 'label': min+number*markStep }))}\r\n\t\tmin={min}\r\n\t\tmax={max}\r\n\t\tstep={step}\r\n\t/>\r\n\r\n</Component>\r\n\r\n\t);\r\n}\r\n\r\n\r\n\r\nexport default {\r\n\tconfigurations: {\r\n\t\t_any: {\r\n\t\t\tvalue: (val) => val.toString(),\r\n\t\t\t//stateStyle\r\n\t\t\t//unit\r\n\t\t\t//icon\r\n\t\t\t//iconStyle\r\n\t\t\t//display\r\n\t\t\tstateStyle: {\r\n\t\t\t\t'true': {\r\n\t\t\t\t\t'color': '#090',\r\n\t\t\t\t\t'fontWeight': 'bold'\r\n\t\t\t\t},\r\n\t\t\t\t'false': {\r\n\t\t\t\t\t'color': '#999'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tbattery: {\r\n\t\t\tunit: ' %',\r\n\t\t\ticon: 'battery-medium'\r\n\t\t},\r\n\t\tdoor: {\r\n\t\t\ticon: {\r\n\t\t\t\t'true': 'door-open',\r\n\t\t\t\t'false': 'door-closed'\r\n\t\t\t},\r\n\t\t\tdisplay: {\r\n\t\t\t\t'true': 'open',\r\n\t\t\t\t'false': 'closed'\r\n\t\t\t},\r\n\t\t},\r\n\t\thumidity: {\r\n\t\t\tunit: ' %',\r\n\t\t\ticon: 'water-percent'\r\n\t\t},\r\n\t\tlevel: {\r\n\t\t\tunit: ' %'\r\n\t\t},\r\n\t\tposition: {\r\n\t\t\ticon: 'map-marker'\r\n\t\t},\r\n\t\tpower: {\r\n\t\t\tdisplay: {\r\n\t\t\t\t'true': 'on',\r\n\t\t\t\t'false': 'off'\r\n\t\t\t},\r\n\t\t\ticon: 'power'\r\n\t\t},\r\n\t\ttemperature: {\r\n\t\t\tunit: ' °C',\r\n\t\t\ticon: 'thermometer'\r\n\t\t},\r\n\t\ttrigger: {\r\n\t\t\tdisplay: {\r\n\t\t\t\t'true': 'on',\r\n\t\t\t\t'false': 'off'\r\n\t\t\t},\r\n\t\t\ticon: 'power'\r\n\t\t},\r\n\t\twind: {\r\n\t\t\tunit: ' km/h',\r\n\t\t\ticon: 'weather-windy'\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tLabel,\r\n\t\tComponent,\r\n\t\tLevelComponent,\r\n\t\t\r\n\t\tlevel: LevelComponent\r\n\t},\r\n\tactions: {\r\n\t\tAction,\r\n\t\tPowerAction,\r\n\t\tTriggerAction,\r\n\t\t\r\n\t\tpower: PowerAction,\r\n\t\ttrigger: TriggerAction,\r\n\t\tactions: SelectionAction\r\n\t}\r\n}","import i18n from '../controller/i18n'\r\n\r\n\r\nexport const Modules = {\r\n\t'AdapterStatus': {\r\n\t\t'de': 'Zeigt alle installierten Adapter mit ihren Instanzen und dem jeweiligen Status (active & alive, active & not connected, inactive) an.'\r\n\t},\r\n\t'Chart': {\r\n\t\t'de': 'Stellt historische Werte (z.B. aus ioBroker.history) grafisch als Chart mittels Chart.js dar.'\r\n\t},\r\n\t'DateTime': {\r\n\t\t'de': 'Das Modul dient der Anzeige des aktuellen Datums und Zeit.'\r\n\t},\r\n\t'iFrame': {\r\n\t\t'de': 'Zeigt eine externe URL an.'\r\n\t},\r\n\t'Map': {\r\n\t\t'de': 'Zeigt eine Karte von OpenStreetMap.'\r\n\t},\r\n\t/*'Multimedia': {\r\n\t\t'de': 'Zeigt ein Multimedia-Player an (z. B. Spotify)'\r\n\t},*/\r\n\t'StateList': {\r\n\t\t'de': 'Zeigt eine Liste von States an.'\r\n\t},\r\n\t'StateListHorizontal': {\r\n\t\t'de': 'Zeigt eine Liste von States horizontal an'\r\n\t},\r\n\t/*'Weather': {\r\n\t\t'de': 'Zeigt die Wetter-Vorschau an.'\r\n\t}*/\r\n}\r\n\r\n\r\nlet _ = {}\r\nlet Settings = {}\r\nlet Configurations = {}\r\n\r\nObject.keys(Modules).forEach(module => {\r\n\t_[module] = require('./' + module + '/' + module).default;\r\n\t\r\n\t// load settings\r\n\tSettings[module] = require('./' + module + '/' + module + '.settings').default;\r\n\t\r\n\t// load configurations\r\n\tConfigurations[module] = require('./' + module + '/' + module + '.config').default;\r\n\t\r\n\t// load language file\r\n\ttry {\r\n\t\ti18n.setTranslation(i18n.getLanguage(), require('./' + module + '/i18n/' + i18n.getLanguage()).default);\r\n\t}\r\n\tcatch(err) {}\r\n});\r\n\r\nexport const ModuleSettings = Settings;\r\nexport const ModuleConfigurations = Configurations;\r\nexport default _;\r\n","var map = {\n\t\"./de\": 158,\n\t\"./de.js\": 158,\n\t\"./en\": 159,\n\t\"./en.js\": 159\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 490;","var map = {\n\t\"./de\": 162,\n\t\"./de.js\": 162,\n\t\"./en\": 163,\n\t\"./en.js\": 163\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 491;","var map = {\n\t\"./de\": 166,\n\t\"./de.js\": 166,\n\t\"./en\": 167,\n\t\"./en.js\": 167\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 492;","import i18n from '../controller/i18n'\r\n\r\n\r\nexport const Functions = {\r\n\tdefaults: {\r\n\t\t'en': 'Default settings',\r\n\t\t'de': 'Standard-Einstellungen',\r\n\t},\r\n\t\r\n\tblind: {\r\n\t\t'en': 'Shutters / Blinds',\r\n\t\t'de': 'Rollos / Jalousien',\r\n\t},\r\n\tdoor: {\r\n\t\t'en': 'Doors',\r\n\t\t'de': 'Türen',\r\n\t},\r\n\theating: {\r\n\t\t'en': 'Heating',\r\n\t\t'de': 'Heizung',\r\n\t},\r\n\tlight: {\r\n\t\t'en': 'lights',\r\n\t\t'de': 'Lichter',\r\n\t},\r\n\tlocation: {\r\n\t\t'en': 'locations',\r\n\t\t'de': 'Orte',\r\n\t},\r\n\tuser: {\r\n\t\t'en': 'users',\r\n\t\t'de': 'Benutzer',\r\n\t},\r\n\twindow: {\r\n\t\t'en': 'windows',\r\n\t\t'de': 'Fenster',\r\n\t}\r\n}\r\n\r\n\r\nlet _ = {}\r\n\r\nObject.keys(Functions).forEach(func => {\r\n\t\r\n\tif (func === 'defaults') {\r\n\t\t_[func] = require('./' + func).default;\r\n\t}\r\n\telse {\r\n\t\t_[func] = require('./' + func + '/' + func).default;\r\n\t}\r\n\t\r\n\t// load language file\r\n\ttry {\r\n\t\ti18n.setTranslation(i18n.getLanguage(), require('./' + func + '/i18n/' + i18n.getLanguage()).default);\r\n\t}\r\n\tcatch(err) {}\r\n});\r\n\r\nexport default _;\r\n","import EventEmitter from 'events'\r\nimport io from 'socket.io-client'\r\n\r\n\r\n/**\r\n * Class for Socket.io conncetion handling.\r\n *\r\n * @description This is based on an implementation @GermanBluefox (https://github.com/GermanBluefox), see https://github.com/ioBroker/adapter-react/blob/master/src/Connection.js\r\n *\t\t\t\tOnly required functions are taken from source class. Major change is that all events are emitted, so proper error handling is possible in the App.\r\n *\r\n *\r\n * @param\t{String}\t\turl\r\n * @param\t{Object}\t\toptions\r\n * @return\t{Socket}\r\n * @see https://github.com/ioBroker/ioBroker.socketio/blob/master/lib/socket.js https://github.com/ioBroker/ioBroker.js-controller/blob/master/lib/adapter.js\r\n *\r\n */\r\nexport default class Socket extends EventEmitter {\r\n\t\r\n\tconstructor(url = null, options = {}) {\r\n\t\tsuper();\r\n\t\t\r\n\t\t// socket connection\r\n\t\tthis.socket = io(url, { timeout: 10000, ...options, query: 'ws=true' });\r\n\t\tthis.statesSubscribes = {}; // subscribed states\r\n\t\t\r\n\t\t/*\r\n\t\t * API events\r\n\t\t * @see https://github.com/socketio/socket.io-client/blob/HEAD/docs/API.md#socket\r\n\t\t *\r\n\t\t */\r\n\t\t// connect\r\n\t\tthis.socket.on('connect', () => this.emit('connect'));\r\n\t\t\r\n\t\t// reconnect: Fired upon a successful reconnection.\r\n\t\tthis.socket.on('reconnect', attempts => this.emit('reconnect', attempts));\r\n\t\t\r\n\t\t// reconnect_error: Fired upon a reconnection attempt error.\r\n\t\tthis.socket.on('reconnect_error', error => this.emit('error', { 'type': 'reconnect', 'event': 'reconnect_error', 'message': (error && error.message) || 'Reconnection error' }));\r\n\t\t\r\n\t\t// reconnect_failed: Fired upon a reconnection attempt error.\r\n\t\tthis.socket.on('reconnect_failed', () => this.emit('error', { 'type': 'reconnect', 'event': 'reconnect_failed', 'message': 'Reconnection failed' }));\r\n\t\t\r\n\t\t// discconect\r\n\t\tthis.socket.on('disconnect', reason => this.emit('disconnect', reason));\r\n\t\t\r\n\t\t// error\r\n\t\tthis.socket.on('error', error => this.emit('error', { 'type': 'error', 'event': 'error', 'message': (error && error.message) || 'Unknown error' }));\r\n\t\t\r\n\t\t// connect_failed\r\n\t\tthis.socket.on('connect_failed', error => this.emit('error', { 'type': 'connect', 'event': 'connect_error', 'message': (error && error.message) || 'Connection error' }));\r\n\t\t\r\n\t\t// connect_error\r\n\t\tthis.socket.on('connect_error', error => this.emit('error', { 'type': 'connect', 'event': 'connect_error', 'message': (error && error.message) || 'Connection error' }));\r\n\t\t\r\n\t\t// connect_timeout\r\n\t\tthis.socket.on('connect_timeout', () => this.emit('error', { 'type': 'connect', 'event': 'connect_timeout', 'message': 'Connect ran into timeout' }));\r\n\t\t\r\n\t\t/*\r\n\t\t * ioBroker events\r\n\t\t *\r\n\t\t */\r\n\t\tthis.socket.on('stateChange', (id, state) => setTimeout(() => this.stateChange(id, state), 0));\r\n\t}\r\n\t\r\n\t/**\r\n\t * Subscribes to multiple states by setting a callback.\r\n\t *\r\n\t */\r\n\t_getPatternFromId(id) {\r\n\t\tlet pattern = id\r\n\t\t\t.replace(/\\./g, '\\\\.')\r\n\t\t\t.replace(/\\*/g, '.*')\r\n\t\t\t.replace(/\\(/g, '\\\\(')\r\n\t\t\t.replace(/\\)/g, '\\\\)')\r\n\t\t\t.replace(/\\+/g, '\\\\+')\r\n\t\t\t.replace(/\\[/g, '\\\\[');\r\n\r\n\t\tif (pattern.indexOf('*') === -1) {\r\n\t\t\tpattern += '$';\r\n\t\t}\r\n\t\t\r\n\t\treturn pattern;\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t *\r\n\t */\r\n\tdisconnect() {\r\n\t\treturn this.socket.close();\r\n\t}\r\n\t\r\n\t/**\r\n\t * Subscribes to multiple states by setting a callback.\r\n\t *\r\n\t */\r\n\tsubscribeStates(ids, cb) {\r\n\t\tids = Array.isArray(ids) ? ids : [ids];\r\n\t\tids.forEach(id => this.subscribeState(id, cb));\r\n\t}\r\n\t\r\n\t/**\r\n\t * Subscribes to a state by setting a callback.\r\n\t *\r\n\t */\r\n\tsubscribeState(id, cb) {\r\n\t\t\r\n\t\tif (this.socket.connected) {\r\n\t\t\tif (!this.statesSubscribes[id]) {\r\n\t\t\t\tlet reg = this._getPatternFromId(id);\r\n\t\t\t\tthis.statesSubscribes[id] = { reg: new RegExp(reg), cbs: [cb] };\r\n\t\t\t\tthis.socket.emit('subscribe', id);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.statesSubscribes[id].cbs.indexOf(cb) === -1 && this.statesSubscribes[id].cbs.push(cb); \r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Subscribes to a state by setting a callback.\r\n\t *\r\n\t */\r\n\t/*subscribeLog(cb) {\r\n\t\t\r\n\t\tif (this.socket.connected) {\r\n\t\t\tthis.socket.emit('requireLog', true);\r\n\t\t\tthis.socket.on('log', cb);\r\n\t\t}\r\n\t}*/\r\n\t\r\n\t/**\r\n\t * Fires pre-registered callbacks (via subscribeState) upon state change.\r\n\t *\r\n\t */\r\n\tstateChange(id, state) {\r\n\t\t\r\n\t\tid = id ? id.replace(/[\\s'\"]/g, '_') : '';\r\n\t\tfor (const task in this.statesSubscribes) {\r\n\t\t\tif (this.statesSubscribes.hasOwnProperty(task) && this.statesSubscribes[task].reg.test(id)) {\r\n\t\t\t\tthis.statesSubscribes[task].cbs.forEach(cb => cb(id, state));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets an object view.\r\n\t *\r\n\t */\r\n\tgetAdapterInstances(adapter, cb) {\r\n\t\t\r\n\t\tif (typeof adapter === 'function') {\r\n\t\t\tcb = adapter;\r\n\t\t\tadapter = null;\r\n\t\t}\r\n\t\t\r\n\t\treturn this.getObjectView('system', 'instance', { 'startkey': 'system.adapter.' + (adapter ? adapter + '.' : ''), 'endkey': 'system.adapter.' + (adapter ? adapter + '.999' : 'zzz') }, cb);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets an object.\r\n\t *\r\n\t */\r\n\tgetObject(id, cb) {\r\n\t\t\r\n\t\tif (!cb) {\r\n\t\t\treturn new Promise((resolve, reject) => this.getObject(id, (err, obj) => err ? reject(err) : resolve(obj)));\r\n\t\t} else {\r\n\t\t\tthis.socket.emit('getObject', id, cb);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets an object view.\r\n\t *\r\n\t */\r\n\tgetObjectView(design, search, params, cb) {\r\n\t\t\r\n\t\tif (!cb) {\r\n\t\t\treturn new Promise((resolve, reject) => this.getObjectView(design, search, params, err => err ? reject(err) : resolve()));\r\n\t\t} else {\r\n\t\t\tthis.socket.emit('getObjectView', design, search, params, cb);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets a remote ressource.\r\n\t *\r\n\t */\r\n\tgetRemoteResource(url, cb) {\r\n\t\t\r\n\t\tif (!cb) {\r\n\t\t\treturn new Promise((resolve, reject) => this.getRemoteResource(url, (err, state) => err ? reject(err) : resolve(state)));\r\n\t\t} else {\r\n\t\t\tthis.socket.emit('httpGet', url, cb);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets a state.\r\n\t *\r\n\t */\r\n\tgetState(id, cb) {\r\n\t\t\r\n\t\tif (!cb) {\r\n\t\t\treturn new Promise((resolve, reject) => this.getState(id, (err, state) => err ? reject(err) : resolve(state)));\r\n\t\t} else {\r\n\t\t\tthis.socket.emit('getState', id, cb);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets multiple states at once.\r\n\t *\r\n\t */\r\n\tgetStates(pattern, cb) {\r\n\t\t\r\n\t\tif (!cb) {\r\n\t\t\treturn new Promise((resolve, reject) => this.getStates(pattern, (err, state) => err ? reject(err) : resolve(state)));\r\n\t\t} else {\r\n\t\t\tthis.socket.emit('getStates', pattern, cb);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets the state history.\r\n\t *\r\n\t */\r\n\tgetStateHistory(id, options, cb) {\r\n\t\t\r\n\t\tif (typeof options === 'function') {\r\n\t\t\tcb = options;\r\n\t\t\toptions = {};\r\n\t\t}\r\n\t\t\r\n\t\tif (!cb) {\r\n\t\t\treturn new Promise((resolve, reject) => this.getStateHistory(id, options, (err, state) => err ? reject(err) : resolve(state)));\r\n\t\t} else {\r\n\t\t\tthis.socket.emit('getHistory', id, options, cb);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Sets a state.\r\n\t *\r\n\t */\r\n\tsetState(id, val, cb) {\r\n\t\t\r\n\t\tif (!cb) {\r\n\t\t\treturn new Promise((resolve, reject) => this.setState(id, val, err => err ? reject(err) : resolve()));\r\n\t\t} else {\r\n\t\t\tthis.socket.emit('setState', id, val, cb);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Unsubscribe from multiple states.\r\n\t *\r\n\t */\r\n\tunsubscribeStates(ids) {\r\n\t\tids = Array.isArray(ids) ? ids : [ids];\r\n\t\tids.forEach(id => this.unsubscribeState(id));\r\n\t}\r\n\t\r\n\t/**\r\n\t * Unsubscribe a state.\r\n\t *\r\n\t */\r\n\tunsubscribeState(id) {\r\n\t\t\r\n\t\tif (this.statesSubscribes[id] && this.socket.connected) {\r\n\t\t\tthis.socket.emit('unsubscribe', id);\r\n\t\t\tdelete this.statesSubscribes[id];\r\n\t\t}\r\n\t}\r\n}\r\n","import Socket from './Socket'\r\n\r\n/**\r\n * Connection\r\n +\r\n *\r\n */\r\nexport default class Connection {\r\n\r\n\t/*\r\n\t * URL\r\n\t */\r\n\tstatic url = window.location.hostname;\r\n\t\r\n\t/*\r\n\t * Connection\r\n\t */\r\n\tstatic connection = null;\r\n\t\r\n\t/**\r\n\t * Connects to the Socket.\r\n\t *\r\n\t * @param\t{String}\turl\r\n\t * @param\t{Array}\t\tlisteners\r\n\t * @return\t{Connection}\r\n\t */\r\n\tstatic connect(url = null, listeners = null) {\r\n\t\t\r\n\t\t// set URL\r\n\t\tif (url) {\r\n\t\t\tConnection.setUrl = url;\r\n\t\t}\r\n\t\t\r\n\t\t// connect\r\n\t\tConnection.connection = new Socket(Connection.url);\r\n\t\t\r\n\t\t// set listeners\r\n\t\tif (listeners) {\r\n\t\t\tConnection.setListeners = listeners;\r\n\t\t}\r\n\t\t\r\n\t\t// return connection\r\n\t\treturn Connection.connection;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets the current Connection.\r\n\t *\r\n\t * @param\tvoid\r\n\t * @return\t{Connection}\tCurrent Connection\r\n\t */\r\n\tstatic get getConnection() {\r\n\t\treturn Connection.connection || null;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Get the current URL.\r\n\t *\r\n\t * @param\tvoid\r\n\t * @return\t{String}\tURL\r\n\t */\r\n\tstatic get getUrl() {\r\n\t\treturn Connection.url;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Reconnect to the Socket.\r\n\t *\r\n\t * @param\tvoid\r\n\t * @return\t{String}\tURL\r\n\t */\r\n\tstatic get reconnect() {\r\n\t\treturn Connection.connect;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Sets an event listener.\r\n\t *\r\n\t * @param\t{Object}\t\t\tlistener\r\n\t * @param\t{String}\t\t\tlistener.event\r\n\t * @param\t{Function}\t\t\tlistener.callback\r\n\t * @return\tvoid\r\n\t */\r\n\tstatic set setListener(listener) {\r\n\t\tConnection.connection.on(listener.event, listener.callback);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Set event listeners.\r\n\t *\r\n\t * @param\t{Array<Object>}\t\tlisteners\r\n\t * @return \t{Boolean}\r\n\t */\r\n\tstatic set setListeners(listeners = []) {\r\n\t\t\r\n\t\tif (!listeners || !Array.isArray(listeners)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tlisteners.forEach(listener => Connection.setListener = listener);\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Set a new URL (has to be set before calling connect()).\r\n\t *\r\n\t * @param\t{String}\tURL\r\n\t * @return\tvoid\r\n\t */\r\n\tstatic set setUrl(url) {\r\n\t\tConnection.url = url;\r\n\t}\r\n}\r\n","var map = {\n\t\"./de\": 181,\n\t\"./de.js\": 181,\n\t\"./en\": 182,\n\t\"./en.js\": 182\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 655;","var map = {\n\t\"./de\": 185,\n\t\"./de.js\": 185,\n\t\"./en\": 186,\n\t\"./en.js\": 186\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 656;","var map = {\n\t\"./de\": 189,\n\t\"./de.js\": 189,\n\t\"./en\": 190,\n\t\"./en.js\": 190\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 657;","var map = {\n\t\"./de\": 193,\n\t\"./de.js\": 193,\n\t\"./en\": 194,\n\t\"./en.js\": 194\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 658;","module.exports = __webpack_public_path__ + \"static/media/AdapterStatus1.38536619.png\";","module.exports = __webpack_public_path__ + \"static/media/Chart1.cb44dbbf.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/StateList2.7819d286.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/StateList4.5695145e.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","var map = {\n\t\"./AdapterStatus/AdapterStatus.settings\": 273,\n\t\"./Chart/Chart.settings\": 276,\n\t\"./DateTime/DateTime.settings\": 277,\n\t\"./Map/Map.settings\": 278,\n\t\"./Multimedia/Multimedia.settings\": 280,\n\t\"./StateList/StateList.settings\": 281,\n\t\"./StateListHorizontal/StateListHorizontal.settings\": 283,\n\t\"./Weather/Weather.settings\": 285,\n\t\"./iFrame/iFrame.settings\": 286\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 677;","var map = {\n\t\"./AdapterStatus/AdapterStatus.config\": 272,\n\t\"./Chart/Chart.config\": 275,\n\t\"./DateTime/DateTime.config\": 195,\n\t\"./Map/Map.config\": 196,\n\t\"./Multimedia/Multimedia.config\": 279,\n\t\"./StateList/StateList.config\": 140,\n\t\"./StateListHorizontal/StateListHorizontal.config\": 282,\n\t\"./Weather/Weather.config\": 284,\n\t\"./iFrame/iFrame.config\": 197\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 678;","import React from 'react'\r\nimport i18n from '../../controller/i18n'\r\n\r\nimport AddIcon from '@material-ui/icons/AddCircle'\r\nimport InputButton from '@material-ui/core/Button'\r\n\r\nimport Field from './Field'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles((theme) => ({\r\n\tInputButton: {\r\n\t\twidth: '100%'\r\n\t}\r\n}));\r\n\r\n\r\n/*\r\n *\r\n */\r\nexport default function Button(props) {\r\n\tconst { id, label, color, variant, disabled, startIcon, onClick } = props;\r\n\tconst classes = useStyles(props);\r\n\t\r\n\treturn (\r\n\t\t<Field {...props}>\r\n\t\t\t<InputButton\r\n\t\t\t\tkey={id}\r\n\t\t\t\tclasses={{ root: classes.InputButton }}\r\n\t\t\t\tvariant={variant || 'contained'}\r\n\t\t\t\tcolor={color || 'primary'}\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\tstartIcon={startIcon || <AddIcon />}\r\n\t\t\t\tonClick={onClick}\r\n\t\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t{i18n.t(label)}\r\n\t\t\t</InputButton>\r\n\t\t</Field>\r\n\r\n\t)\r\n}","import TextInput from './Text'\r\n\r\n\r\n/*\r\n *\r\n */\r\nexport default function NumberInput(props) {\r\n\treturn TextInput({ ...props, type: 'number' });\r\n}","import React from 'react'\r\nimport i18n from '../../controller/i18n'\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\n\r\nimport Text from './Text'\r\n\r\n\r\n/*\r\n *\r\n */\r\nexport default function InputSelect(props) {\r\n\tconst { id, selection, val } = props;\r\n\t\r\n\tlet value = '';\r\n\tconst menuOptions = selection.map(option => {\r\n\t\tconst key = Object.keys(option).shift();\r\n\t\t\r\n\t\tif (key === val) {\r\n\t\t\tvalue = val;\r\n\t\t}\r\n\t\t\r\n\t\treturn <MenuItem key={'MenuItem-' + id + '-' + key} value={key}>{i18n.t(option[key])}</MenuItem>\r\n\t});\r\n\t\r\n\treturn (\r\n\t\t<Text\r\n\t\t\t{...props}\r\n\t\t\tval={value}\r\n\t\t\tselect={true}\r\n\t\t\t>\r\n\t\t\t\r\n\t\t\t{menuOptions}\r\n\t\t</Text>\r\n\t);\r\n}","var map = {\n\t\"./de\": 381,\n\t\"./de.js\": 381\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 682;","import React from 'react'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport Paper from '@material-ui/core/Paper'\r\n\r\nimport i18n from '../../controller/i18n'\r\nimport Log from '../../controller/Log'\r\n\r\nimport Dialog from '../../components/Dialog'\r\nimport EnhancedTable from '../../components/EnhancedTable'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles'\r\nconst styles = theme => ({\r\n\tpinToTop: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: 0,\r\n\t\tleft: 0\r\n\t}\r\n});\r\n\r\n\r\nconst headCells = [\r\n\t{ id: 'time', disablePadding: false, type: 'Date', label: i18n.t('Time'), noWrap: true },\r\n\t{ id: 'module', disablePadding: false, label: i18n.t('Module'), noWrap: true },\r\n\t{ id: 'criticality', disablePadding: false, label: i18n.t('Criticality'), noWrap: true },\r\n\t{ id: 'message', disablePadding: false, label: i18n.t('Message') },\r\n\t{ id: 'stack', disablePadding: false, type: 'Object', label: i18n.t('Stack Trace') },\r\n];\r\n\r\nconst rowStyles = { // https://material-ui.com/components/alert/#simple-alerts\r\n\t'criticality': {\r\n\t\t'debug': {\r\n\t\t\tcolor: 'rgba(0, 0, 0, 0.4)',\r\n\t\t\tbackgroundColor: 'rgba(0, 0, 0, 0.1)'\r\n\t\t},\r\n\t\t'info': {\r\n\t\t\tcolor: 'rgb(13, 60, 97)',\r\n\t\t\tbackgroundColor: 'rgb(232, 244, 253)'\r\n\t\t},\r\n\t\t'warn': {\r\n\t\t\tcolor: 'rgb(102, 60, 0)',\r\n\t\t\tbackgroundColor: 'rgb(255, 244, 229)'\r\n\t\t},\r\n\t\t'error': {\r\n\t\t\tcolor: 'rgb(97, 26, 21)',\r\n\t\t\tbackgroundColor: 'rgb(253, 236, 234)'\r\n\t\t},\r\n\t\t'success': {\r\n\t\t\tcolor: 'rgb(30, 70, 32)',\r\n\t\t\tbackgroundColor: 'rgb(237, 247, 237)'\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass LogsPage extends React.Component {\r\n\t\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\tconst logs = Log.getLog();\r\n\t\treturn (\r\n\r\n<Dialog\r\n\tclasses={{ CustomDialog: classes.pinToTop }}\r\n\tfullWidth={true}\r\n\tmaxWidth={'xl'}\r\n\t\r\n\topen={(this.props.page === 'logs')}\r\n\tonClose={() => this.props.navigate('home')}\r\n\t\r\n\theader=\"Logs\"\r\n\tactions={\r\n\t\t<Button autoFocus onClick={() => this.props.navigate('home')} color=\"primary\">\r\n\t\t\t{i18n.t('Close')}\r\n\t\t</Button>\r\n\t}\r\n\t>\r\n\t\r\n\t<Paper className={classes.paper}>\r\n\t\t<EnhancedTable\r\n\t\t\theadCells={headCells}\r\n\t\t\trows={logs}\r\n\t\t\trowStyles={rowStyles}\r\n\t\t\t\r\n\t\t\tselectable={false}\r\n\t\t\tsortable={true}\r\n\t\t\ttoolbar={false}\r\n\t\t\tstickyHeader\r\n\t\t\t/>\r\n\t\t\r\n\t</Paper>\r\n\t\r\n</Dialog>\r\n\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(LogsPage);\r\n","export default {\r\n\t\"iobrokerWebAdapterUrl\": \"https://192.168.178.29:8082\"\r\n}","import React from 'react'\r\n\r\nimport Log from '../controller/Log'\r\nimport Grid from '@material-ui/core/Grid'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles(theme => ({\r\n\tgridContainer: {\r\n\t\tpaddingLeft: theme.spacing(1),\r\n\t\t[theme.breakpoints.down('md')]: {\r\n\t\t\tpaddingLeft: theme.spacing(0.4)\r\n\t\t}\r\n\t}\r\n}));\r\n\r\n\r\nexport default function GridContainer(props) {\r\n\tconst { contents = {} } = props;\r\n\t\r\n\tconst classes = useStyles();\r\n\tconst columns = Object.keys(contents).length;\r\n\t\r\n\tlet grid = [];\r\n\tfor (let column = 1; column <= columns; column++) {\r\n\t\t\r\n\t\tif (!contents[column]) {\r\n\t\t\tLog._('GridContainer', 'No content for column #' + column + '!', 'warn');\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\t\r\n\t\tgrid.push(\r\n\t\t\t<Grid key={column} item\t\t\t\t// @see https://material-ui.com/customization/breakpoints/\r\n\t\t\t\txs={12}\t\t\t\t\t\t\t//    0 -  600px\r\n\t\t\t\tsm={6}\t\t\t\t\t\t\t//  600 -  960px\r\n\t\t\t\tmd={6}\t\t\t\t\t\t\t//  960 - 1280px\r\n\t\t\t\tlg={Math.round(12/columns)}\t\t// 1280 - 1920px\r\n\t\t\t\txl={Math.round(12/columns)}\t\t// \t\t> 1920px\r\n\t\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t{contents[column]}\r\n\t\t\t</Grid>\r\n\t\t);\r\n\t}\r\n\t\r\n\treturn (\r\n\r\n<Grid container spacing={0} className={classes.gridContainer}>\r\n\t{grid}\r\n</Grid>\r\n\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\r\nimport IconButton from '@material-ui/core/IconButton'\r\n\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\n\r\n\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { amber, green } from '@material-ui/core/colors';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles(theme => ({\r\n\tsuccess: {\r\n\t\tbackgroundColor: green[600],\r\n\t},\r\n\terror: {\r\n\t\tbackgroundColor: theme.palette.error.dark,\r\n\t},\r\n\tinfo: {\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t},\r\n\twarning: {\r\n\t\tbackgroundColor: amber[700],\r\n\t},\r\n\ticon: {\r\n\t\tfontSize: 20,\r\n\t},\r\n\ticonVariant: {\r\n\t\topacity: 0.9,\r\n\t\tmarginRight: theme.spacing(1),\r\n\t},\r\n\tmessage: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n}));\r\n\r\n\r\nconst variantIcon = {\r\n\tsuccess: CheckCircleIcon,\r\n\twarning: WarningIcon,\r\n\terror: ErrorIcon,\r\n\tinfo: InfoIcon,\r\n};\r\n\r\n\r\nexport default function StatusSnackbar(props) {\r\n\tconst classes = useStyles();\r\n\tlet { className, open, autoHideDuration, message, closeButton, onClose, variant, ...other } = props;\r\n\tconst Icon = variantIcon[variant];\r\n\t\r\n\topen = open || true;\r\n\tautoHideDuration = autoHideDuration || null;\r\n\treturn (\r\n\r\n<Snackbar\r\n\tanchorOrigin={{\r\n\t\tvertical: 'bottom',\r\n\t\thorizontal: 'center',\r\n\t}}\r\n\topen={open}\r\n\tautoHideDuration={autoHideDuration}\r\n\tonClose={onClose}\r\n\t>\r\n\t<SnackbarContent\r\n\t\tclassName={clsx(classes[variant], className)}\r\n\t\tmessage={\r\n\t\t\t<span id=\"client-snackbar\" className={classes.message}>\r\n\t\t\t\t<Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n\t\t\t\t{message}\r\n\t\t\t</span>\r\n\t\t}\r\n\t\taction={closeButton && [\r\n\t\t\t<IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n\t\t\t\t<CloseIcon className={classes.icon} />\r\n\t\t\t</IconButton>,\r\n\t\t]}\r\n\t\t{...other}\r\n\t\t/>\r\n\t\t\r\n</Snackbar>\r\n\r\n\t);\r\n}","import React from 'react'\r\n//import clsx from 'clsx'\r\n\r\nimport i18n from '../controller/i18n'\r\n\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/tooltip'\r\n//import Badge from '@material-ui/core/Badge'\r\n//import NotificationsIcon from '@material-ui/icons/Notifications'\r\n//import MenuIcon from '@material-ui/icons/Menu'\r\nimport DonateIcon from '@material-ui/icons/Favorite'\r\nimport SettingsIcon from '@material-ui/icons/Settings'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles(theme => ({\r\n\tappBar: {\r\n\t\tflexGrow: 1,\r\n\t\tboxShadow: 'none',\r\n\t\ttransform: 'none',\r\n\t},\r\n\ttoolbar: {\r\n\t\tbackgroundColor: theme.palette.primary.main\r\n\t},\r\n\tmenuButton: {\r\n\t\tmarginRight: theme.spacing(2)\r\n\t},\r\n\ttitle: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tnotConnected: {\r\n\t\tcolor: '#f30'\r\n\t}\r\n}));\r\n\r\n\r\nexport default function TopBar(props) {\r\n\tconst classes = useStyles();\r\n\tconst { children, title, connectionStatus, navigate } = props;\r\n\t\r\n\tconst connectionStatusIcon = connectionStatus === true ? 'lan-connect' : (connectionStatus === 'pending' ? 'lan-pending' : 'lan-disconnect');\r\n\tconst connectionStatusTooltip = connectionStatus === true ? i18n.t('Connected to ioBroker') : (connectionStatus === 'pending' ? i18n.t('Not connected to ioBroker! Reconnecting..') : i18n.t('Not connected to ioBroker! Connection failed!'));\r\n\t\r\n\treturn (\r\n\r\n<AppBar id=\"appBar\" position=\"static\" className={classes.appBar}>\r\n\r\n\t<Toolbar className={classes.toolbar}>\r\n\t\t\r\n\t\t<Typography variant=\"h6\" className={classes.title}>\r\n\t\t\t{title}\r\n\t\t</Typography>\r\n\t\t\r\n\t\t<Hidden smDown>\r\n\t\t\t{connectionStatus !== true && <IconButton classes={{ root: classes.notConnected }} color=\"inherit\" onClick={() => navigate('logs')}>\r\n\t\t\t\t<Tooltip title={i18n.t(connectionStatusTooltip)}>\r\n\t\t\t\t\t<span className={\"mdi mdi-\" + connectionStatusIcon}></span>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t</IconButton>}\r\n\t\t\t<IconButton color=\"inherit\" onClick={() => navigate('donate')}>\r\n\t\t\t\t<DonateIcon />\r\n\t\t\t</IconButton>\r\n\t\t\t<IconButton color=\"inherit\" onClick={() => navigate('configuration')}>\r\n\t\t\t\t<SettingsIcon />\r\n\t\t\t</IconButton>\r\n\t\t</Hidden>\r\n\t\t\r\n\t\t{/*\r\n\t\t<IconButton color=\"inherit\" onClick={() => toggleDrawer('notificationDrawer', true)}>\r\n\t\t\t<Badge badgeContent={notifications} color=\"secondary\">\r\n\t\t\t\t<NotificationsIcon />\r\n\t\t\t</Badge>\r\n\t\t</IconButton>\r\n\t\t*/}\r\n\t\t\r\n\t</Toolbar>\r\n\t\r\n\t{children}\r\n</AppBar>\r\n\r\n\t);\r\n}\r\n","/*\r\n * by QoP <https://stackoverflow.com/users/4484822/qop>\r\n * @see https://stackoverflow.com/questions/36862334/get-viewport-window-height-in-reactjs\r\n */\r\nimport { useState, useEffect } from 'react';\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height\r\n  };\r\n}\r\n\r\nexport default function useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}\r\n","import React, { useState, useEffect, useRef, useCallback } from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport Settings from '../controller/Settings'\r\nimport useWindowDimensions from '../helpers/useWindowDimensions'\r\n\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport Box from '@material-ui/core/Box'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles(theme => ({\r\n\ticon: {\r\n\t\t...theme.components.icon,\r\n\t\tcolor: '#fff',\r\n\t\tpaddingBottom: '6px',\r\n\t\twidth: '1em',\r\n\t\theight: '1em',\r\n\t\tdisplay: 'inline-block',\r\n\t\tfontSize: '1.5rem',\r\n\t\ttransition: 'fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\r\n\t\tflexShrink: 0,\r\n\t\tuserSelect: 'none'\r\n\t},\r\n\ttabs: {\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t\tpaddingLeft: theme.spacing(),\r\n\t\tcolor: '#fff',\r\n\t\twidth: 'calc(100% - ' + theme.spacing() + 'px)',\r\n\t\tzIndex: 101,\r\n\t\tborderBottom: '5px solid #eee'\r\n\t},\r\n\tfixed: {\r\n\t\tposition: 'fixed',\r\n\t\ttop: 0\r\n\t},\r\n\tindicator: {\r\n\t\tbackgroundColor: '#fff',\r\n\t},\r\n\tfullscreen: {\r\n\t\t//marginLeft: -theme.spacing(),\r\n\t\tmarginTop: '-4px',\r\n\t\tposition: 'relative',\r\n\t\tzIndex: 1001,\r\n\t\toverflow: 'hidden'\r\n\t},\r\n\tgrid: {\r\n\t\tpaddingBottom: '30px'\r\n\t}\r\n}));\r\n\r\n\r\nexport default function TabBar(props) {\r\n\tlet { tabs, selectedTab, onSelectTab } = props;\r\n\tconst classes = useStyles();\r\n\tlet tabBarProps = useRef({});\r\n\t\r\n\t// tab\r\n\tconst [tab, setTab] = useState(selectedTab);\r\n\tconst handleChange = (event, tab) => {\r\n\t\tonSelectTab(tab);\r\n\t\tsetTab(tab);\r\n\t}\r\n\t\r\n\t// scroll\r\n\tconst [fixed, setFixed] = useState(false);\r\n\tconst handleScroll = useCallback(() => {\r\n\t\tconst threshold = (tabBarProps.current.top + tabBarProps.current.height - 53);\r\n\t\tconst fixed = window.scrollY >= threshold;\r\n\t\t\r\n\t\tsetFixed(prevFixed => {\r\n\t\t\tif (prevFixed !== fixed) {\r\n\t\t\t\tdocument.getElementById('root').style.paddingTop = fixed ? (threshold-5-8) + 'px' : 0;\r\n\t\t\t\treturn fixed;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn prevFixed;\r\n\t\t});\r\n\t\t\r\n\t}, [tabBarProps]);\r\n\r\n\tuseEffect(() => setTab(selectedTab), [selectedTab]);\r\n\t\r\n\tuseEffect(() => {\r\n\t\ttabBarProps.current = {\r\n\t\t\ttop: document.getElementById('tabBar').offsetTop,\r\n\t\t\theight: document.getElementById('tabBar').offsetHeight\r\n\t\t}\r\n\t\t\r\n\t\twindow.addEventListener('scroll', handleScroll);\r\n\t\treturn () => window.removeEventListener('scroll', handleScroll, 0);\r\n\t\t\r\n\t}, [handleScroll]);\r\n\t\r\n\t// render tabs\r\n\tconst renderedTabs = tabs.map((tab, i) => {\r\n\t\treturn (\r\n\t\t\t<Tab\r\n\t\t\t\tkey={'tab' + i}\r\n\t\t\t\ticon={<span className={clsx(classes.icon, 'mdi mdi-' + tab.icon)}></span>}\r\n\t\t\t\tlabel={!fixed && Settings.getSetting('tabsHideLabels') !== true && tab.title ? tab.title : null}\r\n\t\t\t\t/>\r\n\t\t);\r\n\t});\r\n\t\r\n\treturn (\r\n\r\n<Tabs\r\n\tid=\"tabBar\"\r\n\tvalue={tab}\r\n\tonChange={handleChange}\r\n\tvariant=\"scrollable\"\r\n\tclasses={{\r\n\t\troot: clsx(classes.tabs, fixed && classes.fixed),\r\n\t\tindicator: classes.indicator\r\n\t}}>\r\n\t\r\n\t{renderedTabs}\r\n</Tabs>\r\n\r\n\t);\r\n}\r\n\r\n\r\nexport function TabPanel(props) {\r\n\tconst { children, selectedTab, renderedTab, fullscreen } = props;\r\n\tconst classes = useStyles();\r\n\t\r\n\t\r\n\t// get map height based on viewport\r\n\tconst { height } = useWindowDimensions();\r\n\tconst [mapHeight, setMapHeight] = useState(height);\r\n\tlet topBarHeight = useRef({});\r\n\t\r\n\tuseEffect(() => {\r\n\t\ttopBarHeight.current = document.getElementById('appBar').offsetHeight;\r\n\t\tsetMapHeight(height-topBarHeight.current+4);\r\n\t\t\r\n\t}, [height]);\r\n\t\r\n\t/*\r\n\t * Some components need to be visible upon loading, so proper initialise.\r\n\t * Due to the 'hidden' attribute though, they might be hidden.\r\n\t * This is a workaround to initially show everything for a short period of time and then hide according to tab settings.\r\n\t *\r\n\t */\r\n\tconst [hidden, setHidden] = useState(null);\r\n\tuseEffect(() => {\r\n\t\tlet timer = setTimeout(() => setHidden(selectedTab !== renderedTab), 10);\r\n\t\treturn () => clearTimeout(timer);\r\n\t\t\r\n\t}, [selectedTab, renderedTab]);\r\n\t\r\n\treturn (\r\n\r\n<Box\r\n\trole=\"tabpanel\"\r\n\thidden={hidden}\r\n\tid={'tabpanel-' + renderedTab}\r\n\tclassName={clsx(fullscreen ? classes.fullscreen : classes.grid)}\r\n\tstyle={{ height: mapHeight + 'px' }}\r\n\t>\r\n\t\r\n\t{children}\r\n</Box>\r\n\r\n\t);\r\n}\r\n","import React from 'react'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle'\r\nimport MuiDialogContent from '@material-ui/core/DialogContent'\r\nimport MuiDialogActions from '@material-ui/core/DialogActions'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport Connection from '../controller/Connection'\r\nimport Device from '../controller/Device'\r\nimport Log from '../controller/Log'\r\n\r\nimport Modules from '../modules'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles';\r\nconst styles = theme => ({\r\n\troot: {\r\n\t\tmargin: 0,\r\n\t\tpadding: theme.spacing(2),\r\n\t},\r\n\tcloseButton: {\r\n\t\tposition: 'absolute',\r\n\t\tright: theme.spacing(1),\r\n\t\ttop: theme.spacing(1),\r\n\t\tcolor: theme.palette.grey[500],\r\n\t},\r\n});\r\n\r\n\r\nconst DialogTitle = withStyles(styles)(props => {\r\n\tconst { children, classes, onClose, ...other } = props;\r\n\treturn (\r\n\r\n<MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n\t<Typography variant=\"h6\">{children}</Typography>\r\n\t{onClose ? (\r\n\t<IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n\t\t<CloseIcon />\r\n\t</IconButton>\r\n\t) : null}\r\n</MuiDialogTitle>\r\n\r\n\t);\r\n});\r\n\r\nconst DialogContent = withStyles(theme => ({\r\n\troot: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\t[theme.breakpoints.down('md')]: {\r\n\t\t\tpaddingLeft: theme.spacing(1)\r\n\t\t}\r\n\t},\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles(theme => ({\r\n\troot: {\r\n\t\tmargin: 0,\r\n\t\tpadding: theme.spacing(1),\r\n\t},\r\n}))(MuiDialogActions);\r\n\r\n\r\nexport default class Popup extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tchildren: []\r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\t\r\n\t\tlet device = this.props.contents && this.props.contents.device;\r\n\t\tif (device.id && this.props.contents.ts !== prevProps.contents.ts) {\r\n\t\t\t\r\n\t\t\t// get from cache\r\n\t\t\tif (device.children.length) {\r\n\t\t\t\tLog._('Popup', [ 'Got ' + Object.keys(device.children).length + ' states for device ' + device.name + ' from cache.', device.children ]);\r\n\t\t\t\tthis.setState({ 'children': device.children }, () => this.forceUpdate());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// retrieve new\r\n\t\t\telse {\r\n\t\t\t\t// loop through states and request status\r\n\t\t\t\tlet responses = [];\r\n\t\t\t\tlet children = [];\r\n\t\t\t\t\r\n\t\t\t\tfor (let stateKey in device.states) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (device.states[stateKey].state === undefined || device.options.hiddenStates.indexOf(stateKey) > -1) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet child = new Device({\r\n\t\t\t\t\t\t\t'parent': device,\r\n\t\t\t\t\t\t\t'id': device.id + '#' + stateKey,\r\n\t\t\t\t\t\t\t'name': device.name,\r\n\t\t\t\t\t\t\t'function': device.function,\r\n\t\t\t\t\t\t\t//'states': { [stateKey]: device.states[stateKey] },\r\n\t\t\t\t\t\t\t'states': device.states,\r\n\t\t\t\t\t\t\t'options': {\r\n\t\t\t\t\t\t\t\t...device.options,\r\n\t\t\t\t\t\t\t\t'primary': stateKey,\r\n\t\t\t\t\t\t\t\t'secondary': null,\r\n\t\t\t\t\t\t\t\t'divider': children.length !== 0,\r\n\t\t\t\t\t\t\t\t'subgroup': null,\r\n\t\t\t\t\t\t\t\t'subtitle': null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tConnection.getConnection,\r\n\t\t\t\t\t\twindow.language\r\n\t\t\t\t\t);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// add child to parent\r\n\t\t\t\t\tdevice.children.push(child);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// retrieve state\r\n\t\t\t\t\tresponses.push(child.requestDeviceState(null, true));\r\n\t\t\t\t\tchildren.push(child);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tPromise.allSettled(responses).then(() => {\r\n\t\t\t\t\tLog._('Popup', [ 'Retrieved ' + Object.keys(children).length + ' states for device ' + device.name + '.', children ]);\r\n\t\t\t\t\tthis.setState({ 'children': children }, () => this.forceUpdate());\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (!device.id && this.props.contents.ts !== prevProps.contents.ts) {\r\n\t\t\tthis.setState({ 'children': [] }, () => this.forceUpdate());\r\n\t\t}\r\n\t}\r\n\t\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\treturn !this.props.contents || this.props.contents.ts !== nextProps.contents.ts;\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { open, closeDialog, contents } = this.props;\r\n\t\tconst { device } = contents;\r\n\t\t\r\n\t\treturn (\r\n\r\n<Dialog onClose={closeDialog} open={open || false} maxWidth={'md'} fullWidth={true}>\r\n\t<DialogTitle onClose={closeDialog}>\r\n\t\t{device.name}\r\n\t</DialogTitle>\r\n\t<DialogContent dividers style={{ padding: 0 }}>\r\n\t\t\r\n\t\t<Modules.StateList openDialog={null} devices={this.state.children} component={true} action={true} />\t\r\n\t\t\r\n\t</DialogContent>\r\n\t<DialogActions>\r\n\t\t<Button autoFocus onClick={closeDialog} color=\"primary\">\r\n\t\t\tClose\r\n\t\t</Button>\r\n\t</DialogActions>\r\n</Dialog>\r\n\r\n\t\t);\r\n\t};\r\n}\r\n","import React from 'react'\r\n\r\nimport Settings from '../controller/Settings'\r\n\r\nimport Card from '@material-ui/core/Card'\r\nimport CardHeader from '@material-ui/core/CardHeader'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles(theme => ({\r\n\tcard: {\r\n\t\tmargin: theme.spacing(1, 1, 0, 0),\r\n\t\t[theme.breakpoints.down('md')]: {\r\n\t\t\tmargin: theme.spacing(0.4, 0.4, 0, 0)\r\n\t\t}\r\n\t},\r\n\tcardHeaderNoContents: {\r\n\t\tpadding: theme.spacing(),\r\n\t},\r\n\tcardAvatar: props => ({\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t\tcolor: '#fff',\r\n\t\tfontSize: '24px',\r\n\t\t...props\r\n\t}),\r\n\tcardContent: {\r\n\t\tpadding: theme.spacing(0, 2),\r\n\t\t[theme.breakpoints.down('md')]: {\r\n\t\t\tpadding: theme.spacing(0)\r\n\t\t}\r\n\t}\r\n}));\r\n\r\n\r\nexport default function Widget(props) {\r\n\tconst { title, icon, iconStyle } = props;\r\n\tconst classes = useStyles(iconStyle);\r\n\t\r\n\treturn (\r\n\r\n<Card className={classes.card}>\r\n\t<CardHeader\r\n\t\tavatar={icon !== null &&\r\n\t\t\t<Avatar variant=\"rounded\" classes={{ root: classes.cardAvatar }}>\r\n\t\t\t\t{React.createElement('span', { 'className': 'mdi mdi-' + (icon || Settings.getSetting('defaultBoxIcon') || 'home') })}\r\n\t\t\t</Avatar>\r\n\t\t}\r\n\t\ttitle={title &&\r\n\t\t\t<Typography variant=\"h5\" component=\"h2\">\r\n\t\t\t\t{title}\r\n\t\t\t</Typography>\r\n\t\t}\r\n\t/>\r\n\t<CardContent className={classes.cardContent}>\r\n\t\t{props.children}\r\n\t</CardContent>\r\n</Card>\r\n\r\n\t);\r\n}\r\n","\r\nexport default {\r\n\tconfiguration: require('./ConfigurationPage/ConfigurationPage').default,\r\n\tlogs: require('./LogsPage/LogsPage').default,\r\n}","import React from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport { withTheme } from '@material-ui/core/styles'\r\nimport Hidden from '@material-ui/core/Hidden'\r\n//import { SwipeableViews } from '@tarragon/swipeable-tabs'\r\n\r\nimport { DEFAULTS } from './config/config'\r\n\r\nimport Connection from './controller/Connection'\r\nimport Devices from './controller/Devices'\r\nimport Log from './controller/Log'\r\nimport Settings from './controller/Settings'\r\n\r\nimport TopBar from './components/TopBar'\r\nimport TabBar, { TabPanel } from './components/TabBar'\r\n//import Notifications from './components/Notifications'\r\nimport GridContainer from './components/GridContainer'\r\nimport Popup from './components/Popup'\r\nimport Widget from './components/Widget'\r\n\r\nimport Modules, { ModuleSettings } from './modules'\r\nimport Pages from './pages'\r\n\r\n\r\n/**\r\n *\r\n *\r\n */\r\nconst getModule = (widget, actions = {}) => {\r\n\t\r\n\t// widget has no devices assigned\r\n\t/*\r\n\tif (ModuleSettings[widget.module] && ModuleSettings[widget.module].noDevicesAllowed !== true) {\r\n\t\tLog._('Jarvis', 'Widget ' + (widget.title || widget.module) + ' has no devices assigned to it!', 'error');\r\n\t\treturn null;\r\n\t}\r\n\t*/\r\n\t\r\n\t// get module\r\n\tconst Tag = Modules[widget.module || DEFAULTS.MODULE];\r\n\t\r\n\t// get tag\r\n\tif (Tag === undefined) {\r\n\t\tLog._('Jarvis', 'Undefined module \"' + widget.module + '\" used!', 'error');\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\treturn <Tag\r\n\t\t\t\tkey={'tag-' + widget.module + '-' + widget.title}\r\n\t\t\t\tdevices={widget.devices || []}\r\n\t\t\t\topenDialog={actions.showDevice ? actions.showDevice : null}\r\n\t\t\t\tconfig={widget.moduleConfig || {}}\r\n\t\t\t\t/>\r\n}\r\n\r\n/**\r\n *\r\n *\r\n */\r\nconst getWidget = (widget, actions = {}, key = null) => {\r\n\twidget.module = widget.module || DEFAULTS.MODULE;\r\n\t\r\n\tconst moduleSettings = ModuleSettings[widget.module] || {};\r\n\tconst content = getModule(widget, actions);\r\n\t\r\n\treturn (\r\n\t\t<Widget\r\n\t\t\tkey={key ? ('widget-' + key) : ('widget-' + widget.module + '-' + widget.key)}\r\n\t\t\ttitle={widget.title === null ? null : (widget.title || moduleSettings.title)}\r\n\t\t\ticon={widget.icon === null ? null : (widget.icon || moduleSettings.icon)}\r\n\t\t\ticonStyle={widget.iconStyle}\r\n\t\t\t>\r\n\t\t\t\r\n\t\t\t{content}\r\n\t\t</Widget>\r\n\t);\r\n}\r\n\r\n/**\r\n *\r\n *\r\n */\r\nconst getWidgets = (widgets, actions = {}, key = '') => {\r\n\t\r\n\treturn widgets.map((widget, i) => widget && getWidget(widget, actions, key ? (key + '-widget-' + i) : ('widget-' + i)));\r\n}\r\n\r\n/**\r\n *\r\n *\r\n */\r\nconst getTabPanels = (tabs, selectedTab, actions = {}) => {\r\n\t\r\n\tlet tabPanels = [];\r\n\ttabs.forEach((tab, tabIndex) => {\r\n\t\t\r\n\t\t// detect fullscreen\r\n\t\tconst fullscreen = tab._fullscreen !== undefined;\r\n\t\t\r\n\t\t// get widgets for each column\r\n\t\tlet tabGridColumnsContent = null;\r\n\t\tif (fullscreen) {\r\n\t\t\ttabGridColumnsContent = tab._fullscreen && getModule(tab._fullscreen, actions);\r\n\t\t}\r\n\t\telse if (tab.columns && Array.isArray(tab.columns)) {\r\n\t\t\tlet tabGridColumnsContents = {};\r\n\t\t\t\r\n\t\t\ttab.columns.forEach((column, columnIndex) => {\r\n\t\t\t\ttabGridColumnsContents[columnIndex+1] = getWidgets(column, actions, 'tab-' + tabIndex + '-column-' + columnIndex+1);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\ttabGridColumnsContent = <GridContainer contents={tabGridColumnsContents} />\r\n\t\t}\r\n\t\t\r\n\t\t// render tab\r\n\t\tconst tabPanel = (\r\n\t\t\t<TabPanel\r\n\t\t\t\tkey={'tabPanel-' + tabIndex}\r\n\t\t\t\trenderedTab={tabIndex}\r\n\t\t\t\tselectedTab={selectedTab}\r\n\t\t\t\tfullscreen={fullscreen}\r\n\t\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t{tabGridColumnsContent}\r\n\t\t\t</TabPanel>\r\n\t\t);\r\n\t\t\r\n\t\ttabPanels.push(tabPanel);\r\n\t});\r\n\t\r\n\treturn tabPanels;\r\n}\r\n\r\n/**\r\n *\r\n *\r\n */\r\nclass Jarvis extends React.Component {\r\n\t\r\n    constructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tselectedTab: 0,\r\n\t\t\ttabTitle: '',\r\n\t\t\t\r\n\t\t\tpage: 'home',\r\n\t\t\t\r\n\t\t\tnotificationDrawer: false,\r\n\t\t\tnotifications: [],\r\n\t\t\tnotificationsUnread: 0,\r\n\t\t\t\r\n\t\t\tdialog: false,\r\n\t\t\tdialogContents: {\r\n\t\t\t\t'ts': 0,\r\n\t\t\t\t'device': {}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// bind methods\r\n\t\tthis.closeDialog = this.closeDialog.bind(this);\r\n\t\tthis.openDialog = this.openDialog.bind(this);\r\n\t\tthis.onSelectTab = this.onSelectTab.bind(this);\r\n\t\tthis.toggleDrawer = this.toggleDrawer.bind(this);\r\n\t\tthis.navigate = this.navigate.bind(this);\r\n\t\t\r\n\t\t// get connection\r\n\t\tthis.socket = Connection.getConnection;\r\n\t\t\r\n\t\t// initialise\r\n\t\tthis.devices = Devices.getDevices();\r\n\t\tthis.tabs = (Settings.getLayout()[0] && Settings.getLayout()[0].tabs) || [];\r\n\t\tthis.tabsEnabled = this.tabs && this.tabs.length > 1;\r\n\t\t\r\n\t\tthis.state.tabIcon = this.tabs[this.state.selectedTab] && this.tabs[this.state.selectedTab].icon;\r\n\t\tthis.state.tabTitle = this.tabs[this.state.selectedTab] && this.tabs[this.state.selectedTab].title;\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\t// check if devices and settings are defined\r\n\t\tif (!this.devices || Object.keys(this.devices).length === 0 || !this.tabs || this.tabs.length === 0) {\r\n\t\t\tthis.navigate('configuration');\r\n\t\t}\r\n\t\t\r\n\t\t// get notifications\r\n\t\t/*\r\n\t\tthis.socket.getState('jarvis.0.notifications').then(notifications => {\r\n\t\t\tnotifications = (notifications && notifications.val && JSON.parse(notifications.val)) || [];\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tnotificationsUnread: notifications.filter(notification => !notification.unread || notification.unread !== false).length,\r\n\t\t\t\tnotifications: notifications\r\n\t\t\t});\r\n\t\t});\r\n\t\t\r\n\t\tthis.socket.subscribeState(DEFAULTS.NODE_NOTIFICATIONS, notifications => Log._('Jarvis', notifications));\r\n\t\t*/\r\n\t}\r\n\t\r\n\tcloseDialog() {\r\n\t\tthis.setState({ 'dialog': false, 'dialogContents': { 'ts': Date.now(), 'device': {} } });\r\n\t}\r\n\t\r\n\topenDialog(device) {\r\n\t\tthis.setState({ 'dialog': true, 'dialogContents': { 'ts': Date.now(), 'device': device } });\r\n\t}\r\n\t\r\n\tonSelectTab(tab) {\r\n\t\tthis.setState({\r\n\t\t\tselectedTab: tab,\r\n\t\t\ttabIcon: this.tabs[tab].icon,\r\n\t\t\ttabTitle: this.tabs[tab].title\r\n\t\t});\r\n\t}\r\n\t\r\n\ttoggleDrawer(drawer, open) {\r\n\t\tthis.setState({ [drawer]: open });\r\n\t}\r\n\t\r\n\tnavigate(page) {\r\n\t\tthis.setState({ page });\r\n\t}\r\n\t\r\n    render() {\r\n\t\tconst Page = Pages[this.state.page] || null;\r\n\t\t\r\n\t\tconst tabPanels = getTabPanels(this.tabs, this.state.selectedTab, { showDevice: this.openDialog });\r\n        return (\r\n\r\n<React.Fragment>\r\n\t<TopBar\r\n\t\ttitle={\r\n\t\t\t(this.tabsEnabled && <>\r\n\t\t\t\t{this.state.tabIcon && <span className={clsx(this.props.theme.components.tabIcon, 'mdi mdi-' + this.state.tabIcon)}></span>}\r\n\t\t\t\t{this.state.tabTitle !== 'null' && <span> {this.state.tabTitle}</span>}\r\n\t\t\t</>) ||\r\n\t\t\tSettings.getSetting('topBarTitle') ||\r\n\t\t\tSettings.getSetting('pageTitle') ||\r\n\t\t\t'jarvis - Smart Home Overview'\r\n\t\t}\r\n\t\t\r\n\t\tconnectionStatus={this.props.connectionStatus}\r\n\t\ttoggleDrawer={this.toggleDrawer}\r\n\t\tnavigate={this.navigate}\r\n\t\t//notifications={this.state.notificationsUnread}\r\n\t\t>\r\n\t\t\r\n\t\t{this.tabsEnabled && <TabBar tabs={this.tabs} selectedTab={this.state.selectedTab} onSelectTab={this.onSelectTab} />}\r\n\t</TopBar>\r\n\t\r\n\t\r\n\t{/* DRAWER: NOTIFICATIONS \r\n\t<Notifications\r\n\t\topen={this.state.notificationDrawer}\r\n\t\ttoggleDrawer={this.toggleDrawer}\r\n\t\tnotifications={this.state.notifications}\r\n\t\t/>*/}\r\n\t\r\n\t\r\n\t{/* PAGE */}\r\n\t{Page && <Page\r\n\t\tpage={this.state.page}\r\n\t\tnavigate={this.navigate}\r\n\t\tdevices={this.devices}\r\n\t\t/>}\r\n\t\r\n\t\r\n\t{/* POPUP */}\r\n\t<Popup\r\n\t\topen={this.state.dialog}\r\n\t\tcontents={this.state.dialogContents}\r\n\t\tcloseDialog={this.closeDialog}\r\n\t\t/>\r\n\t\r\n\t\r\n\t{/* TABS */}\r\n{/*\r\n\t<Hidden smUp>\r\n\t<SwipeableViews\r\n\t\tviews={tabPanels}\r\n\t\tselectedView={this.state.selectedTab}\r\n\t\tonSwipe={this.onSelectTab}\r\n\t\t/>\r\n\t</Hidden>\r\n\t<Hidden smDown>\r\n\t\t{tabPanels}\r\n\t</Hidden>\r\n*/}\r\n\t{tabPanels}\r\n\t\r\n</React.Fragment>\r\n\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withTheme(Jarvis);","import React from 'react'\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport { DEFAULTS } from './config/config'\r\nimport config from './config/config.dev.js'\r\n\r\nimport GridContainer from './components/GridContainer'\r\nimport StatusSnackbar from './components/StatusSnackbar'\r\n\r\nimport Connection from './controller/Connection'\r\nimport Devices from './controller/Devices'\r\nimport i18n from './controller/i18n'\r\nimport Log from './controller/Log'\r\nimport Settings from './controller/Settings'\r\nimport Jarvis from './Jarvis'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { ThemeProvider, withStyles } from '@material-ui/core/styles';\r\nconst styles = theme => ({\r\n\tloading: {\r\n\t\tmargin: '10px 0 0 0',\r\n\t\tcolor: '#999'\r\n\t},\r\n\tgridItem: {\r\n\t\tmargin: theme.spacing(1, 1, 0, 0),\r\n\t\t[theme.breakpoints.down('md')]: {\r\n\t\t\tmarginRight: theme.spacing(0.4, 0.4, 0, 0)\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\nclass App extends React.Component {\r\n\t\r\n    constructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tloaded: [],\r\n\t\t\t\r\n\t\t\tconnected: false,\r\n\t\t\terror: false,\r\n\t\t\terrorMessage: '',\r\n\t\t\t\r\n\t\t\tlayout: null,\r\n\t\t\ttheme: null\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\tif (this.socket) {\r\n\t\t\tthis.socket.disconnect();\r\n\t\t\tthis.socket = null;\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\t/*\r\n\t\t * get theme\r\n\t\t */\r\n\t\timport('./controller/theme').then(theme => this.setState({ theme: theme.default }));\r\n\t\t\r\n\t\t\r\n\t\t/*\r\n\t\t * connect and get connection\r\n\t\t */\r\n\t\tconst errorHandler = err => {\r\n\t\t\t//Log._('App', i18n.t('Socket disconnected') + '!', 'error') //, true, err.stack);\r\n\t\t\tthis.setState({\r\n\t\t\t\tconnected: false,\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorMessage: i18n.t(typeof err === 'string' ? err : err.message) + '. Reconnecting..'\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\tsetTimeout(function reconnect() {\r\n\t\t\t\t\r\n\t\t\t\tLog._('App', i18n.t('Attempting reconnect') + '..');\r\n\t\t\t\tConnection.reconnect();\r\n\t\t\t\tsetTimeout(() => reconnect, 30*1000);\r\n\t\t\t\t\r\n\t\t\t}, 10*1000);\r\n\t\t\t*/\r\n\t\t};\r\n\t\t\r\n\t\tconst url = window.location.port === '3000' ? config.iobrokerWebAdapterUrl :\r\n\t\t\twindow.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : '');\r\n\t\t\r\n\t\tconst listeners = [\r\n\t\t\t{ 'event': 'connect', 'callback': () => this.setState({ connected: true, error: false, errorMessage: '' }) },\r\n\t\t\t{ 'event': 'reconnect', 'callback': () => this.setState({ connected: 'pending', error: false, errorMessage: '' }) },\r\n\t\t\t{ 'event': 'disconnect', 'callback': errorHandler },\r\n\t\t\t{ 'event': 'error', 'callback': errorHandler }\r\n\t\t];\r\n\t\t\r\n\t\tLog._('App', i18n.t('Connect to') + ' ' + url + '...');\r\n\t\tthis.socket = Connection.connect(url, listeners);\r\n\t\t\r\n\t\t\r\n\t\t/*\r\n\t\t * retrieve ioBroker config\r\n\t\t */\r\n\t\tthis.socket.getObject('system.config', (err, data) => data && data.common && Settings.setSettings({ iobroker: data.common }));\r\n\t\t\r\n\t\t\r\n\t\t/*\r\n\t\t * retrieve settings\r\n\t\t */\r\n\t\tthis.socket.getState(DEFAULTS.NODE_SETTINGS)\r\n\t\t\t.then(state => {\r\n\t\t\t\tlet settings = null;\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tsettings = JSON.parse(state.val || {});\r\n\t\t\t\t\tSettings.setSettings(settings);\r\n\t\t\t\t\tSettings.applySettings();\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState(prevState => ({ loaded: [ ...prevState.loaded, 'settings' ] }));\r\n\t\t\t\t}\r\n\t\t\t\tcatch(err) {\r\n\t\t\t\t\tLog._('App', 'GET_SETTINGS: ' + err.message, 'error');\r\n\t\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\t\tloaded: [ ...prevState.loaded, 'settings' ],\r\n\t\t\t\t\t\terror: true,\r\n\t\t\t\t\t\terrorMessage: i18n.t('Error parsing settings') + '!'\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tLog._('App', 'GET_SETTINGS: ' + err.message, 'error');\r\n\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\tloaded: [ ...prevState.loaded, 'settings' ],\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\terrorMessage: typeof err === 'string' ? i18n.t(err) : i18n.t(err.message)\r\n\t\t\t\t}));\r\n\t\t\t});\r\n\t\t\r\n\t\t\r\n\t\t/*\r\n\t\t * retrieve layout\r\n\t\t */\r\n\t\tthis.socket.getState(DEFAULTS.NODE_LAYOUT)\r\n\t\t\t.then(state => {\r\n\t\t\t\tlet layout = null;\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlayout = JSON.parse(state.val || []);\r\n\t\t\t\t\tSettings.setLayout(layout);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (layout.length === 0) {\r\n\t\t\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\t\t\tloaded: [ ...prevState.loaded, 'layout' ],\r\n\t\t\t\t\t\t\terror: true,\r\n\t\t\t\t\t\t\terrorMessage: i18n.t('Please create the configuration. See documentation.')\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\t\t\tlayout: layout,\r\n\t\t\t\t\t\t\tloaded: [ ...prevState.loaded, 'layout' ]\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch(err) {\r\n\t\t\t\t\tLog._('App', 'GET_LAYOUT: ' + err.message, 'error');\r\n\t\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\t\tloaded: [ ...prevState.loaded, 'layout' ],\r\n\t\t\t\t\t\terror: true,\r\n\t\t\t\t\t\terrorMessage: i18n.t('Error parsing layout') + '!'\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tLog._('App', 'GET_LAYOUT: ' + err.message, 'error');\r\n\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\tloaded: [ ...prevState.loaded, 'layout' ],\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\terrorMessage: typeof err === 'string' ? i18n.t(err) : i18n.t(err.message)\r\n\t\t\t\t}));\r\n\t\t\t});\r\n\t\t\r\n\t\t\r\n\t\t/*\r\n\t\t * retrieve devices\r\n\t\t */\r\n\t\tthis.socket.getState(DEFAULTS.NODE_DEVICES)\r\n\t\t\t.then(state => {\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tDevices.setDevices(JSON.parse(state.val || {}), this.socket).then(res => {\r\n\t\t\t\t\t\tLog._('App', [ 'Processed ' + res.processedDevices + ' devices and discarded ' + (res.processedDevices - res.addedDevices) + ' devices due to incorrect configuration.', res ]);\r\n\t\t\t\t\t\tthis.setState(prevState => ({ loaded: [ ...prevState.loaded, 'devices' ] }));\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tcatch(err) {\r\n\t\t\t\t\tLog._('App', 'GET_DEVICES: ' + err.message, 'error');\r\n\t\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\t\tloaded: [ ...prevState.loaded, 'devices' ],\r\n\t\t\t\t\t\terror: true,\r\n\t\t\t\t\t\terrorMessage: i18n.t('Error parsing devices') + '!'\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tLog._('App', 'GET_DEVICES: ' + err.message, 'error');\r\n\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\tloaded: [ ...prevState.loaded, 'devices' ],\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\terrorMessage: i18n.t('Socket failed while getting devices') + '!'\r\n\t\t\t\t}));\r\n\t\t\t});\r\n    }\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderError(error) {\r\n\t\terror = error || this.state.errorMessage;\r\n\t\tLog._('App', 'Render Error: ' + error, 'error');\r\n\t\t\r\n\t\treturn (\r\n\r\n<StatusSnackbar\r\n\tkey={'StatusSnackbar'}\r\n\tvariant=\"error\"\r\n\tcloseButton={false}\r\n\tmessage={error.toString()}\r\n\t/>\r\n\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderLoadingProgress() {\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\r\n<Grid\r\n\tkey=\"loadingProcess\"\r\n\tcontainer\r\n\tspacing={0}\r\n\tdirection=\"column\"\r\n\tjustify=\"center\"\r\n\talignItems=\"center\"\r\n\tstyle={{ minHeight: \"100vh\" }}\r\n\t>\r\n\r\n\t<CircularProgress />\r\n\t<Typography className={classes.loading}>{i18n.t('Retrieving settings')}...</Typography>\r\n\r\n</Grid>\r\n\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderLoadingSkeleton(props) {\r\n\t\tconst { classes } = this.props;\r\n\t\tconst { topBar, tabBar, gridColumns } = props;\r\n\t\t\r\n\t\tconst SkeletonLoader = (props) => <Skeleton animation=\"wave\" variant=\"rect\" className={classes.gridItem} height={props.height} />;\r\n\t\t\r\n\t\tlet gridContents = {}\r\n\t\tfor (let column = 1; column <= gridColumns; column++) {\r\n\t\t\tgridContents[column] = gridContents[column] || [];\r\n\t\t\t\r\n\t\t\tlet loaders = Math.random() * (5 - 2) + 2;\r\n\t\t\tfor (let loader = 1; loader <= loaders; loader++) {\r\n\t\t\t\tgridContents[column].push(<SkeletonLoader key={column + '#' + loader} height={(Math.random() * (400 - 100) + 100)} />);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\r\n<React.Fragment>\r\n\t{topBar && <Skeleton animation=\"wave\" variant=\"rect\" height={64} />}\r\n\t{tabBar && <Skeleton animation=\"wave\" variant=\"rect\" height={48} />}\r\n\t<GridContainer key=\"loadingSkeleton\" contents={gridContents} />\r\n</React.Fragment>\r\n\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n    render() {\r\n\t\t\r\n\t\t// error message\r\n\t\tconst error = this.state.error ? this.renderError() : null;\r\n\t\t\r\n\t\t// loading screens\r\n\t\tif (!error && (this.state.loaded.indexOf('settings') === -1 || this.state.loaded.indexOf('layout') === -1)) {\r\n\t\t\treturn this.renderLoadingProgress();\r\n\t\t}\r\n\t\telse if (!error && this.state.loaded.indexOf('devices') === -1) {\r\n\t\t\treturn this.state.layout.length === 0 ? null : this.renderLoadingSkeleton({ topBar: true, tabBar: this.state.layout && this.state.layout[0] && this.state.layout[0].tabs.length > 1, gridColumns: this.state.layout && this.state.layout[0] && this.state.layout[0].tabs && this.state.layout[0].tabs[0] && this.state.layout[0].tabs[0].columns.length });\r\n\t\t}\r\n\t\t\r\n\t\t// App\r\n\t\telse {\r\n\t\t\tLog._('App', [ 'Connected:', this.state.connected ]);\r\n\t\t\treturn (\r\n\r\n<ThemeProvider theme={this.state.theme}>\r\n\t{error}\r\n\t{this.state.loaded.length === 3 && <Jarvis key=\"jarvis\" connectionStatus={this.state.connected} />}\r\n</ThemeProvider>\r\n\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport './index.css'\r\nimport App from './App'\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","\r\nexport default {\r\n\tButton: require('./inputs/Button').default,\r\n\tChip: require('./inputs/Chips').default,\r\n\tChips: require('./inputs/Chips').InputChips,\r\n\tChipsField: require('./inputs/Chips').InputChipsField,\r\n\tFieldset: require('./inputs/Fieldset').default,\r\n\tFieldsetItem: require('./inputs/Fieldset').FieldsetItem,\r\n\tForm: require('./inputs/Fieldset').Form,\r\n\tNumber: require('./inputs/Number').default,\r\n\tSelect: require('./inputs/Select').default,\r\n\tSwitch: require('./inputs/Switch').default,\r\n\tSwitchInline: require('./inputs/Switch').InputSwitchInline,\r\n\tText: require('./inputs/Text').default\r\n}","\r\nexport default {\r\n\t'hiddenStates': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Liste mit States, die von jarvis zwar geladen, aber nicht angezeigt werden.'\r\n\t\t}\r\n\t},\r\n\t'ignoredStates': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Liste mit States, die von jarvis ignoriert (und damit nicht geladen) werden.'\r\n\t\t}\r\n\t},/*\r\n\t'defaultValue': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Initialer Standard-Wert, der beim Schalten gesetzt wird.'\r\n\t\t}\r\n\t},*/\r\n\t/*'label': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'alternativer Bezeichner des Geräts als Anzeige-Name'\r\n\t\t}\r\n\t},*/\r\n}\r\n\r\nexport const DevicesStates = {\r\n\t'state': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Datenpunkt dessen State als Wert angezeigt wird'\r\n\t\t}\r\n\t},\r\n\t'stateStyle': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Style des angezeigten Wertes (im JSON Format)'\r\n\t\t},\r\n\t\t'json': true\r\n\t},\r\n\t'display': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Texte die den angezeigten Wert ersetzen (im JSON Format)'\r\n\t\t},\r\n\t\t'json': true\r\n\t},\r\n\t'label': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Label'\r\n\t\t}\r\n\t},\r\n\t'unit': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Einheit'\r\n\t\t}\r\n\t},\r\n\t/*'type': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': ''\r\n\t\t},\r\n\t\t'type': 'Select',\r\n\t\t'selection': [\r\n\t\t\t{ 'de': 'Deutsch' },\r\n\t\t\t{ 'switch': 'Switch' },\r\n\t\t\t{ 'switch': 'Switch' },\r\n\t\t\t{ 'switch': 'Switch' },\r\n\t\t]\r\n\t},*/\r\n\t'action': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Datenpunkt der zum Schalten getriggert wird'\r\n\t\t}\r\n\t},\r\n\t'icon': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Material Icon (klick zur Ansicht aller Icons)'\r\n\t\t},\r\n\t\t'link': 'https://materialdesignicons.com/'\r\n\t},\r\n\t'iconStyle': {\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Style des Icons (im JSON Format)'\r\n\t\t},\r\n\t\t'json': true\r\n\t}\r\n}\r\n","import React from 'react'\r\n//import clsx from 'clsx'\r\n\r\nimport DevicesConfig, { DevicesStates } from './Devices.config'\r\nimport i18n from '../../../controller/i18n'\r\nimport FUNCTIONS from '../../../functions'\r\nimport ucFirst, { moveKeyInObject } from '../../../helpers/utils'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\n\r\nimport IconButton from '@material-ui/core/IconButton'\r\n\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport ArrowUpIcon from '@material-ui/icons/KeyboardArrowUp'\r\nimport ArrowDownIcon from '@material-ui/icons/KeyboardArrowDown'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\n\r\nimport Dialog from '../../../components/Dialog'\r\nimport Inputs from '../../../components/Inputs'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles'\r\nconst styles = theme => ({\r\n\tfullWidth: {\r\n\t\twidth: '100%',\r\n\t},\r\n\ticonContainer: {\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'center'\r\n\t},\r\n\talignRight: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'flex-end',\r\n\t\t\r\n\t\t'& > :not(:first-child)': {\r\n\t\t\tmarginLeft: 8,\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\nclass DevicesPage extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tdevice: this.props.device,\r\n\t\t\terrors: {}\r\n\t\t}\r\n\t\t\r\n\t\tthis.editor = {};\r\n\t\tthis.newStateKey = '';\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\tcomponentDidMount() {\r\n\t\tthis._onChange({ error: !this.state.device.name, id: 'device-name' }, this.state.device.name || ''); // trigger initial validation\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\t_onChange = (props, val) => {\r\n\t\t\r\n\t\t// error occured\r\n\t\tif (props.error) {\r\n\t\t\tthis.setState(prevStates => ({\r\n\t\t\t\terrors: {\r\n\t\t\t\t\t...prevStates.errors,\r\n\t\t\t\t\t[props.id]: props.error\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t}\r\n\t\t\r\n\t\t// no error -> remove old error\r\n\t\telse if (!props.error && this.state.errors[props.id]) {\r\n\t\t\tthis.setState(prevStates => {\r\n\t\t\t\tlet nextErrors = { ...prevStates.errors || {} }\r\n\t\t\t\tdelete nextErrors[props.id];\r\n\t\t\t\treturn { errors: nextErrors };\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t// set value\r\n\t\tthis.editor[props.id] = val;\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\t_onSave = () => {\r\n\t\tlet savedDevice = { ...this.state.device }\r\n\t\t\r\n\t\tfor (const key in this.editor) {\r\n\t\t\tconst val = this.editor[key];\r\n\t\t\tconst [ type, base, characteristic ] = key.split('-');\r\n\t\t\t\r\n\t\t\t// states\r\n\t\t\tif (type === 'states') {\r\n\t\t\t\tif (typeof savedDevice[type][base] === 'object') {\r\n\t\t\t\t\tsavedDevice[type][base][characteristic] = val;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tsavedDevice[type][base] = {\r\n\t\t\t\t\t\tstate: savedDevice[type][base],\r\n\t\t\t\t\t\t[characteristic]: val\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// options or attributes\r\n\t\t\telse if (type === 'options' || type === 'attributes') {\r\n\t\t\t\tsavedDevice[type][base] = val;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// device\r\n\t\t\telse {\r\n\t\t\t\tsavedDevice[base] = val;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// save\r\n\t\tsavedDevice._created = Date.now();\r\n\t\tthis.props.onSave && this.props.onSave(savedDevice);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\t_deleteDevice = () => this.props.onDelete && this.props.onDelete(this.props.device.id);\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\t_addState = () => {\r\n\t\t\r\n\t\t// empty state key\r\n\t\tif (!this.newStateKey) {\r\n\t\t\tthis.setState(prevStates => ({\r\n\t\t\t\terrors: {\r\n\t\t\t\t\t...prevStates.errors,\r\n\t\t\t\t\tnewStateKey: i18n.t('Type in a state key / identifier')\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t}\r\n\t\t\r\n\t\t// state key exists already\r\n\t\telse if (Object.keys(this.state.device.states).indexOf(this.newStateKey) > -1) {\r\n\t\t\tthis.setState(prevStates => ({\r\n\t\t\t\terrors: {\r\n\t\t\t\t\t...prevStates.errors,\r\n\t\t\t\t\tnewStateKey: i18n.t('State key already used')\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t}\r\n\t\t\r\n\t\t// add state key\r\n\t\telse {\r\n\t\t\tlet key = this.newStateKey.replace(/ /g, '');\r\n\t\t\t//this.newStateKey = '';\r\n\t\t\t\r\n\t\t\tthis.setState(prevStates => {\r\n\t\t\t\tlet nextErrors = { ...prevStates.errors }\r\n\t\t\t\tdelete nextErrors['newStateKey'];\r\n\t\t\t\t\r\n\t\t\t\treturn {\r\n\t\t\t\t\terrors: nextErrors,\r\n\t\t\t\t\tdevice: {\r\n\t\t\t\t\t\t...prevStates.device,\r\n\t\t\t\t\t\tstates: {\r\n\t\t\t\t\t\t\t[key]: {},\r\n\t\t\t\t\t\t\t...prevStates.device.states || {}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\t_moveState = (action, key) => {\r\n\t\t\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tdevice: {\r\n\t\t\t\t...prevState.device,\r\n\t\t\t\tstates: moveKeyInObject({ ...this.state.device.states }, key, action)\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\t_deleteState = key => {\r\n\t\t\r\n\t\tthis.setState(prevStates => {\r\n\t\t\tlet nextDevice = { ...prevStates.device }\r\n\t\t\tdelete nextDevice.states[key];\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\tdevice: nextDevice\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderDeviceState(state) {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\tconst states = Object.keys(DevicesStates).map(key => {\r\n\t\t\tconst s = DevicesStates[key];\r\n\t\t\tconst Input = Inputs[s.type || 'Text'];\r\n\t\t\treturn (\r\n\t\t\t\t<Inputs.FieldsetItem columns={4} key={'states-' + state.key + '-' + key}>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\t{...s}\r\n\t\t\t\t\t\tid={'states-' + state.key + '-' + key}\r\n\t\t\t\t\t\tshrink={true}\r\n\t\t\t\t\t\tlabel={s.label || ucFirst(key)}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tval={!state[key] || typeof state[key] === 'string' ? (state[key] || '') : (state[key].node || JSON.stringify(state[key]))}\r\n\t\t\t\t\t\tonChange={this._onChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t);\r\n\t\t});\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<ListItem key={'StatesListItemLabel-' + state.key} dense divider>\r\n\t\t\t\t{state.key &&\r\n\t\t\t\t<ListItemIcon classes={{ root: classes.iconContainer }}>\r\n\t\t\t\t\t<IconButton size=\"small\" onClick={() => this._moveState('up', state.key)}>\r\n\t\t\t\t\t\t<ArrowUpIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton size=\"small\" onClick={() => this._moveState('down', state.key)}>\r\n\t\t\t\t\t\t<ArrowDownIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton size=\"small\" onClick={() => this._deleteState(state.key)} style={{ marginTop: 40 }}>\r\n\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</ListItemIcon>}\r\n\t\t\t\t\r\n\t\t\t\t<ListItemText disableTypography>\r\n\t\t\t\t\t<div style={{ paddingBottom: 8 }}><strong>{state.key}</strong></div>\r\n\t\t\t\t\t<Inputs.Fieldset noPadding>\r\n\t\t\t\t\t\t{states}\r\n\t\t\t\t\t</Inputs.Fieldset>\r\n\t\t\t\t</ListItemText>\r\n\t\t\t</ListItem>\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderDeviceStates(states) {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\tconst renderedStates = Object.keys(states || {}).map(stateKey => {\r\n\t\t\tlet state = states[stateKey];\r\n\t\t\tstate = typeof state === 'string' ? { 'state': state } : state;\r\n\t\t\treturn this.renderDeviceState({ ...state, key: stateKey });\r\n\t\t});\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<List classes={{ root: classes.fullWidth }} dense>\r\n\t\t\t\t\t<ListItem key={'StatesListItemLabel-add'} dense divider>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<IconButton size=\"small\" disabled>\r\n\t\t\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<ListItemText disableTypography>\r\n\t\t\t\t\t\t\t<Inputs.Text id={'states-add'} onChange={(props, input) => this.newStateKey = input} shrink={true} label=\"new key\" val={this.newStateKey} />\r\n\t\t\t\t\t\t\t<Inputs.Button\r\n\t\t\t\t\t\t\t\tlabel={i18n.t('add new state')}\r\n\t\t\t\t\t\t\t\tonClick={this._addState}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{this.state.errors['newStateKey'] || ''}\r\n\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{renderedStates}\r\n\t\t\t\t\t\r\n\t\t\t\t</List>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderDeviceOption(config, value) {\r\n\t\t\r\n\t\tif (Array.isArray(value)) {\r\n\t\t\tvalue = value.join(',');\r\n\t\t}\r\n\t\telse if (typeof value === 'object') {\r\n\t\t\tvalue = JSON.stringify(value);\r\n\t\t}\r\n\t\t\r\n\t\tconst Tag = Inputs[config.type || 'Text'];\r\n\t\treturn (\r\n\t\t\t<ListItem key={'StatesListItemLabel-' + config.parameter} divider>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tprimary={config.parameter}\r\n\t\t\t\t\tsecondary={i18n.t(config.label || '')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t<Tag\r\n\t\t\t\t\t\tkey={'options-' + config.parameter}\r\n\t\t\t\t\t\tid={'options-' + config.parameter}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tval={value}\r\n\t\t\t\t\t\tonChange={this._onChange}\r\n\t\t\t\t\t\t{...config}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t</ListItem>\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderDeviceOptions(options) {\r\n\t\tconst { classes } = this.props;\r\n\t\tconst renderedOptions = Object.keys(DevicesConfig).sort().map(config => this.renderDeviceOption({ ...DevicesConfig[config], parameter: config }, options[config] || ''));\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<List classes={{ root: classes.fullWidth }} dense>\r\n\t\t\t\t{renderedOptions}\r\n\t\t\t</List>\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\tif (this.state.device === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t\tconst states = this.renderDeviceStates(this.state.device.states);\r\n\t\tconst options = this.renderDeviceOptions(this.state.device.options);\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\theader={i18n.t('Device Configuration')}\r\n\t\t\t\tactions={[\r\n\t\t\t\t\t<Grid key='actions' container>\r\n\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t<Button key='action-delete' onClick={() => this._deleteDevice()} color=\"secondary\" startIcon={<DeleteIcon />}>\r\n\t\t\t\t\t\t\t\t{i18n.t('Delete Device')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={6} className={classes.alignRight}>\r\n\t\t\t\t\t\t\t<Button key='action-cancel' onClick={() => this.props.onClose()} color=\"secondary\">\r\n\t\t\t\t\t\t\t\t{i18n.t('Cancel')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button key='action-save' onClick={() => this._onSave()} color=\"primary\" disabled={Object.keys(this.state.errors).length > 0}>\r\n\t\t\t\t\t\t\t\t{i18n.t('Apply')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t]}\r\n\t\t\t\t\r\n\t\t\t\tdense\r\n\t\t\t\tmaxWidth='md'\r\n\t\t\t\tfullWidth={true}\r\n\t\t\t\t\r\n\t\t\t\topen={true}\r\n\t\t\t\tonClose={() => this.props.onClose()}\r\n\t\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t<Inputs.Fieldset label={i18n.t('General')}>\r\n\t\t\t\t\t<Inputs.FieldsetItem columns={4}>\r\n\t\t\t\t\t\t<Inputs.Text\r\n\t\t\t\t\t\t\tkey=\"device-name\"\r\n\t\t\t\t\t\t\tid=\"device-name\"\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlabel={i18n.t('Device')}\r\n\t\t\t\t\t\t\tval={this.state.device.name}\r\n\t\t\t\t\t\t\tonChange={this._onChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t\t\t<Inputs.FieldsetItem columns={4}>\r\n\t\t\t\t\t\t<Inputs.Text\r\n\t\t\t\t\t\t\tkey=\"device-options-label\"\r\n\t\t\t\t\t\t\tid=\"device-options-label\"\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlabel={i18n.t('Displayed Name')}\r\n\t\t\t\t\t\t\tval={(this.state.device.options && this.state.device.options.label) || ''}\r\n\t\t\t\t\t\t\tonChange={this._onChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t\t\t<Inputs.FieldsetItem columns={4}>\r\n\t\t\t\t\t\t<Inputs.Select\r\n\t\t\t\t\t\t\tkey=\"device-function\"\r\n\t\t\t\t\t\t\tid=\"device-function\"\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlabel={i18n.t('Function')}\r\n\t\t\t\t\t\t\tval={this.state.device.function}\r\n\t\t\t\t\t\t\tselection={Object.keys(FUNCTIONS).sort().map(func => func !== 'defaults' ? ({ [func]: i18n.t(func) }) : ({ 'other': i18n.t('other') }))}\r\n\t\t\t\t\t\t\tonChange={this._onChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t\t\t\r\n\t\t\t\t</Inputs.Fieldset>\r\n\t\t\t\t\r\n\t\t\t\t<Inputs.Fieldset label={i18n.t('States')}>\r\n\t\t\t\t\t{states}\r\n\t\t\t\t</Inputs.Fieldset>\r\n\t\t\t\t\r\n\t\t\t\t<Inputs.Fieldset label={i18n.t('Options')}>\r\n\t\t\t\t\t{options}\r\n\t\t\t\t</Inputs.Fieldset>\r\n\t\t\t</Dialog>\r\n\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(DevicesPage);\r\n","import React from 'react'\r\n//import clsx from 'clsx'\r\nimport { v4 as uuid } from 'uuid'\r\n\r\nimport Devices from '../../../controller/Devices'\r\nimport i18n from '../../../controller/i18n'\r\n\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nimport TableBody from '@material-ui/core/TableBody'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport TableCell from '@material-ui/core/TableCell'\r\n\r\nimport AddIcon from '@material-ui/icons/AddCircle'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\n\r\nimport EnhancedTable from '../../../components/EnhancedTable'\r\nimport Inputs from '../../../components/Inputs'\r\n\r\nimport DevicesPage from './DevicesPage'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles'\r\nconst styles = theme => ({\r\n\tdeleteButton: {\r\n\t\tmarginTop: '25px'\r\n\t},\r\n\thr: {\r\n\t\tmargin: '10px 2px'\r\n\t},\r\n\tCustomTextInput: {\r\n\t\twidth: 150\r\n\t},\r\n\tCustomDialogTitle: {\r\n\t\tpadding: 0,\r\n\t\tmarginRight: '50px'\r\n\t},\r\n\tTableCell: {\r\n\t\tverticalAlign: 'top',\r\n\t\tpadding: '5px 0'\r\n\t}\r\n});\r\n\r\n\r\ni18n.setTranslation(i18n.getLanguage(), () => require('./i18n/' + i18n.getLanguage()));\r\n\r\nclass DevicesListPage extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tselectedDevice: null,\r\n\t\t\terrors: {}\r\n\t\t}\r\n\t\t\r\n\t\tthis.devices = Devices.getDevices({ raw: true, copy: true });\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\t_saveDevices = devices => {\r\n\t\tthis.devices = devices;\r\n\t\tthis.props.onChange && this.props.onChange(devices);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\t_saveDevice = device => {\r\n\t\tthis._saveDevices({ ...this.devices, [device.id]: device });\r\n\t\t\r\n\t\tthis.setState({ selectedDevice: null, errors: {} }, () => document.getElementById('DialogContent').scrollTop = (document.getElementById('device-' + device.id) && document.getElementById('device-' + device.id).offsetTop) || 0);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\t_deleteDevice = deviceId => {\r\n\t\tlet nextDevices = { ...this.devices }\r\n\t\tdelete nextDevices[deviceId];\r\n\t\tthis._saveDevices(nextDevices);\r\n\t\t\r\n\t\tthis.setState({ selectedDevice: null, errors: {} });\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderDevices(props) {\r\n\t\tconst { sortedRows } = props;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<TableBody>\r\n\t\t\t\r\n\t\t\t{sortedRows.map((device, index) => {\r\n\t\t\t\tlet options = Object.keys(device.options || {}).filter(optionKey => (device.options[optionKey] === '' || (Array.isArray(device.options[optionKey]) && device.options[optionKey].length === 0) || (typeof device.options[optionKey] === 'object' && Object.keys(device.options[optionKey]).length === 0)) === false).sort().join(', '); \r\n\t\t\t\tlet attributes = Object.keys(device.attributes || {}).sort().join(', ');\r\n\t\t\t\t\r\n\t\t\t\treturn (\r\n\t\t\t\t<TableRow key={'TableRow-' + index} id={'device-' + device.id} hover tabIndex={-1}>\r\n\t\t\t\t\t<TableCell padding=\"checkbox\" scope=\"row\" align=\"center\">\r\n\t\t\t\t\t\t<IconButton onClick={() => this.setState({ selectedDevice: device.id })}>\r\n\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t<TableCell>{(device.options && device.options.label) || device.name}</TableCell>\r\n\t\t\t\t\t<TableCell>{device.function}</TableCell>\r\n\t\t\t\t\t<TableCell>{Object.keys(device.states || {}).join(', ')}</TableCell>\r\n\t\t\t\t\t<TableCell>{options.length > 35 ? <Tooltip title={options}><span>{options.substr(0,32) + '...'}</span></Tooltip> : options}</TableCell>\r\n\t\t\t\t\t<TableCell>{attributes.length > 35 ? <Tooltip title={attributes}><span>{attributes.substr(0,32) + '...'}</span></Tooltip> : attributes}</TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t\t\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t\r\n\t\t\t</TableBody>\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trender() {\r\n\t\treturn (\r\n\r\n<React.Fragment>\r\n\t<EnhancedTable\r\n\t\ttitle={i18n.t('Devices List')}\r\n\t\theadCells={[\r\n\t\t\t{ id: 'edit', width: '5%', disablePadding: true, label: '' },\r\n\t\t\t{ id: 'name', width: '15%', label: i18n.t('Name') },\r\n\t\t\t{ id: 'function', width: '10%', label: i18n.t('Function') },\r\n\t\t\t{ id: 'states', width: '40%', disablePadding: false, label: i18n.t('States') },\r\n\t\t\t{ id: 'options', width: '15%', disablePadding: false, label: i18n.t('Options') },\r\n\t\t\t{ id: 'attributes', width: '15%', disablePadding: false, label: i18n.t('Attributes') }\r\n\t\t]}\r\n\t\trows={Object.values(this.devices)}\r\n\t\t\r\n\t\tdefaultOrderBy=\"name\"\r\n\t\tselectable={false}\r\n\t\tsortable={true}\r\n\t\tstickyHeader\r\n\t\t\r\n\t\tCustomTableBody={props => this.renderDevices(props)}\r\n\t\ttoolbarRightActionButton={\r\n\t\t\t<Inputs.Button\r\n\t\t\t\tonClick={() => this.setState({ selectedDevice: '#new' })}\r\n\t\t\t\tstartIcon={<AddIcon />}\r\n\t\t\t\tdisabled={this.state.selectedDevice !== null}\r\n\t\t\t\tlabel={i18n.t('add new device')}\r\n\t\t\t\t/>\r\n\t\t}\r\n\t\t/>\r\n\t\r\n\t{this.state.selectedDevice != null && <DevicesPage\r\n\t\t\t\t\t\t\t\t\t\t\t\tdevice={this.state.selectedDevice === '#new' ? { id: uuid(), states: {}, options: {} } : this.devices[this.state.selectedDevice]}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonSave={this._saveDevice}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonDelete={this._deleteDevice}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClose={() => this.setState({ selectedDevice: null })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>}\r\n\t\r\n</React.Fragment>\r\n\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(DevicesListPage);\r\n","import Modules from '../../../modules'\r\n\r\nexport default {\r\n\t'tabsHideLabels': {\r\n\t\t'label': {\r\n\t\t\t'de': 'Tab Labels nicht anzeigen (nur Icons)',\r\n\t\t\t'en': 'Hide tab labels (only show icons)'\r\n\t\t},\r\n\t\t'info': {\r\n\t\t\t'de': 'Zeigt nur die Icons im Tab und nicht die Labels',\r\n\t\t\t'en': 'Show only icons within a tab, not the label'\r\n\t\t},\r\n\t\t'type': 'Switch',\r\n\t\t'val': false\r\n\t},\r\n\t'tabIcon': {\r\n\t\t'label': {\r\n\t\t\t'de': 'Tab Icon',\r\n\t\t\t'en': 'Tab Icon'\r\n\t\t},\r\n\t\t'type': 'Text',\r\n\t},\r\n\t'tabTitle': {\r\n\t\t'label': {\r\n\t\t\t'de': 'Tab Titel',\r\n\t\t\t'en': 'Tab Title'\r\n\t\t},\r\n\t\t'type': 'Text',\r\n\t},\r\n\t'tabFullscreen': {\r\n\t\t'label': {\r\n\t\t\t'de': 'Tab als Vollbild',\r\n\t\t\t'en': 'Tab Fullscreen'\r\n\t\t},\r\n\t\t'info': {\r\n\t\t\t'de': 'Vollbild kann nur bei einem Tab mit nur einer Spalte und nur einem eingestellten Widget aktiviert werden.',\r\n\t\t\t'en': 'Fullscreen can only be enabled on a tab setup with only a single column and only a single widget'\r\n\t\t},\r\n\t\t'type': 'Switch',\r\n\t\t'val': false\r\n\t},\r\n\t\r\n\t'widgetModule': {\r\n\t\t'required': true,\r\n\t\t'label': {\r\n\t\t\t'de': 'Modul zur Anzeige der Geräte',\r\n\t\t\t'en': 'Modul to display the devices'\r\n\t\t},\r\n\t\t'type': 'Text',\r\n\t\t//val: 'StateList',\r\n\t\t'options': Object.keys(Modules)\r\n\t},\r\n\t'widgetTitle': {\r\n\t\t'required': true,\r\n\t\t'label': {\r\n\t\t\t'de': 'Titel der Widget-Box',\r\n\t\t\t'en': 'Title of the widget-box'\r\n\t\t},\r\n\t\t'type': 'Text',\r\n\t\t//val: ''\r\n\t},\r\n\t'widgetIcon': {\r\n\t\t'label': {\r\n\t\t\t'de': 'Icon der Widget-Box',\r\n\t\t\t'en': 'Icon of the widget-box'\r\n\t\t},\r\n\t\t'type': 'Text',\r\n\t\t'placeholder': 'home',\r\n\t\t'info': {\r\n\t\t\t'en': '',\r\n\t\t\t'de': 'Material Icon (klick zur Ansicht aller Icons)'\r\n\t\t},\r\n\t\t'link': 'https://materialdesignicons.com/'\r\n\t},\r\n\t'widgetIconStyle': {\r\n\t\t'label': {\r\n\t\t\t'de': 'Icon style der Widget-Box',\r\n\t\t\t'en': 'Icon style of the widget-box'\r\n\t\t},\r\n\t\t'type': 'Text',\r\n\t\t'json': true,\r\n\t\t'placeholder': '{ \"color\": \"#fff\", \"fontSize\": \"24px\" }' // backgroundColor: theme.palette.primary.main,\r\n\t}\r\n}\r\n","import React from 'react'\r\n\r\n\r\n/*\r\n *\r\n */\r\nexport default function Placeholder(props) {\r\n\tconst { width, height } = props;\r\n\t\r\n\treturn (\r\n\t\t<div style={{ display: 'inline-flex', width: width + 'px', height: (height || 1) + 'px' }}>\r\n\t\t</div>\r\n\t);\r\n}","import React from 'react'\r\n\r\nimport { DEFAULTS } from '../../../config/config'\r\nimport LayoutsConfig from './Layouts.config'\r\nimport { moveKeyInArray, sortArray } from '../../../helpers/utils'\r\n\r\nimport i18n from '../../../controller/i18n'\r\nimport Devices from '../../../controller/Devices'\r\nimport { ModuleConfigurations, ModuleSettings } from '../../../modules/'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\n\r\nimport ArrowUpIcon from '@material-ui/icons/KeyboardArrowUp'\r\nimport ArrowDownIcon from '@material-ui/icons/KeyboardArrowDown'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport DevicesIcon from '@material-ui/icons/Devices'\r\nimport DividerIcon from '@material-ui/icons/Remove'\r\nimport GroupIcon from '@material-ui/icons/FormatListBulleted'\r\n\r\nimport Dialog from '../../../components/Dialog'\r\nimport Inputs from '../../../components/Inputs'\r\nimport Placeholder from '../../../components/Placeholder'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles'\r\nconst styles = theme => ({\r\n\tnoPadding: {\r\n\t\tpadding: 0,\r\n\t},\r\n\talignRight: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'flex-end',\r\n\t\t\r\n\t\t'& > :not(:first-child)': {\r\n\t\t\tmarginLeft: 8,\r\n\t\t}\r\n\t},\r\n\theight: {\r\n\t\tlineHeight: '45px'\r\n\t}\r\n});\r\n\r\n\r\nclass WidgetPage extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\twidget: this.props.widget,\r\n\t\t\terrors: {}\r\n\t\t}\r\n\t\t\r\n\t\tthis.editor = { moduleConfig: {}, ...this.props.widget };\r\n\t\tthis.deviceList = Devices.getDevices({ sort: true });\r\n\t\tthis.deviceOptions = sortArray(Object.values(this.deviceList), 'function');\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\tcomponentDidMount() {\r\n\t\tthis._onChange({ error: !this.state.widget.title, id: 'title' }, this.state.widget.title || ''); // trigger initial validation\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_addItem = (type, val) => {\r\n\t\tlet device = { type: type }\r\n\t\t\r\n\t\tif (type === 'device') {\r\n\t\t\tdevice.deviceId = val.id;\r\n\t\t}\r\n\t\telse if (type === 'group') {\r\n\t\t\tdevice.name = val;\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState(prevStates => {\r\n\t\t\tlet nextErrors = { ...prevStates.errors }\r\n\t\t\tdelete nextErrors.addDevice;\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\terrors: nextErrors,\r\n\t\t\t\twidget: {\r\n\t\t\t\t\t...prevStates.widget,\r\n\t\t\t\t\tdevices: [\r\n\t\t\t\t\t\t...prevStates.widget.devices || [],\r\n\t\t\t\t\t\tdevice\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_editItem = (index, props, val) => {\r\n\t\t\r\n\t\tthis.setState(prevStates => {\r\n\t\t\tlet nextWidget = { ...prevStates.widget }\r\n\t\t\tnextWidget.devices[index][props.id] = val;\r\n\t\t\t\r\n\t\t\treturn { widget: nextWidget };\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_moveItem = (action, index) => {\r\n\t\t\r\n\t\tthis.setState(prevStates => ({\r\n\t\t\twidget: {\r\n\t\t\t\t...prevStates.widget,\r\n\t\t\t\tdevices: moveKeyInArray([ ...prevStates.widget.devices ], index, action)\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_deleteItem = index => {\r\n\t\t\r\n\t\tthis.setState(prevStates => {\r\n\t\t\tlet nextWidget = { ...prevStates.widget };\r\n\t\t\tnextWidget.devices.splice(index, 1);\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\twidget: nextWidget\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_onChange = (props, val) => {\r\n\t\tconsole.log(props, val);\r\n\t\t\r\n\t\t// error occured\r\n\t\tif (props.error && props.error !== this.state.errors[props.id]) {\r\n\t\t\tthis.setState(prevStates => ({\r\n\t\t\t\terrors: {\r\n\t\t\t\t\t...prevStates.errors,\r\n\t\t\t\t\t[props.id]: props.error\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t}\r\n\t\t\r\n\t\t// no error -> remove old error\r\n\t\telse if (!props.error && this.state.errors[props.id]) {\r\n\t\t\tthis.setState(prevStates => {\r\n\t\t\t\tlet nextErrors = { ...prevStates.errors || {} }\r\n\t\t\t\tdelete nextErrors[props.id];\r\n\t\t\t\treturn { errors: nextErrors };\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t// converted nested IDs to object\r\n\t\tif (props.id.indexOf('moduleConfig.') > -1) {\r\n\t\t\tthis.editor.moduleConfig[props.id.replace('moduleConfig.', '')] = val;\r\n\t\t}\r\n\t\t\r\n\t\t// set value\r\n\t\telse {\r\n\t\t\tthis.editor[props.id] = val;\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_onSave = action => {\r\n\t\t\r\n\t\t// errors\r\n\t\tconst requiredFields = [{ parameter: 'title', required: true }, { parameter: 'module', required: true }];\r\n\t\tlet errors = {};\r\n\t\t\r\n\t\t[ ...requiredFields, ...(ModuleConfigurations[this.state.widget.module] || []) ].forEach(field => {\r\n\t\t\tif (field.required === true && !this.editor[field.parameter] && !this.editor.moduleConfig[field.parameter]) {\r\n\t\t\t\terrors[field.parameter] = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tif (Object.values(errors).indexOf(true) > -1) {\r\n\t\t\tthis.setState(prevStates => ({ errors: { ...prevStates.errors, ...errors }}));\r\n\t\t\t//console.error(errors, this.editor);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\t// attach devices\r\n\t\tthis.editor.devices = this.state.widget.devices || [];\r\n\t\tthis.props.onSave(this.editor);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderDevice(device, index) {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\tlet primary = device.deviceId;\r\n\t\tlet icon = <DevicesIcon />\r\n\t\tlet SecondaryActions = null;\r\n\t\t\r\n\t\tif (device && device.type === 'device') {\r\n\t\t\tdevice = this.deviceList[device.deviceId];\r\n\t\t\tprimary = <span>{device.name + ' (' + i18n.t(device.function) + ')'}</span>\r\n\t\t\t\r\n\t\t\tconst moduleSettings = ModuleSettings[this.state.widget.module] || {};\r\n\t\t\tconst deviceWidgetConfig = this.state.widget.devices[index] || {};\r\n\t\t\tconst states = Object.keys(device.states || {}).map(state => ({ [state]: device.states[state].label || state }));\r\n\t\t\t\r\n\t\t\tSecondaryActions = (!moduleSettings.devicesStates || (moduleSettings.devicesStates && moduleSettings.devicesStates.selectable !== false)) && <>\r\n\t\t\t\t\t{(!moduleSettings.devicesStates || !moduleSettings.devicesStates.selectable || (moduleSettings.devicesStates.selectable && moduleSettings.devicesStates.selectable.indexOf('primaryStateKey') > -1)) &&\r\n\t\t\t\t\t\t<Inputs.Select\r\n\t\t\t\t\t\t\tid=\"primaryStateKey\"\r\n\t\t\t\t\t\t\twidth={150}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlabel={i18n.t('Primary State')}\r\n\t\t\t\t\t\t\tselection={states}\r\n\t\t\t\t\t\t\tval={deviceWidgetConfig.primaryStateKey !== undefined ? deviceWidgetConfig.primaryStateKey : device.primaryStateKey}\r\n\t\t\t\t\t\t\tonChange={(props, val) => this._editItem(index, props, val)}\r\n\t\t\t\t\t\t\tdisabled={moduleSettings.devicesStates && moduleSettings.devicesStates.disabled && moduleSettings.devicesStates.disabled.indexOf('primaryStateKey') > -1}\r\n\t\t\t\t\t\t\t/>}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t{(!moduleSettings.devicesStates || !moduleSettings.devicesStates.selectable || (moduleSettings.devicesStates.selectable && moduleSettings.devicesStates.selectable.indexOf('secondaryStateKey') > -1)) ?\r\n\t\t\t\t\t\t<Inputs.Select\r\n\t\t\t\t\t\t\tid=\"secondaryStateKey\"\r\n\t\t\t\t\t\t\twidth={150}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlabel={i18n.t('Secondary State')}\r\n\t\t\t\t\t\t\tselection={[ { '': i18n.t('none') }, ...states ]}\r\n\t\t\t\t\t\t\tval={deviceWidgetConfig.secondaryStateKey !== undefined ? deviceWidgetConfig.secondaryStateKey : device.secondaryStateKey}\r\n\t\t\t\t\t\t\tonChange={(props, val) => this._editItem(index, props, val)}\r\n\t\t\t\t\t\t\tdisabled={moduleSettings.devicesStates && moduleSettings.devicesStates.disabled && moduleSettings.devicesStates.disabled.indexOf('secondaryStateKey') > -1}\r\n\t\t\t\t\t\t\t/> : <Placeholder width={150} />}\r\n\t\t\t\t</>\r\n\t\t}\r\n\t\telse if (device && device.type === 'group') {\r\n\t\t\ticon = <GroupIcon />\r\n\t\t\tprimary = <span>{device.name}</span>\r\n\t\t}\r\n\t\telse if (device && device.type === 'divider') {\r\n\t\t\ticon = <DividerIcon />\r\n\t\t\tprimary = <em>{'(' + i18n.t('divider') + ')'}</em>\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<ListItem key={'Device-' + (device.deviceId || (device.type + '-' + index))} divider classes={{ container: classes.height }}>\r\n\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t{icon}\r\n\t\t\t\t</ListItemIcon>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tdisableTypography\r\n\t\t\t\t\tprimary={primary}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t{SecondaryActions}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<IconButton onClick={() => this._moveItem('up', index)}>\r\n\t\t\t\t\t\t<ArrowUpIcon size=\"small\" />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton onClick={() => this._moveItem('down', index)}>\r\n\t\t\t\t\t\t<ArrowDownIcon size=\"small\" />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton onClick={() => this._deleteItem(index)} style={{ marginLeft: 16 }}>\r\n\t\t\t\t\t\t<DeleteIcon size=\"small\" />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t</ListItem>\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderDeviceList(devices) {\r\n\t\tconst { classes } = this.props;\r\n\t\tconst renderedDevices = devices.map((device, i) => this.renderDevice(device, i));\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<List classes={{ root: classes.fullWidth }} dense disablePadding>\r\n\t\t\t\t{renderedDevices}\r\n\t\t\t</List>\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\tif (this.state.widget === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t\t// get module configuration options\r\n\t\tconst moduleConfig = !this.state.widget.module ? []: ModuleConfigurations[this.state.widget.module || DEFAULTS.MODULE].map(config => {\r\n\t\t\t\r\n\t\t\t// consider required fields\r\n\t\t\tif (!this.state.errors['moduleConfig.' + config.parameter] && config.required === true && !(this.editor.moduleConfig[config.parameter] || config.val)) {\r\n\t\t\t\tthis._onChange({ error: true, id: 'moduleConfig.' + config.parameter }, (this.editor.moduleConfig[config.parameter] || config.val) || ''); // trigger initial validation\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// render config option\r\n\t\t\tconst Input = Inputs[config.type || 'Text'];\r\n\t\t\treturn (\r\n\t\t\t\t<Inputs.FieldsetItem columns={4} key={'FieldsetItem-' + config.parameter}>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\t{...config}\r\n\t\t\t\t\t\tkey={'moduleConfig-' + config.parameter}\r\n\t\t\t\t\t\tid={'moduleConfig.' + config.parameter}\r\n\t\t\t\t\t\tlabel={i18n.t(config.label || config.parameter)}\r\n\t\t\t\t\t\tinfo={config.description}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tonChange={this._onChange}\r\n\t\t\t\t\t\tval={this.editor.moduleConfig[config.parameter] || config.val}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t);\r\n\t\t});\r\n\t\t\r\n\t\t// list devices\r\n\t\tconst moduleSettings = ModuleSettings[this.state.widget.module] || {};\r\n\t\tconst devices = !this.state.widget.module || moduleSettings.devices === false ? null : this.renderDeviceList(this.state.widget.devices || []);\r\n\t\t\r\n\t\tconsole.log(this.state.widget, this.editor, this.state.errors);\r\n\t\t\r\n\t\treturn (\r\n\r\n\t<Dialog\r\n\t\theader={i18n.t('Widget configuration')}\r\n\t\tclasses={{ CustomDialogActions: classes.DialogActions }}\r\n\t\tactions={\r\n\t\t\t<Grid container>\r\n\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t{this.state.widget.index !== undefined && \r\n\t\t\t\t\t<Button key='action-delete' onClick={() => this.props.onDelete(this.state.widget.index)} color=\"secondary\" startIcon={<DeleteIcon />}>\r\n\t\t\t\t\t\t{i18n.t('Delete Widget')}\r\n\t\t\t\t\t</Button>}\r\n\t\t\t\t\t&nbsp;\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={6} className={classes.alignRight}>\r\n\t\t\t\t\t<Button key='action-cancel' onClick={() => this.props.onClose()} color=\"secondary\">\r\n\t\t\t\t\t\t{i18n.t('Cancel')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button key='action-save' onClick={this._onSave} color=\"primary\" disabled={Object.keys(this.state.errors).length > 0}>\r\n\t\t\t\t\t\t{i18n.t('Apply')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t}\r\n\t\t\r\n\t\tdense\r\n\t\tmaxWidth={'md'}\r\n\t\topen={true}\r\n\t\tonClose={() => this.props.onClose()}\r\n\t\t>\r\n\t\t\r\n\t\t<Inputs.Fieldset label={i18n.t('Widget-Box')}>\r\n\t\t\t<Inputs.FieldsetItem columns={4}>\r\n\t\t\t\t<Inputs.Text\r\n\t\t\t\t\tkey='title'\r\n\t\t\t\t\tid='title'\r\n\t\t\t\t\t{...LayoutsConfig.widgetTitle}\r\n\t\t\t\t\t\r\n\t\t\t\t\tautoFocus\r\n\t\t\t\t\tonChange={this._onChange}\r\n\t\t\t\t\tval={this.state.widget.title || ''}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t<Inputs.FieldsetItem columns={4}>\r\n\t\t\t\t<Inputs.Text\r\n\t\t\t\t\tkey='icon'\r\n\t\t\t\t\tid='icon'\r\n\t\t\t\t\t{...LayoutsConfig.widgetIcon}\r\n\t\t\t\t\t\r\n\t\t\t\t\tonChange={this._onChange}\r\n\t\t\t\t\tval={this.state.widget.icon || ''}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t<Inputs.FieldsetItem columns={4}>\r\n\t\t\t\t<Inputs.Text\r\n\t\t\t\t\tkey='iconStyle'\r\n\t\t\t\t\tid='iconStyle'\r\n\t\t\t\t\t{...LayoutsConfig.widgetIconStyle}\r\n\t\t\t\t\t\r\n\t\t\t\t\tonChange={this._onChange}\r\n\t\t\t\t\tval={this.state.widget.iconStyle ? JSON.stringify(this.state.widget.iconStyle) : ''}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t</Inputs.FieldsetItem>\r\n\t\t</Inputs.Fieldset>\r\n\t\t\r\n\t\t<Inputs.Fieldset label={i18n.t('Module')}>\r\n\t\t\t<Inputs.FieldsetItem>\r\n\t\t\t\t<Inputs.Text\r\n\t\t\t\t\tkey='module'\r\n\t\t\t\t\tid='module'\r\n\t\t\t\t\t{...LayoutsConfig.widgetModule}\r\n\t\t\t\t\t\r\n\t\t\t\t\tautoComplete\r\n\t\t\t\t\tautoHighlight\r\n\t\t\t\t\t\r\n\t\t\t\t\tval={this.state.widget.module}\r\n\t\t\t\t\tonChange={(props, val) => {\r\n\t\t\t\t\t\tthis._onChange(props, val);\r\n\t\t\t\t\t\tthis.setState(prevStates => ({\r\n\t\t\t\t\t\t\twidget: {\r\n\t\t\t\t\t\t\t\t...prevStates.widget,\r\n\t\t\t\t\t\t\t\tmodule: val\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t{moduleConfig}\r\n\t\t\t\r\n\t\t</Inputs.Fieldset>\r\n\t\t\r\n\t\t{(this.state.widget.module && moduleSettings.devices !== false) && <Inputs.Fieldset label={i18n.t('Devices')}>\r\n\t\t\t\r\n\t\t\t<Inputs.FieldsetItem columns={3}>\r\n\t\t\t\t<Inputs.Text\r\n\t\t\t\t\twidth=\"90%\"\r\n\t\t\t\t\tkey='addDevice'\r\n\t\t\t\t\tid='addDevice'\r\n\t\t\t\t\tlabel={i18n.t('Add device')}\r\n\t\t\t\t\t\r\n\t\t\t\t\tautoComplete\r\n\t\t\t\t\tautoHighlight\r\n\t\t\t\t\t\r\n\t\t\t\t\toptions={this.deviceOptions}\r\n\t\t\t\t\tgetOptionLabel={option => option.function + ' ' + option.name}\r\n\t\t\t\t\trenderOption={(option, state) => option.name}\r\n\t\t\t\t\t\r\n\t\t\t\t\tonChange={(props, device) => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// check if an item has been selected\r\n\t\t\t\t\t\tif (device) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// verify if device has certain state, if required by the module\r\n\t\t\t\t\t\t\tconst states = Object.keys(device.states);\r\n\t\t\t\t\t\t\tif (moduleSettings.devicesStates && moduleSettings.devicesStates.requiredStates && Array.isArray(moduleSettings.devicesStates.requiredStates) && moduleSettings.devicesStates.requiredStates.some(state => states.indexOf(state) === -1)) {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthis.setState(prevStates => ({\r\n\t\t\t\t\t\t\t\t\terrors: {\r\n\t\t\t\t\t\t\t\t\t\t...prevStates.errors,\r\n\t\t\t\t\t\t\t\t\t\t'addDevice': [ 'Device needs one of the following states', ': ', moduleSettings.devicesStates.requiredStates.join(', ') ]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis._addItem('device', device);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t\r\n\t\t\t\t\tclearOnSelect\r\n\t\t\t\t\tclearOnBlur\r\n\t\t\t\t\t\r\n\t\t\t\t\tgroupBy={option => option.function}\r\n\t\t\t\t\tcloseIcon={null}\r\n\t\t\t\t\tpopupIcon={null}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t{Array.isArray(moduleSettings['devices']) && moduleSettings['devices'].indexOf('divider') > -1 && <><Inputs.FieldsetItem columns={1} centered>\r\n\t\t\t\t<em>{i18n.t('or')}</em>\r\n\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t<Inputs.FieldsetItem columns={3}>\r\n\t\t\t\t<Inputs.Text\r\n\t\t\t\t\twidth=\"90%\"\r\n\t\t\t\t\tkey='addGroup'\r\n\t\t\t\t\tid='addGroup'\r\n\t\t\t\t\tlabel={i18n.t('Add group')}\r\n\t\t\t\t\t\r\n\t\t\t\t\tonEnter={(props, val) => val && this._addItem('group', val)}\r\n\t\t\t\t\tclearOnEnter\r\n\t\t\t\t\tclearOnBlur\r\n\t\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t</Inputs.FieldsetItem></>}\r\n\t\t\t{Array.isArray(moduleSettings['devices']) && moduleSettings['devices'].indexOf('group') > -1 && <><Inputs.FieldsetItem columns={1} centered>\r\n\t\t\t\t<em>{i18n.t('or')}</em>\r\n\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t<Inputs.FieldsetItem columns={3}>\r\n\t\t\t\t<Inputs.Button\r\n\t\t\t\t\tkey='addDivider'\r\n\t\t\t\t\tid='addDivider'\r\n\t\t\t\t\tlabel={i18n.t('Add divider')}\r\n\t\t\t\t\tonClick={() => this._addItem('divider')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t</Inputs.FieldsetItem></>}\r\n\t\t\t<Inputs.FieldsetItem>\r\n\t\t\t\t{devices}\r\n\t\t\t</Inputs.FieldsetItem>\r\n\t\t\t\r\n\t\t</Inputs.Fieldset>}\r\n\t</Dialog>\r\n\t\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(WidgetPage);\r\n","import React from 'react'\r\n\r\nimport { DEFAULTS } from '../../../config/config'\r\nimport LayoutsConfig from './Layouts.config'\r\n\r\nimport i18n from '../../../controller/i18n'\r\nimport { moveKeyInArray } from '../../../helpers/utils'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport AddIcon from '@material-ui/icons/AddCircle'\r\nimport TabIcon from '@material-ui/icons/Tab'\r\nimport ArrowUpIcon from '@material-ui/icons/KeyboardArrowUp'\r\nimport ArrowDownIcon from '@material-ui/icons/KeyboardArrowDown'\r\nimport ArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft'\r\nimport ArrowRightIcon from '@material-ui/icons/KeyboardArrowRight'\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\n\r\nimport Inputs from '../../../components/Inputs'\r\nimport WidgetPage from './WidgetPage'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles'\r\nconst styles = theme => ({\r\n\tdeleteButton: {\r\n\t\tmarginTop: '20px'\r\n\t},\r\n\ttabs: {\r\n\t\tmarginBottom: '10px'\r\n\t},\r\n\ttab: {\r\n\t\tpadding: theme.spacing(3, 2),\r\n\t},\r\n\ticonContainer: {\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'center'\r\n\t},\r\n\tcolumnContainer: {\r\n\t\tmarginTop: theme.spacing(2),\r\n\t},\r\n\tcolumn: {\r\n\t\twidth: 250,\r\n\t\tmargin: theme.spacing(1, 1),\r\n\t\tborderRight: '1px solid rgba(0, 0, 0, 0.12)',\r\n\t\tborderLeft: '1px solid rgba(0, 0, 0, 0.12)',\r\n\t},\r\n\tDialogActions: {\r\n\t\tjustifyContent: 'initial'\r\n\t},\r\n\talignRight: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'flex-end',\r\n\t\t\r\n\t\t'& > :not(:first-child)': {\r\n\t\t\tmarginLeft: 8,\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\nclass LayoutsPage extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tselectedDrawer: null,\r\n\t\t\tselectedTab: null,\r\n\t\t\tselectedColumn: null,\r\n\t\t\tselectedWidget: null,\r\n\t\t\t\r\n\t\t\tlayout: (Array.isArray(this.props.layout) && this.props.layout.length > 0 && this.props.layout) || [{ title: '', tabs: [] }],\r\n\t\t\tsettings: this.props.settings,\r\n\t\t\terrors: {}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_setLayout = (setter, callback) => {\r\n\t\tthis.setState(setter, () => {\r\n\t\t\tcallback && callback();\r\n\t\t\tthis.props.onChange(this.state.layout, this.state.settings);\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\t_saveWidget = widget => {\r\n\t\tconst drawerIndex = this.state.selectedDrawer;\r\n\t\tconst tabIndex = this.state.selectedTab;\r\n\t\tconst columnIndex = this.state.selectedColumn;\r\n\t\t\r\n\t\tconst widgetIndex = widget.index;\r\n\t\tdelete widget.index;\r\n\t\t\r\n\t\tthis._setLayout(prevState => {\r\n\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\t\r\n\t\t\t// fullscreen\r\n\t\t\tif (columnIndex === 'fullscreen') {\r\n\t\t\t\tnextLayout[drawerIndex].tabs[tabIndex]._fullscreen = widget;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// column\r\n\t\t\telse {\r\n\t\t\t\tif (widgetIndex >= 0) {\r\n\t\t\t\t\tnextLayout[drawerIndex].tabs[tabIndex].columns[columnIndex][widgetIndex] = widget;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tnextLayout[drawerIndex].tabs[tabIndex].columns[columnIndex].push(widget);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\tselectedWidget: null,\r\n\t\t\t\tlayout: nextLayout\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_addColumn = (drawerIndex, tabIndex, newColumn) => {\r\n\t\t\r\n\t\tthis._setLayout(prevState => {\r\n\t\t\tlet nextLayout = [ ...prevState.layout ];\r\n\t\t\tnextLayout[drawerIndex].tabs[tabIndex].columns.push([]);\r\n\t\t\treturn { layout: nextLayout }\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_addTab = drawerIndex => {\r\n\t\t\r\n\t\tthis._setLayout(prevState => {\r\n\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\tnextLayout[drawerIndex].tabs.push({\r\n\t\t\t\ttitle: i18n.t('new tab'),\r\n\t\t\t\ticon: 'home',\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t[]\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\treturn { layout: nextLayout }\r\n\t\t\t\r\n\t\t}, () => setTimeout(() => window.location = '#tab-' + (this.state.layout[drawerIndex].tabs.length-1), 100));\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_changeTab = (drawerIndex, tabIndex) => ({ id }, val) => {\r\n\t\tid = id.substr(0, id.indexOf('-'));\r\n\t\t\r\n\t\t// edit tab icon / label\r\n\t\tif (id === 'icon' || id === 'title') {\r\n\t\t\t\r\n\t\t\tthis._setLayout(prevState => {\r\n\t\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\t\tnextLayout[drawerIndex].tabs[tabIndex] = {\r\n\t\t\t\t\t...nextLayout[drawerIndex].tabs[tabIndex],\r\n\t\t\t\t\t[id]: val\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn { layout: nextLayout }\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t// edit tab fullscreen option\r\n\t\telse if (id === 'fullscreen') {\r\n\t\t\t\r\n\t\t\tthis._setLayout(prevState => {\r\n\t\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\t\t\r\n\t\t\t\tif (nextLayout[drawerIndex].tabs[tabIndex]._fullscreen) {\r\n\t\t\t\t\tnextLayout[drawerIndex].tabs[tabIndex].columns = [\r\n\t\t\t\t\t\t[nextLayout[drawerIndex].tabs[tabIndex]._fullscreen]\r\n\t\t\t\t\t];\r\n\t\t\t\t\t\r\n\t\t\t\t\tdelete nextLayout[drawerIndex].tabs[tabIndex]._fullscreen;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tnextLayout[drawerIndex].tabs[tabIndex]._fullscreen = (nextLayout[drawerIndex].tabs[tabIndex].columns && nextLayout[drawerIndex].tabs[tabIndex].columns[0] && nextLayout[drawerIndex].tabs[tabIndex].columns[0][0]) || null;\r\n\t\t\t\t\tdelete nextLayout[drawerIndex].tabs[tabIndex].columns;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn { layout: nextLayout }\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\t_deleteWidget = widgetIndex => {\r\n\t\tconst drawerIndex = this.state.selectedDrawer;\r\n\t\tconst tabIndex = this.state.selectedTab;\r\n\t\tconst columnIndex = this.state.selectedColumn;\r\n\t\t\r\n\t\tthis._setLayout(prevState => {\r\n\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\tnextLayout[drawerIndex].tabs[tabIndex].columns[columnIndex].splice(widgetIndex, 1);\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\tselectedWidget: null,\r\n\t\t\t\tlayout: nextLayout\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\t_deleteColumn = (drawerIndex, tabIndex, columnIndex) => {\r\n\t\t\r\n\t\tthis._setLayout(prevState => {\r\n\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\tnextLayout[drawerIndex].tabs[tabIndex].columns.splice(columnIndex, 1);\r\n\t\t\treturn { layout: nextLayout }\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_deleteTab = (drawerIndex, tabIndex) => {\r\n\t\t\r\n\t\tthis._setLayout(prevState => {\r\n\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\tnextLayout[drawerIndex].tabs.splice(tabIndex, 1);\r\n\t\t\treturn { layout: nextLayout }\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\t_moveWidget = (action, drawerIndex, tabIndex, columnIndex, widgetKey) => event => {\r\n\t\tevent.stopPropagation();\r\n\t\t\r\n\t\tthis._setLayout(prevState => {\r\n\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\tnextLayout[drawerIndex].tabs[tabIndex].columns[columnIndex] = moveKeyInArray([ ...nextLayout[drawerIndex].tabs[tabIndex].columns[columnIndex] ], widgetKey, action);\r\n\t\t\treturn { layout: nextLayout }\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\t_moveColumn = (action, drawerIndex, tabIndex, columnIndex) => {\r\n\t\t\r\n\t\tthis._setLayout(prevState => {\r\n\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\tnextLayout[drawerIndex].tabs[tabIndex].columns = moveKeyInArray([ ...nextLayout[drawerIndex].tabs[tabIndex].columns ], columnIndex, action);\r\n\t\t\treturn { layout: nextLayout }\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_moveTab = (action, drawerIndex, tabIndex) => event => {\r\n\t\tevent.stopPropagation();\r\n\t\t\r\n\t\tthis._setLayout(prevState => {\r\n\t\t\tlet nextLayout = [ ...prevState.layout || [] ];\r\n\t\t\tnextLayout[drawerIndex].tabs = moveKeyInArray([ ...nextLayout[drawerIndex].tabs ], tabIndex, action);\r\n\t\t\treturn { layout: nextLayout }\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_openPopup = (drawerIndex, tabIndex, columnIndex, widget) => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\terrors: {},\r\n\t\t\t\r\n\t\t\tselectedDrawer: drawerIndex,\r\n\t\t\tselectedTab: tabIndex,\r\n\t\t\tselectedColumn: columnIndex,\r\n\t\t\tselectedWidget: widget\r\n\t\t});\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderWidget(drawer, tab, column, widget) {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\treturn (\r\n\r\n<ListItem\r\n\tkey={'Tab-' + tab.index + '_Column-' + column.index + '_Widget-' + widget.index}\r\n\tonClick={() => this._openPopup(drawer.index, tab.index, column.index, widget)}\r\n\tbutton\r\n\tdivider\r\n\t>\r\n\t\r\n\t{tab.fullscreen ?\r\n\t<ListItemIcon classes={{ root: classes.iconContainer }}>\r\n\t\t<FullscreenIcon />\r\n\t</ListItemIcon>\r\n\t\t:\r\n\t<ListItemIcon classes={{ root: classes.iconContainer }}>\r\n\t\t<React.Fragment>\r\n\t\t\t<IconButton size=\"small\" onClick={this._moveWidget('up', drawer.index, tab.index, column.index, widget.index)}>\r\n\t\t\t\t<ArrowUpIcon />\r\n\t\t\t</IconButton>\r\n\t\t\t<IconButton size=\"small\" onClick={this._moveWidget('down', drawer.index, tab.index, column.index, widget.index)}>\r\n\t\t\t\t<ArrowDownIcon />\r\n\t\t\t</IconButton>\r\n\t\t</React.Fragment>\r\n\t</ListItemIcon>}\r\n\t\r\n\t<ListItemText primary={\r\n\t\t<React.Fragment>\r\n\t\t\t<Typography display=\"block\">{widget.title}</Typography>\r\n\t\t\t<Typography variant=\"subtitle2\">({widget.module})</Typography>\r\n\t\t</React.Fragment>\r\n\t} />\r\n\t\r\n</ListItem>\r\n\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderColumn(drawer, tab, column) {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\t// components per tab\r\n\t\tlet tabColumnWidgetsNodes = [];\r\n\t\ttabColumnWidgetsNodes = column.widgets.map((widget, index) => {\r\n\t\t\t\r\n\t\t\tif (widget !== null) {\r\n\t\t\t\twidget.index = index;\r\n\t\t\t\twidget.module = widget.module || DEFAULTS.MODULE;\r\n\t\t\t\treturn this.renderWidget(drawer, tab, column, widget);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\t\r\n\t\treturn (\r\n\r\n<Grid className={classes.column} key={'Tab-' + tab.index + '_Column-' + column.index} item>\r\n\t<List>\r\n\t\t{tab._fullscreen === undefined && <>\r\n\t\t<ListItem divider dense>\r\n\t\t\t<ListItemIcon classes={{ root: classes.iconContainer }}>\r\n\t\t\t\t<IconButton size=\"small\" onClick={() => this._moveColumn('up', drawer.index, tab.index, column.index)}>\r\n\t\t\t\t\t<ArrowLeftIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</ListItemIcon>\r\n\t\t\t<ListItemText primary={i18n.t('move column')} />\r\n\t\t\t\r\n\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t<IconButton size=\"small\" onClick={() => this._moveColumn('down', drawer.index, tab.index, column.index)}>\r\n\t\t\t\t\t<ArrowRightIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</ListItemSecondaryAction>\r\n\t\t</ListItem>\r\n\t\t<ListItem onClick={() => this._deleteColumn(drawer.index, tab.index, column.index)} button divider dense>\r\n\t\t\t<ListItemIcon classes={{ root: classes.iconContainer }}>\r\n\t\t\t\t<IconButton size=\"small\">\r\n\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</ListItemIcon>\r\n\t\t\t<ListItemText primary={i18n.t('delete column')} />\r\n\t\t</ListItem></>}\r\n\t\t\r\n\t\t{(tab._fullscreen === undefined || (tab._fullscreen !== undefined && column.widgets.length < 1))&& <ListItem onClick={() => this._openPopup(drawer.index, tab.index, column.index, { module: DEFAULTS.MODULE })} button divider dense>\r\n\t\t\t<ListItemIcon classes={{ root: classes.iconContainer }}>\r\n\t\t\t\t<IconButton size=\"small\">\r\n\t\t\t\t\t<AddIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</ListItemIcon>\r\n\t\t\t<ListItemText primary={i18n.t('add new widget')} />\r\n\t\t</ListItem>}\r\n\t\t\r\n\t\t{tabColumnWidgetsNodes}\r\n\t\t\r\n\t</List>\r\n</Grid>\r\n\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderTab(drawer, tab) {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\t// columns per tab\r\n\t\tlet columns = 1;\r\n\t\tlet widgetsInFirstColumn = (tab.columns && tab.columns[1] && tab.columns[1].length) || 0;\r\n\t\tlet tabColumnsNodes = [];\r\n\t\t\r\n\t\t// tab is fullscreen\r\n\t\tif (tab._fullscreen !== undefined) {\r\n\t\t\ttabColumnsNodes.push(this.renderColumn(drawer, tab, { widgets: tab._fullscreen ? [ tab._fullscreen ] : [], index: 'fullscreen' }));\r\n\t\t}\r\n\t\t\r\n\t\t// tab divided in columns\r\n\t\telse {\r\n\t\t\tcolumns = tab.columns.length;\r\n\t\t\ttabColumnsNodes = tab.columns.map((column, columnIndex) => this.renderColumn(drawer, tab, { widgets: column, index: columnIndex }));\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\r\n<ListItem\r\n\tkey={'Tab-' + tab.id}\r\n\tid={'tab-' + tab.index}\r\n\tdivider={tab.index !== (this.state.layout[drawer.index].tabs.length-1)}\r\n\tclasses={{ root: classes.tab }}\r\n\t>\r\n\t\r\n\t<ListItemIcon key={'Drawer-' + drawer.id + '-Tab-' + tab.id + '-ListItemIcon'} classes={{ root: classes.iconContainer }}>\r\n\t\t<React.Fragment>\r\n\t\t\t<IconButton size=\"small\" onClick={this._moveTab('up', drawer.index, tab.index)}>\r\n\t\t\t\t<ArrowUpIcon />\r\n\t\t\t</IconButton>\r\n\t\t\t<IconButton size=\"small\" onClick={this._moveTab('down', drawer.index, tab.index)}>\r\n\t\t\t\t<ArrowDownIcon />\r\n\t\t\t</IconButton>\r\n\t\t\t<IconButton size=\"small\" onClick={() => this._deleteTab(drawer.index, tab.index)} classes={{ root: classes.deleteButton }}>\r\n\t\t\t\t<DeleteIcon />\r\n\t\t\t</IconButton>\r\n\t\t</React.Fragment>\r\n\t</ListItemIcon>\r\n\t<ListItemText\r\n\t\tdisableTypography={true}\r\n\t\tprimary={[\r\n\t\t\t<Inputs.Text\r\n\t\t\t\tkey={'Input-tabIcon-' + tab.id}\r\n\t\t\t\tid={'icon-' + tab.index}\r\n\t\t\t\t{...LayoutsConfig.tabIcon}\r\n\t\t\t\t\r\n\t\t\t\tonBlur={this._changeTab(drawer.index, tab.index)}\r\n\t\t\t\tval={tab.icon || ''}\r\n\t\t\t\ticon={tab.icon || ''}\r\n\t\t\t\t/>,\r\n\t\t\t\r\n\t\t\t<Inputs.Text\r\n\t\t\t\tkey={'Input-tabTitle-' + tab.id}\r\n\t\t\t\tid={'title-' + tab.index}\r\n\t\t\t\t{...LayoutsConfig.tabTitle}\r\n\t\t\t\t\r\n\t\t\t\tonBlur={this._changeTab(drawer.index, tab.index)}\r\n\t\t\t\tval={tab.title || ''}\r\n\t\t\t\t/>,\r\n\t\t\t\r\n\t\t\t<Inputs.Button\r\n\t\t\t\tkey={'Input-tabAddColumn-' + tab.id}\r\n\t\t\t\tid={'tabAddColumn-' + tab.index}\r\n\t\t\t\tlabel='add new column'\r\n\t\t\t\tdisabled={tab._fullscreen !== undefined}\r\n\t\t\t\tonClick={() => this._addColumn(drawer.index, tab.index, columns+1)}\r\n\t\t\t\t/>,\r\n\t\t\t\r\n\t\t\t<Inputs.Switch\r\n\t\t\t\tkey={'Input-tabFullscreen-' + tab.id}\r\n\t\t\t\tid={'fullscreen-' + tab.index}\r\n\t\t\t\t{...LayoutsConfig.tabFullscreen}\r\n\t\t\t\t\r\n\t\t\t\tdisabled={(columns > 1 || widgetsInFirstColumn > 1)}\r\n\t\t\t\tonChange={this._changeTab(drawer.index, tab.index)}\r\n\t\t\t\tval={tab._fullscreen !== undefined}\r\n\t\t\t\t/>,\r\n\t\t\t\r\n\t\t\t<Grid\r\n\t\t\t\tkey={'Tab-' + tab.id + '-ColumnContainer'}\r\n\t\t\t\tclasses={{ root: classes.columnContainer }}\r\n\t\t\t\tcontainer\r\n\t\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t{tabColumnsNodes}\r\n\t\t\t</Grid>\r\n\t\t]}\r\n\t\t/>\r\n\t\r\n</ListItem>\r\n\r\n\t\t);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderDrawer(drawer) {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\tconst tabs = drawer.tabs.map((tab, tabIndex) => tab && this.renderTab(drawer, { ...tab, index: tabIndex, id: tab.title.toLowerCase().replace(/ /g, '') + tabIndex }));\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<List className={classes.tabs} key={'Drawer-' + drawer.id}>\r\n\t\t\t\t<ListItem divider classes={{ root: classes.tab }}>\r\n\t\t\t\t\t<ListItemIcon classes={{ root: classes.iconContainer }}>\r\n\t\t\t\t\t\t<TabIcon />\r\n\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tdisableTypography={true}\r\n\t\t\t\t\t\tprimary={[\r\n\t\t\t\t\t\t\t<Inputs.Button key='Input-addTabs' id='Input-addTabs' label='add new tab' onClick={() => this._addTab(drawer.index)} />,\r\n\t\t\t\t\t\t\t<Inputs.Switch\r\n\t\t\t\t\t\t\t\tkey='Input-tabsHideLabels'\r\n\t\t\t\t\t\t\t\tid='tabsHideLabels'\r\n\t\t\t\t\t\t\t\t{...LayoutsConfig.tabsHideLabels}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tonChange={({ id }, val) => this.props.onChange(this.state.layout, { [id]: val })}\r\n\t\t\t\t\t\t\t\tval={this.state.settings['tabsHideLabels']}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t{tabs}\r\n\t\t\t\t\r\n\t\t\t</List>\r\n\t\t)\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trender() {\r\n\t\t//const { classes } = this.props;\r\n\t\t\r\n\t\tconst drawers = this.state.layout.map((drawer, drawerIndex) => drawer && this.renderDrawer({ ...drawer, index: drawerIndex, id: drawer.title.toLowerCase().replace(/ /g, '') + drawerIndex }));\r\n\t\t\r\n\t\treturn (\r\n\r\n<React.Fragment>\r\n\t<Paper>\r\n\t\t{drawers}\r\n\t\t\r\n\t</Paper>\r\n\t\r\n\t{this.state.selectedWidget !== null && <WidgetPage\r\n\t\t\t\t\t\t\t\t\t\t\t\twidget={this.state.selectedWidget}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonSave={this._saveWidget}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonDelete={this._deleteWidget}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClose={() => this.setState({ selectedWidget: null })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>}\r\n\t\r\n</React.Fragment>\r\n\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(LayoutsPage);\r\n","\r\nexport default {\r\n\t'pageSettings': {\r\n\t\t'label': 'Page Settings',\r\n\t\t'settings': {\r\n\t\t\t'language': {\r\n\t\t\t\t'label': {\r\n\t\t\t\t\t'de': 'Spracheinstellung von jarvis',\r\n\t\t\t\t\t'en': 'Language settings for jarvis'\r\n\t\t\t\t},\r\n\t\t\t\t'type': 'Select',\r\n\t\t\t\t'selection': [\r\n\t\t\t\t\t{ 'de': 'Deutsch' },\r\n\t\t\t\t\t{ 'en': 'English' }\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t'pageFavicon': {\r\n\t\t\t\t'label': {\r\n\t\t\t\t\t'de': 'Favicon im Browser',\r\n\t\t\t\t\t'en': 'Browser favicon'\r\n\t\t\t\t},\r\n\t\t\t\t'info': {\r\n\t\t\t\t\t'de': 'base64 Wert der Grafik',\r\n\t\t\t\t\t'en': 'base64 value of the image'\r\n\t\t\t\t},\r\n\t\t\t\t'type': 'Text'\r\n\t\t\t},\r\n\t\t\t'pageTitle': {\r\n\t\t\t\t'label': {\r\n\t\t\t\t\t'de': 'Titel im Browser',\r\n\t\t\t\t\t'en': 'Browser title'\r\n\t\t\t\t},\r\n\t\t\t\t'type': 'Text',\r\n\t\t\t\t'placeholder': 'jarvis - just another remarkable vis'\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'themeSettings': {\r\n\t\t'label': 'Theme Settings',\r\n\t\t'settings': {\r\n\t\t\t'themeColorPrimary': {\r\n\t\t\t\t'label': {\r\n\t\t\t\t\t'de': 'Primäre Farbe des Themes',\r\n\t\t\t\t\t'en': 'Primary theme color'\r\n\t\t\t\t},\r\n\t\t\t\t'info': {\r\n\t\t\t\t\t'de': 'Der Farbwert kann ein Wert aus der Farbpalette in der Form `HUE|SHADE` (z. B. `blue|700`) sein. Alternativ kann ein Hex oder RGB angegeben werden.'\r\n\t\t\t\t},\r\n\t\t\t\t'link': 'https://material-ui.com/customization/color/#color-palette',\r\n\t\t\t\t'type': 'Text',\r\n\t\t\t\t'placeholder': 'blue|700'\r\n\t\t\t},\r\n\t\t\t'themeColorSecondary': {\r\n\t\t\t\t'label': {\r\n\t\t\t\t\t'de': 'Sekundäre Farbe des Themes',\r\n\t\t\t\t\t'en': 'Secondary theme color'\r\n\t\t\t\t},\r\n\t\t\t\t'info': {\r\n\t\t\t\t\t'de': 'Der Farbwert kann ein Wert aus der Farbpalette in der Form `HUE|SHADE` (z. B. `pink`) sein. Alternativ kann ein Hex oder RGB angegeben werden.'\r\n\t\t\t\t},\r\n\t\t\t\t'link': 'https://material-ui.com/customization/color/#color-palette',\r\n\t\t\t\t'type': 'Text',\r\n\t\t\t\t'placeholder': 'pink'\r\n\t\t\t},\r\n\t\t\t'defaultBoxIcon': {\r\n\t\t\t\t'label': {\r\n\t\t\t\t\t'de': 'Standard Widget-Box Icon',\r\n\t\t\t\t\t'en': 'Default widget-box icon'\r\n\t\t\t\t},\r\n\t\t\t\t'type': 'Text',\r\n\t\t\t\t'placeholder': 'home'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","import React from 'react'\r\n\r\nimport Accordion from '@material-ui/core/Accordion'\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails'\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\n\r\nimport SettingsConfig from './Settings.config'\r\nimport Settings from '../../../controller/Settings'\r\nimport Inputs from '../../../components/Inputs'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles'\r\nconst styles = theme => ({\r\n\theading: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tflexBasis: '33.33%',\r\n\t\tflexShrink: 0,\r\n\t},\r\n\tsecondaryHeading: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tcolor: theme.palette.text.secondary,\r\n\t},\r\n});\r\n\r\n\r\nclass SettingsPage extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tdelete Settings.settings.iobroker;\r\n\t\tthis.state = {\r\n\t\t\tpanel: false\r\n\t\t}\r\n\t\t\r\n\t\tthis.onChange = this.props.onChange;\r\n\t\tthis.settings = Settings.getSettings();\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_handleSettingsChange = (key, val) => {\r\n\t\tSettings.setSetting(key, val);\r\n\t\t\r\n\t\tif (this.onChange) {\r\n\t\t\tthis.onChange(Settings.getSettings());\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_handlePanelChange = panel => (event, isExpanded) => this.setState({ panel: isExpanded ? panel : false });\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trenderPanel(key, panel) {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\tconst settings = Object.keys(panel.settings).map(inputKey => {\r\n\t\t\tconst inputSettings = panel.settings[inputKey];\r\n\t\t\tconst Tag = Inputs[inputSettings.type || 'Text'];\r\n\t\t\t\r\n\t\t\treturn <Tag\r\n\t\t\t\t\t\tkey={'Input-' + key + '-' + inputKey}\r\n\t\t\t\t\t\tid={inputKey}\r\n\t\t\t\t\t\tonChange={this._handleSettingsChange}\r\n\t\t\t\t\t\tval={this.props.settings[inputKey] || this.settings[inputKey]}\r\n\t\t\t\t\t\t{...inputSettings}\r\n\t\t\t\t\t\t/>\r\n\t\t});\r\n\t\t\r\n\t\treturn (\r\n\r\n<Accordion\r\n\tkey={'Accordion-' + key}\r\n\texpanded={this.state.panel === key}\r\n\tonChange={this._handlePanelChange(key)}\r\n\t>\r\n\t\r\n\t<AccordionSummary\r\n\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\tid={'panel-header-' + key}\r\n\t\t>\r\n\t\t\r\n\t\t<Typography className={classes.heading}>{panel.label}</Typography>\r\n\t\t{panel.description && <Typography className={classes.secondaryHeading}>{panel.description}</Typography>}\r\n\t\t\r\n\t</AccordionSummary>\r\n\t<AccordionDetails>\r\n\t\t{settings}\r\n\t</AccordionDetails>\r\n</Accordion>\r\n\r\n\t\t)\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trender() {\r\n\t\treturn Object.keys(SettingsConfig).map(panel => this.renderPanel(panel, SettingsConfig[panel]))\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(SettingsPage);\r\n","import React from 'react'\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport { DEFAULTS } from '../../config/config'\r\nimport Connection from '../../controller/Connection'\r\nimport Devices from '../../controller/Devices'\r\nimport i18n from '../../controller/i18n'\r\nimport Settings from '../../controller/Settings'\r\n\r\nimport Dialog from '../../components/Dialog'\r\nimport Inputs from '../../components/Inputs'\r\n\r\nimport DevicesListPage from './DevicesPage/DevicesListPage'\r\nimport LayoutsPage from './LayoutsPage/LayoutsPage'\r\nimport SettingsPage from './SettingsPage/SettingsPage'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { withStyles } from '@material-ui/core/styles'\r\nconst styles = theme => ({\r\n\tpaper: {\r\n\t\tmarginBottom: '10px'\r\n\t},\r\n\tpinToTop: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: 0,\r\n\t\tleft: 0\r\n\t},\r\n\ttitle: {\r\n\t\tpaddingLeft: theme.spacing(2),\r\n\t\tpaddingRight: theme.spacing(1),\r\n\t\tmarginBottom: theme.spacing(1),\r\n\t\tminHeight: '64px',\r\n\t\tdisplay: 'flex',\r\n\t\tposition: 'relative',\r\n\t\talignItems: 'center'\r\n\t},\r\n\trawEditor: {\r\n\t\tfontFamily: 'Roboto Mono,Consolas,Courier New,monospace !important'\r\n\t}\r\n});\r\n\r\n\r\nclass ConfigurationPage extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\t// get layout & settings\r\n\t\tlet layout = Settings.getLayout();\r\n\t\tlet settings = Settings.getSettings();\r\n\t\tdelete settings.iobroker;\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\texpertMode: false,\r\n\t\t\ttab: 'devices',\r\n\t\t\terrors: {},\r\n\t\t\t\r\n\t\t\tsettings: settings,\r\n\t\t\tlayout: layout,\r\n\t\t\tdevices: Devices.getDevices({ raw: true, copy: true })\r\n\t\t}\r\n\t\t\r\n\t\tthis.socket = Connection.getConnection;\r\n\t\t\r\n\t\tthis._onDevicesChange.bind(this);\r\n\t\tthis._onSettingsChange.bind(this);\r\n\t\tthis._onLayoutsChange.bind(this);\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t *\r\n\t */\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\t\r\n\t\tif (this.state.expertMode) {\r\n\t\t\tlet rawEditor = document.getElementById(this.state.tab);\r\n\t\t\t\r\n\t\t\tif (rawEditor.scrollHeight !== prevState.rawEditorHeight) {\r\n\t\t\t\tthis.setState({ rawEditorHeight: rawEditor.scrollHeight });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/*\r\n\t * \r\n\t */\r\n\t_onDevicesChange = devices => this.setState({ devices: devices });\r\n\t_onSettingsChange = settings => this.setState({ settings: settings });\r\n\t_onLayoutsChange = (layout, settings) => this.setState(prevState => ({ settings: { ...prevState.settings, ...settings || {} }, layout: layout }));\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\tonRawChange = (props, val) => {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tlet res = JSON.parse(val);\r\n\t\t\t\r\n\t\t\tthis.setState(prevStates => {\r\n\t\t\t\tlet nextErrors = { ...prevStates.errors }\r\n\t\t\t\tdelete nextErrors[props.id];\r\n\t\t\t\t\r\n\t\t\t\treturn {\r\n\t\t\t\t\terrors: nextErrors,\r\n\t\t\t\t\t[props.type]: res\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tcatch(err) {\r\n\t\t\tthis.setState(prevStates => ({\r\n\t\t\t\terrors: {\r\n\t\t\t\t\t...prevStates.errors,\r\n\t\t\t\t\t[props.id]: i18n.t('Invalid JSON format')\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\t_handleTabChange = (event, tab) => this.setState({ tab });\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_cancel = () => this.props.navigate('home');\r\n\t\r\n\t/**\r\n\t *\r\n\t */\r\n\t_save = () => {\r\n\t\tlet result = [\r\n\t\t\tthis.socket.setState(DEFAULTS.NODE_SETTINGS, JSON.stringify(this.state.settings)),\r\n\t\t\tthis.socket.setState(DEFAULTS.NODE_LAYOUT, JSON.stringify(this.state.layout)),\r\n\t\t\tthis.socket.setState(DEFAULTS.NODE_DEVICES, JSON.stringify(this.state.devices))\r\n\t\t];\r\n\t\t\r\n\t\tPromise.all(result)\r\n\t\t\t.then(() => window.location.replace(window.location.pathname))\r\n\t\t\t.catch(err => console.error(err));\r\n\t}\r\n\t\r\n\t/*\r\n\t *\r\n\t */\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\t\r\n\t\treturn (\r\n\r\n<Dialog\r\n\tclasses={{ CustomDialog: classes.pinToTop }}\r\n\tfullWidth={true}\r\n\tmaxWidth={false}\r\n\t\r\n\topen={(this.props.page === 'configuration')}\r\n\tonClose={this._cancel}\r\n\t\r\n\theader={[\r\n\t\t<Typography key=\"header\" variant=\"h6\">\r\n\t\t\t{i18n.t('Configuration')}\r\n\t\t\t<Inputs.SwitchInline\r\n\t\t\t\tkey=\"Input-expertMode\"\r\n\t\t\t\tid=\"expertMode\"\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tlabel={i18n.t('Expert mode')}\r\n\t\t\t\tonChange={(key, val) => this.setState(prevState => ({ expertMode: val, tab: prevState.expertMode ? prevState.tab.substr(0, prevState.tab.length-3) : prevState.tab + 'Raw' }))}\r\n\t\t\t\tval={this.state.expertMode}\r\n\t\t\t\t/>\r\n\t\t</Typography>,\r\n\t\t\r\n\t\t<Tabs\r\n\t\t\tkey=\"tabs\"\r\n\t\t\tvalue={this.state.tab}\r\n\t\t\tindicatorColor=\"primary\"\r\n\t\t\ttextColor=\"primary\"\r\n\t\t\tonChange={this._handleTabChange}\r\n\t\t\t>\r\n\t\t\t\r\n\t\t\t{this.state.expertMode === true && <Tab value=\"devicesRaw\" label={i18n.t('Devices')} />}\r\n\t\t\t{this.state.expertMode === true && <Tab value=\"layoutRaw\" label={i18n.t('Layout')} />}\r\n\t\t\t{this.state.expertMode === true && <Tab value=\"settingsRaw\" label={i18n.t('Settings')} />}\r\n\t\t\t{this.state.expertMode !== true && <Tab value=\"devices\" label={i18n.t('Devices')} />}\r\n\t\t\t{this.state.expertMode !== true && <Tab value=\"layout\" label={i18n.t('Layout')} />}\r\n\t\t\t{this.state.expertMode !== true && <Tab value=\"settings\" label={i18n.t('Settings')} />}\r\n\t\t</Tabs>\r\n\t]}\r\n\tactions={[\r\n\t\t<Button key='action-cancel' autoFocus onClick={this._cancel} color=\"secondary\">\r\n\t\t\t{i18n.t('Cancel')}\r\n\t\t</Button>,\r\n\t\t<Button key='action-save' onClick={this._save} color=\"primary\" variant=\"contained\" disabled={Object.keys(this.state.errors).length > 0}>\r\n\t\t\t{i18n.t('Save')}\r\n\t\t</Button>\r\n\t]}\r\n\t>\r\n\t\r\n\t<div hidden={this.state.tab !== 'devices'}>\r\n\t\t<Paper className={classes.paper}>\r\n\t\t\t{this.state.tab === 'devices' && <DevicesListPage onChange={this._onDevicesChange} />}\r\n\t\t</Paper>\r\n\t</div>\r\n\t{this.state.expertMode === true && \r\n\t<div hidden={this.state.tab !== 'devicesRaw'}>\r\n\t\t<Paper className={classes.paper}>\r\n\t\t\t<Typography className={classes.title} variant=\"h6\">\r\n\t\t\t\t{i18n.t('Raw Editor') + ' ' + i18n.t('Devices')}\r\n\t\t\t</Typography>\r\n\t\t\t<Inputs.Text\r\n\t\t\t\tid=\"devicesRaw\"\r\n\t\t\t\tlabel={['JSON Editor', (this.state.errors['devicesRaw'] !== undefined ? ' (' + this.state.errors['devicesRaw'] + ')' : '')]}\r\n\t\t\t\tInputProps={{ disableUnderline: true, className: classes.rawEditor }}\r\n\t\t\t\tinputProps={{ style: { height: this.state.rawEditorHeight } }}\r\n\t\t\t\tmultiline\r\n\t\t\t\twidth=\"99%\"\r\n\t\t\t\terror={this.state.errors['devicesRaw'] !== undefined}\r\n\t\t\t\tonChange={(props, val) => this.onRawChange({ ...props, type: 'devices' }, val)}\r\n\t\t\t\tval={JSON.stringify(this.state.devices, null, 3)}\r\n\t\t\t\t/>\r\n\t\t\t\r\n\t\t</Paper>\r\n\t</div>}\r\n\t<div hidden={this.state.tab !== 'settings'} style={{ width: '100%' }}>\r\n\t\t<Paper className={classes.title}>\r\n\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\t{i18n.t('Settings')}\r\n\t\t\t</Typography>\r\n\t\t</Paper>\r\n\t\t{this.state.tab === 'settings' && <SettingsPage settings={this.state.settings} onChange={this._onSettingsChange} />}\r\n\t\t\r\n\t</div>\r\n\t{this.state.expertMode === true && \r\n\t<div hidden={this.state.tab !== 'settingsRaw'} style={{ width: '100%' }}>\r\n\t\t<Paper className={classes.paper}>\r\n\t\t\t<Typography className={classes.title} variant=\"h6\">\r\n\t\t\t\t{i18n.t('Raw Editor') + ' ' + i18n.t('Settings')}\r\n\t\t\t</Typography>\r\n\t\t\t<Inputs.Text\r\n\t\t\t\tid=\"settingsRaw\"\r\n\t\t\t\tlabel={['JSON Editor', (this.state.errors['settingsRaw'] !== undefined ? ' (' + this.state.errors['settingsRaw'] + ')' : '')]}\r\n\t\t\t\tInputProps={{ disableUnderline: true, className: classes.rawEditor }}\r\n\t\t\t\tinputProps={{ style: { height: this.state.rawEditorHeight } }}\r\n\t\t\t\tmultiline\r\n\t\t\t\twidth=\"99%\"\r\n\t\t\t\terror={this.state.errors['settingsRaw'] !== undefined}\r\n\t\t\t\tonChange={(props, val) => this.onRawChange({ ...props, type: 'settings' }, val)}\r\n\t\t\t\tval={JSON.stringify(this.state.settings, null, 3)}\r\n\t\t\t\t/>\r\n\t\t\t\r\n\t\t</Paper>\r\n\t</div>}\r\n\t<div hidden={this.state.tab !== 'layout'}>\r\n\t\t<Paper>\r\n\t\t\t<Typography className={classes.title} variant=\"h6\">\r\n\t\t\t\t{i18n.t('Layout')}\r\n\t\t\t</Typography>\r\n\t\t</Paper>\r\n\t\t{this.state.tab === 'layout' && <LayoutsPage settings={this.state.settings} layout={this.state.layout} onChange={this._onLayoutsChange} />}\r\n\t\t\r\n\t</div>\r\n\t{this.state.expertMode === true && \r\n\t<div hidden={this.state.tab !== 'layoutRaw'} style={{ width: '100%' }}>\r\n\t\t<Paper className={classes.paper}>\r\n\t\t\t<Typography className={classes.title} variant=\"h6\">\r\n\t\t\t\t{i18n.t('Raw Editor') + ' ' + i18n.t('Layout')}\r\n\t\t\t</Typography>\r\n\t\t\t<Inputs.Text\r\n\t\t\t\tid=\"layoutRaw\"\r\n\t\t\t\tlabel={['JSON Editor', (this.state.errors['layoutRaw'] !== undefined ? ' (' + this.state.errors['layoutRaw'] + ')' : '')]}\r\n\t\t\t\tInputProps={{ disableUnderline: true, className: classes.rawEditor }}\r\n\t\t\t\tinputProps={{ style: { height: this.state.rawEditorHeight } }}\r\n\t\t\t\tmultiline\r\n\t\t\t\twidth=\"99%\"\r\n\t\t\t\terror={this.state.errors['layoutRaw'] !== undefined}\r\n\t\t\t\tonChange={(props, val) => this.onRawChange({ ...props, type: 'layout' }, val)}\r\n\t\t\t\tval={JSON.stringify(this.state.layout || {}, null, 3)}\r\n\t\t\t\t/>\r\n\t\t\t\r\n\t\t</Paper>\r\n\t</div>}\r\n\t\r\n</Dialog>\r\n\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(ConfigurationPage);\r\n","import React from 'react'\r\nimport clsx from 'clsx'\r\n\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\n\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles(theme => ({\r\n\tcloseButton: {\r\n\t\tposition: 'absolute',\r\n\t\tright: theme.spacing(1),\r\n\t\ttop: theme.spacing(1),\r\n\t\tcolor: theme.palette.grey[500],\r\n\t},\r\n\tDialog: {\r\n\t},\r\n\tDialogDense: {\r\n\t\tpadding: theme.spacing(2, 0)\r\n\t},\r\n\tCustomDialog: {\r\n\t},\r\n\tDialogTitle: {\r\n\t},\r\n\tCustomDialogTitle: {\r\n\t},\r\n\tDialogTitleTypography: {\r\n\t\t//padding: theme.spacing(2)\r\n\t},\r\n\tDialogContent: {\r\n\t\tbackgroundColor: '#fafafa'\r\n\t},\r\n\tCustomDialogContent: {\r\n\t},\r\n\tDialogActions: {\r\n\t\tmargin: 0,\r\n\t\tpadding: theme.spacing(1),\r\n\t},\r\n\tCustomDialogActions: {\r\n\t}\r\n}));\r\n\r\n\r\nexport default function CustomDialog(props) {\r\n\tconst { header, onClose, children, actions, dense, disableBackdropClick, disableEscapeKeyDown } = props;\r\n\tconst classes = useStyles(props);\r\n\t\r\n\treturn (\r\n\r\n<Dialog\r\n\tclasses={{ paper: clsx(classes.Dialog, classes.CustomDialog) }}\r\n\tfullWidth={props.fullWidth}\r\n\tmaxWidth={props.maxWidth}\r\n\t\r\n\tdisableBackdropClick={disableBackdropClick ? disableBackdropClick : true}\r\n\tdisableEscapeKeyDown={disableEscapeKeyDown ? disableEscapeKeyDown : true}\r\n\t\r\n\topen={props.open}\r\n\tonClose={props.onClose}\r\n\t>\r\n\t\r\n\t<DialogTitle\r\n\t\tclasses={{ root: clsx(classes.DialogTitle, classes.CustomDialogTitle) }}\r\n\t\tdisableTypography\r\n\t\t>\r\n\t\t\r\n\t\t{typeof header !== 'string' ? header : <Typography className={classes.DialogTitleTypography} variant=\"h6\">\r\n\t\t\t{header}\r\n\t\t</Typography>}\r\n\t\t<IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n\t\t\t<CloseIcon />\r\n\t\t</IconButton>\r\n\t</DialogTitle>\r\n\t\r\n\t<DialogContent id='DialogContent' className={clsx(classes.DialogContent, classes.CustomDialogContent, dense && classes.DialogDense)} dividers>\r\n\t\t{children}\r\n\t</DialogContent>\r\n\t\r\n\t<DialogActions classes={{ root: clsx(classes.DialogActions, classes.CustomDialogActions) }}>\r\n\t\t{actions}\r\n\t</DialogActions>\r\n</Dialog>\r\n\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport clsx from 'clsx'\r\nimport i18n from '../../controller/i18n'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\n\r\n\r\n/*\r\n * STYLES\r\n */\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles((theme) => ({\r\n\tField: {\r\n\t\tdisplay: 'inline-flex',\r\n\t\tmarginLeft: theme.spacing(1),\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\tpadding: '0 !important',\r\n\t},\r\n\tCustomField: {\r\n\t},\r\n}));\r\n\r\n\r\n/*\r\n *\r\n */\r\nexport default function Field(props) {\r\n\tconst { children, id, info, link, width } = props;\r\n\tconst classes = useStyles(props);\r\n\t\r\n\treturn (\r\n\t\t<Grid\r\n\t\t\tkey={'grid-' + id}\r\n\t\t\tclassName={clsx(classes.Field, classes.CustomField)}\r\n\t\t\tstyle={{ width: width || 250 }}\r\n\t\t\tcontainer\r\n\t\t\titem\r\n\t\t\t>\r\n\t\t\t\r\n\t\t\t{i18n.t(info) && <Grid item style={{ width: 30 }}>\r\n\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href={link}>\r\n\t\t\t\t\t<Tooltip title={i18n.t(info)}>\r\n\t\t\t\t\t\t<InfoIcon color=\"primary\" />\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</a>\r\n\t\t\t</Grid>}\r\n\t\t\t<Grid item style={{ width: info ? 250-30 : '100%' }}>\r\n\t\t\t\t{children}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\r\n\t);\r\n}"],"sourceRoot":""}