module.exports={getCloudDevices(){this.adapter.log.debug("Refresh Cloud Devices...");this.cache.CloudDevices=this.cache.CloudDevices||{data:[],ts:0};return new Promise(i=>{this.adapter.sendTo("iot.0","browse",{},e=>{let a=[];if(e&&Array.isArray(e)){e.forEach(e=>{if(e.additionalApplianceDetails.id){a.push(e.additionalApplianceDetails.id)}else{a=a.concat(Object.keys(e.additionalApplianceDetails.names))}})}this.cache.CloudDevices={ts:Date.now(),data:a};this.broadcast("CloudDevices",this.cache.CloudDevices.data);return i(this.cache.CloudDevices.data)})})},subscribeCloudDevices({cb:e}){e(this.cache.CloudDevices.data)}};